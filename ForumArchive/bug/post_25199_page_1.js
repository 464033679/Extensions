[{"Owner":"santarcade","Date":"2016-09-15T14:43:31Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi guys_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI upgraded to BabylonJS 2.4 and I think I_t_ve found a bug on the CannonJS plugin.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt_t_s line 32 of babylon.cannonJSPlugin.ts_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_this.world.step(this._fixedTimeStep_co_ this._useDeltaForWorldStep ? delta * 1000 _dd_ 0_co_ 3)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tIf I leave the default _useDeltaForWorldStep set to true_co_ the game runs 1000 faster than normal_co_ if I set it to false it works fine.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBy removing the delta*1000 works as expected_co_ resulting in this patch_dd_\n_lt_/p_gt_\n\n_lt_div_gt_\n\t_lt_pre_gt_\n_lt_code_gt__lt_span_gt_this_lt_/span_gt_.world.step(_lt_span_gt_this_lt_/span_gt_._fixedTimeStep_co_ _lt_span_gt_this_lt_/span_gt_._useDeltaForWorldStep ? delta _dd_ _lt_span_gt_0_lt_/span_gt__co_ _lt_span_gt_3_lt_/span_gt_)_sm__lt_/code_gt__lt_/pre_gt_\n\t_lt_span style_eq__qt_background_dd_url(&quot_sm_//www.html5gamedevs.com/applications/core/interface/ckeditor/ckeditor/plugins/widget/images/handle.png&quot_sm_) repeat scroll 0% 0%_sm__qt__gt__lt_/span_gt_\n_lt_/div_gt_\n\n_lt_p_gt_\n\tI can_t_t do a PR at the moment_co_ so I_t_m writing here... but I promise I will be able in the future!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCheers_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tJoez\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-09-15T15:17:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHey!\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tDo you reproduce the bug with Oimo?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"santarcade","Date":"2016-09-19T11:34:57Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi Deltakosh_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI double checked_dd_ OimoJSPlugin does not have the useDeltaForWorldStep parameter._lt_br /_gt_\n\tI created a small playground that shows the issue_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#2B84TV%234_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#2B84TV#4_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI dug a little in the code_co_ and in addition_co_ I think that this accumulator done with time delta_co_ could suffer on another bug when setting a different timeStep via setTimeStep(timeStep).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBest_co__lt_br /_gt_\n\tJoez\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-09-19T16:05:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOk I_t_m trying to summon _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/10310-raananw/?do_eq_hovercard_qt_ data-mentionid_eq__qt_10310_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/10310-raananw/_qt_ rel_eq__qt__qt__gt_@RaananW_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2016-09-19T17:00:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tSummoned_co_ will take care of that later ☺\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2016-09-20T09:22:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi Joez_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am trying to understand the comment regarding _qt_1000_qt_ faster. I see the speed difference between the two_co_ but it is certainly not 1000 faster. care to elaborate? maybe make a short screen capture so I can see how you see things?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"santarcade","Date":"2016-09-20T09:37:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi RaananW_co__lt_br /_gt_\n\tyou are right_dd_ the speed increase factor is not directly 1 thousand._lt_br /_gt_\n\tI wrote some trajectory prediction code to estimate when a body launched with given velocity will hit the ground.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf I keep just delta_co_ the collision will be matching the prediction. If I keep delta*1000_co_ the body will hit the ground way earlier than expected (physics is altered)._lt_br /_gt_\n\tThis is indeed seen in the playground_dd_ same forces on same bodies end up in two different behaviors.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhat do you think?_lt_br /_gt_\n\tThank you_co__lt_br /_gt_\n\tJoez_lt_br /_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"santarcade","Date":"2016-09-20T10:17:17Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_ve been playing even with setting different timeSteps_dd_ if useDeltaForWorldStep is true_co_ after a while it seems the world simulation losses sync (I guess the accumulator jumps in_co_ feeling the need to recover steps).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo far_co_ I have been able to achieve a stable and consistent results changing the line with\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_this.world.step(this._fixedTimeStep_co_ this._useDeltaForWorldStep ? delta*(this._fixedTimeStep/(1/60)) _dd_ 0_co_ 3)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tDoes it make sense to you?_lt_br /_gt_\n\tBest_co__lt_br /_gt_\n\tJoez_lt_br /_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"santarcade","Date":"2016-09-21T08:35:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi guys_co__lt_br /_gt_\n\tI tested even OimoJS and my conclusion is that there is definitively something wrong with physics in version 2.4.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCheck this demo up_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#2B84TV%235_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#2B84TV#5_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe timeStep in Oimo is inconsistent_dd_ so fast to the point that after a few bounces on the plane_co_ the sphere will pass through it.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI tried to check the code_co_ but could not find a reason for this_dd_ any idea?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe only consistent version seems to be the first commented line_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_var physEngine _eq_ new BABYLON.CannonJSPlugin(true)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tJoez\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]