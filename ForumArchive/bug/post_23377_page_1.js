[{"Owner":"KevinBLT","Date":"2016-06-23T11:20:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have the following error when I try to clone an object.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_em_gt__lt_span style_eq__qt_color_dd_rgb(34_co_34_co_34)_sm_font-family_dd__t_Segoe UI_t__co_ Tahoma_co_ sans-serif_sm_font-size_dd_12px_sm_font-style_dd_normal_sm_font-variant_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_line-height_dd_14.4px_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_word-spacing_dd_0px_sm_float_dd_none_sm_background-color_dd_rgb(255_co_255_co_255)_sm__qt__gt_Uncaught TypeError_dd_ Cannot set property _t_references_t_ of null_lt_/span_gt_ _lt_/em_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_06/Bug_NumOfMeshes.png.304ae01a72a9bdccaead44804157d391.png_qt_ data-fileid_eq__qt_8331_qt_ rel_eq__qt_external nofollow_qt__gt__lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_8331_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_06/Bug_NumOfMeshes.thumb.png.66f0801ef82c764ba98f17dded44dc3e.png_qt_ alt_eq__qt_Bug_NumOfMeshes.png_qt_ /_gt__lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhat can I do? Why does this happen?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tBest regards\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tKevin\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-06-23T15:14:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHey Kevin_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tcan you repro on the playground?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"KevinBLT","Date":"2016-06-27T11:37:57Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI think I_t_ve found it. I sometimes had leaks while cleaning up (disposing).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI had similar problems some minutes ago while using CSG.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI would highly appreciate to throw an error when the object is disposed or _geometry is null.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFor example_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t________________________________\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBabylon.js -  CSG.FromMesh - Starting column_dd_ 31193\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_var indices _eq_ mesh.getIndices()_co_ positions _eq_ mesh.getVerticesData(BABYLON.VertexBuffer.PositionKind)_co_ normals _eq_ mesh.getVerticesData(BABYLON.VertexBuffer.NormalKind)_co_ uvs _eq_ mesh.getVerticesData(BABYLON.VertexBuffer.UVKind)_sm_\n\n// _eq__eq__eq__eq__eq__eq__eq__eq__eq__eq__eq__eq_&gt_sm_\nIf indices_co_positions_co_ normals or uvs are null or there aren_t_t any submeshes\nthere will be unforeseen results\nBetter would be to throw an error\n\n// &lt_sm__eq__eq__eq__eq__eq__eq__eq__eq__eq__eq__eq__eq__eq_\n            var subMeshes _eq_ mesh.subMeshes_sm_\n            for (var sm _eq_ 0_co_ sml _eq_ subMeshes.length_sm_ sm &lt_sm_ sml_sm_ sm++) {\n                for (var i _eq_ subMeshes[sm].indexStart_co_ il _eq_ subMeshes[sm].indexCount + subMeshes[sm].indexStart_sm_ i &lt_sm_ il_sm_ i +_eq_ 3) {\n                    vertices _eq_ []_sm_\n                    for (var j _eq_ 0_sm_ j &lt_sm_ 3_sm_ j++) {\n                        var sourceNormal _eq_ new BABYLON.Vector3(normals[indices[i + j] * 3]_co_ normals[indices[i + j] * 3 + 1]_co_ normals[indices[i + j] * 3 + 2])_sm_\n                        uv _eq_ new BABYLON.Vector2(uvs[indices[i + j] * 2]_co_ uvs[indices[i + j] * 2 + 1])_sm_\n                        var sourcePosition _eq_ new BABYLON.Vector3(positions[indices[i + j] * 3]_co_ positions[indices[i + j] * 3 + 1]_co_ positions[indices[i + j] * 3 + 2])_sm_\n                        position _eq_ BABYLON.Vector3.TransformCoordinates(sourcePosition_co_ matrix)_sm_\n                        normal _eq_ BABYLON.Vector3.TransformNormal(sourceNormal_co_ matrix)_sm_\n                        vertex _eq_ new Vertex(position_co_ normal_co_ uv)_sm_\n                        vertices.push(vertex)_sm_\n                    }\n                    polygon _eq_ new Polygon(vertices_co_ { subMeshId_dd_ sm_co_ meshId_dd_ currentCSGMeshId_co_ materialIndex_dd_ subMeshes[sm].materialIndex })_sm_\n                    // To handle the case of degenerated triangle\n                    // polygon.plane _eq__eq_ null &lt_sm__eq_&gt_sm_ the polygon does not represent 1 single plane &lt_sm__eq_&gt_sm_ the triangle is degenerated\n                    if (polygon.plane)\n                        polygons.push(polygon)_sm_\n                }\n            }\n            var csg _eq_ CSG.FromPolygons(polygons)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t_________________________\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI had some troubles to find the problem. In this case _qt_polygons_qt_ is an empty array and will lead to some _qt_funny_qt_ errors in the result mesh (after subtract_co_ union_co_ whatever) _sm_-)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThank you and best regards\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tKevin\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-06-27T15:42:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOk gotcha!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFeel free to submit a PR for this good idea\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]