[{"Owner":"Janx","Date":"2017-05-22T17:04:38Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI want to clone meshes that I load with the obj loader. The problem seems to be that the material is assigned somewhat later_co_ so when I clone the mesh directly in the callback from the SceneLoader.ImportMesh function_co_ it has no material. If I make another clone from the very same instance some time later_co_ it has material. For example this would lead to no material in the clone_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_BABYLON.SceneLoader.ImportMesh(_qt__qt__co_ this.serverUrl_co_ encodeURIComponent(fileName + _qt_.obj_qt_)_co_\n  this.scene_co_ (mesh) _eq_&gt_sm_ {\n    meshContainer _eq_ mesh.clone(name_co_ undefined_co_ false)_sm_\n    resolve(meshContainer)_sm_\n  }_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\twhile this would_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_BABYLON.SceneLoader.ImportMesh(_qt__qt__co_ this.serverUrl_co_ encodeURIComponent(fileName + _qt_.obj_qt_)_co_\n  this.scene_co_ (mesh) _eq_&gt_sm_ {\n    setTimeout(() _eq_&gt_sm_ {\n      meshContainer _eq_ mesh.clone(name_co_ undefined_co_ false)_sm_\n      resolve(meshContainer)_sm_\n    }_co_ 100)_sm_\n  }_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t(It is wrapped inside a Promise)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIs this an expected behaviour? Is it possible to get the callback when everything is loaded completely?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMany thanks_co__lt_br /_gt_\n\tCheers_co__lt_br /_gt_\n\tjanx\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t\t\t\n\n_lt_span class_eq__t_ipsType_reset ipsType_medium ipsType_light_t_ data-excludequote_gt_\n\t_lt_strong_gt_Edited _lt_time datetime_eq__t_2017-05-29T08_dd_24_dd_30Z_t_ title_eq__t_05/29/2017 08_dd_24  AM_t_ data-short_eq__t_1 yr_t__gt_May 29_co_ 2017_lt_/time_gt_ by Janx_lt_/strong_gt_\n\t\n\t\t_lt_br_gt_solved\n\t\n\t\n_lt_/span_gt_\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"brianzinn","Date":"2017-05-23T06:41:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tI get the same thing. If I apply a material after the first completion callback_co_ those Â materials are overwritten with blender materials_co_ if the materials were exported from blender. I have seen other posts where people were waiting for second callback_co_ but I was only getting one and materials were not ready.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Gijs","Date":"2017-05-24T19:39:00Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIt_t_s expected behavior_dd_\n_lt_/p_gt_\n_lt_iframe data-embedcontent_eq__qt__qt_ frameborder_eq__qt_0_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/topic/30358-materials-not-applied-on-obj-model/?do_eq_embed_qt__gt__lt_/iframe_gt_\n\n_lt_p_gt_\n\tI don_t_t know what the best option is to get a callback\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Vousk-prod.","Date":"2017-05-26T10:33:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tTry putting your code in scene.executeWhenReady\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_BABYLON.SceneLoader.ImportMesh(_qt__qt__co_ this.serverUrl_co_ encodeURIComponent(fileName + _qt_.obj_qt_)_co_ this.scene_co_ (mesh) _eq_&gt_sm_ {\n    scene.executeWhenReady( function() {\n        meshContainer _eq_ mesh.clone(name_co_ undefined_co_ false)_sm_\n        resolve(meshContainer)_sm_\n    })_sm_\n})_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t(code needs to be adapted to be able to reach scene_co_ mesh_co_ etc)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Janx","Date":"2017-05-29T08:23:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThanks _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/6528-vousk-prod/?do_eq_hovercard_qt_ data-mentionid_eq__qt_6528_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/6528-vousk-prod/_qt_ rel_eq__qt__qt__gt_@Vousk-prod._lt_/a_gt_. Works like a charm.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]