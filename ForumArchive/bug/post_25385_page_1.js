[{"Owner":"AlbertTJames","Date":"2016-09-23T14:30:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHey everyone _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am not sure why but if I create two ScreenSpaceCanvas2D in two different scenes_co_ one of the scenes being shown and not the other (stored in a parent object). The function Canvas2D.prototype._updatePointerInfo is called twice each time I move the mouse_co_ once for the shown Canvas_co_ and once for the canvas that is in the stored scene. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tSince I did not declare a camera in that stored scene the bit of code in babylon.max.js 44657 _dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_Canvas2D.prototype._updatePointerInfo _eq_ function (eventData_co_ localPosition) { \n  ...\n  var camera _eq_ this._scene.cameraToUseForPointers || this._scene.activeCamera_sm_\n\n  ...\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\treturn camera as undefined. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd later on while the function tries to access camera.viewport it returns an error.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis report is not really about solving the bug because if I declare a random camera for the stored scene (like a normal human being not trying to find bugs everywhere) i do not get the error. But I think it was not on purpose that events are captured on a canvas in a scene that is not currently rendered. All in all it is not a real problem for me but it might cause trouble for other people.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tTo change between scenes I use this bit of code \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_/* --- Start the render loop --- */\ntaskObject.engine.runRenderLoop(function () {\n  taskObject.scenes[taskObject.currentScene].render()_sm_\n})_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis is the call stack for the error_dd_\n_lt_/p_gt_\n\n_lt_div style_eq__qt_color_dd_rgb(48_co_57_co_66)_sm_font-family_dd_Menlo_co_ monospace_sm_font-size_dd_11px_sm_font-style_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_background-color_dd_rgb(255_co_255_co_255)_sm__qt__gt_\n\t_lt_div style_eq__qt_border-bottom_dd_1px solid rgb(255_co_215_co_215)_sm_background-color_dd_rgb(255_co_240_co_240)_sm_border-top_dd_1px solid rgb(255_co_215_co_215)_sm__qt__gt_\n\t\t_lt_div style_eq__qt_clear_dd_right_sm_padding_dd_3px 22px 1px 0px_sm_margin-left_dd_24px_sm__qt__gt_\n\t\t\t_lt_ol style_eq__qt_padding_dd_0px_sm_margin_dd_0px_sm_list-style-type_dd_none_sm__qt__gt__lt_li_gt_\n\t\t\t\t\t_lt_ol style_eq__qt_list-style-type_dd_none_sm_padding-left_dd_12px_sm__qt__gt__lt_li style_eq__qt_margin-top_dd_1px_sm__qt__gt_\n\t\t\t\t\t\t\tUncaught TypeError_dd_ Cannot read property _t_viewport_t_ of undefined @babylon.max.js_dd_44665\n\t\t\t\t\t\t_lt_/li_gt_\n\t\t\t\t\t\t_lt_li style_eq__qt_margin-top_dd_1px_sm__qt__gt_\n\t\t\t\t\t\t\t_lt_table_gt__lt_tbody_gt__lt_tr style_eq__qt_height_dd_16px_sm_line-height_dd_16px_sm__qt__gt__lt_td_gt_\n\t\t\t\t\t\t\t\t\t\t\t_lt_span_gt_Canvas2D._updatePointerInfo_lt_/span_gt_\n\t\t\t\t\t\t\t\t\t\t_lt_/td_gt_\n\t\t\t\t\t\t\t\t\t\t_lt_td_gt_\n\t\t\t\t\t\t\t\t\t\t\t_lt_span_gt_@_lt_/span_gt_\n\t\t\t\t\t\t\t\t\t\t_lt_/td_gt_\n\t\t\t\t\t\t\t\t\t\t_lt_td_gt_\n\t\t\t\t\t\t\t\t\t\t\t_lt_span_gt__lt_a rel_eq__qt__qt_ style_eq__qt_color_dd_rgb(17_co_85_co_204)_sm_text-decoration_dd_underline_sm__qt__gt_babylon.max.js_dd_44665_lt_/a_gt__lt_/span_gt_\n\t\t\t\t\t\t\t\t\t\t_lt_/td_gt_\n\t\t\t\t\t\t\t\t\t_lt_/tr_gt__lt_tr style_eq__qt_height_dd_16px_sm_line-height_dd_16px_sm__qt__gt__lt_td_gt_\n\t\t\t\t\t\t\t\t\t\t\t_lt_span_gt_Canvas2D._handlePointerEventForInteraction_lt_/span_gt_\n\t\t\t\t\t\t\t\t\t\t_lt_/td_gt_\n\t\t\t\t\t\t\t\t\t\t_lt_td_gt_\n\t\t\t\t\t\t\t\t\t\t\t_lt_span_gt_@_lt_/span_gt_\n\t\t\t\t\t\t\t\t\t\t_lt_/td_gt_\n\t\t\t\t\t\t\t\t\t\t_lt_td_gt_\n\t\t\t\t\t\t\t\t\t\t\t_lt_span_gt__lt_a rel_eq__qt__qt_ style_eq__qt_color_dd_rgb(17_co_85_co_204)_sm_text-decoration_dd_underline_sm__qt__gt_babylon.max.js_dd_44628_lt_/a_gt__lt_/span_gt_\n\t\t\t\t\t\t\t\t\t\t_lt_/td_gt_\n\t\t\t\t\t\t\t\t\t_lt_/tr_gt__lt_tr style_eq__qt_height_dd_16px_sm_line-height_dd_16px_sm__qt__gt__lt_td_gt_\n\t\t\t\t\t\t\t\t\t\t\t_lt_span_gt_(anonymous function)_lt_/span_gt_\n\t\t\t\t\t\t\t\t\t\t_lt_/td_gt_\n\t\t\t\t\t\t\t\t\t\t_lt_td_gt_\n\t\t\t\t\t\t\t\t\t\t\t_lt_span_gt_@_lt_/span_gt_\n\t\t\t\t\t\t\t\t\t\t_lt_/td_gt_\n\t\t\t\t\t\t\t\t\t\t_lt_td_gt_\n\t\t\t\t\t\t\t\t\t\t\t_lt_span_gt__lt_a rel_eq__qt__qt_ style_eq__qt_color_dd_rgb(17_co_85_co_204)_sm_text-decoration_dd_underline_sm__qt__gt_babylon.max.js_dd_44549_lt_/a_gt__lt_/span_gt_\n\t\t\t\t\t\t\t\t\t\t_lt_/td_gt_\n\t\t\t\t\t\t\t\t\t_lt_/tr_gt__lt_tr style_eq__qt_height_dd_16px_sm_line-height_dd_16px_sm__qt__gt__lt_td_gt_\n\t\t\t\t\t\t\t\t\t\t\t_lt_span_gt_Observable.notifyObservers_lt_/span_gt_\n\t\t\t\t\t\t\t\t\t\t_lt_/td_gt_\n\t\t\t\t\t\t\t\t\t\t_lt_td_gt_\n\t\t\t\t\t\t\t\t\t\t\t_lt_span_gt_@_lt_/span_gt_\n\t\t\t\t\t\t\t\t\t\t_lt_/td_gt_\n\t\t\t\t\t\t\t\t\t\t_lt_td_gt_\n\t\t\t\t\t\t\t\t\t\t\t_lt_span_gt__lt_a rel_eq__qt__qt_ style_eq__qt_color_dd_rgb(17_co_85_co_204)_sm_text-decoration_dd_underline_sm__qt__gt_babylon.max.js_dd_3399_lt_/a_gt__lt_/span_gt_\n\t\t\t\t\t\t\t\t\t\t_lt_/td_gt_\n\t\t\t\t\t\t\t\t\t_lt_/tr_gt__lt_tr style_eq__qt_height_dd_16px_sm_line-height_dd_16px_sm__qt__gt__lt_td_gt_\n\t\t\t\t\t\t\t\t\t\t\t_lt_span_gt__onPointerMove_lt_/span_gt_\n\t\t\t\t\t\t\t\t\t\t_lt_/td_gt_\n\t\t\t\t\t\t\t\t\t\t_lt_td_gt_\n\t\t\t\t\t\t\t\t\t\t\t_lt_span_gt_@_lt_/span_gt_\n\t\t\t\t\t\t\t\t\t\t_lt_/td_gt_\n\t\t\t\t\t\t\t\t\t\t_lt_td_gt_\n\t\t\t\t\t\t\t\t\t\t\t_lt_span_gt__lt_a rel_eq__qt__qt_ style_eq__qt_color_dd_rgb(17_co_85_co_204)_sm_text-decoration_dd_underline_sm__qt__gt_babylon.max.js_dd_15232_lt_/a_gt__lt_/span_gt_\n\t\t\t\t\t\t\t\t\t\t_lt_/td_gt_\n\t\t\t\t\t\t\t\t\t_lt_/tr_gt__lt_/tbody_gt__lt_/table_gt__lt_/li_gt_\n\t\t\t\t\t_lt_/ol_gt__lt_/li_gt_\n\t\t\t_lt_/ol_gt__lt_/div_gt_\n\t_lt_/div_gt_\n_lt_/div_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt seems the observables are set up at scene creation and down the callback chain there is no test to check wether the scene is currently being rendered (is that even possible?).\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nockawa","Date":"2016-09-23T20:09:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tHello_co_ I take a look at your issue right now\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nockawa","Date":"2016-09-23T20:32:47Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tFirst_co_ thanks for reporting the issue so clearly. I have question though_dd_\n_lt_/p_gt_\n\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tQuote\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\t_lt_span style_eq__qt_color_dd_rgb(39_co_42_co_52)_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_line-height_dd_22.4px_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_float_dd_none_sm_background-color_dd_rgb(255_co_255_co_255)_sm__qt__gt_one of the scenes being shown and not the other (stored in a parent object)_lt_/span_gt_\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tMaybe _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_ would know_co_ but I don_t_t really know if there_t_s a concept of an _qt_active scene_qt__co_ as you_t_re in charge of the renderLoop and you decide which scene is rendered and which ones are not_co_ I don_t_t know how I can detect that and behave accordingly.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNote that you can change the Canvas2D.interactionEnabled property which will turn off/on interaction_co_ if you maintain interaction On for only the _qt_activeScene_qt_ then things should be alright.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn the mean time I_t_ve added code guards to check for the error you mentioned_co_ it_t_s the least I can do. Now I_t_d like to know if I can do more_co_ DK will certainly tell us.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_Edit_dd__lt_/strong_gt_ I just commit/merged the fix\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"AlbertTJames","Date":"2016-09-24T01:27:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThat was quick ! thanks _lt_img alt_eq__qt__sm_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ title_eq__qt__sm_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_145213_qt_ data-ipsquote-contentid_eq__qt_25385_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1474662767_qt_ data-ipsquote-userid_eq__qt_18979_qt_ data-ipsquote-username_eq__qt_Nockawa_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t4 hours ago_co_ Nockawa said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tNote that you can change the Canvas2D.interactionEnabled property which will turn off/on interaction_co_ if you maintain interaction On for only the _qt_activeScene_qt_ then things should be alright.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tIndeed_co_ I thought I had to report the issue anyway _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]