[{"Owner":"Suphi","Date":"2016-02-15T17:22:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi it_t_s me again hope you guys don_t_t mind me asking all these questions but i have a small problem.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo i have a custom mesh and the mesh is dynamic and needs to get updated so this is how i do it_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_color_dd_#8B4513_sm__qt__gt_var positions _eq_ mesh.getVerticesData(BABYLON.VertexBuffer.PositionKind)_sm__lt_/span_gt__lt_br_gt__lt_span style_eq__qt_color_dd_#008000_sm__qt__gt_// edit positions_lt_/span_gt__lt_br_gt__lt_span style_eq__qt_color_dd_#8B4513_sm__qt__gt_mesh.updateVerticesData(BABYLON.VertexBuffer.PositionKind_co_ positions)_sm__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThen when i moveWithCollisions the collisions are not updated.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have worked out a few ways to update the collisions but i_t_m not sure what is the correct/fastest method\n_lt_/p_gt_\n\n_lt_p_gt_\n\t1) _lt_span style_eq__qt_color_dd_#8B4513_sm__qt__gt_mesh.updateVerticesData(BABYLON.VertexBuffer.PositionKind_co_ positions_co_ false_co_ true)_sm__lt_/span_gt__lt_br_gt_\n\t2) _lt_span style_eq__qt_color_dd_#8B4513_sm__qt__gt_mesh.setIndices(mesh.getIndices())_sm__lt_/span_gt__lt_br_gt_\n\t3)_lt_span style_eq__qt_color_dd_#8B4513_sm__qt__gt_ mesh.setVerticesData(BABYLON.VertexBuffer.PositionKind_co_ positions)_sm__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhats the correct/fastest method?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Suphi","Date":"2016-02-15T17:34:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\ti just ran some tests and this is what i got\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_color_dd_rgb(139_co_69_co_19)_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-variant_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_line-height_dd_22.4px_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_float_dd_none_sm_background-color_dd_rgb(255_co_255_co_255)_sm__qt__gt_mesh.updateVerticesData(BABYLON.VertexBuffer.PositionKind_co_ positions_co_ false_co_ false)_sm__lt_/span_gt__lt_br_gt__lt_span style_eq__qt_color_dd_rgb(139_co_69_co_19)_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-variant_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_line-height_dd_22.4px_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_float_dd_none_sm_background-color_dd_rgb(255_co_255_co_255)_sm__qt__gt_mesh.setIndices(mesh.getIndices())_sm__lt_/span_gt__lt_br_gt_\n\taround  0.13  _lt_span style_eq__qt_color_dd_rgb(77_co_78_co_83)_sm_font-family_dd__t_Open Sans_t__co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-variant_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_line-height_dd_21px_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_float_dd_none_sm_background-color_dd_rgb(255_co_255_co_255)_sm__qt__gt_milliseconds_lt_/span_gt_ _lt_br_gt__lt_br_gt__lt_span style_eq__qt_color_dd_rgb(139_co_69_co_19)_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-variant_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_line-height_dd_22.4px_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_float_dd_none_sm_background-color_dd_rgb(255_co_255_co_255)_sm__qt__gt_mesh.updateVerticesData(BABYLON.VertexBuffer.PositionKind_co_ positions_co_ false_co_ true)_sm__lt_/span_gt__lt_br_gt_\n\taround  0.70 _lt_span style_eq__qt_color_dd_rgb(77_co_78_co_83)_sm_font-family_dd__t_Open Sans_t__co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-variant_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_line-height_dd_21px_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_float_dd_none_sm_background-color_dd_rgb(255_co_255_co_255)_sm__qt__gt_milliseconds_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_color_dd_rgb(139_co_69_co_19)_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-variant_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_line-height_dd_22.4px_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_float_dd_none_sm_background-color_dd_rgb(255_co_255_co_255)_sm__qt__gt_mesh.setVerticesData(BABYLON.VertexBuffer.PositionKind_co_ positions)_sm__lt_/span_gt__lt_br_gt_\n\taround  0.20 _lt_span style_eq__qt_color_dd_rgb(77_co_78_co_83)_sm_font-family_dd__t_Open Sans_t__co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-variant_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_line-height_dd_21px_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_float_dd_none_sm_background-color_dd_rgb(255_co_255_co_255)_sm__qt__gt_milliseconds_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_color_dd_rgb(77_co_78_co_83)_sm_font-family_dd__t_Open Sans_t__co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-variant_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_line-height_dd_21px_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_float_dd_none_sm_background-color_dd_rgb(255_co_255_co_255)_sm__qt__gt_so from my tests looks like resetting the _lt_/span_gt__lt_span style_eq__qt_color_dd_rgb(139_co_69_co_19)_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-variant_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_line-height_dd_22.4px_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_float_dd_none_sm_background-color_dd_rgb(255_co_255_co_255)_sm__qt__gt_Indices_lt_/span_gt_ is the fastest method is this the best way to do this it feels hacky\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Suphi","Date":"2016-02-15T18:42:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOK this is super strange\n_lt_/p_gt_\n\n_lt_p_gt_\n\tupdating indices does not update collisions correctly anymore\n_lt_/p_gt_\n\n_lt_p_gt_\n\tbut _lt_span style_eq__qt_color_dd_#8B4513_sm__qt__gt_mesh.updateVerticesData(BABYLON.VertexBuffer.PositionKind_co_ positions_co_ true)_sm_ _lt_/span_gt_is now working when it was not before\n_lt_/p_gt_\n\n_lt_p_gt_\n\ti have no idea what i changed i think this is the correct way to do this it takes about 0.30 milliseconds \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tEDIT*_lt_br_gt__lt_span style_eq__qt_color_dd_#8B4513_sm__qt__gt_mesh.updateVerticesData(BABYLON.VertexBuffer.PositionKind_co_ positions_co_ true)_sm__lt_/span_gt__lt_br_gt_\n\tis not working again i_t_m confused\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2016-02-15T19:10:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tTo trigger recompute of BoundingInfo_co_ on which collisions are highly likely to be based_co_ make sure the third parameter of updateVerticesData() is set to true.  If you decide to also recompute normals_co_ there is a method in mesh_co_ updateMeshPositions()_co_ which can do do it automatically.  Unfortunately_co_ it does not have a recompute BoundingInfo arg.  Perhaps edit it &amp_sm_ PR_co_ if you like.  Looks like there is also a bug in Geometry.updateVerticesData().  It probably should be ignoring updateExtends unless type is positions.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Suphi","Date":"2016-02-15T23:29:04Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tsetting the 3rd parameter to true does not work for me_lt_br_gt_\n\ti have to set it to true but at the same time i need to set the Indices again or collisions will not work\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-02-16T03:26:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWoot_dd_) the best thing to do first is to provide a playground.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tBasically_co_ calling _lt_span style_eq__qt_color_dd_#8B4513_sm__qt__gt_mesh.updateVerticesData(BABYLON.VertexBuffer.PositionKind_co_ positions_co_ _lt_u_gt__lt_strong_gt_true_lt_/strong_gt__lt_/u_gt_) _lt_/span_gt_should update the bounding info as you can see here_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Mesh/babylon.geometry.ts#L118_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Mesh/babylon.geometry.ts#L118_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Suphi","Date":"2016-02-16T17:49:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOK i think i worked out why its doing it i_t_m making a playground demo showing the problem/maybe bug_lt_br_gt_\n\tplease wait loading...\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Suphi","Date":"2016-02-16T18:03:34Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOK this shows the problem_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#NTUKO%230_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#NTUKO#0_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tif we update the mesh inside registerBeforeRender collisions will not work correctly unless we setIndices again\n_lt_/p_gt_\n\n_lt_p_gt_\n\t--------------------------------\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAlso if we set updateExtends to false and setIndices then the collisions does a strange bouncing thing _lt_img alt_eq__qt__dd_P_qt_ data-emoticon_eq__qt_true_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_tongue.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/tongue@2x.png 2x_qt_ title_eq__qt__dd_P_qt_ width_eq__qt_20_qt__gt_ but this is not really a problem just showing it to you\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#NTUKO%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#NTUKO#1_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-02-16T19:15:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIt was a bug _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt_true_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt__gt__lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tNow fixed_dd_ You can clear your cache and reload the PG\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Suphi","Date":"2016-02-16T19:26:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tnice\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jasonmcleod","Date":"2016-09-21T20:20:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tAre there additional steps to support physics after a mesh update?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tUsing the same PG_co_ I enabled physics but the ball still rolls over as if its flat.. thoughts?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#NTUKO%236_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#NTUKO#6_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-09-22T15:52:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tPhysic impostor are not updated when you change verticesData. In your case I recommend disabling/enabling physics to create an updated impostor\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jasonmcleod","Date":"2016-09-24T23:55:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThanks deltakosh_co_ first pass at that threw some errors. I_t_ll continue to mess around and update this thread. Really appreciate the response \n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]