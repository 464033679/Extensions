[{"Owner":"brianzinn","Date":"2017-08-19T19:51:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tJust trying out the new VR helper on an older phone to see what it would look like using Cardboard_dd_ http_dd_//www.babylonjs-playground.com/#IHY77X#16\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_Uncaught TypeError_dd_ Cannot read property _t_rotationQuaternion_t_ of null\n    at t.set [as camera] (babylon.js_dd_38)\n    at i.t.detachElement (babylon.js_dd_19)\n    at i.t.clear (babylon.js_dd_19)\n    at i.dispose (babylon.js_dd_20)\n    at t.enterVR (babylon.js_dd_39)\n    at HTMLButtonElement.&lt_sm_anonymous&gt_sm_ (babylon.js_dd_39)_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tI can look at it more later - that_t_s the output from remote debugging console once I click on the glasses button.  Is there a way to run playground under babylon-max?  Otherwise I will need to update my current project with latest version_co_ which would be good anyway!  Thanks.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-08-21T17:15:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYes there is a way_dd_ _lt_a href_eq__qt_https_dd_//playground.babylonjs.com/debug.html_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//playground.babylonjs.com/debug.html_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPlease let us know if you can reproduce the issue\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"brianzinn","Date":"2017-08-23T00:17:47Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks for the debug link.  I can reproduce quite easy.  Communicating my debug experience presents more of a challenge.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tin the enterVR function my active Camera is a DeviceOrientationCamera and is working with phone movements.  There is a loop in CameraInputsManager.prototype.detachElement_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_for (var cam in this.attached) {\n                var input _eq_ this.attached[cam]_sm_\n                this.attached[cam].detachControl(element)_sm_\n                if (disconnect) {\n                    this.attached[cam].camera _eq_ null_sm_\n                }\n            }_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tThe loop works with _qt_keyboard_qt_ and _qt_mouse_qt_.  The third item in the attached array is _qt_deviceOrientation_qt_ and the input is a FreeCameraDeviceOrientationInput.\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_Object.defineProperty(FreeCameraDeviceOrientationInput.prototype_co_ _qt_camera_qt__co_ {\n            get_dd_ function () {\n                return this._camera_sm_\n            }_co_\n            set_dd_ function (camera) {\n                this._camera _eq_ camera_sm_\n                if (!this._camera.rotationQuaternion)\n                    this._camera.rotationQuaternion _eq_ new BABYLON.Quaternion()_sm_\n            }_co_\n            enumerable_dd_ true_co_\n            configurable_dd_ true\n        })_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t As you can see in the loop the camera is being set to NULL.  The set function will be passed NULL_co_ so this._camera will be null and this._camera.rotationQuaternion throws an exception.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/deefbcdbae137661f3ba4472ed3f7c54940b0337/src/Cameras/Inputs/babylon.freeCameraDeviceOrientationInput.ts#L23_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/deefbcdbae137661f3ba4472ed3f7c54940b0337/src/Cameras/Inputs/babylon.freeCameraDeviceOrientationInput.ts#L23_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI think the other camera properties in the loop are member variables as I couldn_t_t step into them.  I would say there should be a guard statement in the setter. ie_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_public set camera(camera_dd_ FreeCamera) {\n            this._camera _eq_ camera_sm_\n            if (this._camera !_eq_ null &amp_sm_&amp_sm_ !this._camera.rotationQuaternion) this._camera.rotationQuaternion _eq_ new Quaternion()_sm_\n        }_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-08-23T15:51:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tCompletely agree. Do you mind to submit a PR?\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"brianzinn","Date":"2017-08-24T09:02:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tI will submit one in next few days.  Need to setup environment to test first.  Cheers.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]