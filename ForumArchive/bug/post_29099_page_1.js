[{"Owner":"Raitch","Date":"2017-03-16T13:10:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_m having an annoying issue that says _qt_Cannot read property _t_isDisposed_t_ of undefined_qt_ in the canvas file in function `RenderablePrim2D.prototype._updateInstanceDataParts` where it tries to check if `gii` is disposed. But `gii` is undefined_co_ thus breaking the entire script. I_t_m not fully sure how to troubleshoot this one_co_ but if undefined is an intended behavior maybe just changing `if (gii.isDisposed)` to `if ( ! gii || gii.isDisposed)` would do it?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPing _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/18979-nockawa/?do_eq_hovercard_qt_ data-mentionid_eq__qt_18979_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/18979-nockawa/_qt_ rel_eq__qt__qt__gt_@Nockawa_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nockawa","Date":"2017-03-16T13:13:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI would really like you to find me a repro case if you can !\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOther users had this bug and I tried for many hours to repro it without success..\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf you can do a repro that would allow me to understand what_t_s going on. The fix you propose is something I could do but I_t_d rather like to understand why it_t_s ending in this state.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Raitch","Date":"2017-03-16T13:25:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tI will see if I can get any wiser on it. Could be that I dispose some ScreenCanvas and it gets garbage collected perhaps_co_ but that_t_s just a wild guess.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nockawa","Date":"2017-03-16T13:28:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWhat are the main creation/destruction operations  you do_co_ only at Canvas level?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCan you copy the callstack when the error occurs? \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_color_dd_#272a34_sm__qt__gt__updateInstanceDataParts is only called during rendering and a disposed Canvas shouldn_t_t be rendered...unless if you dispose it during the rendering phase! is it something you would do? -omg_lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Raitch","Date":"2017-03-16T14:17:44Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tI have narrowed it down to be relevant with the `.levelVisibile` value being changed. Does that remind you of anything?\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Raitch","Date":"2017-03-16T14:51:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tNarrowing it a bit down further it occurs when something is set to `.levelVisible _eq_ false`. Takes a bit to test because it only occurs at the end of the game. _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/18979-nockawa/?do_eq_hovercard_qt_ data-mentionid_eq__qt_18979_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/18979-nockawa/_qt_ rel_eq__qt__qt__gt_@Nockawa_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have a function that runs this on some ScreenSpaceCanvas2D and a lot of Group2D objects which causes it to crash after. \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nockawa","Date":"2017-03-16T15:15:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tMasterK reported the exact same issue...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPlease when you had it_co_ just copy the whole callstack and paste it here_co_ it_t_s a first step for me to solve it.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tthanks\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Raitch","Date":"2017-03-16T15:17:57Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tI_t_m not fully sure what information you want. The error?\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nockawa","Date":"2017-03-16T15:36:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI want the callstack when the error occured_co_ you can find it in the Debug Tools of your Web Browser_co_ see below for an example of a crash I made on purpose_co_ debugged with Chrome.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt contain all the methods that called themselves until the one that caused the crash_co_ you see on the bottom the very first method_dd_ Engine._renderLoop which called _qt_(anonymous)_qt_ (a lambda function certainly)_co_ then Scene.render_co_ etc.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHave the callstack is useful to determine the context of a crash.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_12059_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_03/callstack.png.8f2fa76a46d4273dbd86afb83059e05a.png_qt_ alt_eq__qt_callstack.png.8f2fa76a46d4273dbd86afb83059e05a.png_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nockawa","Date":"2017-03-16T15:37:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tIdeally you want to use the version of babylon.canvas2d.js that is not minified...\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Raitch","Date":"2017-03-16T16:12:31Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThe error stopped showing now without any changes really _dd_\\ will see if it comes back\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Raitch","Date":"2017-03-16T23:04:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_pre_gt_\n_lt_code_gt_RenderablePrim2D._updateInstanceDataParts (babylon.canvas2d.js_dd_10688)\nRenderablePrim2D._prepareRenderPre (babylon.canvas2d.js_dd_10546)\nPrim2DBase._prepareRender (babylon.canvas2d.js_dd_8908)\n(anonymous) (babylon.canvas2d.js_dd_11655)\nGroup2D._prepareGroupRender (babylon.canvas2d.js_dd_11651)\n(anonymous) (babylon.canvas2d.js_dd_11673)\nGroup2D._prepareGroupRender (babylon.canvas2d.js_dd_11672)\nCanvas2D._updateCanvasState (babylon.canvas2d.js_dd_17736)\nCanvas2D._render (babylon.canvas2d.js_dd_17747)\n(anonymous) (babylon.canvas2d.js_dd_16548)\nObservable.notifyObservers (babylon.custom.js_dd_3605)\nScene.render (babylon.custom.js_dd_18697)\n(anonymous) (screen.js_dd_7622)\nEngine._renderLoop (babylon.custom.js_dd_7166)\n_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tscreen.js just calls scene.render()_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDoes this help_co_ _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/18979-nockawa/?do_eq_hovercard_qt_ data-mentionid_eq__qt_18979_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/18979-nockawa/_qt_ rel_eq__qt__qt__gt_@Nockawa_lt_/a_gt_?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Raitch","Date":"2017-03-21T08:34:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tPing _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/18979-nockawa/?do_eq_hovercard_qt_ data-mentionid_eq__qt_18979_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/18979-nockawa/_qt_ rel_eq__qt__qt__gt_@Nockawa_lt_/a_gt_\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"sable","Date":"2017-03-23T23:14:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_ve run into this issue a couple of times myself. I_t_ve managed to reproduce it in a playground_co_ _lt_a href_eq__qt_http_dd_//babylonjs-playground.com/#7VXUD%232_qt_ rel_eq__qt_external nofollow_qt__gt_here._lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAll the pg does is put points down in the scene_co_ and displays the distance between each (I was trying to build a measuring tool similar to the one in googleMaps when I stumbled across this issue).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis will cause the crash when the last point is removed (click to make a point_co_ click again to remove it). Wrapping the dispose calls in a setTimeout avoids the crash (which is the workaround I_t_m using for now)_co_ as does changing isVisible on line 35 to true_co_ and commenting out the levelvisible assignments on lines 87 and 94.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOn an unrelated note_co_ unless I_t_m missing something_co_ it seems that picking with pointerTap and pointerUp is broken in the playground_co_ as they always return a null pickInfo object (which is why I_t_m using pointerdown in the above pg).\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nockawa","Date":"2017-03-24T09:40:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tHello guys_co_ sorry_co_ I wasn_t_t able to work bjs last week_co_ I_t_ll take a look at it today_co_ specially if _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/24742-sable/?do_eq_hovercard_qt_ data-mentionid_eq__qt_24742_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/24742-sable/_qt_ rel_eq__qt__qt__gt_@sable_lt_/a_gt_ has a repro case!\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nockawa","Date":"2017-03-24T14:32:17Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tOk_co_ thanks to _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/24742-sable/?do_eq_hovercard_qt_ data-mentionid_eq__qt_24742_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/24742-sable/_qt_ rel_eq__qt__qt__gt_@sable_lt_/a_gt_ I have a repro case! Here the _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/issues/1925_qt_ rel_eq__qt_external nofollow_qt__gt_GitHub issue_lt_/a_gt_\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nockawa","Date":"2017-03-24T21:07:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/24742-sable/?do_eq_hovercard_qt_ data-mentionid_eq__qt_24742_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/24742-sable/_qt_ rel_eq__qt__qt__gt_@sable_lt_/a_gt_ a _lt_strong_gt_big thank you!_lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks to you I could finally fix this bug! YEY!\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/17014-masterk/?do_eq_hovercard_qt_ data-mentionid_eq__qt_17014_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/17014-masterk/_qt_ rel_eq__qt__qt__gt_@MasterK_lt_/a_gt_ _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/7531-raitch/?do_eq_hovercard_qt_ data-mentionid_eq__qt_7531_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/7531-raitch/_qt_ rel_eq__qt__qt__gt_@Raitch_lt_/a_gt_ and other will finally be happy! a non crashing renderer will please people for sure! _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_ve update the preview of C2D and the PG is also updated!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"MasterK","Date":"2017-03-25T01:34:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tGood news.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Raitch","Date":"2017-03-25T11:41:47Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tSweet _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"sable","Date":"2017-03-25T22:31:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThanks _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/18979-nockawa/?do_eq_hovercard_qt_ data-mentionid_eq__qt_18979_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/18979-nockawa/_qt_ rel_eq__qt__qt__gt_@Nockawa_lt_/a_gt_ that_t_s great news.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]