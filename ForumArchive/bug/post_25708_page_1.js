[{"Owner":"Pryme8","Date":"2016-10-11T22:38:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tSo I have a scene where I am creating presets_co_ and a few of them have children._lt_br /_gt__lt_br /_gt_\n\tWhen I try to createInstance of the preset None of the children come through_co_ even though I can see them in the presets._children array_co_ but they do not appear in the new instance._lt_br /_gt_\n\tIve noticed they have the flag of hasChildren _eq_ -1_co_ or something like that_co_ would that be causing them to get skipped?_lt_br /_gt__lt_br /_gt_\n\tAlso I tried to do a workaround where i looped through the child array and created instances of them_co_ but that ended up making my draw calls in the thousands._lt_br /_gt_\n\tI tried to see what was going on by then just doing a simple preset.clone() and that worked as expected with the children coming through_co_ but one draw call for each object now instead of each instance._lt_br /_gt__lt_br /_gt_\n\tIm thinking createInstance is bugged?_lt_br /_gt__lt_br /_gt__lt_br /_gt_\n\t*EDIT after reviewing the documentation I think I may need to use synchronizeInstances_lt_br /_gt_\n\t**EDIT EDIT... nope unless im using it wrong...\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2016-10-11T23:04:31Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//babylonjs-playground.com/#ISZHF%230_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//babylonjs-playground.com/#ISZHF#0_lt_/a_gt__lt_br /_gt__lt_br /_gt_\n\tquick demo proof._lt_br /_gt__lt_br /_gt_\n\tit works if you set the visibility of the object to false_dd__lt_br /_gt__lt_a href_eq__qt_http_dd_//babylonjs-playground.com/#ISZHF%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//babylonjs-playground.com/#ISZHF#1_lt_/a_gt__lt_br /_gt_\n\tbut looks like it does not effect the children and I would have to make a recursive loop to set all the visibility off on the original Parent mesh?_lt_br /_gt__lt_br /_gt__lt_br /_gt_\n\t*EDIT\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNope none of the children carry over period_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//babylonjs-playground.com/#ISZHF%232_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//babylonjs-playground.com/#ISZHF#2_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2016-10-12T14:07:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5733_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/_qt_ rel_eq__qt__qt__gt_@Wingnut_lt_/a_gt__co_ _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4289_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/_qt_ rel_eq__qt__qt__gt_@adam_lt_/a_gt__co_ _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/13038-nasimiasl/?do_eq_hovercard_qt_ data-mentionid_eq__qt_13038_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/13038-nasimiasl/_qt_ rel_eq__qt__qt__gt_@NasimiAsl_lt_/a_gt__co_ _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt__co_ _lt_span_gt__lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/12304-iiceman/?do_eq_hovercard_qt_ data-mentionid_eq__qt_12304_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/12304-iiceman/_qt_ rel_eq__qt__qt__gt_@iiceman_lt_/a_gt__co_ _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5292-dad72/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5292_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5292-dad72/_qt_ rel_eq__qt__qt__gt_@Dad72_lt_/a_gt__lt_br /_gt__lt_br /_gt_\n\tI just tagged a couple heavy hitters to have you guys hopefully address this with me today_co_ I have a clients project hitching on this and normally I would not press so hard but Im on a time limit.  I can move on to other things and use a work around of cloning the presets that have children but that is far from optimized and will lead to way to many draw calls once the scene is done...  We have a couple thousand unique objects and buildings._lt_/span_gt_\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2016-10-12T14:28:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIf the houses uses the same textures for example_co_ you can merge your objects that share the same textures.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn fact_co_ you clone your identical objects and you merge them into a single object. Then you can create instances of the merged object.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd use as octree to optimize the scene.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI do not understand your parenting meshes on the PG.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2016-10-12T14:44:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI think you_t_re going to have to create instances of the children too_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//babylonjs-playground.com/#ISZHF%233_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//babylonjs-playground.com/#ISZHF#3_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-10-12T14:50:44Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI agree.  Clone() will make new children (if you don_t_t set _lt_em_gt_doNotCloneChildren_lt_/em_gt_)_co_ but not createInstance.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//babylonjs-playground.com/#ISZHF%234_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//babylonjs-playground.com/#ISZHF#4_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSimple to test.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2016-10-12T15:12:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSo I think what dad is saying is prolly going to be the close to what I want.  So I need to make the submeshs on what ever and then merge them?  I figured inherently the createInstance function should carry over the children of the original mesh._lt_br /_gt__lt_br /_gt_\n\tSomething does not seem right_co_ because to my understanding of how an instance should work is it should be almost a exact clone of the parent object just without some independent variables_co_ to where if I moved one of the child meshs on the parent mesh and run and update on the Instances_co_ all instances should have their child move._lt_br /_gt__lt_br /_gt_\n\tWhat I am seeing as a bug_co_ is the children do not carry over onto the instance object what so ever unlike a clone.  I cant use clones because it will way bring the draw calls out of scope._lt_br /_gt__lt_br /_gt_\n\tIn trying what adam said_co_ I tried that method_co_ but by the end of the construction of the scene the draw calls were like at 1200 instead of 321 like when I tested with cloning to figure out wtf with the children. _lt_br /_gt__lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4289_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/_qt_ rel_eq__qt__qt__gt_@adam_lt_/a_gt_ ill see if I can replicate that draw compounding in a PG really fast._lt_br /_gt__lt_br /_gt_\n\tSomethings not right. Thanks for your help guys I have a facetime meeting with the client at 11 and I want to have a work around before then hopefully._lt_br /_gt__lt_br /_gt__lt_br /_gt__lt_br /_gt_\n\t***UPDATE_lt_br /_gt_\n\tOk I must have something wrong with how I was instancing the children. Because I could not get the compounded draw calls_co_ after Instancing the children it seemed to work this time... but that_t_s still odd we cant carry children over on the createInstance_co_ I feel like it should function like clone() with its parenting param._lt_br /_gt__lt_br /_gt__lt_a href_eq__qt_http_dd_//babylonjs-playground.com/#ISZHF%235_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//babylonjs-playground.com/#ISZHF#5_lt_/a_gt__lt_br /_gt__lt_br /_gt_\n\t3 draw calls is what was expected though so Ill figure out what I was doing wrong on my children loop in my program and go from there_co_ thanks guys._lt_br /_gt__lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4289_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/_qt_ rel_eq__qt__qt__gt_@adam_lt_/a_gt_ - I got it working with instancing the children on a simple loop_co_ they are only ever going to be one level down so non recursive will work_co_ thanks for that I dont know why I ended up with_lt_br /_gt__lt_br /_gt__lt_br /_gt_\n\tAlso can we drop the bounding boxes into a separate drawcall count on the debug UI?_lt_br /_gt__lt_br /_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_10/show.jpg.5252239f47f3db594bc7a2cbc555fa17.jpg_qt_ data-fileid_eq__qt_9820_qt_ rel_eq__qt__qt__gt__lt_img alt_eq__qt_show.jpg_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_9820_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_10/show.thumb.jpg.56251d5cb3a2041c4dd9f46ade70ae15.jpg_qt_ /_gt__lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_10/show2.jpg.b4022c4f4b9a9a966511a7c5f3b1ffb2.jpg_qt_ data-fileid_eq__qt_9821_qt_ rel_eq__qt__qt__gt__lt_img alt_eq__qt_show2.jpg_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_9821_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_10/show2.thumb.jpg.f5aedf3e0791d14d231377e8937af6b5.jpg_qt_ /_gt__lt_/a_gt__lt_br /_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAlso my clickable labels stopped working for some reason.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2016-10-12T16:37:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWhat there is to know with the instances and the clones is that this includes instances like ghosts of the base mesh. they can not be modified in relation to clones. Clones are copy of the base mesh. The mesh cloned is loaded once and quickly create copy (the gains is the loading of the scene that only support a single object and copy on the fly the mesh)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMe_co_ I use clones on objects_co_ after I merge the same meshes_co_ then I instanciate if necessary (in the case of city_co_ All that is vegetation I create that  instances). Then I apply a octree to end.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAfter my ways of doing is personal preference_co_ but gives good results in general for optimization. In terms of textures I also create textures only 512*512. I avoid 1024*1024 which are heavier to load.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2016-10-12T16:40:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tIf you do that_co_ how do you apply physics to each object independently?  Like so each street cone was a single mesh you could not just knock one over then right?\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2016-10-12T16:49:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIn fact I avoid using physical_co_ but you can use physical objects on it to clone receive collisions. Is the character who receives the most physical (_lt_span style_eq__qt_color_dd_rgb(39_co_42_co_52)_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_background-color_dd_rgb(255_co_255_co_255)_sm_float_dd_none_sm__qt__gt_pulse_lt_/span_gt__co_ gravity_co_ restitution velocity...).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut I prefer to avoid the use of the physical. I use collisions and other offered babylon and consumes less that the physics\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe cloned objects clone impostor logically_co_ but I did not really try it.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2016-10-12T17:39:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4289_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/_qt_ rel_eq__qt__qt__gt_@adam_lt_/a_gt_ I owe you big time bro_co_ you saved my product presentation.  If you need anything from me at anytime let me know.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"iiceman","Date":"2016-10-13T11:18:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tAh_co_ I am too late_co_ but sounds like you already solved the problem. _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"NasimiAsl","Date":"2016-10-13T18:26:31Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\ti am not good in this stuff but look your scene and your material\n_lt_/p_gt_\n\n_lt_p_gt_\n\tclone is faster plan always \n_lt_/p_gt_\n\n_lt_p_gt_\n\ttoo late _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]