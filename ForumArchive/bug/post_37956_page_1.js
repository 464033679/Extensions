[{"Owner":"Dad72","Date":"2018-05-31T09:38:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI have some problem when I serialize a terrain. then the serialized data is not reloaded with ImportMesh.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAs soon as there is a texture on the ground_co_ the serialization it passes bad. The only time it works is when a texture is not added. For exemple _lt_span_gt__dd__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_With no material _lt_span_gt__dd__lt_/span_gt__lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf I take the case of a simple ground with _lt_em_gt_CreateGround()_lt_/em_gt_  it will work (Because no textures are added here) . But if I create now with _lt_em_gt_CreateGroundFromHeightMap() it will not work (_lt_/em_gt_Here we add a texture_lt_em_gt_)_lt_/em_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1SQFJP%2316_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1SQFJP#16_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_With TerrainMaterial _lt_span_gt__dd__lt_/span_gt__lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf I create a terrain and use TerrainMaterial_co_ this time neither _lt_em_gt_CreateGround()_lt_/em_gt_ and _lt_em_gt_CreateGroundFromHeightMap()_lt_/em_gt_ will not work for serialization for reloading with ImportMesh (Here we add textures with the materials)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#E6OZX%23191_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#E6OZX#191_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_With MixMaterial _lt_span_gt__dd__lt_/span_gt__lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSame thing if I use MixMaterial instead _lt_em_gt_CreateGround()_lt_/em_gt_ and _lt_em_gt_CreateGroundFromHeightMap()_lt_/em_gt_ will not work for serialization for reloading with ImportMesh  (Here also we add textures with the materials)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#E6OZX%23190_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#E6OZX#190_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-05-31T15:15:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tJust wait for the ground to be ready before serializing it_co_ else you serialize empty mesh_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1SQFJP#17_qt_ ipsnoembed_eq__qt_true_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1SQFJP#17_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPinging _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/11802-luaacro/?do_eq_hovercard_qt_ data-mentionid_eq__qt_11802_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/11802-luaacro/_qt_ rel_eq__qt__qt__gt_@Luaacro_lt_/a_gt_ for serialization issues with Terrain and mix materials\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Luaacro","Date":"2018-06-01T18:00:57Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIt looks like the error comes from mesh serialization. When I serialize the entire scene and reload it works_dd_ _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#E6OZX%23193_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#E6OZX#193_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2018-06-01T18:24:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI wanted to serialize only the mesh and not the scene because the file is bigger. I record using PHP and I wanted to create a file with just the mesh because my editor create the basic scene with camera_co_ light ....\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhy this does not serialize the mesh correctly_co_ should it? Is there a bug in the mesh serializer?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2018-06-01T18:34:44Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOk_co_ I find why. we would say that the material that is relaunching in the json _lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_serializer_lt_/span_gt_ is missing.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf I do that_co_ it works_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_let serialization _eq_ BABYLON.SceneSerializer.SerializeMesh(ground)_sm_\nserialization.materials _eq_ []_sm_\nlet str_serialized _eq_ JSON.stringify(serialization)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tI think that is missing in the mesh serializer\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#E6OZX%23196_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#E6OZX#196_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Luaacro","Date":"2018-06-01T18:38:18Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_span_gt__lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_ is that the wanted behavior ?_lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-06-01T21:10:57Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSerializing a mesh should not serialize the materials_co_ (I think)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou can serialize the material as well if you want right?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2018-06-01T22:23:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tBut this will create a bug if the material is not serialized_co_ because the name is referenced in the serialized file (in _lt_strong_gt__qt_materialId_qt__dd__qt_terrainMixMaterial_qt__lt_/strong_gt_)_co_ but it does not exist of material which is search by the serializer by searching for _lt_strong_gt_terrainMixMaterial_lt_/strong_gt__co_ so this creates a bug.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tbecause add _lt_em_gt_serialise.materials _eq_ []_lt_/em_gt_  _eq_&gt_sm_ all material is serialized. Maybe an option would help.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tso I think there is a bug because no material is serialized with the mesh.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI think that when we serialize a mesh_co_ the texture it contains must also. Why else a material should not be serialized with the mesh? We lose all the mesh that is incomplete. When we serialize a scene_co_ we serialize all the materials as well.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-06-01T22:56:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_m fine with that\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/11802-luaacro/?do_eq_hovercard_qt_ data-mentionid_eq__qt_11802_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/11802-luaacro/_qt_ rel_eq__qt__qt__gt_@Luaacro_lt_/a_gt_ do you want to give it a try?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Luaacro","Date":"2018-06-02T00:16:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI will tomorrow _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_Adding an option looks cool_co_ with a default value to false. I have to see the existing code to see if I can have a better idea_lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Luaacro","Date":"2018-06-04T13:35:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tFixed _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt__lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/pull/4424_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/pull/4424_lt_/a_gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]