[{"Owner":"Dad72","Date":"2018-09-16T13:17:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_span_gt__lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/29361-trevordev/?do_eq_hovercard_qt_ data-mentionid_eq__qt_29361_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/29361-trevordev/_qt_ rel_eq__qt__qt__gt_@trevordev_lt_/a_gt__co_ Hello_co__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI find¬†a bug on the gizmos when we merge objects.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf I am merging two objects and then replacing the pivot in the center of this new merge object. The gizmo is no longer on the pivot of this new objects but anywhere_co_ corresponding to vector3(0_co_0_co_0).\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#8GY6J8%23160_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#8GY6J8#160_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOn my project the pivot is totally shift to several units of the object (it depends on the meshes)¬†¬†See the picture _lt_span_gt__dd__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img alt_eq__qt_1257664290_2018-09-1615_15_52-Greenshot.png.f202727574a048315692353a7b3f03e6.png_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_20054_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_09/1257664290_2018-09-1615_15_52-Greenshot.png.f202727574a048315692353a7b3f03e6.png_qt_ /_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2018-09-17T09:09:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_span_gt__lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@_lt_font style_eq__qt_vertical-align_dd_inherit_sm__qt__gt__lt_font style_eq__qt_vertical-align_dd_inherit_sm__qt__gt_Deltakosh_lt_/font_gt__lt_/font_gt__lt_/a_gt__co_¬†_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_In fact it is not the gizmo that is misplaced_co_ but setPivotPoint which is not updated when objects are merged._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_On this PG we can see that the gizmo is placed in the same place_co_ whether I use setPivotPoint or not._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_The point of the center of the object is the good one_co_ it is the small white sphere which serves as indication_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#8GY6J8%23161_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#8GY6J8#161_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-09-17T15:25:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWell the setPivotPoint works_dd_¬†_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#8GY6J8#162_qt_ ipsnoembed_eq__qt_true_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#8GY6J8#162_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo I still think it is a gizmo bug...Pinging _lt_span_gt__lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/29361-trevordev/?do_eq_hovercard_qt_ data-mentionid_eq__qt_29361_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/29361-trevordev/_qt_ rel_eq__qt__qt__gt_@trevordev_lt_/a_gt__lt_/span_gt__lt_br_gt_\n\t_lt_br_gt_\n\ttracker_dd_¬†_lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/issues/5161_qt_ ipsnoembed_eq__qt_true_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/issues/5161_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"trevordev","Date":"2018-09-17T17:00:04Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tDue to Babylons current implementation of pivot points not supporting any order manipulation operations_co_ I would say using the pivot for this would not be supported. Would using a parent mesh as the pivot point work for your scenario?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSee this playground_dd_¬†_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#8GY6J8%23163_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#8GY6J8#163_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2018-09-17T17:16:18Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYes it works like this.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2018-09-17T19:28:00Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_span_gt__lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/29361-trevordev/?do_eq_hovercard_qt_ data-mentionid_eq__qt_29361_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/29361-trevordev/_qt_ rel_eq__qt__qt__gt_@_lt_font style_eq__qt_vertical-align_dd_inherit_sm__qt__gt__lt_font style_eq__qt_vertical-align_dd_inherit_sm__qt__gt_trevordev_lt_/font_gt__lt_/font_gt__lt_/a_gt__co__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNo_co_ it does not work completely.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf I want to select the object later_co_ the gizmo is not well placed_co_ it comes back as before.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMoreover_co_ we have to select one of the two rabbits. the object is not considered as a single sectionable with _lt_strong_gt_pickResult.pickedMesh_lt_/strong_gt_.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe fact of creating a new BABYLON.Mesh¬†¬†makes me lose all give to serialize the merge object.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#8GY6J8%23164_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#8GY6J8#164_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe pivot seems to place correctly on the merge object. Why the gizmo can not be placed on this pivot point?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLooks like MergeMesh has a lot of different problems at home? problem of placement of the Gizmo_co_ problem of material which disappears with multiple materials. I_t_m starting to wonder if I will not remove the merge from my software_co_ because I can not do anything right.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"trevordev","Date":"2018-09-17T20:53:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tTo get the gizmo in the right position again_co_ maybe you could check if the selected mesh has a parent and use that if it exists to attach the gizmo.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t¬†\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCan you provide more details about what you are trying to build?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAre you looking for the ability to group any number of objects and move them around with gizmos or something else?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHow would you like the serialization to work?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-09-17T20:57:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tother solution_dd_ you can bake the transform_dd_¬†¬†_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#8GY6J8#165_qt_ ipsnoembed_eq__qt_true_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#8GY6J8#165_lt_/a_gt_¬†(this way you are centering the new mesh on its origin)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd this is not _qt_problems_qt_ but how the merge works _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt_true_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt__gt_¬†The MergeMesh takes data from both meshes and merge then. It is not responsible for centering the mesh or whatever_lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2018-09-17T21:07:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYour solution seems to work well Deltakosh. Thank you.¬†_lt_span class_eq__qt_ipsEmoji_qt__gt_üëç_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYes trevor¬†I am trying to regroup several objects and to be able to move this new object merged. It_t_s for a MMORPG editor_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMore detail here_dd_\n_lt_/p_gt_\n_lt_iframe allowfullscreen_eq__qt__qt_ data-controller_eq__qt_core.front.core.autosizeiframe_qt_ data-embedcontent_eq__qt__qt_ data-embedid_eq__qt_embed8767595920_qt_ scrolling_eq__qt_no_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/topic/39884-web-game-editor-mmorpg/?do_eq_embed_qt_ style_eq__qt_height_dd_341px_sm_max-width_dd_502px_sm__qt__gt__lt_/iframe_gt_\n\n_lt_p_gt_\n\t¬†\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2018-09-17T21:23:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI add the last two lines that allow to replace the object to merge to its original place and refreshing the BoundingInfo Speckle my object to disappear when I am too close to the object.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI can solve_co_ it works on my project. Thanks again\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_let boundingInfo _eq_ meshMerged.getBoundingInfo().boundingBox_sm_\nlet middlePivot _eq_ new BABYLON.Vector3(boundingInfo.center.x_co_ boundingInfo.center.y_co_ boundingInfo.center.z)_sm_¬†¬† ¬†¬†¬† ¬†¬†¬† ¬†¬†¬† ¬†¬†¬† ¬†¬†¬† ¬†\nmeshMerged.setPivotMatrix(BABYLON.Matrix.Translation(-boundingInfo.center.x_co_ -boundingInfo.center.y_co_ -boundingInfo.center.z)_co_ false)_sm_\nmeshMerged.bakeCurrentTransformIntoVertices()_sm_\nmeshMerged.setPivotMatrix(BABYLON.Matrix.Identity())_sm_¬†¬† ¬†¬†¬† ¬†¬†¬† ¬†¬†¬† ¬†¬†¬† ¬†¬†¬† ¬†\nmeshMerged.position _eq_ middlePivot_sm_\nmeshMerged.refreshBoundingInfo()_sm_\n\n_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t¬†\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-09-18T21:17:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tMy pleasure always!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]