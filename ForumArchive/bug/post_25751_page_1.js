[{"Owner":"Swiftwork","Date":"2016-10-14T05:19:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am unsure if this is a bug or incompatible with my setup_co_ but I run the latest nightly build of Babylon.js 2.5.0-beta commit 3fe3372 using a _lt_a href_eq__qt_https_dd_//github.com/Swiftwork/Babylon.js-nightly_qt_ rel_eq__qt_external nofollow_qt__gt_repository_lt_/a_gt_ I set up that fetches the latest preview build and allows me to install it through npm as a package. I am then using Webpack together with Typescript to import the library. I understand that this might not be the standard workflow_co_ but it has been running smoothly for me until the Canvas2D refactoring. So down to the issue_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn a simple Javascript setup such as this using webpack for requires_co_ CANVAS2D will fail to run due to the fact that BABYLON is undefined.\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_const BABYLON _eq_ require(_t_babylonjs_t_)_sm_\nconst CANVAS2D _eq_ require(_t_babylonjs/babylon.canvas2d_t_)_sm_\nnew CANVAS2D.Rectangle2D({})_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tFirst I thought it was that my requires were messed up_co_ which turned out to be half true. Webpack had to provide the CANVAS2D module with the BABYLON module_co_ by making the BABYLON module globally available.\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_new webpack.ProvidePlugin({\n  BABYLON_dd_ _t_babylonjs_t__co_\n})_co__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tHowever this wasn_t_t the entire issue_co_ due to the fact that the CANVAS2D module is also defined as BABYLON and the first lines of the code overwrite the globally available BABYLON variable with it_t_s own declaration of BABYLON.\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_var BABYLON_sm_\n(function (BABYLON) {\n  // ...\n})(BABYLON || (BABYLON _eq_ {}))_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tRemoving all _lt_strong_gt_var BABYLON_sm__lt_/strong_gt_ in the compiled code fixed my issues_co_ but maybe it might be worth giving Canvas2D its own CANVAS2D module/namespace_co_ if they are now to be treated as separate modules in the repository.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tRegards\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSwiftwork\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-10-14T15:33:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThey are separated but still in the same namespace.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m not sure about the issue. This should work because the BABYLON global variable is overwritten only if BABYLON is not defined\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Swiftwork","Date":"2016-10-15T04:46:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tAfter some further investigation I figured out why the _lt_strong_gt_var BABYLON_sm__lt_/strong_gt_ was affecting the Webpack ProvidePlugin. I originally believed the plugin exposed a global variable_co_ but what the plugin actually does is that it checks for usages of an alias such as BABYLON and then replaces each instance with the defined module require(_t_babylonjs_t_)_sm_ (requires are cached). What was happening in the example above was that BABYLON was never referenced before being assigned as a variable and therefore never aliased. A sneaky solution to this problem would be to add an instantiated checker the same way the other additions are added in gulp_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_var dependencyAddition _eq_\n  _t_if (typeof BABYLON _eq__eq__eq_ _qt_undefined_qt_)\\n_t_ +\n    _t_throw _qt_Canvas2D depends on BabylonJS_co_ please include both files_qt__sm_\\n_t_ +\n  _t_}_sm_\\n_t__sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tThat way there is a check to see if BABYLON exists and the ProvidePlugin will do its magic_co_ while also providing a descriptive error handler in the event of a missed babylonjs import.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHowever after solving the above issue locally I seem to be running in to the issue that_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_Uncaught TypeError_dd_ BABYLON.PropertyChangedInfo is not a constructor\n\ncaused by_dd_\n\nObservableStringDictionary.pci _eq_ new BABYLON.PropertyChangedInfo()_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tThis might be another issue with webpack_co_ but it seems as if it doesn_t_t know about _lt_strong_gt_new BABYLON.PropertyChangedInfo()_sm__lt_/strong_gt_ yet because it gets defined later on in the code.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have been trying to figure out these issues for 3 days now and it is doing my head in. I hope I don_t_t have to abandon Webpack for the project it has been running so smoothly so far. What setup do you guys use to include both canvas2d and babylonjs now after the refactoring?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tKind Regards\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSwiftwork\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nockawa","Date":"2016-10-15T07:31:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/23440-swiftwork/?do_eq_hovercard_qt_ data-mentionid_eq__qt_23440_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/23440-swiftwork/_qt_ rel_eq__qt__qt__gt_@Swiftwork_lt_/a_gt_ please ping me when you have issues with Canvas2D_co_ don_t_t spend so much time looking for the issue alone.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTo be honest_co_ the current state is not _qt_fully tested/released_qt_ otherwise I would have made a post in the Canvas2D_t_s main thread.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_ve taken a quick look at the canvas2D.max.js and the PropertyChangedInfo type is defined AFTER the ObservableStringDictionary_co_ that_t_s why it crashes.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI take a look at the gulp compile right away and I_t_ll let you know asap\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Swiftwork","Date":"2016-10-15T07:39:50Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/18979-nockawa/?do_eq_hovercard_qt_ data-mentionid_eq__qt_18979_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/18979-nockawa/_qt_ rel_eq__qt__qt__gt_@Nockawa_lt_/a_gt_ Haha to be fair it is in my nature to investigate bugs by myself_co_ however long it takes. Too stubborn not to ^^. I will make sure to ping you personally in the future though regarding some of the things I find while using Canvas2d_co_ which by the by is fantastic! Mind you though I might send a lot_co_ but I_t_ll try and keep it concise_co_ clear and condensed _lt_img alt_eq__qt__sm_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ title_eq__qt__sm_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nockawa","Date":"2016-10-15T07:40:52Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThe issue is solved_co_ however I can_t_t update the compiled files into the _qt_/dist/preview release_qt_ so you either have to\n_lt_/p_gt_\n\n_lt_p_gt_\n\t1) Take the new _qt_/canvas2D/config.json_qt_ and build locally\n_lt_/p_gt_\n\n_lt_p_gt_\n\t2) wait that someone update the preview release.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_ll tell you for 2) as soon as it_t_s made.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m truly sorry for the inconvenience_co_ but I will soon make it up to you with a great feature incoming! _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tHere a preview_dd_\n_lt_/p_gt_\n\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_10/5801dd80a68f5_Pastedimageat2016_10_1500_14.png.df80697b557b7c12cbdab08765ddb801.png_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_9850_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_10/5801dd81760b4_Pastedimageat2016_10_1500_14.thumb.png.fd8c4d070b6af9425eed976816c70a13.png_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_Pasted image at 2016_10_15 00_14.png_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nockawa","Date":"2016-10-15T07:44:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_147448_qt_ data-ipsquote-contentid_eq__qt_25751_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1476517190_qt_ data-ipsquote-userid_eq__qt_23440_qt_ data-ipsquote-username_eq__qt_Swiftwork_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t1 minute ago_co_ Swiftwork said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/18979-nockawa/?do_eq_hovercard_qt_ data-mentionid_eq__qt_18979_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/18979-nockawa/_qt_ rel_eq__qt__qt__gt_@Nockawa_lt_/a_gt_ Haha to be fair it is in my nature to investigate bugs by myself_co_ however long it takes. Too stubborn not to ^^. I will make sure to ping you personally in the future though regarding some of the things I find while using Canvas2d_co_ which by the by is fantastic! Mind you though I might send a lot_co_ but I_t_ll try and keep it concise_co_ clear and condensed _lt_img alt_eq__qt__sm_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ title_eq__qt__sm_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tAs I said in the announcement post_dd_\n_lt_/p_gt_\n\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tQuote\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\t_lt_strong style_eq__qt_font-weight_dd_bold_sm_color_dd_rgb(39_co_42_co_52)_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_background-color_dd_rgb(255_co_255_co_255)_sm__qt__gt_My mantra for this feature_lt_/strong_gt__lt_span style_eq__qt_color_dd_rgb(39_co_42_co_52)_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_background-color_dd_rgb(255_co_255_co_255)_sm_float_dd_none_sm__qt__gt__dd_ by indulgent with the current state of the Canvas2D_co_ but be fearless on the feedback side!_lt_/span_gt_\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tSo all feedback is more than welcome. Keep in mind that right now I try to stabilize the lib as much as possible_co_ I_t_m still open to features/enhancements but I will work on bug fixes in priority. New Features/enhancements will be taken in consideration with a great care for the sake of not bringing regression or new bugs. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m focusing right now on the new GUI Library_co_ based on Canvas2D.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Swiftwork","Date":"2016-10-15T07:56:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t_lt_span_gt__lt_span_gt__lt_span_gt__lt_span_gt__lt_span_gt__lt_span_gt__lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/18979-nockawa/?do_eq_hovercard_qt_ data-mentionid_eq__qt_18979_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/18979-nockawa/_qt_ rel_eq__qt__qt__gt_@Nockawa_lt_/a_gt_ great as always. I don_t_t mind waiting for a release and I_t_ll report any bugs I discover _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt__lt_/span_gt__lt_/span_gt__lt_/span_gt__lt_/span_gt__lt_/span_gt_\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nockawa","Date":"2016-10-15T09:29:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/23440-swiftwork/?do_eq_hovercard_qt_ data-mentionid_eq__qt_23440_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/23440-swiftwork/_qt_ rel_eq__qt__qt__gt_@Swiftwork_lt_/a_gt_ the preview files are updated and looks like it works!\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]