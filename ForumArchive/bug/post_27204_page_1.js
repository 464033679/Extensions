[{"Owner":"chloridrik","Date":"2016-12-20T15:35:57Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m using Unity 5.5.0 f3 and I have many bugs with the exporter.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_#1 _dd_ backed lightmap _dd__lt_/strong_gt__lt_br /_gt_\n\t- I have started a new scene with a plan_co_ box_co_ directional light and a camera._lt_br /_gt_\n\t- My light use backed light only_lt_br /_gt_\n\t- My meshes use static lightmap_lt_br /_gt_\n\t- one standard material for my objects with a texture_lt_br /_gt_\n\t- In the exporter window I have checked _qt_export lightmap_qt__co_ synchronous backing enabled_co_ embed shader files._lt_br /_gt_\n\t_eq__eq_&gt_sm_ but all my objects are black in the babylonjs preview when I use backed light.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_#2 _dd_ objects export _dd_ _lt_/strong_gt__lt_br /_gt_\n\t- I have tested with this model _dd_ _lt_a href_eq__qt_https_dd_//www.assetstore.unity3d.com/en/#!/content/61925_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.assetstore.unity3d.com/en/#!/content/61925_lt_/a_gt__lt_br /_gt_\n\tand when I export I have this message _dd_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tFileNotFoundException_dd_ Resources/unity_builtin_extra does not exist_lt_br /_gt_\n\tSystem.IO.File.Copy (System.String sourceFileName_co_ System.String destFileName_co_ Boolean overwrite) (at /Users/builduser/buildslave/mono/build/mcs/class/corlib/System.IO/File.cs_dd_107)_lt_br /_gt_\n\tBabylonExport.Entities.BabylonScene.AddTexture (System.String texture)_lt_br /_gt_\n\tUnity3D2Babylon.SceneBuilder.CopyTexture (System.String texturePath_co_ UnityEngine.Texture2D texture2D_co_ BabylonExport.Entities.BabylonTexture babylonTexture_co_ Boolean isLightmap) (at Assets/Babylon/Source/SceneBuilder.Materials.cs_dd_274)_lt_br /_gt_\n\tUnity3D2Babylon.SceneBuilder.DumpTexture (UnityEngine.Texture texture_co_ UnityEngine.Material material_co_ System.String name_co_ Boolean isLightmap) (at Assets/Babylon/Source/SceneBuilder.Materials.cs_dd_1060)_lt_br /_gt_\n\tUnity3D2Babylon.SceneBuilder.DumpTextureFromMaterial (UnityEngine.Material material_co_ System.String name) (at Assets/Babylon/Source/SceneBuilder.Materials.cs_dd_1032)_lt_br /_gt_\n\tUnity3D2Babylon.SceneBuilder.DumpPBRMaterial (UnityEngine.Material material_co_ Int32 lightmapIndex_co_ Vector4 lightmapScaleOffset_co_ Boolean metallic_co_ Int32 lightmapCoordIndex) (at Assets/Babylon/Source/SceneBuilder.Materials.cs_dd_480)_lt_br /_gt_\n\tUnity3D2Babylon.SceneBuilder.DumpMaterial (UnityEngine.Material material_co_ Int32 lightmapIndex_co_ Vector4 lightmapScaleOffset_co_ Int32 lightmapCoordIndex) (at Assets/Babylon/Source/SceneBuilder.Materials.cs_dd_304)_lt_br /_gt_\n\tUnity3D2Babylon.SceneBuilder.ConvertUnityMeshToBabylon (UnityEngine.Mesh mesh_co_ UnityEngine.Transform transform_co_ UnityEngine.GameObject gameObject_co_ Single progress_co_ UnityEditor.UnityMetaData&amp_sm_ metaData_co_ System.Collections.Generic.List`1&amp_sm_ particleSystems_co_ System.Collections.Generic.List`1&amp_sm_ lensFlares_co_ System.String&amp_sm_ componentTags_co_ BabylonExport.Entities.BabylonMesh collisionMesh_co_ UnityEngine.Collider collider) (at Assets/Babylon/Source/SceneBuilder.Meshes.cs_dd_345)_lt_br /_gt_\n\tUnity3D2Babylon.SceneBuilder.ConvertFromUnity () (at Assets/Babylon/Source/SceneBuilder.cs_dd_597)_lt_br /_gt_\n\tUnityEngine.Debug_dd_LogException(Exception)_lt_br /_gt_\n\tUnity3D2Babylon.SceneBuilder_dd_ConvertFromUnity() (at Assets/Babylon/Source/SceneBuilder.cs_dd_806)_lt_br /_gt_\n\tUnity3D2Babylon.ExporterWindow_dd_Export(Boolean) (at Assets/Babylon/Source/ExporterWindow.cs_dd_736)_lt_br /_gt_\n\tUnity3D2Babylon.ExporterWindow_dd_OnGUI() (at Assets/Babylon/Source/ExporterWindow.cs_dd_573)_lt_br /_gt_\n\tUnityEditor.DockArea_dd_OnGUI()\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have the latest version of today_co_ I have updated the plugin to 2.5 version.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCan you help me to understand please ?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tBest regards_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tJeremie. _lt_br /_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-12-20T17:11:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHey Jeremie _co_ did you try the new one? _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/tree/master/Exporters/Unity%205/EditorToolkit_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/tree/master/Exporters/Unity 5/EditorToolkit_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPing _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/24012-mackeyk24/?do_eq_hovercard_qt_ data-mentionid_eq__qt_24012_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/24012-mackeyk24/_qt_ rel_eq__qt__qt__gt_@MackeyK24_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"chloridrik","Date":"2016-12-20T17:31:00Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI have found the problem with the cars models. It was because the car_glass material use _qt_UIMask_qt_ texture lol not a real texture file ^^\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI meet an other problem in this scene _dd_ _lt_a href_eq__qt_https_dd_//www.assetstore.unity3d.com/en/#!/content/65679_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.assetstore.unity3d.com/en/#!/content/65679_lt_/a_gt__lt_br /_gt_\n\tand I have solved it by adding in Tools.cs line 1031 _dd_ if(!mesh) return_sm__lt_br /_gt_\n\tI don_t_t know why a mesh is null in this scene...\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_ I test the new exporter now _dd_-)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"chloridrik","Date":"2016-12-20T17:32:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_ I have tested with this version in my first post and I can_t_t see backed light. all is black\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"chloridrik","Date":"2016-12-20T18:09:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI know it_t_s just the beginning of the new unity exporter and I would like contribute too.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have a bug with this car model (with the fbx version) _lt_a href_eq__qt_http_dd_//tf3dm.com/3d-model/mitsubishi-lancer-evolution-x-98027.html_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//tf3dm.com/3d-model/mitsubishi-lancer-evolution-x-98027.html_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m watching for this problem.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_12/585973c4ef437_Capturedecran2016-12-20a19_06_43.png.9af55ede43a558718f4beea0395db9de.png_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_10867_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_12/585973c6356aa_Capturedecran2016-12-20a19_06_43.thumb.png.aa32f280783761ca7d060dc506212a5d.png_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_Capture d’écran 2016-12-20 à 19.06.43.png_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"chloridrik","Date":"2016-12-20T18:32:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tok I have found the problem_co_ it_t_s because in SceneBuilder.Meshes.cs in ConvertUnityMeshToBabylon you use renderer.sharedMaterial.name as key in multiMatDictionary.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut I see the renderer.sharedMaterial.name is the name of the first material... In this case the model is not realy optimized and have many multi-material starting with the same first material.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTo solve that_co_ I concatain all sub materials names in a key _dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_                        string key _eq_ _qt__qt__sm_\n                        for (int i _eq_ 0_sm_ i &lt_sm_ renderer.sharedMaterials.Length_sm_ i++)\n                        {\n                            key+_eq_renderer.sharedMaterials[i].name_sm_\n                        }\n\n\n                        if (!multiMatDictionary.ContainsKey(key))\n                        {\n                            bMultiMat _eq_ new BabylonMultiMaterial\n                            {\n                                materials _eq_ new string[mesh.subMeshCount]_co_\n                                id _eq_ Guid.NewGuid().ToString()_co_\n                                name _eq_ key//renderer.sharedMaterial.name\n                            }_sm_\n\n                            for (int i _eq_ 0_sm_ i &lt_sm_ renderer.sharedMaterials.Length_sm_ i++)\n                            {\n                                var sharedMaterial _eq_ renderer.sharedMaterials[i]_sm_\n                                BabylonMaterial babylonMaterial_sm_\n\n                                babylonMaterial _eq_ DumpMaterial(sharedMaterial_co_ renderer.lightmapIndex_co_ renderer.lightmapScaleOffset)_sm_\n\n                                bMultiMat.materials[i] _eq_ babylonMaterial.id_sm_\n                            }\n                            if (mesh.subMeshCount &gt_sm_ 1)\n                            {\n                                multiMatDictionary.Add(bMultiMat.name_co_ bMultiMat)_sm_\n                            }\n                        }\n                        else\n                        {\n                            bMultiMat _eq_ multiMatDictionary[key]_sm_\n                        }_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_12/5859793cc9c06_Capturedecran2016-12-20a19_27_39.png.55414c125c471d07b166e83a3aa6426b.png_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_10869_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_12/5859793cc9c06_Capturedecran2016-12-20a19_27_39.png.55414c125c471d07b166e83a3aa6426b.png_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_Capture d’écran 2016-12-20 à 19.27.39.png_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-12-20T18:41:50Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tExcellent please feel free to send a PR _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]