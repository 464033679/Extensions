[{"Owner":"shen","Date":"2017-02-12T12:40:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIn Babylonejs_co_ BoneIKController assumes that all bones are oriented along the x-axis_co_ like the Dude example _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1EVNNB%2315_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1EVNNB#15_lt_/a_gt_. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI find that _qt__lt_a href_eq__qt_http_dd_//blender.stackexchange.com/questions/15609/in-which-direction-should-bone-axes-be-oriented_qt_ rel_eq__qt_external nofollow_qt__gt_The bones should be oriented along the y-axis_lt_/a_gt__qt_. Here is the demo of using BoneIKController with y-axis _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1EVNNB%2346_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1EVNNB#46_lt_/a_gt_. To make it work correctly_co_ you need to change\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_BABYLON.Matrix.RotationYawPitchRollToRef(0_co_ 0_co_ Math.PI * .5_co_ mat2)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tto\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_BABYLON.Matrix.RotationYawPitchRollToRef(0_co_ 0_co_ 0_co_ mat2)_sm_\n_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tin babylon.boneIKController.ts file. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tOf course_co_ we can_t_t expect that not all bones follow the same convention. So I wonder\n_lt_/p_gt_\n\n_lt_ol_gt__lt_li_gt_\n\t\tWill it be solved by adding {adjustYaw_co_ adjustPitch_co_ adjustRoll} option like BoneLookController?\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\tIs it possible to detect the bone orientation automatically?\n\t_lt_/li_gt_\n_lt_/ol_gt__lt_p_gt_\n\tOr we just add bone orientation parameter to BoneIKController. \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-02-13T18:12:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tPing _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4289_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/_qt_ rel_eq__qt__qt__gt_@adam_lt_/a_gt_\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2017-02-13T19:11:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_163081_qt_ data-ipsquote-contentid_eq__qt_28388_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1486903225_qt_ data-ipsquote-userid_eq__qt_25623_qt_ data-ipsquote-username_eq__qt_shen_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tOn 2/12/2017 at 7_dd_40 AM_co_ shen said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tIn Babylonejs_co_ BoneIKController assumes that all bones are oriented along the x-axis_co_ like the Dude example _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1EVNNB%2315_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1EVNNB#15_lt_/a_gt_.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tHere is a demo with a simple model that was created in Blender that has bones oriented along the y-axis_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#PNJGW%237_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#PNJGW#7_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPlease post an example that demonstrates the issue you_t_re having.  You might just need to change the bendAxis.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn this example_co_ the second bone is bending on the z axis_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#PNJGW%236_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#PNJGW#6_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI might need to improve the way the default bend axis is set if it isn_t_t set by the user.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Bones/babylon.boneIKController.ts#L58_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Bones/babylon.boneIKController.ts#L58_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"shen","Date":"2017-02-14T00:00:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI might not describe it clearly. I_t_m talking about how to make the bone point to the target (no _lt_span style_eq__qt_color_dd_rgb(39_co_42_co_52)_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_background-color_dd_rgb(255_co_255_co_255)_sm_float_dd_none_sm__qt__gt_the default bend axis_lt_/span_gt_). \n_lt_/p_gt_\n\n_lt_p_gt_\n\tFor your 2 examples_co_ y-axis always point to the target mesh (with or without _lt_span style_eq__qt_color_dd_rgb(39_co_42_co_52)_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_background-color_dd_rgb(255_co_255_co_255)_sm_float_dd_none_sm__qt__gt_bendAxis option)_co_ seems because BoneIKController._rightHandedSystem is false. _lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_color_dd_rgb(39_co_42_co_52)_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_background-color_dd_rgb(255_co_255_co_255)_sm_float_dd_none_sm__qt__gt_For my example _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1EVNNB%2346_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1EVNNB%2346_lt_/a_gt_ and the dude demo _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1EVNNB%2315_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1EVNNB%2315_lt_/a_gt_ (both _rightHandedSystem _eq_ true)_co_ x-axis _lt_/span_gt_always point to the target mesh. _lt_span style_eq__qt_color_dd_rgb(39_co_42_co_52)_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_background-color_dd_rgb(255_co_255_co_255)_sm_float_dd_none_sm__qt__gt_I can make them work with y-axis by setting BoneIKController._rightHandedSystem to false (It will cause another problem with bending). Is it Babylonjs_t_ problem or the meshes_t_ error?_lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2017-02-14T00:57:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThanks for providing the example.  I think I can come up with a fix for this.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2017-02-14T01:57:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThanks for reporting the bug.  I just submitted a PR.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2017-02-15T23:06:50Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1EVNNB%2352_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1EVNNB#52_lt_/a_gt_\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]