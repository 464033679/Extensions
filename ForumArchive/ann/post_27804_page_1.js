[{"Owner":"JCPalmer","Date":"2017-01-18T16:44:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYou may take advantage of graphic hardware supported textures on ANY chip architecture!  Most of my effort went into adding formal documentation_co_ so I will not repeat my self here.   The page has not shown up yet.  Will update with link when it does.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tUpshot is in order to take advantage of compressed textures_co_ you have to know which compressed texture format(s) your gpu supports.  If you pick one_co_ all other hardware will not run your scene.  Along the way of putting this in_co_ a fall back was added for .DDS files with Direct X_co_ dxt_co_ textures_co_ when not running on Windows browsers.  This is much better than that though.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFor testing purposes_co_ I made a version of the _lt_a href_eq__qt_https_dd_//palmer-jc.github.io/scenes/mansion/index.html_qt_ rel_eq__qt_external nofollow_qt__gt_Mansion demo_lt_/a_gt__co_ where based on your hardware_co_ a different compressed format is used.  There is also a separate _lt_a href_eq__qt_https_dd_//palmer-jc.github.io/scenes/mansion/index_fallback.html_qt_ rel_eq__qt_external nofollow_qt__gt_page _lt_/a_gt_where this was not enabled.  I did not see any performance difference between these two on my hardware.  Though the scene uses 105 textures_co_ almost all are much smaller than 2k.  Do to textures being multi-dimensional_co_ space requirements explode as textures get bigger (up to 4k).  A scene with a bunch of bigger textures would probably show much more of a difference.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tEnjoy.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tEDIT_dd_  Here is the url as viewed from Github (hope formatting will be same on BJS doc site) _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Documentation/blob/master/content/tutorials/02_Mid_Level/Multi-Platform_Compressed_Textures.md_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Documentation/blob/master/content/tutorials/02_Mid_Level/Multi-Platform_Compressed_Textures.md_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ozRocker","Date":"2017-01-19T02:10:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tMulti-platform?  Does this include iOS?\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2017-01-19T16:32:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tYes.  All iOS chips support PVRTC.  Those A8 and above_co_ I am pretty sure also support ASTC.  Safari and WKWebView are not exposing ASTC yet though.  Run mansion demo on your iPhone/Pad.  It will show it to be using PRVTC.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ozRocker","Date":"2017-01-21T09:28:57Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThis won_t_t run for me.  I get Javascript errors on Chrome with Windows 10 desktop.\n_lt_/p_gt_\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_01/mansion_errors.jpg.c1cbed19c597a03112474023808cce10.jpg_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_11315_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_01/mansion_errors.jpg.c1cbed19c597a03112474023808cce10.jpg_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_mansion_errors.jpg_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2017-01-22T17:09:04Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tA _lt_a href_eq__qt_https_dd_//aboutssl.org/fix-google-chrome-error-err_ssl_protocol_error_qt_ rel_eq__qt_external nofollow_qt__gt_ERR_SSL_PROTOCOL_ERROR_lt_/a_gt_ is probably not to do with anything I can control.  It is just a demo anyway.  Does it do this to all your browsers. iOS machine?  Once the .babylon file fails to download_co_ crash is certain to follow. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI tried Chrome / Firefox / Spartan all on Windows 10_co_ they all used the DXT version of textures.  I do get a 404 on favicon.ico too.  That_t_s because I did not make one.  Think it is dumb idea for Chrome to _qt_require_qt_ one.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ozRocker","Date":"2017-01-22T23:53:04Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_160267_qt_ data-ipsquote-contentid_eq__qt_27804_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1485104944_qt_ data-ipsquote-userid_eq__qt_8492_qt_ data-ipsquote-username_eq__qt_JCPalmer_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t20 hours ago_co_ JCPalmer said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tA _lt_a href_eq__qt_https_dd_//aboutssl.org/fix-google-chrome-error-err_ssl_protocol_error_qt_ rel_eq__qt_external nofollow_qt__gt_ERR_SSL_PROTOCOL_ERROR_lt_/a_gt_ is probably not to do with anything I can control.  It is just a demo anyway.  Does it do this to all your browsers. iOS machine?  Once the .babylon file fails to download_co_ crash is certain to follow. \n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tI tried Chrome / Firefox / Spartan all on Windows 10_co_ they all used the DXT version of textures.  I do get a 404 on favicon.ico too.  That_t_s because I did not make one.  Think it is dumb idea for Chrome to _qt_require_qt_ one.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tIt works on my Surface Pro.  I think its just an issue with my desktop installation of Windows.  I_t_m using Insider Preview and I have a very dodgy version running which seems to interfere with network connectivity.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m trying to use PVRTexTool.  I have a .JPG file with 100% quality that is 2_co_112KB in size.  Dimensions are 4096 x 4096.  When I encode in PVRTexTool with _qt_Fastest (Development Quality)_co_ Generate MIPMAPS_co_ Vertical Flip_co_ openGL_co_ PVRTC 2bpp RGB_co_ linear RGB_qt_ I end up with a .KTX file that has a degraded quality (obviously _t_cos compression is set to _qt_fastest_qt_) but with filesize 5_co_462KB.  How come this is bigger than the 100% quality JPG?  If I set to best quality its over 8MB\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_Edit_dd__lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOk_co_ I read up on PVRTC compression and learnt that it saves space in RAM but not necessarily on disk\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2017-01-23T17:28:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYes_co_ also a compressed texture has all of the mip maps.  For 4096 this is very significant.  RAM required for a 4k rgb image texture including mipmaps is_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_50_co_331_co_648 (4096 * 4096 * 3) +\n12_co_582_co_912 (2048 * 2048 * 3) +\n 3_co_145_co_728 (1024 * 1024 * 3) +\n   786_co_432 ( 512 *  512 * 3) +\n   196_co_608 ( 256 *  256 * 3) +\n    49_co_152 ( 128 *  128 * 3) +\n    12_co_288 (  64 *   64 * 3) +\n     3_co_072 (  32 *   32 * 3) +\n       768 (  16 *   16 * 3) +\n       192 (   8 *    8 * 3) +\n        48 (   4 *    4 * 3) +\n        12 (   2 *    2 * 3) +\n         3 (   1 *    1 * 3)\n_eq__eq__eq__eq__eq__eq__eq__eq__eq__eq__eq_\n67_co_108_co_863_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tA lot more than 5_co_462 kb. The really good thing about compressed textures is the RAM size is equal to the file size - about 50 bytes for KTX header info.  You could copy all files of certain type to a separate dir_co_ then just calculate the texture ram required an entire scene_co_ using folder properties.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBTW_co_ when you said best quality is over 8MB_co_ you mean you changed to PVRTC 4bpp_co_ right?  I have not noticed that the size of the file changes when you change how much time to use to pick the values to use.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ozRocker","Date":"2017-01-23T23:08:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHmm...I don_t_t know where I got 8MB from _dd_/\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI just checked my 4096 x 4096 texture.  Its 5_co_462 kb for fastest or best quality using 2bpp.  Its 10_co_923 kb using 4bpp.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t5_co_462 kb is a killer though_co_ especially if I have 2 of those (diffuse and normal map).  Fine for app downloads but I couldn_t_t convince a business to switch to 3D websites if people have to download that on a mobile device on a 4G network.  I_t_ll have to experiment with different texture sizes (2048_co_ 1024) to see if I can find a suitable trade-off.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDoes the web server automatically GZip these textures? that_t_d help a little bit \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_Edit_dd__lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI added to the list of compressed file types to the apache.conf file and it did get reduced a bit\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_AddType application/babylon .babylon\nAddType image/ktx .ktx\n\nAddOutputFilterByType DEFLATE application/babylon image/ktx text/html text/plain text/xml text/css text/javascript application/javascript_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ozRocker","Date":"2017-01-24T01:04:41Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_ve been playing with this a fair bit.  I think you have a spelling error in this line_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_var available _eq_ [_t_-astc.ktx_t__co_ _t_-dxt.ktx_t__co_ _t_-pvrtc.ktx_t__co_ _t_-etc2-.ktx_t__co_ _t_-etc1.ktx_t_]_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tShould it be _qt_-etc2.ktx_qt_?  That also appears in your code. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI can_t_t seem to get an ASTC file.  I_t_m using the batch files to create the compressed textures.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis line here from ktx-files.bat doesn_t_t do anything_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_PVRTexToolCLI.exe -i %1 -flip y -pot + -m -f ASTC_8x8_co_UBN_co_lRGB -q %quality% -shh -o %2-astc.ktx &gt_sm_junk.txt_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tIt doesn_t_t matter if I remove the redirection to junk.txt.  No file is produced.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2017-01-24T17:01:34Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks_co_ I have corrected that in demo.  Will get it into the documentation (also have another problem in Docs (I get this contents thing_co_ which is ok_co_ but all my headings are gone.  Why?  Maybe _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5218-temechon/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5218_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5218-temechon/_qt_ rel_eq__qt__qt__gt_@Temechon_lt_/a_gt__co_ or _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAs far as ASTC encoding_co_ you need to actually get a drop-in from _lt_a href_eq__qt_https_dd_//github.com/ARM-software/astc-encoder/tree/master/Binary_qt_ rel_eq__qt_external nofollow_qt__gt_ARM_lt_/a_gt_.  I did mention to look at section 1.2.1 of PVRTexTool _lt_a href_eq__qt_http_dd_//cdn.imgtec.com/sdk-documentation/PVRTexTool.User+Manual.pdf_qt_ rel_eq__qt_external nofollow_qt__gt_documentation_lt_/a_gt__co_ but probably should have put the link to manual and astcenc.exe.  Basically_co_ the program needs to be downloaded and put on the path.  Remember_co_ ASTC is not yet exposed on iOS yet_co_ or anywhere else yet AFAIKT.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2017-01-24T19:30:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tOk_co_ fixed doc &amp_sm_ added links.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ozRocker","Date":"2017-01-25T02:19:44Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThank you so much _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/?do_eq_hovercard_qt_ data-mentionid_eq__qt_8492_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/_qt_ rel_eq__qt__qt__gt_@JCPalmer_lt_/a_gt_ _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  This is a big deal for me because I_t_m trying to earn a living off webGL and I realise that the majority of people now surf the net on their mobile devices.  I really appreciate what you_t_ve done here\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]