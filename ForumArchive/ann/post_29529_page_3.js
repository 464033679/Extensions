[{"Owner":"jerome","Date":"2018-10-17T16:51:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tthis seems to be more complex than expected ... arg\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2018-10-26T08:55:46Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWell_co_ here_t_s the first working prototype of this new feature _lt_span_gt__dd_ _lt_/span_gt__lt_a href_eq__qt_http_dd_//jerome.bousquie.fr/BJS/test/terrainSP.html_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//jerome.bousquie.fr/BJS/test/terrainSP.html_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDemo description _lt_span_gt__dd__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_- the wireframe is the visualization of the map_co_ the logical pool of data describing the relief. Normally_co_ it_t_s not rendered and can be far bigger._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_- the textured square is the terrain. It_t_s dynamically morphed to the map data when moving according to the camera position. I didn_t_t activate any LOD or camera elevation correction. Just move the cam and zoom in/out._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_- the red sphere is the World origin and the red box shows the north_co_ those are just tags in the space._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt__eq_&gt_sm_ Another logical pool is added beside the map _dd_ a Solid Particle Map (SPMap). It_t_s simply a bunch of data describing where some solid particles are in the World. The solid particles in this map have a type (a shape model)_co_ a set of coordinates_co_ a set of rotation values and a set of scaling values. So 9 successive float values per particle of a given type._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_So the _lt_/span_gt_SPMap is simply an array of arrays.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSPMap[particleType1] _eq_ [posx1_co_ posy1_co_ posz1_co_ rotx1_co_ rotx1_co_ rotz1_co_ sclx1_co_ scly1_co_ sclz1_co_ posx2_co_ posy2_co_ posz2_co_ etc ...]¬†¬† &lt_sm__eq_ list of successive values of particle of type1\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSPMap[particleType2] _eq_ [posx1_co_ posy1_co_ posz1_co_ rotx1_co_ rotx1_co_ rotz1_co_ sclx1_co_ scly1_co_ sclz1_co_ posx2_co_ posy2_co_ posz2_co_ etc ...]¬† &lt_sm__eq_ list of successive values of particle of type2\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSPMap[ etc ]\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn this example type1 is a box_co_ type2 a sphere and type3 a tetrahadron. I randomy populate the SPMap with particle values. There could be dozen thousands or millions objects in the map. There are just set at a fixed location_co_ rotation and scaling.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe SPMap feature of the DynamicTerrain allows to render dynamically only the SPMap objects visible on the terrain with a SPS. This SPS can then be quite little (according to the object density in the map actually).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn this example_co_ I just declared a SPS with 100 boxes_co_ 100 spheres and 100 tetrahedrons what is quite few (less than 300 visible objects is easy to manage for the SPS engine_sm_ maybe I could have done it even tinier_co_ didn_t_t test) and I passed this SPS with the SPMap to the DynamicTerrain. And that_t_s all.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe DynamicTerrain will update the SPS for you by recycling automatically the particles per type in order to use and show only the needed ones in the terrain according to the current position and obviously to the SPMap data.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tStill a little buggy on the edges _dd_ from the terrain perspective the map is infinitely repeated and tiled_co_ but not the SPMap for now. [EDITED] fixed !\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDoc coming soon with better examples...\n_lt_/p_gt_\n\n_lt_p_gt_\n\t¬†\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhat is this for ?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis allows for instance to declare where some objects are located on a map (houses_co_ trees_co_ bridge_co_ buildings... or clouds) and then to render these objects on the terrain with the best possible performance _dd_ a small SPS_co_ recycling quickly a light pool of particles.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t¬†\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2018-10-26T14:11:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tPlease have a look at this better demo _lt_span_gt__dd_ _lt_/span_gt__lt_a href_eq__qt_http_dd_//jerome.bousquie.fr/BJS/test/terrainSP2.html_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//jerome.bousquie.fr/BJS/test/terrainSP2.html_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- map _lt_span_gt__dd_ _lt_/span_gt_1000 x 1000 points map\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- 66511 random particles fixed in the SPMap (well more than 66K)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- terrain _dd_ 100 x 100\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- sps _dd_ 2000 boxes_co_ 2000 spheres_co_ 2000 tetra (it can works with 500 of each if we don_t_t get in altitude to see in the distance)_co_ so 6K real particles maximum\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo we can manage 66K objects from the map with only 6K (or less_co_ if no LOD) real objects automatically recycled.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t¬†\n_lt_/p_gt_\n\n_lt_p_gt_\n\tnot sure the LOD is really accurate with the particles ... (edit _dd_ I_t_m sure it_t_s wrong actually)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2018-10-27T07:59:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tjust having some ideas about infinite mazes ... remember that the solid particle can manage mesh intersections\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2018-10-27T16:29:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIt_t_s really unbelievable.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2018-11-07T15:18:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tat last the documentation _dd_ _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Extensions/blob/master/DynamicTerrain/documentation/dynamicTerrainDocumentation.md#more-advanced-terrain_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Extensions/blob/master/DynamicTerrain/documentation/dynamicTerrainDocumentation.md#more-advanced-terrain_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPG example to come\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2018-11-11T06:05:50Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tPG _dd_¬†_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#FJNR5%23264_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#FJNR5#264_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t3000 particles to render dozens thousands from the map.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t¬†\n_lt_/p_gt_\n\n_lt_p_gt_\n\tanother one _dd_ an alien cilization erected 75K concentric stones in this landscape¬†_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#FJNR5%23266_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#FJNR5#266_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-11-12T15:20:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThis is so cool!\n_lt_/p_gt_\n\n_lt_p_gt_\n\t¬†\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2018-11-12T15:49:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI know_co_ I know _lt_span class_eq__qt_ipsEmoji_qt__gt_üòÅ_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tbut wait for the next feature _dd_ the per object UVs and colors from the object map. Here a blue house_co_ there a red one_co_ etc.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-11-12T16:13:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tCan_t_t wait _lt_span_gt__lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt_true_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt__gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2018-11-16T08:51:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tNew feature for the DynamicTerrain _dd_ per object color and texture._lt_br /_gt_\n\tThe previous feature added the ability to set objects in an object map_co_ as many as wanted_co_ by setting their positions_co_ rotations and scalings in the map._lt_br /_gt_\n\tA SPS was used to render these objects in the terrain with a reduced pool of recycled solid particles.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis new feature allows now to pass also to the terrain data about object colors and textures (uvs actually) in the same way than object settings._lt_br /_gt_\n\tExample of randomly population of objects in the map with random colors and uvs _dd_\n_lt_/p_gt_\n\n_lt_div_gt_\n\t_lt_pre_gt_\n            _lt_span_gt_if_lt_/span_gt_ (_lt_span_gt_Math_lt_/span_gt_._lt_span_gt_random_lt_/span_gt_() _lt_span_gt_&gt_sm__lt_/span_gt_ _lt_span_gt_0.8_lt_/span_gt_) {\n               _lt_span_gt_let_lt_/span_gt_ xp _lt_span_gt__eq__lt_/span_gt_ x_sm_\n               _lt_span_gt_let_lt_/span_gt_ yp _lt_span_gt__eq__lt_/span_gt_ y_sm_\n               _lt_span_gt_let_lt_/span_gt_ zp _lt_span_gt__eq__lt_/span_gt_ z_sm_\n               \n               _lt_span_gt_let_lt_/span_gt_ ry _lt_span_gt__eq__lt_/span_gt_ _lt_span_gt_Math_lt_/span_gt_._lt_span_gt_random_lt_/span_gt_() _lt_span_gt_*_lt_/span_gt_ _lt_span_gt_3.6_lt_/span_gt__sm_\n               _lt_span_gt_let_lt_/span_gt_ sx _lt_span_gt__eq__lt_/span_gt_ _lt_span_gt_0.5_lt_/span_gt_ _lt_span_gt_+_lt_/span_gt_ _lt_span_gt_Math_lt_/span_gt_._lt_span_gt_random_lt_/span_gt_()_sm_\n               _lt_span_gt_let_lt_/span_gt_ sy _lt_span_gt__eq__lt_/span_gt_ _lt_span_gt_0.5_lt_/span_gt_ _lt_span_gt_+_lt_/span_gt_ _lt_span_gt_Math_lt_/span_gt_._lt_span_gt_random_lt_/span_gt_()_sm_\n               _lt_span_gt_let_lt_/span_gt_ sz _lt_span_gt__eq__lt_/span_gt_ _lt_span_gt_0.5_lt_/span_gt_ _lt_span_gt_+_lt_/span_gt_ _lt_span_gt_Math_lt_/span_gt_._lt_span_gt_random_lt_/span_gt_()_sm_\n\n               _lt_span_gt_let_lt_/span_gt_ r _lt_span_gt__eq__lt_/span_gt_ _lt_span_gt_Math_lt_/span_gt_._lt_span_gt_abs_lt_/span_gt_(xp) _lt_span_gt_/_lt_/span_gt_ mapSubX _lt_span_gt_+_lt_/span_gt_ _lt_span_gt_0.5_lt_/span_gt__sm_\n               _lt_span_gt_let_lt_/span_gt_ g _lt_span_gt__eq__lt_/span_gt_ _lt_span_gt_Math_lt_/span_gt_._lt_span_gt_abs_lt_/span_gt_(zp) _lt_span_gt_/_lt_/span_gt_ mapSubZ _lt_span_gt_+_lt_/span_gt_ _lt_span_gt_0.5_lt_/span_gt__sm_\n               _lt_span_gt_let_lt_/span_gt_ b _lt_span_gt__eq__lt_/span_gt_ _lt_span_gt_Math_lt_/span_gt_._lt_span_gt_abs_lt_/span_gt_(yp) _lt_span_gt_/_lt_/span_gt_ elevationScale _lt_span_gt_+_lt_/span_gt_ _lt_span_gt_0.1_lt_/span_gt__sm_\n\n               _lt_span_gt_let_lt_/span_gt_ u _lt_span_gt__eq__lt_/span_gt_ _lt_span_gt_0.9_lt_/span_gt_ _lt_span_gt_*_lt_/span_gt_ _lt_span_gt_Math_lt_/span_gt_._lt_span_gt_random_lt_/span_gt_()_sm_\n               _lt_span_gt_let_lt_/span_gt_ v _lt_span_gt__eq__lt_/span_gt_ _lt_span_gt_0.9_lt_/span_gt_ _lt_span_gt_*_lt_/span_gt_ _lt_span_gt_Math_lt_/span_gt_._lt_span_gt_random_lt_/span_gt_()_sm_\n               \n               _lt_span_gt_let_lt_/span_gt_ type _lt_span_gt__eq__lt_/span_gt_ index _lt_span_gt_%_lt_/span_gt_ _lt_span_gt_3_lt_/span_gt__sm_\n               SPmapData[type]._lt_span_gt_push_lt_/span_gt_(xp_co_ yp_co_ zp_co_ _lt_span_gt_0_lt_/span_gt__co_ ry_co_ _lt_span_gt_0_lt_/span_gt__co_ sx_co_ sy_co_ sz)_sm_\n               SPcolorData[type]._lt_span_gt_push_lt_/span_gt_(r_co_ g_co_ b_co_ _lt_span_gt_1.0_lt_/span_gt_)_sm_ \n               SPuvData[type]._lt_span_gt_push_lt_/span_gt_(u_co_ v_co_ u _lt_span_gt_+_lt_/span_gt_ _lt_span_gt_0.1_lt_/span_gt__co_ v _lt_span_gt_+_lt_/span_gt_ _lt_span_gt_0.1_lt_/span_gt_)_sm_\n           }_lt_/pre_gt_\n_lt_/div_gt_\n\n_lt_p_gt_\n\tthen the terrain creation¬† _lt_span_gt_with the new parameters SPcolorData and SPuvData _lt_span_gt__dd__lt_/span_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_div_gt_\n\t_lt_pre_gt_\n    _lt_span_gt_var_lt_/span_gt_ terrainSub _lt_span_gt__eq__lt_/span_gt_ _lt_span_gt_100_lt_/span_gt__sm_        _lt_span_gt__lt_span_gt_//_lt_/span_gt_ terrain subdivisions_lt_/span_gt_\n    _lt_span_gt_var_lt_/span_gt_ terrainOptions _lt_span_gt__eq__lt_/span_gt_ {\n        terrainSub_lt_span_gt__dd__lt_/span_gt_ terrainSub_co_ \n        mapData_lt_span_gt__dd__lt_/span_gt_ mapData_co_ mapSubX_lt_span_gt__dd__lt_/span_gt_ mapSubX_co_ mapSubZ_lt_span_gt__dd__lt_/span_gt_ mapSubZ_co_ \n        mapColors_lt_span_gt__dd__lt_/span_gt_ mapColors_co_ \n        SPmapData_lt_span_gt__dd__lt_/span_gt_ SPmapData_co_\n        sps_lt_span_gt__dd__lt_/span_gt_ sps_co_\n        SPcolorData_lt_span_gt__dd__lt_/span_gt_ SPcolorData_co_\n        SPuvData_lt_span_gt__dd__lt_/span_gt_ SPuvData\n    }_sm_\n    _lt_span_gt_var_lt_/span_gt_ terrain _lt_span_gt__eq__lt_/span_gt_ _lt_span_gt_new_lt_/span_gt_ _lt_span_gt_BABYLON.DynamicTerrain_lt_/span_gt_(_lt_span_gt__lt_span_gt__qt__lt_/span_gt_dt_lt_span_gt__qt__lt_/span_gt__lt_/span_gt__co_ terrainOptions_co_ scene)_sm_\n    _lt_span_gt_terrain_lt_/span_gt_._lt_span_gt_mesh_lt_/span_gt_._lt_span_gt_material_lt_/span_gt_ _lt_span_gt__eq__lt_/span_gt_ terrainMaterial_sm__lt_/pre_gt_\n_lt_/div_gt_\n\n_lt_p_gt_\n\tThat_t_s all ... now each recycled solid particle will be ever given the right settings_co_ colors and uvs when rendering the related object in the terrain.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDocumentation to come.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t¬†\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLive example _dd_ _lt_a href_eq__qt_http_dd_//jerome.bousquie.fr/BJS/test/terrainSP.html_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//jerome.bousquie.fr/BJS/test/terrainSP.html_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2018-11-19T14:07:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tDocumented and online _dd_ _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Extensions/blob/master/DynamicTerrain/documentation/dynamicTerrainDocumentation.md#object-colors-and-textures_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Extensions/blob/master/DynamicTerrain/documentation/dynamicTerrainDocumentation.md#object-colors-and-textures_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPG _dd_ _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#FJNR5%23268_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#FJNR5#268_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]