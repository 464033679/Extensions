[{"Owner":"Boz","Date":"2015-10-06T17:40:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi !\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks for the CastorGUI engine_co_ it looks promising _lt_img alt_eq__qt__dd_)_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ data-emoticon_eq__qt__qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tBut I got problems with the GUIManager.dispose() function.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI created a playground _dd_ _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#1IRV2X%2365_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#1IRV2X#65_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn my scene_co_ I have this code _dd_\n_lt_/p_gt_\n\n_lt_pre class_eq__qt_ipsCode prettyprint prettyprinted_qt__gt_\n_lt_span class_eq__qt_kwd_qt__gt_var_lt_/span_gt__lt_span class_eq__qt_pln_qt__gt_ button _lt_/span_gt__lt_span class_eq__qt_pun_qt__gt__eq__lt_/span_gt__lt_span class_eq__qt_pln_qt__gt_ _lt_/span_gt__lt_span class_eq__qt_kwd_qt__gt_new_lt_/span_gt__lt_span class_eq__qt_pln_qt__gt_ CASTORGUI_lt_/span_gt__lt_span class_eq__qt_pun_qt__gt_._lt_/span_gt__lt_span_gt_GUITexture_lt_/span_gt__lt_span class_eq__qt_pun_qt__gt_(_lt_/span_gt__lt_span class_eq__qt_str_qt__gt__qt_button_qt__lt_/span_gt__lt_span class_eq__qt_pun_qt__gt__co__lt_/span_gt__lt_span class_eq__qt_pln_qt__gt_ _lt_/span_gt__lt_span class_eq__qt_str_qt__gt__qt_textures/vault11.png_qt__lt_/span_gt__lt_span class_eq__qt_pun_qt__gt__co__lt_/span_gt__lt_span class_eq__qt_pln_qt__gt_ _lt_/span_gt__lt_span class_eq__qt_pun_qt__gt_{_lt_/span_gt__lt_span class_eq__qt_pln_qt__gt_w_lt_/span_gt__lt_span class_eq__qt_pun_qt__gt__dd__lt_/span_gt__lt_span class_eq__qt_pln_qt__gt_ button_w_lt_/span_gt__lt_span class_eq__qt_pun_qt__gt__co__lt_/span_gt__lt_span class_eq__qt_pln_qt__gt_ h_lt_/span_gt__lt_span class_eq__qt_pun_qt__gt__dd__lt_/span_gt__lt_span class_eq__qt_pln_qt__gt_ button_h_lt_/span_gt__lt_span class_eq__qt_pun_qt__gt__co__lt_/span_gt__lt_span class_eq__qt_pln_qt__gt_ x_lt_/span_gt__lt_span class_eq__qt_pun_qt__gt__dd__lt_/span_gt__lt_span class_eq__qt_pln_qt__gt_ button_x_lt_/span_gt__lt_span class_eq__qt_pun_qt__gt__co__lt_/span_gt__lt_span class_eq__qt_pln_qt__gt_ y_lt_/span_gt__lt_span class_eq__qt_pun_qt__gt__dd__lt_/span_gt__lt_span class_eq__qt_pln_qt__gt_ button_y_lt_/span_gt__lt_span class_eq__qt_pun_qt__gt_}_co__lt_/span_gt__lt_span class_eq__qt_pln_qt__gt_ guiManager_lt_/span_gt__lt_span class_eq__qt_pun_qt__gt__co__lt_/span_gt__lt_span class_eq__qt_pln_qt__gt_ _lt_/span_gt__lt_span class_eq__qt_kwd_qt__gt_function_lt_/span_gt__lt_span class_eq__qt_pun_qt__gt_()_lt_/span_gt__lt_span class_eq__qt_pln_qt__gt_ _lt_/span_gt__lt_span class_eq__qt_pun_qt__gt_{_lt_/span_gt__lt_span class_eq__qt_pln_qt__gt_\t_lt_/span_gt__lt_span class_eq__qt_kwd_qt__gt_if_lt_/span_gt__lt_span class_eq__qt_pun_qt__gt_(_lt_/span_gt__lt_span class_eq__qt_pln_qt__gt_selectedPlayer _lt_/span_gt__lt_span class_eq__qt_pun_qt__gt_!_eq__lt_/span_gt__lt_span class_eq__qt_pln_qt__gt_ _lt_/span_gt__lt_span class_eq__qt_str_qt__gt__qt_NULL_qt__lt_/span_gt__lt_span class_eq__qt_pun_qt__gt_){_lt_/span_gt__lt_span class_eq__qt_pln_qt__gt_\t_lt_/span_gt__lt_span class_eq__qt_com_qt__gt_// Dispose GUI\t//guiManager.setVisible(false)_sm_\t//guiManager.dispose()_sm_\t// Cancel menu state\twindow.cancelAnimationFrame(menu_animate)_sm_\t// Game init\tinit(selectedPlayer)_sm_\t// Game animate\tanimate()_sm_})_sm__lt_/span_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tthis code call the init() function\n_lt_/p_gt_\n\n_lt_pre class_eq__qt_ipsCode prettyprint prettyprinted_qt__gt_\n_lt_span class_eq__qt_kwd_qt__gt_function_lt_/span_gt__lt_span class_eq__qt_pln_qt__gt_ init_lt_/span_gt__lt_span class_eq__qt_pun_qt__gt_(_lt_/span_gt__lt_span class_eq__qt_pln_qt__gt_selectedPlayer_lt_/span_gt__lt_span class_eq__qt_pun_qt__gt_)_lt_/span_gt__lt_span class_eq__qt_pln_qt__gt_ _lt_/span_gt__lt_span class_eq__qt_pun_qt__gt_{_lt_/span_gt__lt_span class_eq__qt_pln_qt__gt_\t_lt_/span_gt__lt_span class_eq__qt_com_qt__gt_// Dispose GUIManager from the menu\t//guiManager.dispose()_sm_\t//guiManager.setVisible(false_co_ false)_sm_\t\t// Initialise scene\tcreateScene()_sm_}_lt_/span_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tand creates a new scene !!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tEverything works well_co_ except I can not dispose the GUIManager. It still appears on the screen.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIs there a way to remove the GUIManager ?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd another problem appears just after that. This code  worked before _dd_\n_lt_/p_gt_\n\n_lt_pre class_eq__qt_ipsCode prettyprint prettyprinted_qt__gt_\n_lt_span class_eq__qt_pln_qt__gt_window_lt_/span_gt__lt_span class_eq__qt_pun_qt__gt_._lt_/span_gt__lt_span class_eq__qt_pln_qt__gt_addEventListener_lt_/span_gt__lt_span class_eq__qt_pun_qt__gt_(_lt_/span_gt__lt_span class_eq__qt_str_qt__gt__qt_click_qt__lt_/span_gt__lt_span class_eq__qt_pun_qt__gt__co__lt_/span_gt__lt_span class_eq__qt_pln_qt__gt_ _lt_/span_gt__lt_span class_eq__qt_kwd_qt__gt_function_lt_/span_gt__lt_span class_eq__qt_pln_qt__gt_ _lt_/span_gt__lt_span class_eq__qt_pun_qt__gt_()_lt_/span_gt__lt_span class_eq__qt_pln_qt__gt_ _lt_/span_gt__lt_span class_eq__qt_pun_qt__gt_{_lt_/span_gt__lt_span class_eq__qt_pln_qt__gt_\t_lt_/span_gt__lt_span class_eq__qt_com_qt__gt_// We try to pick an object\tvar pickResult _eq_ babylonScene.pick(babylonScene.pointerX_co_ babylonScene.pointerY)_sm_\tconsole.log(pickResult)_sm_        if(pickResult.hit)\t{\t\t// Mesh name picked\t\tvar pickName _eq_ pickResult.pickedMesh.name_sm_\t\tconsole.log(pickName)_sm_\t\t\t}})_sm__lt_/span_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tBut not now_co_ the ground is always the only picked mesh _dd_/\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo I suppose it is because the GUIManager is still present ?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-10-06T22:04:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThank you for your comment.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOk_co_ fixed. You can check with your link here_dd_ _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#1IRV2X%2365_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#1IRV2X#65_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Boz","Date":"2015-10-06T22:07:31Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Thanks_co_ I will try it !!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-10-06T22:09:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Essaye de vider tes caches_co_ il fonctionne tres bien sur le playground chez moi._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Boz","Date":"2015-10-06T22:19:17Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_OK it works_co_ the GUI remove elements. But I still got one problem._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I was using bGUI this way _dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var gui _eq_ new bGUI.GUISystem(babylonScene_co_ 1200_co_ 780)_sm_gui.enableClick()_sm_            // Logovar logo _eq_ new bGUI.GUIPanel(_qt_logo_qt__co_ assets[_qt_logo_qt_]_co_ null_co_ gui)_sm_logo.relativePosition(new BABYLON.Vector3(0.5_co_ 0.05_co_ 0))_sm_// Buttonvar vault _eq_ new bGUI.GUIPanel(_qt_button_qt__co_ assets[_qt_vault11_qt_]_co_ null_co_ gui)_sm_vault.relativePosition(new BABYLON.Vector3(0.5_co_ 0.9_co_ 0))_sm_vault.onClick _eq_ function(){        if(selectedPlayer !_eq_ _qt_NULL_qt_){        // Cancel menu state\twindow.cancelAnimationFrame(menu_animate)_sm_\t// Game init\tinit(selectedPlayer)_sm_\t// Game animate        animate()_sm_}_lt_/pre_gt__lt_p_gt_I replaced it by this code from CastorGUI _dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_// CSSvar css _eq_ _t__t__sm_\t// Empty_co_ no CSS for now// ManagerguiManager _eq_ new CASTORGUI.GUIManager(canvas_co_ css)_sm_\t\t\t// Logovar logo_h _eq_ guiManager.getCanvasWidth().height * 20/100_sm_\t\t// height _dd_ 15% du canvasvar logo_w _eq_ logo_h_sm_\t\t\t\t\t\t\t\t\t\t\t// width _eq_ height (logo carré)var logo_x _eq_ (guiManager.getCanvasWidth().width - logo_w) / 2_sm_\t// centré en xvar logo_y _eq_ 10_sm_\t\t\t\t\t\t\t\t\t\t\t\t// marge en yvar logo _eq_ new CASTORGUI.GUITexture(_qt_logo_qt__co_ _qt_textures/tlk_logo_256.png_qt__co_\t\t\t\t\t\t\t\t\t\t\t\t{w_dd_ logo_w_co_ h_dd_ logo_h_co_ x_dd_ logo_x_co_ y_dd_ logo_y}_co_ guiManager_co_ null)_sm_\t\t\t// Buttonvar button_h _eq_ guiManager.getCanvasWidth().height * 15/100_sm_\t\t\t// height _dd_ 10% du canvasvar button_w _eq_ button_h * 2.5_sm_\t\t\t\t\t\t\t\t\t\t// approximatif (img _eq_ 255x98)var button_x _eq_ (guiManager.getCanvasWidth().width - button_w) / 2_sm_\t// centré en xvar button_y _eq_ guiManager.getCanvasWidth().height - button_h - 10_sm_\t// marge en yvar button _eq_ new CASTORGUI.GUITexture(_qt_button_qt__co_ _qt_textures/vault11.png_qt__co_ {w_dd_ button_w_co_ h_dd_ button_h_co_ x_dd_ button_x_co_ y_dd_ button_y}_co_ guiManager_co_ function() {\tif(selectedPlayer !_eq_ _qt_NULL_qt_){\t\t// Dispose GUI\t\tguiManager.dispose()_sm_\t\t// Cancel menu state\t\twindow.cancelAnimationFrame(menu_animate)_sm_\t\t// Game init\t\tinit(selectedPlayer)_sm_\t\t// Game animate\t\tanimate()_sm_\t}})_sm__lt_/pre_gt__lt_p_gt_So with bGUI_co_ when I clicked the button_co_ a new scene was created and I can pick meshes on the scene._lt_/p_gt__lt_p_gt_But with CastorGUI_co_ I always pick the same mesh_co_ it is strange..._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Do you have an idea why this code returns different results with these GUI ?_lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_window.addEventListener(_qt_click_qt__co_ function () {\t// We try to pick an object\tvar pickResult _eq_ babylonScene.pick(babylonScene.pointerX_co_ babylonScene.pointerY)_sm_\tconsole.log(pickResult)_sm_        if(pickResult.hit)\t{\t\t// Mesh name picked\t\tvar pickName _eq_ pickResult.pickedMesh.name_sm_\t\tconsole.log(pickName)_sm_\t}})_sm__lt_/pre_gt__lt_p_gt_Maybe it comes from the _qt_window_qt_ element ? Do you modify something from the window_co_ the document_co_ or something else_co_ to create your GUI ?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-10-06T22:23:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I will check more carefully tomorrow._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-10-07T07:19:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_try this_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_scene.onPointerDown _eq_ function (evt_co_ pickResult) {\tconsole.log(pickResult)_sm_\tif (pickResult.hit &amp_sm_&amp_sm_ pickResult.pickedMesh) {\t\t// Mesh name picked\t\tvar pickName _eq_ pickResult.pickedMesh.name_sm_\t\tconsole.log(pickName)_sm_\t}\t\t\t}_sm__lt_/pre_gt__lt_p_gt_instead of this_lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_window.addEventListener(_qt_click_qt__co_ function () {\t// We try to pick an object\tvar pickResult _eq_ babylonScene.pick(babylonScene.pointerX_co_ babylonScene.pointerY)_sm_\tconsole.log(pickResult)_sm_        if(pickResult.hit)\t{\t\t// Mesh name picked\t\tvar pickName _eq_ pickResult.pickedMesh.name_sm_\t\tconsole.log(pickName)_sm_\t}})_sm__lt_/pre_gt__lt_p_gt_CastorGUI being a layer on top of the canvas_co_ it has no impact on the scene_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Boz","Date":"2015-10-07T13:48:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hm_co_ the fact is I was calling scene.dispose()_co_ to clean the scene_co_ and after that I add some new elements._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_But the dispose() function calls detachControl() on the scene_co_ and you have to call attachControl() yourself to re-activate the click and keyboard events. That was my mistake._lt_/p_gt__lt_p_gt_It is strange because controls worked anyway (click was detected but worked bad)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thank you Dad to have fixed guimanager.dispose() _sm_-)_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-10-07T14:18:22Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_No probleme.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]