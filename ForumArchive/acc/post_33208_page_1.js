[{"Owner":"TomaszFurca","Date":"2017-10-02T18:57:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_ I try to run animation of skeleton on my SPS_co_ but i don_t_t work. \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tSimple code_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_div_gt_\n\t_lt_pre_gt_\n_lt_code_gt_                    let SPS _eq_ new BABYLON.SolidParticleSystem(_qt_SPS_qt__co_ scene)_sm_\n                    SPS.addShape(meshP_co_ 50)_sm_\n                    let mesh _eq_ SPS.buildMesh()_sm_\n                    mesh.material _eq_ meshP.material_sm_\n                    mesh.skeleton _eq_ meshP.skeleton.clone(_qt_clonedSkeleton2_qt_)_sm_\n                    SPS.afterUpdateParticles _eq_ function(start_co_ stop_co_ update) {\n                        mesh.skeleton.beginAnimation(_t_Skill01_t__co_ true)_sm_\n\n                    }\n                    SPS.initParticles()_sm_\n                    SPS.setParticles()_sm_\n_lt_/code_gt__lt_/pre_gt_\n\t_lt_span style_eq__qt_background_dd_rgba(220_co_220_co_220_co_.498039) url(&quot_sm_//www.html5gamedevs.com/applications/core/interface/ckeditor/ckeditor/plugins/widget/images/handle.png&quot_sm_)_sm__qt__gt__lt_/span_gt_\n_lt_/div_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks for help\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTom\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Raggar","Date":"2017-10-02T21:14:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI have limited knowledge of SPS(unfortunately)_co_ but could it be_co_ that that piece of code gets called every frame? If that_t_s the case_co_ you won_t_t see any difference as the animation gets restarted every ~16ms.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTry using something like a boolean.\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_isSPSPlaying _eq_ false_sm_\nSPS.afterUpdateParticles _eq_ function(start_co_ stop_co_ update) {\n    if(!isSPSPlaying){\n       mesh.skeleton.beginAnimation(_t_Skill01_t__co_ true)_sm_\n       isSPSPlaying _eq_ true_sm_\n  }\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tI_t_m not sure of how you want your logic to work. But I do believe this could be the issue.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2017-10-02T23:43:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5453-jerome/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5453_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5453-jerome/_qt_ rel_eq__qt__qt__gt_@jerome_lt_/a_gt_ who is the king of SPS.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2017-10-03T03:47:22Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThe SPS is a big updatable mesh whose the vertex positions are all updated each call to _lt_em_gt_setParticles()_lt_/em_gt_. That means its whole geometry is supposed to change each frame with no other global coherence. Therefore it doesn_t_t support the skeleton by default.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"TomaszFurca","Date":"2017-10-03T07:18:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tSo_co_ using SPS i cannot run skeleton animation_co_ because all meshes are one big mesh. Today i try to make my animation using another method. I will write new post in this topic. Thanks for help.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2017-10-03T08:49:46Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tActually_co_ the SPS is a big mesh... nothing would prevent technically to use a skeleton. But_co_ as all this mesh vertices are updated one by one by _lt_em_gt_setParticles()_lt_/em_gt__co_ there_t_s no guarantee that the skeleton coherence and organization is kept along (for sure_co_ it isn_t_t). Maybe managing by the hand each parts would work_co_ no idea (except that this would be really complex to implement).\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"TomaszFurca","Date":"2017-10-03T13:53:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI create my field of grain using instances_co_ but perfomance would be better using SPS_co_ but I cannot do that using SPS. \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_                    let grain _eq_ self.game.factories[_t_nature_grain_t_].createInstance(_t_Grain_t__co_ true)_sm_\n                    grain.scaling _eq_ new BABYLON.Vector3(1.3_co_1.3_co_1.3)_sm_\n                    grain.position _eq_ new BABYLON.Vector3(22.32_co_0_co_-103.46)_sm_\n                    grain.skeleton.beginAnimation(_t_ArmatureAction_t__co_ true)_sm_\n\n                    for (let i _eq_ 0_sm_ i &lt_sm_ 1000_sm_ i++) {\n                        let offsetX _eq_ (Math.random() - 0.5) * 60_sm_\n                        let offsetZ _eq_ (Math.random() - 0.5) * 10_sm_\n                        let instance _eq_ grain.createInstance(_qt_instance_qt_ + i)_sm_\n                        instance.parent _eq_ grain_sm_\n                        instance.skeleton _eq_ grain.skeleton_sm_\n                        instance.position.x _eq_ offsetX_sm_\n                        instance.position.z _eq_ offsetZ_sm_\n                    }_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tEffect like this_dd_ _lt_a href_eq__qt_https_dd_//streamable.com/wxygk_qt_ style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#0275d8_sm_font-size_dd_14px_sm__qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//streamable.com/wxygk_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2017-10-03T16:38:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tw00t_co_ it looks really cool\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]