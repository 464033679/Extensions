[{"Owner":"darcome","Date":"2015-03-06T14:49:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hello everyone_co_ a little question about javascript and babylonjs_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I have created the class GameClass_lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var GameClass _eq_ function () {}_sm_GameClass.prototype.canvas \t\t\t_eq_ null_sm_GameClass.prototype.engine \t\t\t_eq_ null_sm_GameClass.prototype.scene \t\t\t_eq_ null_sm_// -------------------------------------------------------------------------- //GameClass.prototype.Init _eq_function (){\tconsole.log (_qt_Initializing_qt_)_sm_\tthis.canvas \t_eq_ document.getElementById \t(_qt_renderCanvas_qt_)_sm_\tthis.engine \t_eq_ new BABYLON.Engine \t\t(this.canvas_co_ true)_sm_\tthis.scene \t_eq_ new BABYLON.Scene \t\t(this.engine)_sm_\tthis.engine.runRenderLoop (this.RenderLoop)_sm_}// -------------------------------------------------------------------------- //GameClass.prototype.RenderLoop _eq_function (){\tthis.scene.render ()_sm_}_lt_/pre_gt__lt_p_gt_that has a function called RenderLoop which I_t_ll use for the engine.runRenderLoop._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_But with the code above_co_ this.scene is undefined._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_So_co_ my solution was to make scene a static variable of the GameClass._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Like this_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var GameClass _eq_ function () {}_sm_GameClass.prototype.canvas \t\t_eq_ null_sm_GameClass.prototype.engine \t\t_eq_ null_sm_GameClass.scene \t\t\t_eq_ null_sm_// -------------------------------------------------------------------------- //GameClass.prototype.Init _eq_function (){\tconsole.log (_qt_Initializing_qt_)_sm_\tthis.canvas \t_eq_ document.getElementById \t(_qt_renderCanvas_qt_)_sm_\tthis.engine \t_eq_ new BABYLON.Engine \t\t(this.canvas_co_ true)_sm_\tGameClass.scene _eq_ new BABYLON.Scene \t\t(this.engine)_sm_\tthis.engine.runRenderLoop (this.RenderLoop)_sm_}// -------------------------------------------------------------------------- //GameClass.prototype.RenderLoop _eq_function (){\tGameClass.scene.render ()_sm_}_lt_/pre_gt__lt_p_gt_Now everything works fine_co_ but is there another way to solve this_co_ without making the scene variable static?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thanks in advance for your help_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2015-03-06T15:09:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_The _qt_this_qt_ keyword in javascript is quite an interesting concept. And it is the key and solution to your problem._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_You are using this.scene under the assumption that the obejct that will execute the function is the GameClass object you will create. This function will be executed by the engine and the _qt_this_qt_ won_t_t be the GameClass object._lt_/p_gt__lt_p_gt_There are quite a lot of solutions for this. Without going to JavaScript programming (not entierly the purpose of this forum) it will be hard to explain. But look at what is beign done here - _lt_a href_eq__qt_http_dd_//babylondoc.azurewebsites.net/page.php?p_eq_21911_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//babylondoc.azurewebsites.net/page.php?p_eq_21911_lt_/a_gt__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_//create a scene object. var scene _eq_ createScene()_sm_// Register a render loop to repeatedly render the sceneengine.runRenderLoop(function () {   //use the scene variable that is accessible in this scope   scene.render()_sm_})_sm_ _lt_/pre_gt__lt_p_gt_A way of achieving this would be to do that in the init function_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_GameClass.prototype.Init _eq_function (){\tconsole.log (_qt_Initializing_qt_)_sm_\tthis.canvas \t_eq_ document.getElementById \t(_qt_renderCanvas_qt_)_sm_\tthis.engine \t_eq_ new BABYLON.Engine \t\t(this.canvas_co_ true)_sm_\tGameClass.scene _eq_ new BABYLON.Scene \t\t(this.engine)_sm_        //the magic _qt_that_qt_        var that _eq_ this_sm_\tthis.engine.runRenderLoop (function() {            that.scene.render()_sm_            //OR_co_ if you want to use render loop            that.RenderLoop()_sm_        })_sm_        //OR using _qt_bind_qt_        this.engine.runRenderLoop (this.RenderLoop.bind(this))_sm_} _lt_/pre_gt__lt_p_gt_ If you want to read more about it try here - _lt_a href_eq__qt_https_dd_//blog.codecentric.de/en/2012/11/javascript-function-contexts-this-proxy/_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//blog.codecentric.de/en/2012/11/javascript-function-contexts-this-proxy/_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"darcome","Date":"2015-03-06T16:12:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_thank you very much!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thanks to your code_co_ I_t_ve been able to solve my _qt_problems_qt_!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I had to use the _qt_that_qt_ magic in one case and the bind case in another_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Again_co_ thank you very much!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"davrous","Date":"2015-03-07T09:11:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_This approach is named _qt_closure_qt_ in the JavaScript world. This is the term you will have to search on search engines next time you have the same problem _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_It can be solved also using arrow functions in ECMAScript 6 or lambda functions in Typescript._lt_/p_gt__lt_p_gt_David_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]