[{"Owner":"Amnesiac","Date":"2017-05-27T17:31:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am trying to load a .babylon file exported from Blender_co_ in the following way_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBABYLON.SceneLoader.Load(_qt_http_dd_//localhost_dd_8080/babylon/_qt__co_ _qt_cube.babylon_qt__co_ () _eq_&gt_sm_ {}_co_ () _eq_&gt_sm_ {}_co_ () _eq_&gt_sm_ {})_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tand I get the following error_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tUncaught Error_dd_ No camera defined \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe babylon file does have a camera and it is being set as the active camera as you can see below_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_{_qt_producer_qt__dd_{_qt_name_qt__dd__qt_Blender_qt__co__qt_version_qt__dd__qt_2.78 (sub 0)_qt__co__qt_exporter_version_qt__dd__qt_4.6.1_qt__co__qt_file_qt__dd__qt_cube.babylon_qt_}_co_\n_qt_autoClear_qt__dd_true_co__qt_clearColor_qt__dd_[0.0509_co_0.0509_co_0.0509]_co__qt_ambientColor_qt__dd_[0_co_0_co_0]_co__qt_gravity_qt__dd_[0_co_-9.81_co_0]_co_\n_qt_materials_qt__dd_[{_qt_name_qt__dd__qt_cube.Material_qt__co__qt_id_qt__dd__qt_cube.Material_qt__co__qt_ambient_qt__dd_[0.8_co_0.8_co_0.8]_co__qt_diffuse_qt__dd_[0.64_co_0.64_co_0.64]_co__qt_specular_qt__dd_[0.5_co_0.5_co_0.5]_co__qt_emissive_qt__dd_[0_co_0_co_0]_co__qt_specularPower_qt__dd_50_co__qt_alpha_qt__dd_1_co__qt_backFaceCulling_qt__dd_true_co__qt_checkReadyOnlyOnce_qt__dd_false}]_co_\n_qt_multiMaterials_qt__dd_[]_co_\n_qt_skeletons_qt__dd_[]_co_\n_qt_meshes_qt__dd_[{_qt_name_qt__dd__qt_Cube_qt__co__qt_id_qt__dd__qt_Cube_qt__co__qt_materialId_qt__dd__qt_cube.Material_qt__co__qt_billboardMode_qt__dd_0_co__qt_position_qt__dd_[0_co_0_co_0]_co__qt_rotation_qt__dd_[0_co_0_co_0]_co__qt_scaling_qt__dd_[1_co_1_co_1]_co__qt_isVisible_qt__dd_true_co__qt_freezeWorldMatrix_qt__dd_false_co__qt_isEnabled_qt__dd_true_co__qt_checkCollisions_qt__dd_false_co__qt_receiveShadows_qt__dd_false\n_co__qt_positions_qt__dd_[1_co_-1_co_-1_co_-1_co_-1_co_1_co_1_co_-1_co_1_co_-1_co_1_co_1_co_1_co_1_co_-1_co_1_co_1_co_1_co_-1_co_-1_co_-1_co_-1_co_1_co_-1]\n_co__qt_normals_qt__dd_[0.5773_co_-0.5773_co_-0.5773_co_-0.5773_co_-0.5773_co_0.5773_co_0.5773_co_-0.5773_co_0.5773_co_-0.5773_co_0.5773_co_0.5773_co_0.5773_co_0.5773_co_-0.5773_co_0.5773_co_0.5773_co_0.5773_co_-0.5773_co_-0.5773_co_-0.5773_co_-0.5773_co_0.5773_co_-0.5773]\n_co__qt_indices_qt__dd_[0_co_1_co_2_co_3_co_4_co_5_co_5_co_0_co_2_co_4_co_6_co_0_co_6_co_3_co_1_co_2_co_3_co_5_co_0_co_6_co_1_co_3_co_7_co_4_co_5_co_4_co_0_co_4_co_7_co_6_co_6_co_7_co_3_co_2_co_1_co_3]\n_co__qt_subMeshes_qt__dd_[{_qt_materialIndex_qt__dd_0_co__qt_verticesStart_qt__dd_0_co__qt_verticesCount_qt__dd_8_co__qt_indexStart_qt__dd_0_co__qt_indexCount_qt__dd_36}]\n_co__qt_instances_qt__dd_[]}\n]_co_\n_qt_cameras_qt__dd_[{_qt_name_qt__dd__qt_Camera_qt__co__qt_id_qt__dd__qt_Camera_qt__co__qt_position_qt__dd_[7.4811_co_5.3437_co_-6.5076]_co__qt_rotation_qt__dd_[0.4615_co_-0.8149_co_0]_co__qt_fov_qt__dd_0.8576_co__qt_minZ_qt__dd_0.1_co__qt_maxZ_qt__dd_100_co__qt_speed_qt__dd_1_co__qt_inertia_qt__dd_0.9_co__qt_checkCollisions_qt__dd_false_co__qt_applyGravity_qt__dd_false_co__qt_ellipsoid_qt__dd_[0.2_co_0.9_co_0.2]_co__qt_cameraRigMode_qt__dd_0_co__qt_interaxial_distance_qt__dd_0.0637_co__qt_type_qt__dd__qt_FreeCamera_qt_}]_co__qt_activeCamera_qt__dd__qt_Camera_qt__co_\n_qt_lights_qt__dd_[{_qt_name_qt__dd__qt_Lamp_qt__co__qt_id_qt__dd__qt_Lamp_qt__co__qt_type_qt__dd_0_co__qt_position_qt__dd_[4.0762_co_5.9039_co_1.0055]_co__qt_intensity_qt__dd_1_co__qt_diffuse_qt__dd_[1_co_1_co_1]_co__qt_specular_qt__dd_[1_co_1_co_1]}]_co_\n_qt_shadowGenerators_qt__dd_[]\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tCode where I am loading the scene_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_/// &lt_sm_reference path_eq__qt_babylon.d.ts_qt_ /&gt_sm_\nmodule BASICS{\n    export class BasicScene{\n\n        private _engine_dd_ BABYLON.Engine_sm_\n        private _scene_dd_ BABYLON.Scene_sm_\n\n        constructor(canvas_dd_ HTMLCanvasElement){\n            this._engine _eq_ new BABYLON.Engine(canvas)_sm_\n            this._scene _eq_ new BABYLON.Scene(this._engine)_sm_\n\n            BABYLON.SceneLoader.Load(_qt_http_dd_//localhost_dd_8080/babylon/_qt__co_ _qt_cube.babylon_qt__co_ this._engine_co_ \n            (scene _dd_ BABYLON.Scene) _eq_&gt_sm_ {\n            }_co_\n            () _eq_&gt_sm_ {}_co_\n            (scene _dd_ BABYLON.Scene) _eq_&gt_sm_ {}\n            )_sm_\n          \n        }\n\n\n        public runRenderLoop()_dd_ void {\n\t\t\tthis._engine.runRenderLoop(() _eq_&gt_sm_ {\n\t\t\t\tthis._scene.render()_sm_\n\t\t\t})_sm_\n\t\t}\n\n       \n\n    }\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tJavascript that calls the Babylon render_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_basicScene _eq_ new BASICS.BasicScene(canvas)_sm_\nbasicScene.runRenderLoop()_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tAny help is greatly appreciated!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks!\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"gryff","Date":"2017-05-29T13:04:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/27132-amnesiac/?do_eq_hovercard_qt_ data-mentionid_eq__qt_27132_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/27132-amnesiac/_qt_ rel_eq__qt__qt__gt_@Amnesiac_lt_/a_gt__dd_ Welcome to the forum _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tI copied your code for the basic cube you posted above and saved it as a .babylon file.. Then opened it in the Babylon sandbox - result in image below.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt worked fine_co_ though I do notice that you are using V4.6.1 of the Blender exporter. You should update your exporter to v5.3.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYour problems lie in the code you are using - and unfortunately - I no nothing about typescript.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHopefully someone else can help..\n_lt_/p_gt_\n\n_lt_p_gt_\n\tcheers_co_ gryff _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_05/cube1.png.ccb585dd16ad7a1b6f6567d0ab54a0a4.png_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_13199_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_05/cube1.png.ccb585dd16ad7a1b6f6567d0ab54a0a4.png_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_cube1.png_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2017-05-29T15:13:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYou are doing 2 things wrong_dd_\n_lt_/p_gt_\n\n_lt_ul_gt__lt_li_gt_\n\t\tDo not call basicScene.runRenderLoop() immediately after instancing your class.  SceneLoader is run mostly in an async browser thread.  The camera will not have been created yet.  You need to either call it in the first call back passed or make sure you wait first.\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\tThat brings me to the 2nd problem_co_ you are explicitly creating your own scene_co_ which is good_co_ but using Load() not Append().  Load() takes an Engine and creates a scene that is passed in the callbacks.  You are actually creating 2 scenes.  Use Append() passing the scene instead of engine_co_ then test before starting render loop_dd_\n\t_lt_/li_gt_\n_lt_/ul_gt__lt_pre_gt_\n_lt_code_gt_basicScene _eq_ new BASICS..._sm_\nscene.executeWhenReady(function () {\n    basicScene.runRenderLoop()_sm_\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Amnesiac","Date":"2017-05-31T14:48:38Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/7026-gryff/?do_eq_hovercard_qt_ data-mentionid_eq__qt_7026_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/7026-gryff/_qt_ rel_eq__qt__qt__gt_@gryff_lt_/a_gt_ Thank you _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ Nice to be here. Yeah_co_ the .babylon works in the sandbox_co_ I did not mention that in the question. Fixed the exporteer version too_co_ never noticed that!\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/?do_eq_hovercard_qt_ data-mentionid_eq__qt_8492_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/_qt_ rel_eq__qt__qt__gt_@JCPalmer_lt_/a_gt_ That was very clear_co_ it fixed the issue. Thanks a ton!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"8Observer8","Date":"2017-06-01T14:09:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_176072_qt_ data-ipsquote-contentid_eq__qt_30690_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1496070825_qt_ data-ipsquote-userid_eq__qt_8492_qt_ data-ipsquote-username_eq__qt_JCPalmer_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tOn 2017-5-29 at 6_dd_13 PM_co_ JCPalmer said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tDo not call basicScene.runRenderLoop() immediately after instancing your class.  SceneLoader is run mostly in an async browser thread.  The camera will not have been created yet.  You need to either call it in the first call back passed or make sure you wait first.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tThank you! You solved a problem that is in the book _lt_a href_eq__qt_https_dd_//www.packtpub.com/game-development/babylonjs-essentials_qt_ rel_eq__qt_external nofollow_qt__gt_Babylon.js Essentials_lt_/a_gt_ in Chapter3 folder_dd_ _lt_a href_eq__qt_https_dd_//www.packtpub.com/code_download/23491_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.packtpub.com/code_download/23491_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis is the original code from Chapter 3 folder_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tloading.ts\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_/// &lt_sm_reference path_eq__qt_babylon.d.ts_qt_ /&gt_sm_\n\nmodule LOADING {\n\texport class LoadScene {\n\t\t/*\n\t\t* Public members\n\t\t*/\n\t\t\n\t\t/*\n\t\t* Private members\n\t\t*/\n\t\tprivate _canvas_dd_ HTMLCanvasElement_sm_\n\t\tprivate _engine_dd_ BABYLON.Engine_sm_\n\t\tprivate _scene_dd_ BABYLON.Scene_sm_\n\t\t\n\t\tconstructor(canvas_dd_ HTMLCanvasElement) {\n\t\t\t// Engine\n\t\t\tthis._engine _eq_ new BABYLON.Engine(canvas)_sm_\n\t\t\t\n\t\t\t// Scene\n\t\t\tthis._scene _eq_ new BABYLON.Scene(this._engine)_sm_\n\t\t\t\n\t\t\t/**\n\t\t\t* Load an exported scene\n\t\t\t* This static method contains 6 parameters\n\t\t\t* 1_dd_ the directory of the scene file\n\t\t\t* 2_dd_ the scene file name\n\t\t\t* 3_dd_ the Babylon.js engine\n\t\t\t* 4_dd_ a success callback_co_ providing the new scene created by the loader\n\t\t\t* 5_dd_ progress callback_co_ empty as default (can be null)\n\t\t\t* 6_dd_ error callback_co_ providing the new scene created by the loader \n\t\t\t*/\n\t\t\tBABYLON.SceneLoader.Load(_qt_./_qt__co_ _qt_awesome_scene.babylon_qt__co_ this._engine_co_\n\t\t\t(scene_dd_ BABYLON.Scene) _eq_&gt_sm_ { // Success calblack\n\t\t\t\tthis._scene _eq_ scene_sm_\n\t\t\t\t\n\t\t\t\t// We can now access the scene.meshes array etc.\n\t\t\t\t// Decal the meshes to 10 units on X\n\t\t\t\tfor (var i_eq_0_sm_ i &lt_sm_ this._scene.meshes.length_sm_ i++) {\n\t\t\t\t\tthis._scene.meshes[i].position.addInPlace(new BABYLON.Vector3(10_co_ 0_co_ 0))_sm_\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// Just append the same scene \n\t\t\t\tthis._appendScene()_sm_\n\t\t\t\t\n\t\t\t}_co_ () _eq_&gt_sm_ { // Progress callback\n\t\t\t\t// Do something with your web page _dd_)\n\t\t\t}_co_ (scene_dd_ BABYLON.Scene) _eq_&gt_sm_ { // Error callback\n\t\t\t\t\n\t\t\t})_sm_\n\n\t\t}\n\t\t\n\t\t/**\n\t\t* Runs the engine render loop\n\t\t*/\n\t\tpublic runRenderLoop()_dd_ void {\n\t\t\tthis._engine.runRenderLoop(() _eq_&gt_sm_ {\n\t\t\t\tthis._scene.render()_sm_\n\t\t\t})_sm_\n\t\t}\n\t\t\n\t\t/**\n\t\t* This method appends new scene with the already existing scene\n\t\t* Here_co_ we are appending the same scene at its original position\n\t\t*/\n\t\tprivate _appendScene()_dd_ void {\n\t\t\tBABYLON.SceneLoader.Append(_qt_./_qt__co_ _qt_awesome_scene.babylon_qt__co_ this._scene_co_ (scene_dd_ BABYLON.Scene) _eq_&gt_sm_ {\n\t\t\t\t// Do something you want\n\t\t\t}_co_ () _eq_&gt_sm_ {\n\t\t\t\t// Progress\n\t\t\t}_co_ (scene_dd_ BABYLON.Scene) _eq_&gt_sm_ {\n\t\t\t\t// Error\n\t\t\t})_sm_\n\t\t}\n\t\t\n\t\t/**\n\t\t* Import the skull mesh (available in the Babylon.js examples)\n\t\t* This methods imports meshes and only meshes.\n\t\t*/\n\t\tprivate _importMesh()_dd_ void {\n\t\t\tBABYLON.SceneLoader.ImportMesh(_qt__qt__co_ _qt_./_qt__co_ _qt_skull.babylon_qt__co_ this._scene_co_\n\t\t\t(meshes_co_ particles_co_ skeletons) _eq_&gt_sm_ { // Success callback\n\t\t\t\t// Here_co_ meshes contains only one mesh_dd_ the skull (meshes[0])\n\t\t\t\t// Particles array is empty\n\t\t\t\t// skeletons array is empty\n\t\t\t\t\n\t\t\t}_co_ () _eq_&gt_sm_ { // Progress callback\n\t\t\t\t\n\t\t\t}_co_ (scene_dd_ BABYLON.Scene_co_ e_dd_ any) _eq_&gt_sm_ {\n\t\t\t\t// Do something\n\t\t\t\tconsole.log(e.message)_sm_\n\t\t\t})_sm_\n\t\t}\n\t}\n\t\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2017-06-01T14:16:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tmaybe you need to notify packpub.  They sort of fix their code by re-assigning the scene member in the callback_co_ but first instancing is unnecessary.  Append() is a newer function.  It helps fix scoping issues &amp_sm_ multiple copies of scene that were common problems.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]