[{"Owner":"fenomas","Date":"2017-04-18T08:08:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWhen I invoke _qt_scene.debugLayer.show()_qt__co_ using the current nightly BJS builds_co_ as soon as the inspector bundle loads and runs I get an error like_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_Exception_dd_ ReferenceError_dd_ __extends is not defined at \nhttp_dd_//www.babylonjs.com/babylon.inspector.bundle.js_dd_408_dd_12893 at INSPECTOR \n(http_dd_//www.babylonjs.com/babylon.inspector.bundle.js_dd_408_dd_13544) at Object.&lt_sm_anonymous&gt_sm_ \n(http_dd_//www.babylonjs.com/babylon.inspector.bundle.js_dd_408_dd_13575) at __webpack_require__ \n(http_dd_//www.babylonjs.com/babylon.inspector.bundle.js_dd_21_dd_30) at Object.&lt_sm_anonymous&gt_sm_ \n(http_dd_//www.babylonjs.com/babylon.inspector.bundle.js_dd_49_dd_19) at __webpack_require__ \n(http_dd_//www.babylonjs.com/babylon.inspector.bundle.js_dd_21_dd_30) at \nhttp_dd_//www.babylonjs.com/babylon.inspector.bundle.js_dd_41_dd_18 at \nhttp_dd_//www.babylonjs.com/babylon.inspector.bundle.js_dd_44_dd_10_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tIf I grab the inspector bundle file out of the github _qt_/dist_qt_ folder and src it in my html locally I get the same error.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAm I missing something?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tEdit_dd_ tagging _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5218-temechon/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5218_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5218-temechon/_qt_ rel_eq__qt__qt__gt_@Temechon_lt_/a_gt_  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Temechon","Date":"2017-04-18T08:38:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi fenomas_co_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI can_t_t reproduce in my local fork... However_co_ I compiled a new version_co_ it_t_s ready here_dd_ _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/tree/master/dist/preview%20release/inspector_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/tree/master/dist/preview release/inspector_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCan you try with this one ? Let me know if that doesn_t_t work.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks !\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"fenomas","Date":"2017-04-19T04:23:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5218-temechon/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5218_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5218-temechon/_qt_ rel_eq__qt__qt__gt_@Temechon_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tGah. I _lt_em_gt_think_lt_/em_gt_ I know what_t_s going on but I don_t_t have a typescript environment set up to confirm_co_ and it_t_s really hairy to track down.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI *think* what_t_s happening is_dd_ _lt_strong_gt___extends_lt_/strong_gt__co_ and some other helper functions_co_ are defined in boilerplate that_t_s used by typescript projects_co_ and when people use webpack to bundle several typescript projects together they use some kind of configuration that prevents the boilerplate from being defined more than once.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn your case_co_ when you build a project that requires in the inspector bundle as a dependency_co_ your root project is probably typescript_co_ so the boilerplate gets included at the beginning somewhere. In my case_co_ my base project is plain Javascript_co_ and I pull in both Babylon and the Inspector bundle as dependencies. The Babylon bundle includes the __require boilerplate_co_ but the root project and the inspector bundle don_t_t - so the inspector bundle throws.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf I open up my Babylon bundle hack in the line_dd_ _lt_strong_gt_window.__extends _eq_ __extends_lt_/strong_gt_ somewhere appropriate_co_ then the inspector bundle now finds the helper function and the bug goes away.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI don_t_t know what the ideal fix is here - I don_t_t know how typescript is meant to be bundled and the whole thing is making my head hurt. It might be simplest to just change the inspector_t_s bundle config to include the boilerplate - it_t_s not that much file size_co_ and production code shouldn_t_t need to load the inspector anyway.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tWith all that said_co_ now that the code runs_co_ trying to use popup mode still throws_dd_\n_lt_/p_gt_\n\n_lt_div style_eq__qt_color_dd_#000000_sm__qt__gt_\n\t_lt_div_gt_\n\t\t_lt_pre_gt_\n_lt_code_gt_scene.debugLayer.show({ popup_dd_ true })\n\nException_dd_ \nTypeError_dd_ Cannot read property _t_document_t_ of null at t.openPopup \n(http_dd_//www.babylonjs.com/babylon.inspector.bundle.js_dd_408_dd_4811) at new t \n(http_dd_//www.babylonjs.com/babylon.inspector.bundle.js_dd_408_dd_315) at DebugLayer._createInspector \n(webpack_dd_///./src/external/babylon.js?_dd_61456_dd_35) at HTMLScriptElement.script.onload \n(webpack_dd_///./src/external/babylon.js?_dd_6478_dd_21)_lt_/code_gt__lt_/pre_gt_\n\t_lt_/div_gt_\n_lt_/div_gt_\n\n_lt_p_gt_\n\tI don_t_t know if that_t_s related to the packing setup or not.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAll this effort to get an FPS meter _lt_img alt_eq__qt__dd_(_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ title_eq__qt__dd_(_qt_ width_eq__qt_20_qt_ /_gt_ \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Hersir","Date":"2017-05-03T06:45:38Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tI have the same error.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Hersir","Date":"2017-05-03T06:48:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tCould be related to this _lt_a href_eq__qt_https_dd_//www.npmjs.com/package/typescript-extends_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.npmjs.com/package/typescript-extends_lt_/a_gt_\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Hersir","Date":"2017-05-03T07:20:41Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5218-temechon/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5218_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5218-temechon/_qt_ rel_eq__qt__qt__gt_@Temechon_lt_/a_gt_ I tried to add __extend manually to webpack but looks like it will not help for loaded files. (_lt_a href_eq__qt_https_dd_//webpack.js.org/guides/shimming/_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//webpack.js.org/guides/shimming/_lt_/a_gt__co_ _lt_a href_eq__qt_https_dd_//www.npmjs.com/package/typescript-extends_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.npmjs.com/package/typescript-extends_lt_/a_gt_)\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"fenomas","Date":"2017-07-20T05:41:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5218-temechon/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5218_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5218-temechon/_qt_ rel_eq__qt__qt__gt_@Temechon_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDid you ever get a chance to look at this? The inspector layer is still broken for anyone building JS projects with bundlers like webpack.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTo recap the problem_dd_ the inspector bundle calls a function called _qt___extends_qt_ which isn_t_t defined anywhere in the bundle. The babylon library bundles (babylon.max.js_co_ etc.) define _qt___extends_qt_ as a local variable_co_ so if you load them directly into the HTML page they pollute global scope with the __extends function_co_ and the inspector doesn_t_t break. However if you require in Babylon.js from a bundler_co_ the Babylon code runs inside a closure_co_ global scope doesn_t_t get polluted_co_ and the inspector code crashes trying to call undefined().\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTo recap the fix_dd_ I believe it has to do with how the inspector bundle is compiled. There should be a typescript flag that sets whether or not to include typescript boilerplate (including __extends) into the bundle.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Temechon","Date":"2017-07-27T08:05:38Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi _lt_span_gt__lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/12925-fenomas/?do_eq_hovercard_qt_ data-mentionid_eq__qt_12925_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/12925-fenomas/_qt_ rel_eq__qt__qt__gt_@fenomas_lt_/a_gt__co_  I don_t_t use babylonjs with npm_co_ so I can_t_t reproduce your issue. _lt_br /_gt_\n\tI bundled the _t_extends_t_ functions in the inspector itself as you told me to_co_ can you see if that fixes your problem ? _lt_s_gt_It_t_s on my fork _dd_ _lt_a href_eq__qt_https_dd_//github.com/Temechon/Babylon.js/blob/master/dist/preview%20release/inspector/babylon.inspector.bundle.js_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/Temechon/Babylon.js/blob/master/dist/preview release/inspector/babylon.inspector.bundle.js_lt_/a_gt_ (not merged yet with the main repo_co_ I want your confirmation first).  _lt_/s_gt__lt_/span_gt__lt_span_gt_Erf didn_t_t update my fork first _dd_/ I_t_ll be back in few minutes!_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_Should be good now _dd_ _lt_a href_eq__qt_https_dd_//github.com/Temechon/Babylon.js/blob/master/dist/preview%20release/inspector/babylon.inspector.bundle.js_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/Temechon/Babylon.js/blob/master/dist/preview release/inspector/babylon.inspector.bundle.js_lt_/a_gt__lt_br /_gt__lt_br /_gt_\n\tThank you man !_lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"fenomas","Date":"2017-08-14T10:01:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHey_co_ sorry for the late reply _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5218-temechon/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5218_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5218-temechon/_qt_ rel_eq__qt__qt__gt_@Temechon_lt_/a_gt__co_ but I tried this out and it seems to work.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]