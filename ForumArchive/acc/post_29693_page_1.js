[{"Owner":"brianzinn","Date":"2017-04-11T18:38:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tLatest NPM for BabylonJS 3.0 alpha includes Canvas2D!  I am having difficulty importing Canvas2D into my project.  I have no troubles at all with regular BabylonJS only with importing Canvas2D.\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_// I can import the main babylonJS in a variety of ways and they all work.\n// explicit imports\nimport { Sound_co_ Mesh_co_ ShadowGenerator_co_ ...  } from _t_babylonjs_t_\n\n// default and named\nimport BABYLON_co_ { Sound_co_ Mesh_co_ ShadowGenerator_co_ ...  } from _t_babylonjs_t_\n\n// tried also named default only and *\n_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tAfter that I am importing the Canvas2D and have tried various ways.\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_// named default import\nimport Canvas2D from _t_babylonjs/babylon.canvas2d_t_\n// as side-effect\nimport from _t_babylonjs/babylon.canvas2d_t_\n// explicit imports\nimport { ScreenSpaceCanvas2D } from _t_babylonjs/babylon.canvas2d_t__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tThe error I am getting is _qt_TypeError_dd_ Cannot read property _t_Effect_t_ of undefined_qt_.  So_co_ basically line 1 of babylon.canvas2d_co_ where BABYLON is undefined.  Removing those will fail later (ie_dd_ BABYLON.Vector2 being undefined).  I was reading on the ES6 spec that there is no guarantee of ordering only that the imports will all be run before code is executed.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI looked through other NPMs where I can import add on modules separately and they have extra declarations in package.json (ie_dd_ _qt_jsnext_dd_main_qt__dd_ _qt_index_qt__co_ _qt_module_qt__dd_ index_qt_) and they are exporting explicitly in index.js the other modules from the main project.  I tried that and a few other things_co_ but am unable to get Canvas2D to import unfortunately.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf anybody has successfully imported BabylonJS without creating their own bundle any tips would be appreciated.  I_t_m using webpack and babel (_lt_a href_eq__qt_https_dd_//babeljs.io/_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//babeljs.io/_lt_/a_gt_).\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-04-11T20:29:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tCan you try to add this at the end of Canvas2d.js_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_pre style_eq__qt_color_dd_#000000_sm__qt__gt_\nif (((typeof window !_eq_ _qt_undefined_qt_ &amp_sm_&amp_sm_ window.module) || (typeof module !_eq_ _qt_undefined_qt_)) &amp_sm_&amp_sm_ typeof module.exports !_eq_ _qt_undefined_qt_) {\n    module.exports _eq_ BABYLON.Canvas2D_sm_\n}_sm__lt_/pre_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"brianzinn","Date":"2017-04-12T04:17:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI did see that mentioned elsewhere in the forum and had already tried it.  Adding that to the end of Canvas2d_co_ I was still unable to get it working on npm 3.0 version.  Doesn_t_t seem to matter how I import that everything is undefined. Thanks for the tip.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_ll probably come back to this when my game is further along_co_ since it feels like my wheels are spinning trying to get Canvas2D going.  Maybe by then somebody will have figured it out or I can invest the time in getting the canvas to export as a PR.  Cheers. _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-04-12T17:13:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tI_t_m interested by this as I would like to add what is missing to make it works _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"thrice","Date":"2017-06-02T23:25:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI was getting bit hard by this issue the other night_co_ I eventually got it resolved by_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t1. Not exposing BABYLON on the window. It seems like when I was exposing babylon on the window in my webpack config_co_ i.e.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t` {test_dd_ /babylonjs\\/babylon.js$/_co_ loaders_dd_ [_t_expose?BABYLON_t_]}`\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt was loading a different instance of the BABYLON library_co_ from when I would\n_lt_/p_gt_\n\n_lt_p_gt_\n\t`import BABYLON from _t_babylon_t__sm_`\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- It may have been related to the fact that I am building an angular-babylon wrapper_co_ which I had partially abstracted into a package_co_ which was including BABYLON as a dependency. - Or it was just_co_ exposing BABYLON on the window was causing it to be duplicated_co_ not 100% sure_co_ but_co_ here are some steps you can try to fix\n_lt_/p_gt_\n\n_lt_p_gt_\n\t1. try removing expose if you are exposing BABYLON in your config_co_ and add this instead_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t```\n_lt_/p_gt_\n\n_lt_p_gt_\n\t        {test_dd_ /babylonjs\\/babylon.js$/_co_ loaders_dd_ [_t_exports?BABYLON_t_]}_co__lt_br /_gt_\n\t        {test_dd_ /babylonjs\\/babylon.canvas2d.js$/_co_ loaders_dd_ [ _t_imports?BABYLON_eq_babylonjs/babylon_t_]}_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t```\n_lt_/p_gt_\n\n_lt_p_gt_\n\t(the above is exposing the babylon library specifically to the canvas 2d lib_co_ when it encounters the import _qt_babylonjs/babylon.canvas2d_qt_ statement below)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t2.  make sure you are not exposing BABYLON on the window.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t3. I replaced all occurrences of\n_lt_/p_gt_\n\n_lt_p_gt_\n\t```import BABYLON from _t_babylonjs_t__sm_```\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWith_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t```import BABYLON from _t_babylonjs/babylon_t__sm_```\n_lt_/p_gt_\n\n_lt_p_gt_\n\t(Not 100% sure the above is actually necessary_co_ but burned entire night trying to fix and eventually got it working so didn_t_t care to ask further questions)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t4. in your main js_co_ or dependencies importing file_co_ make sure to import babylon lib/Canvas2D once_co_ i.e.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t```\n_lt_/p_gt_\n\n_lt_p_gt_\n\timport _qt_babylonjs/babylon_qt__sm__lt_br /_gt_\n\timport _qt_babylonjs/babylon.canvas2d_qt__sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t```\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"thrice","Date":"2017-06-02T23:28:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSorry forgot code fences not supported_co_ ^ syntax would be nice for parity with Github _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tEasier to read version_co_ too lazy to reformat here\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//gist.github.com/jasonayre/69e71e2c1b7cafe8333f9b68906c4671_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//gist.github.com/jasonayre/69e71e2c1b7cafe8333f9b68906c4671_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]