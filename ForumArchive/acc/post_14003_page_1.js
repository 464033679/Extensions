[{"Owner":"darcome","Date":"2015-04-22T16:00:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hello everyone!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I hope_co_ a simple question!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_How can I _qt_reset_qt_ the rotations applied to a mesh_co_ but keep the new _qt_position_qt_?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Or in other words_co_ how to reset the axis but keep the rotations?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_With reset I mean back to the initial situation where as stated in a tutorial from the wiki_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__qt_z-axis is in front of you_co_ y-axis on the top and x-axis on the right._qt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_or even better_co_ be able to assign new axis (just in case i may need it)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I hope I_t_ve been clear!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thank you very much in advance!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2015-04-22T18:34:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I assume you don_t_t mean_lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_mesh.rotation _eq_ BABYLON.Vector3.Zero()_lt_/pre_gt__lt_p_gt_I would need an explanation or a playground demo to understand..._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Kilombo","Date":"2015-04-22T18:57:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Do you want to keep the mesh rotated in the world and trick the system so that he thinks that those are in fact 0_co_0_co_0 ? _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"darcome","Date":"2015-04-22T19:01:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Let_t_s see if this can help_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#MHZVZ_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#MHZVZ_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_in this PG I_t_ve created a cylinder_co_ but I didn_t_t like the way it is created_co_ because I wanted the longest part lying on the ground_co_ so I made some rotations to achieve it._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_After_co_ I created a torus_co_ that I want as a children of the box. Well_co_ if I do it_co_ the rotations applied to the box are applied to the torus..._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_So_co_ I_t_d like to know if there is a way to reset the rotations of the box but keeping it on the ground_co_ because that way the torus too would be lying on the ground_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I know that there may be other ways to do it_co_ but this is just an example of what I mean_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thank you in advance for your precious help_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2015-04-22T19:31:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_The only way (That I see_co_ at least _dd_-)) to do that is to actually update the positions and normals of the object and _qt_reset_qt_ its properties._lt_/p_gt__lt_p_gt_This is a quick-and-dirty solution_co_ I guess this is what you were looking for?_lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#MHZVZ%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#MHZVZ#1_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"darcome","Date":"2015-04-22T19:38:44Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Yeah_co_ that is definitely what I need!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_And alone I would never be able to find that solution!!!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_So_co_ RaananW_co_ thank you very much_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Do you think there could be a faster solution?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Do you think it could be useful to create a function to add to BabylonJS?_lt_/p_gt__lt_p_gt_Something like Mesh.resetAxis ()?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2015-04-22T19:51:34Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Glad I could help!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_This function actually exists! VertexData.transform (_lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/Babylon/Mesh/babylon.mesh.vertexData.ts#L131_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/Babylon/Mesh/babylon.mesh.vertexData.ts#L131_lt_/a_gt_). The only problem is... I didn_t_t find a way to reach the geometry_t_s vertex data object  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ If you find a way_co_ you can use this function. But both do the same thing.  _lt_/p_gt__lt_p_gt_Maybe I will try finding a way to actually store a reference to the vertex data object when creating a geometry. Must ask DK what he thinks about it._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Don_t_t forget - updating the mesh_t_s Vertex Data has its side effects. For example_co_ and instance or cloned object you created using this mesh will also have those new position data. _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"fenomas","Date":"2015-04-23T08:44:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Darcome_co_ you get how rotations work right? Inside the mesh there are a bunch of (x/y/z) positions for each vertex_co_ and for rendering they get multiplied by the mesh_t_s transform_co_ then by the mesh_t_s parent_t_s transform_co_ then the grandparent_t_s_co_ then the world transform_co_ camera_co_ viewport_co_ etc. So the best way to dynamically do stuff with rotations is usually to work with that system - adding or removing parents_co_ or copying a transform from the parent to the child_co_ etc._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_So the method Raanan showed amounts to going in and replacing the mesh_t_s data with different (rotated) data. Which is sometimes what you want_co_ but probably not every frame_co_ and it_t_s naturally going to be slower for larger meshes. But depending on your scene_t_s real needs you can probably achieve what you want just with parenting etc. For example_co_ in the PG example the box and torus could be given a common parent container_co_ allowing them to be rotated together without the torus inheriting the box_t_s transformation._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Or alternately_co_ if you want to parent the cylinder to the box but keep its old rotation you could give it a rotation that cancels out the box_t_s rotation_dd__lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#MHZVZ%232_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#MHZVZ#2_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-04-23T17:37:04Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Alternatively_co_ you can use bakeTransformIntoVertices_dd__lt_/p_gt__lt_p_gt__lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/Babylon/Mesh/babylon.mesh.ts#L856_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/Babylon/Mesh/babylon.mesh.ts#L856_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"darcome","Date":"2015-04-23T19:05:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Just to be sure I_t_m doing the right thing_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_for example_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_mesh.rotate (BABYLON.Axis.X_co_ \t\tMath.PI / 2_co_ \t\tBABYLON.Space.LOCAL)_sm_mesh.rotate (BABYLON.Axis.Y_co_ \t\tMath.PI / 4_co_ \t\tBABYLON.Space.LOCAL)_sm_\t\tmesh.bakeTransformIntoVertices (mesh.getWorldMatrix (true))_sm__lt_/pre_gt__lt_p_gt_I tried it and the results are what I expect_co_ but you never know... better have an answer from the master _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"darcome","Date":"2015-04-23T19:15:47Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Well_co_ I made a mistake..._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_here is the correct code_co_ but I don_t_t know if it is optimal_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_mesh.rotate (BABYLON.Axis.X_co_ Math.PI / 2_co_ BABYLON.Space.LOCAL)_sm_mesh.rotate (BABYLON.Axis.Y_co_ Math.PI / 4_co_ BABYLON.Space.LOCAL)_sm_\t\tvar m _eq_ that.carBox.computeWorldMatrix (true)_sm_\t\tmesh.rotate (BABYLON.Axis.Y_co_ -(Math.PI / 4)_co_ BABYLON.Space.LOCAL)_sm_mesh.rotate (BABYLON.Axis.X_co_ -(Math.PI / 2)_co_ BABYLON.Space.LOCAL)_sm_mesh.bakeTransformIntoVertices (m)_sm__lt_/pre_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-04-24T20:49:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Perfect!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]