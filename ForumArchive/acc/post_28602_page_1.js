[{"Owner":"inteja","Date":"2017-02-21T22:39:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_m still a relative newbie with BJS and typescript. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_ve managed to get observers working in my TS class but I found that I couldn_t_t use _qt_this_qt_ instance references within the callback function e.g.\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_class MyMesh extends BABYLON.Mesh {\n\n  private myMeshChild_dd_BABYLON.Mesh_sm_\n\n  constructor() {\n\n    // Create child mesh and add some animation etc.\n\n    this.myMeshChild.onBeforeRenderObservable.add(function () {\n      console.log(this.myMeshChild.rotation)_sm_\n    }\n  }\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tThis compiles fine but results in runtime error _qt_Cannot read property _t_rotation_t_ of _t_undefined_t__qt_.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut if I instead assign to a local variable first_co_ then it works_co_ e.g.\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_class MyMesh extends BABYLON.Mesh {\n\n  private myMeshChild_dd_BABYLON.Mesh_sm_\n\n  constructor() {\n\n    // Create child mesh and add some animation etc.\n\n    let myMeshChild _eq_ this.myMeshChild_sm_\n    this.myMeshChild.onBeforeRenderObservable.add(function () {\n      console.log(myMeshChild.rotation)_sm_\n    }\n  }\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI feel like I_t_m using Observables all wrong in Typescript. I_t_m wondering what_t_s the best way to pass variables to the callback function from within my TS classes? Also I feel like if I add an observer to a mesh then the callback function should be aware of the context i.e. the mesh object from which it_t_s called and therefore I shouldn_t_t have to also assign objects to local variables before I can refer to them in the function_co_ but maybe I_t_m expecting too much.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAny pointers on using Observables correctly from within Typescript classes would be most appreciated.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/18979-nockawa/?do_eq_hovercard_qt_ data-mentionid_eq__qt_18979_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/18979-nockawa/_qt_ rel_eq__qt__qt__gt_@Nockawa_lt_/a_gt_ _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-02-21T23:06:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello you were pretty close _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tActually you need to use arrow functions_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_class MyMesh extends BABYLON.Mesh {\n\n  private myMeshChild_dd_BABYLON.Mesh_sm_\n\n  constructor() {\n\n    // Create child mesh and add some animation etc.\n\n    this.myMeshChild.onBeforeRenderObservable.add(() _eq_&gt_sm_ {\n      console.log(this.myMeshChild.rotation)_sm_\n    })_sm_\n  }\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nockawa","Date":"2017-02-21T23:28:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tUsing the arrow function will guaranty you that you can use _qt_this_qt_ inside the function_co_ otherwise _qt_this_qt_ is the window object_co_ which is not what you expect/want.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"inteja","Date":"2017-02-22T00:08:50Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tAh. Thanks so much!\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]