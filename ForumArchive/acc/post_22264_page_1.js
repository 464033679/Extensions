[{"Owner":"ozRocker","Date":"2016-04-30T08:25:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_ve successfully cloned a mesh and its skeleton with this code_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_this.mesh _eq_ Assets.avatar.clone(JSON.idx)_sm_\nthis.mesh.skeleton _eq_ Assets.avatar.skeleton.clone(JSON.idx)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tI then run an animation like this_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_this.mesh.skeleton.beginAnimation(_qt_Idle_qt__co_true_co_1)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tThis works well on Windows browsers.  I can have 10 people moving about with their own separate animations.  Some running_co_ some walking and some idle.  However_co_ this doesn_t_t work on iPhone and iPad.  If I animate one of the meshes then all of them will activate the same animation.  If one is running then ALL of them will be running.  Its as if they are all referencing the same animation.  Does anyone know how I can get this to work on iPhone?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ozRocker","Date":"2016-04-30T14:16:03Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSo I checked the console on the iPhone and I got these 3 errors.  Would that have something to do with the funny animation cloning?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_BJS - [00_dd_06_dd_48]_dd_ Unable to compile effect with current defines. Trying next fallback.\n_ErrorEnabledbabylon.2.3.js_dd_2_dd_14458\n_prepareEffectbabylon.2.3.js_dd_11_dd_23999\n(anonymous function)babylon.2.3.js_dd_11_dd_21243\n_loadFragmentShaderbabylon.2.3.js_dd_11_dd_22517\n(anonymous function)babylon.2.3.js_dd_11_dd_21212\n_loadVertexShaderbabylon.2.3.js_dd_11_dd_22187\ntbabylon.2.3.js_dd_11_dd_21176\ncreateEffectbabylon.2.3.js_dd_3_dd_9525\nisReadybabylon.2.3.js_dd_12_dd_14980\nisReadybabylon.2.3.js_dd_8_dd_5960\n_checkIsReadybabylon.2.3.js_dd_8_dd_7032\n(anonymous function)babylon.2.3.js_dd_8_dd_7227\n\nBJS - [00_dd_06_dd_48]_dd_ Vertex shader_dd_default\n_ErrorEnabledbabylon.2.3.js_dd_2_dd_14458\n_dumpShadersNamebabylon.2.3.js_dd_11_dd_23078\n_prepareEffectbabylon.2.3.js_dd_11_dd_24093\n(anonymous function)babylon.2.3.js_dd_11_dd_21243\n_loadFragmentShaderbabylon.2.3.js_dd_11_dd_22517\n(anonymous function)babylon.2.3.js_dd_11_dd_21212\n_loadVertexShaderbabylon.2.3.js_dd_11_dd_22187\ntbabylon.2.3.js_dd_11_dd_21176\ncreateEffectbabylon.2.3.js_dd_3_dd_9525\nisReadybabylon.2.3.js_dd_12_dd_14980\nisReadybabylon.2.3.js_dd_8_dd_5960\n_checkIsReadybabylon.2.3.js_dd_8_dd_7032\n(anonymous function)babylon.2.3.js_dd_8_dd_7227\n\nBJS - [00_dd_06_dd_48]_dd_ Fragment shader_dd_default\n_ErrorEnabledbabylon.2.3.js_dd_2_dd_14458\n_dumpShadersNamebabylon.2.3.js_dd_11_dd_23120\n_prepareEffectbabylon.2.3.js_dd_11_dd_24093\n(anonymous function)babylon.2.3.js_dd_11_dd_21243\n_loadFragmentShaderbabylon.2.3.js_dd_11_dd_22517\n(anonymous function)babylon.2.3.js_dd_11_dd_21212\n_loadVertexShaderbabylon.2.3.js_dd_11_dd_22187\ntbabylon.2.3.js_dd_11_dd_21176\ncreateEffectbabylon.2.3.js_dd_3_dd_9525\nisReadybabylon.2.3.js_dd_12_dd_14980\nisReadybabylon.2.3.js_dd_8_dd_5960\n_checkIsReadybabylon.2.3.js_dd_8_dd_7032\n(anonymous function)babylon.2.3.js_dd_8_dd_7227\n_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-04-30T15:40:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSo it seems that babylon.js cannot compile exactly the shaders that you want and maybe falling back to software bones.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCan you try to turn software bones on and check how it looks on your PC?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ozRocker","Date":"2016-04-30T16:37:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_126895_qt_ data-ipsquote-contentid_eq__qt_22264_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1462030820_qt_ data-ipsquote-userid_eq__qt_4442_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t56 minutes ago_co_ Deltakosh said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tCan you try to turn software bones on and check how it looks on your PC?\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tyeh_co_ if I turn on software bones on the PC then they are all sharing animation.  so I guess with software bones you can_t_t clone animations?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-04-30T19:30:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tHum...this should work..It is more a bug _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ do you mind reproducing it on the PG? I_t_ll fix it for you\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ozRocker","Date":"2016-05-01T02:21:04Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_126912_qt_ data-ipsquote-contentid_eq__qt_22264_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1462044630_qt_ data-ipsquote-userid_eq__qt_4442_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t6 hours ago_co_ Deltakosh said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tHum...this should work..It is more a bug _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ do you mind reproducing it on the PG? I_t_ll fix it for you\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tOk_co_ here it is in playground _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#GTHTR_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#GTHTR_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-05-01T02:36:31Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOk it is not a bug actually\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhen you clone a mesh_co_ the inner geometry is shared and not copied (for performance reason).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn your case_co_ you have to copy the geometry and not clone it in order to enable software skinning (where the GPU will update the geometry)_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#GTHTR%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#GTHTR#1_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ozRocker","Date":"2016-05-01T02:43:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tok_co_ thanks man!  Is it better for performance if I just clone and use shaders?  I could do this by simply removing bones from the hands.  This is the source of the errors in iOS.  I have too many bones for my puny iPhone RAM\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2016-05-01T15:12:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\toz_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYour assumptions about iPhone_t_s memory are not really correct.  The problem is WebGL 1.0 has a minimum required # of Vector4 uniforms of 128.  Each bone requires 4 of these.  Desktop implementations typically exceed this minimum_co_ but IOS &amp_sm_ other mobile platforms do not.  That means that absolute max # of bones for WebGL 1.0 on mobile platforms is 128 / 4 _eq_ 32.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn practice_co_ you also need uniforms for other things_co_ so depending on other parts of your scene_co_ the best you can get is about 22.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAs of yesterday_co_ you can set the maximum # of lights on your materials.  Prior to this_co_ it was fixed at 4.  If you have a single light that moves with the camera_co_ try _lt_span style_eq__qt_color_dd_#0000FF_sm__qt__gt__lt_u_gt__lt_strong_gt_material.maxSimultaneousLights _eq_ 1_sm__lt_/strong_gt__lt_/u_gt__lt_/span_gt_  I do not know how many uniforms you will pick up.  It might depend on the light type.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn WebGL 2.0_co_ based on OpenGL ES3_co_ you can now have vertex uniform buffers (in addition to uniforms_co_ I think).  Looks like the max size of one will hold 32 bones_co_ but you can have up to 12 total.  Using buffers will eliminate many bone limitations.  Having a buffer also cuts down on the number of calls to pass uniforms in multiple ways_dd_ \n_lt_/p_gt_\n\n_lt_ul_gt__lt_li_gt_\n\t\tObviously_co_ 1 call for 32 bones is a 32X decrease.\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\tIf these buffers can be shared across meshes (think_dd_  body_co_ hair_co_ teeth_co_ tongue_co_ eyes_co_ clothes_co_ shoes).  This would result in an additional 6X decrease.\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\tVertex shaders require bone info_co_ regardless of no movement in progress.  As buffers_co_ you only need to update them when something has changed.\n\t_lt_/li_gt_\n_lt_/ul_gt__lt_p_gt_\n\tApple supports OpenGL ES3 on processors A5 to present.  Doubt they ever increase WebGL 1.0 amounts.  Why would they?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am not sure what DK has I_t_m mind.  Maybe a hard limit of 12_co_ 32 bone skeletons per scene.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo to recap_co_ ram problem wrong_co_ api problem right_co_ drop your lights for now.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"fernfreak","Date":"2017-10-16T16:30:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_126940_qt_ data-ipsquote-contentid_eq__qt_22264_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1462070191_qt_ data-ipsquote-userid_eq__qt_4442_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tOn 5/1/2016 at 10_dd_36 AM_co_ Deltakosh said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\t_lt_span style_eq__qt_color_dd_#0000ff_sm__qt__gt_var_lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_ avatar2 _eq_ avatar1.clone()_sm__lt_/span_gt_\n\t\t_lt_/p_gt_\n\n\t\t_lt_div style_eq__qt_background-color_dd_#fffffe_sm_color_dd_#000000_sm_font-size_dd_14px_sm__qt__gt_\n\t\t\t_lt_div_gt_\n\t\t\t\t_lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_            _lt_/span_gt_\n\t\t\t_lt_/div_gt_\n\n\t\t\t_lt_div_gt_\n\t\t\t\t_lt_span style_eq__qt_color_dd_#0000ff_sm__qt__gt_var_lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_ newGeometry _eq_ avatar1.geometry.copy(_lt_/span_gt__lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt__qt_newgeom_qt__lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_)_sm_         _lt_/span_gt_\n\t\t\t_lt_/div_gt_\n\n\t\t\t_lt_div_gt_\n\t\t\t\t_lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_newGeometry.applyToMesh(avatar2)_sm__lt_/span_gt_\n\t\t\t_lt_/div_gt_\n\n\t\t\t_lt_div_gt_\n\t\t\t\t_lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_            _lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_   _lt_/span_gt_\n\t\t\t_lt_/div_gt_\n\n\t\t\t_lt_div_gt_\n\t\t\t\t_lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_avatar2.computeBonesUsingShaders _eq_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#0000ff_sm__qt__gt_false_lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt__sm__lt_/span_gt_\n\t\t\t_lt_/div_gt_\n\t\t_lt_/div_gt_\n\n\t\t_lt_p_gt_\n\t\t\t \n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI skimmed your sample (_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#GTHTR%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#GTHTR#1_lt_/a_gt_) and this was incredibly useful for getting the mesh to clone properly on mobile. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tUnfortunately_co_ once I use geometry.copy_co_ the subMesh data is lost and I am unable to apply my multi-material. (I have subMeshes[2] on the original_co_ but only subMeshes[1] on the clone) such that the textures are screwed up. _lt_br /_gt_\n\tOn the other hand_co_ if I don_t_t do the geometrycopy_co_ I am unable to have unique animations on the clones._lt_br /_gt__lt_br /_gt_\n\tIs there some way of doing geometry copy_co_ but maintaining the subMesh data? _lt_br /_gt_\n\tThanks in advance for the help! _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_br /_gt__lt_br /_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-10-16T20:10:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tyou can still save the submeshes with  var cloned _eq_ avatar2.subMeshes.slice(0)_sm_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]