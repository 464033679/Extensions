[{"Owner":"Hersir","Date":"2017-07-31T08:34:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhat is the bets way to debug errors in shaders?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have mystica error from PBR_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_Error_dd_ ERROR_dd_ 0_dd_1492_dd_ _t_glossiness_t_ _dd_ undeclared identifier\nERROR_dd_ 0_dd_1492_dd_ _t_computeHemisphericLighting_t_ _dd_ no matching overloaded function found\nERROR_dd_ 0_dd_1492_dd_ _t_assign_t_ _dd_ cannot convert from _t_const mediump float_t_ to _t_structure_t_\nERROR_dd_ 0_dd_1573_dd_ _t_computeLighting_t_ _dd_ no matching overloaded function found\nERROR_dd_ 0_dd_1573_dd_ _t_assign_t_ _dd_ cannot convert from _t_const mediump float_t_ to _t_structure_t__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tI cant really find the source of it _co_as the error shows up if I change starting camera angle _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt_ \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-07-31T18:02:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHey is it something in your own shader or in the stock one?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf the latter do you mind giving us a repro in the PG? (did you try with very latest version?)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Hersir","Date":"2017-08-01T05:35:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_ Its in new PBR material. And I am using latest version from git master branch\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2017-08-01T05:52:50Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThis is really unexpected_co_ and I unfortunately do not seem to be able to repro. what configuration of the material are you using ?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAs _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_ mentioned_co_ a Playground would be super helpful.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Hersir","Date":"2017-08-01T06:59:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/20193-sebavan/?do_eq_hovercard_qt_ data-mentionid_eq__qt_20193_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/20193-sebavan/_qt_ rel_eq__qt__qt__gt_@Sebavan_lt_/a_gt_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tMaterals_dd_ \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_{\n   customType_dd_ _qt_BABYLON.PBRMaterial_qt__co_\n   id_dd_ _qt_material-id_qt__co_\n   name_dd_ _qt_material #name_qt__co_\n   reflectivity_dd_ [0.2_co_ 0.2_co_ 0.2]_co_\n   environmentIntensity_dd_ 0.7_co_\n   microSurface_dd_ 0.7_co_\n   albedo_dd_ [1_co_ 1_co_ 0.94]_co_\n   directIntensity_dd_ 0.7_co_\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_pre_gt_\n_lt_code_gt_{\n    name_dd_ _qt_material #name2_qt__co_\n    id_dd_ _qt_material-id2_qt__co_\n    customType_dd_ _qt_BABYLON.PBRMaterial_qt__co_\n    albedo_dd_ [0.5_co_ 0.5_co_ 0.5]_co_\n    reflection_dd_ [0.7_co_ 0.7_co_ 0.7]_co_\n    environmentIntensity_dd_ 0.9_co_\n    useRoughnessFromMetallicTextureAlpha_dd_ false_co_\n    useRoughnessFromMetallicTextureGreen_dd_ true_co_\n    useMetallnessFromMetallicTextureBlue_dd_ true_co_\n    metallic_dd_ 1_co_\n    roughness_dd_ 0.4_co_\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_pre_gt_\n_lt_code_gt_scene.environmentTexture _eq_ CubeTexture.CreateFromPrefilteredData(\n    _qt_environment.dds_qt__co_ scene\n)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tThey are part of babylon file that is loaded_co_  I use AssetManager to load scene. Only thing is that these material are part of MultiMaterial.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCould it be related to fact that lights and cameras are created after scene is loaded (onFinish for AssetManager). I get this error every time if initial camera position is away from objects (objects are not in camera viewport) and then I rotate camera to see them_co_ (all elements with these materials are not visible).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am still trying to replicate this scenario in Playground.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Hersir","Date":"2017-08-01T11:46:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_ _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/20193-sebavan/?do_eq_hovercard_qt_ data-mentionid_eq__qt_20193_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/20193-sebavan/_qt_ rel_eq__qt__qt__gt_@Sebavan_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFinally managed to locate source of error and to make _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#FYMYFH%231_qt_ rel_eq__qt_external nofollow_qt__gt_PG_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLooks like that SceneOptimization is causing error.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn scene are 2 spheres (big in centre is created and smaller is loaded and is out of camera viewport). If you zoom out with scroller_co_ error about PBR will appear and small ball will not be visible.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf camera radius is set to 500 (small ball is in camera viewport) at the beginning small ball will be visible and no error is thrown. _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#FYMYFH%232_qt_ rel_eq__qt_external nofollow_qt__gt_PG_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Hersir","Date":"2017-08-01T11:50:03Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOptimizator options are irrelevant here_co_ even without them error is thrown.\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_var optimizerOptions _eq_ new BABYLON.SceneOptimizerOptions(30_co_ 2000)_sm_\nBABYLON.SceneOptimizer.OptimizeAsync(scene_co_ optimizerOptions)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Hersir","Date":"2017-08-01T11:59:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tAnd to make it even more interesting if PBR material is at index 0 not 1 inside MultiMaterial it works without error\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Hersir","Date":"2017-08-01T12:37:04Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tAlso this error is thrown if _lt_span style_eq__qt_color_dd_#1abc9c_sm__qt__gt_scene.executeWhenReady_lt_/span_gt_ callback  is set even without scene optimisation  _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#FYMYFH%234_qt_ rel_eq__qt_external nofollow_qt__gt_PG_lt_/a_gt_\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-08-01T20:25:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI see no error on this one_dd_ _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#FYMYFH%234_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#FYMYFH#4_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t(I can see the scene ready log and no crash)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-08-01T20:45:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tactually I reproduce it _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ Let me work on a fix\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-08-01T21:55:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tOk it is fixed! thank you very much for pointing it out _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Hersir","Date":"2017-08-02T05:59:04Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThanks for quick fix\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]