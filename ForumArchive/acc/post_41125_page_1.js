[{"Owner":"Sme","Date":"2018-11-08T09:31:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_m new to BJS_co_ so I apologize if this is such a basic question. I have created a ground with a heightmap_co_ and I am simply wondering how can I make sure all entities remain on the ground? Note that there is no physics in my game_co_ so no jumping_co_ etc. In other words_co_ entities will always be _t_stuck_t_ to the ground. Right now when creating entities_co_ I am using Vector3 and setting their Y value_co_ but since I am using a heightmap this Y value obviously needs to be dynamic_co_ depending on its current location on the ground.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI was looking here at this linkÂ _lt_a href_eq__qt_https_dd_//doc.babylonjs.com/babylon101/cameras_co__mesh_collisions_and_gravity_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//doc.babylonjs.com/babylon101/cameras_co__mesh_collisions_and_gravity_lt_/a_gt_ _co_ it seems like I can achieve this by setting the scene_t_s gravity_co_ and setting ground.checkCollisions _eq_ true. Considering my use case here is very basic (no physics_co_ entites stuck to ground_co_ etc.)_co_ is this still the proper way to handle this scenario?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2018-11-08T12:08:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHiya SME_co_ and welcome.Â  You have asked a very good question.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAlthough scene.gravity IS used on physics engines IF no physics engine gravity is also set_co_ scene.gravity is only used for a very specific built-into-BJS collision system.Â  It is designed for first-person shooters_co_ where a freeCamera is the player (no player mesh).Â  We can talk about it more_co_ later.Â  Generally-speaking_co_ scene.gravity is only used on freeCameras that have ._lt_em_gt_applyGravity _eq_ true.Â  _lt_/em_gt_It is not used on mesh.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSomebody invented a mesh.moveWithCollisions() that CAN be used with that FPS system.... for simulating gravity on a mesh.Â  I have never tried it_co_ and I don_t_t have a playground demo handy.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut I DO know of a much easier way.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//jerome.bousquie.fr/BJS/demos/getHeightAtCoordinates.html_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//jerome.bousquie.fr/BJS/demos/getHeightAtCoordinates.html_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tGetHeightAtCoordinates() is a VERY HANDY feature.Â  Here is a playground...\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#BLAJPA%234_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#BLAJPA#4_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou can see the getHeightAtCoordinates() in line 37 of the renderLoop.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis is ONE way of doing it.Â  I hope this helps.Â  Let us know what you think_co_ and stay tuned for more possible comments/ideas.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JohnK","Date":"2018-11-08T12:14:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5733_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/_qt_ rel_eq__qt__qt__gt_@Wingnut_lt_/a_gt_ you beat me to it. Was in the middle of producing a solution when I had to go out. Good job you did.Â  _lt_span class_eq__qt_ipsEmoji_qt__gt_ðŸ™‚_lt_/span_gt_ My solution would have involved forward probes_co_ rays and a lot of unnecessary calculations.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tÂ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tÂ \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2018-11-08T12:18:50Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ Sorry John.Â  I keep forgetting the name of getHeightAtCoordinates()... so it took me a LONG time to find it again.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDon_t_t throw away your solution_co_ yet.Â  SME might need something different.Â  We_t_ll listen to what he/she thinks.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSide note_dd_Â  Recreational weed recently became legal... here in Michigan.Â  So_co_ it_t_s likely that I will forget MANY MANY things_co_ now.Â  _lt_span_gt__lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt_ _lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sme","Date":"2018-11-08T13:36:31Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tAwesome_co_ it works great_co_ thanks!Â \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2018-11-08T13:42:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_234143_qt_ data-ipsquote-contentid_eq__qt_41125_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1541684191_qt_ data-ipsquote-userid_eq__qt_33306_qt_ data-ipsquote-username_eq__qt_Sme_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t11 minutes ago_co_ Sme said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tand adding that to it_t_s z-index to compensate\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tActually_co_ you add it to the box.position.yÂ  _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_Notice line 39.Â  We do some boundingBox measuring..._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_box.getBoundingInfo().boundingBox.extendSize.y_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_SO... everytime you position a new box_co_ you could do..._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_box.position _eq_ new BABYLON.Vector3(someX_co_ box.getBoundingInfo().boundingBox.extendSize.y_co_ someZ)_sm__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_You could also wait for scene-ready_co_ and loop thru all the boxes (scene.mesh)... and set each box.position.y that way_co_ too._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_It might be handy for ALL mesh to have a mesh.groundIt() function_co_ eh?Â  Or maybe mesh.placeAtop(ground)_sm_Â  _lt_span_gt__dd_)_lt_/span_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_Maybe you could code this for yourself_co_ and maybe become famous... when it is accepted for BJS-wide core-use._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_You could get your _qt_I contributed to BJS Core_qt_ merit badge!Â  _dd_)Â Â  It comes with a new car!Â  (not)Â  _lt_span_gt__dd_)_lt_/span_gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sme","Date":"2018-11-08T13:43:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_234145_qt_ data-ipsquote-contentid_eq__qt_41125_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1541684552_qt_ data-ipsquote-userid_eq__qt_5733_qt_ data-ipsquote-username_eq__qt_Wingnut_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t4 minutes ago_co_ Wingnut said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tActually_co_ you add it to the box.position.yÂ  _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt_\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tRIght_co_ and actually the issue was with my code_co_ and not with the call to getHeightAtCoordinates. Nonetheless thanks for the quick response\n_lt_/p_gt_\n\n_lt_p_gt_\n\tÂ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tEdit_dd_ Sorry_co_ I can_t_t get the PlayGround to load right now_co_ so I can_t_t check out the source code (I_t_m in China so my internet isn_t_t the quickest at times)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2018-11-08T14:37:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t*nod*.Â  Good to have you with us_co_ my friend.Â  I hope we get smooth data pipes between/across all of our countries... in the near future.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tÂ \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]