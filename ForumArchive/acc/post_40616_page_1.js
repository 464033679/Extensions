[{"Owner":"Nodragem","Date":"2018-10-13T09:18:38Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_ and I opened an issue on Github to discuss how we could implement NinePatch support for the GUI_dd_ _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/issues/5315#event-1888275521_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/issues/5315#event-1888275521_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis will allow us to have resizeable 2D textures for containers_co_ rectangle_co_ button as demonstrable here (using _lt_a href_eq__qt_http_dd_//romannurik.github.io/AndroidAssetStudio/nine-patches.html#source.type_eq_image&amp_sm_sourceDensity_eq_320&amp_sm_name_eq_panel_blue2x_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//romannurik.github.io/AndroidAssetStudio/nine-patches.html_lt_/a_gt_)_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_20509_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_10/ninepatchdemo.gif.7e6da0073c4276b52974c64f66c63ce1.gif_qt_ alt_eq__qt_ninepatchdemo.gif.7e6da0073c4276b52974c64f66c63ce1.gif_qt_ /_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHowever we could not agree on how the NinePatch texture creation should be handled by BabylonJS_sm_ hence we decided to bring the discussion here.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_ wants to provide the data to set-up where the image is stretchable/fixed through code_co_ while I promote the idea of using Android and libGDX methods where the data is stored directly in the image.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_Set the stretchable parts of the NinePatch in code_lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe code would look like that_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_ BABYLON.GUI.createNinePatch(_qt_./img/mytexture.png_qt__co_ SliceLeft_co_ SliceRight_co_ SliceTop_co_ SliceBottom)_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tWhile the image look like that_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_20510_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_10/panel_blue@2x.png.427b69817d2162cd2231d08f18eb5fe1.png_qt_ alt_eq__qt_panel_blue@2x.png.427b69817d2162cd2231d08f18eb5fe1.png_qt_ /_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_Set the stretchable parts of the NinePatch directly in the texture (as in Android_t_s NinePatch)_dd__lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe code would look like that_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_BABYLON.GUI.createNinePatch(_qt_./img/mytexture.9.png_qt_)_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tWhile the image looks like that (note the black pixels which encode where the image is stretchable)_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_20511_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_10/panel_blue2x.9.png.f25d6974ddb386b80ba269ede4705b5f.png_qt_ alt_eq__qt_panel_blue2x.9.png.f25d6974ddb386b80ba269ede4705b5f.png_qt_ /_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe left column and the top row of pixels encode where the image is stretchable while the right column and the bottom row of pixels encode the padding for the content (e.g. text). \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_Disagreement_lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI believe that the last solution is elegant as it keeps data separated from code logic_co_ and allows easy editing in a simple image editing app (MS Paint!)_co_ however _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_ believes that this is a hacky solution and does not like it very much _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt_ .\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_My suggested solution_lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI start to think that both methods should be implemented as well as a third method _lt_span_gt__lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt_ Let me explain._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMy thinking is that libGDX is a great game engine and they faced the same issues we will face when they implemented NinePatch. And I believe that to copy their solution will be a good place to start.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSee_dd_ _lt_a href_eq__qt_https_dd_//github.com/libgdx/libgdx/wiki/Ninepatches_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/libgdx/libgdx/wiki/Ninepatches_lt_/a_gt_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAs I undertstand it from the link above_co_ LibGDX provides three ways to create a NinePatch_dd_\n_lt_/p_gt_\n\n_lt_ul_gt_\n\t_lt_li_gt_\n\t\t_lt_strong_gt_Method 1_dd_ _lt_/strong_gt_Set the stretchable part of the NinePatch in code\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\t_lt_strong_gt_Method 2_dd_ _lt_/strong_gt_Set the stretchable parts of the NinePatch directly in the texture\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\t_lt_strong_gt_Method 3_dd_ _lt_/strong_gt_Set the stretchable parts of the NinePatch from a TexturePack\n\t_lt_/li_gt_\n_lt_/ul_gt_\n\n_lt_p_gt_\n\tAs we also would like to implement a TexturePack (Texture Atlas + JSON) support (see _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/issues/5314_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/issues/5314_lt_/a_gt_)_co_ it is worth checking how libGDX dealt with NinePatch support in their Texture Packer.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBasically_co_ if I understand well_co_ the NinePatch support in TexturePack is dealt with this way in libGDX_dd_\n_lt_/p_gt_\n\n_lt_ul_gt_\n\t_lt_li_gt_\n\t\tthe user defines NinePatch directly in the texture using _lt_strong_gt_Method 2_lt_/strong_gt_\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\twhen the NinePatch texture is packed in a TexturePack_co_ the rows/columns that encode stretching/padding information are removed and the information is placed in the JSON file of the TexturePack\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\twhen the NinePatch texture is imported from the TexturePack_co_ _lt_strong_gt_Method 1 _lt_/strong_gt_is used to apply the stretching/padding information contained in the JSON at runtime \n\t_lt_/li_gt_\n_lt_/ul_gt_\n\n_lt_p_gt_\n\tHence_co_ I think that both methods (Method 1 and Method 2) could be supported by BabylonJS for now.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhat do you think?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"NasimiAsl","Date":"2018-10-14T10:15:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#40Y6CY%2342_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#40Y6CY#42_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#40Y6CY%2343_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#40Y6CY#43_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#40Y6CY%2344_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#40Y6CY#44_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\thi\n_lt_/p_gt_\n\n_lt_p_gt_\n\ti work on new Menu animated Control system but you ask it i just extract my popup code to you \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img alt_eq__qt_image.png.8462d54cf7e277546d67f4df4ac3d08d.png_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_20518_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_10/image.png.8462d54cf7e277546d67f4df4ac3d08d.png_qt_ /_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#40Y6CY%2347_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#40Y6CY#47_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"NasimiAsl","Date":"2018-10-14T11:48:00Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#40Y6CY%2354_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#40Y6CY#54_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_20522_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_10/image.png.25e00e46189cb5e23dd7395fb3ef043c.png_qt_ alt_eq__qt_image.png.25e00e46189cb5e23dd7395fb3ef043c.png_qt_ /_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-10-15T17:08:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/13038-nasimiasl/?do_eq_hovercard_qt_ data-mentionid_eq__qt_13038_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/13038-nasimiasl/_qt_ rel_eq__qt__qt__gt_@NasimiAsl_lt_/a_gt_ this does not tell us which version do you prefer? By code or by adding additional data to the texture?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"NasimiAsl","Date":"2018-10-15T19:15:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\thi my friend _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_vec4 add_popUp(vec3 color_co_vec4 set _co_vec2 pos_co_float alpha_co_vec4 oldMat_co_ vec2 vuv){\n                      vuv.y _eq_ 1.-vuv.y_sm_\n                set.x _eq_ max(set.x_co_set.w)_sm_\n                set.y _eq_ max(set.y_co_set.w)_sm_\n                set.z _eq_ max(set.z_co_set.w)_sm_ \n\n                vec2 pixel_uv _eq_ vuv_sm_\n                vec2 pixel_pos _eq_ pos_sm_\n\n                pixel_pos.x _eq_ min(1.-(set.x+set.z+set.w)_co_ max(set.x+set.z+set.w_co_pixel_pos.x))_sm_\n                pixel_pos.y _eq_ min(1.-(set.y+set.z+set.w)_co_ max(set.y+set.z+set.w_co_pixel_pos.y))_sm_\n                  \n\n                float setcal _eq_ set.w_sm_\n\n                float ux  _eq_ set.x_sm_\n                if(pixel_uv.x &gt_sm_ pixel_pos.x) ux _eq_ -1.*set.x_sm_\n                float uy  _eq_ set.y_sm_\n                if(pixel_uv.y &gt_sm_ pixel_pos.y) uy _eq_ -1.*set.y_sm_\n\n                float i _eq_ sqrt(pow(pixel_uv.x-1.*pixel_pos.x+ux_co_2.)\n                +pow(pixel_uv.y-1.*pixel_pos.y+uy_co_2.))_sm_\n\n                if(i&lt_sm_set.z +set.w &amp_sm_&amp_sm_ i&gt_sm_set.z -1.*set.w ){\n                    i _eq_ (i-set.z+set.w )*(0.5/set.w ) _sm_\n                } else if(i &gt_sm_ set.z) i _eq_ 1._sm_else i _eq_ 0._sm_\n                i _eq_1.- i_sm_\n\n                 float j _eq_ 0. _sm_\n\n                  if((abs(pixel_uv.x-1.*pixel_pos.x) &lt_sm_ -ux  ||\n                   abs(pixel_uv.x-1.*pixel_pos.x) &lt_sm_  ux  ||\n                   abs(pixel_uv.y-1.*pixel_pos.y) &lt_sm_ -uy  ||\n                   abs(pixel_uv.y-1.*pixel_pos.y) &lt_sm_  uy  ) \n                   &amp_sm_&amp_sm_ (  \n                   (abs(pixel_uv.y-1.*pixel_pos.y -1.*set.w) &lt_sm_  uy+ set.z  ||    \n                   abs(pixel_uv.y-1.*pixel_pos.y+1.*set.w ) &lt_sm_  -uy+ set.z) &amp_sm_&amp_sm_\n                   (abs(pixel_uv.x-1.*pixel_pos.x -1.*set.w) &lt_sm_  ux+ set.z  ||    \n                   abs(pixel_uv.x-1.*pixel_pos.x+1.*set.w ) &lt_sm_  -ux+ set.z )      \n                   )) j _eq_ 1.0_sm_\n                    else if((abs(pixel_uv.x-1.*pixel_pos.x) &lt_sm_ -ux  ||\n                   abs(pixel_uv.x-1.*pixel_pos.x) &lt_sm_  ux  ||\n                   abs(pixel_uv.y-1.*pixel_pos.y) &lt_sm_ -uy  ||\n                   abs(pixel_uv.y-1.*pixel_pos.y) &lt_sm_  uy  ) \n                   &amp_sm_&amp_sm_ (abs(pixel_uv.y-1.*pixel_pos.y +1.*set.w) &lt_sm_  uy+ set.z  ||    \n                   abs(pixel_uv.y-1.*pixel_pos.y-1.*set.w ) &lt_sm_  -uy+ set.z) &amp_sm_&amp_sm_\n                   (abs(pixel_uv.x-1.*pixel_pos.x +1.*set.w) &lt_sm_  ux+ set.z  ||    \n                   abs(pixel_uv.x-1.*pixel_pos.x-1.*set.w ) &lt_sm_  -ux+ set.z )){\n                        j_eq_  1.- max(\n                     (abs(pixel_uv.x-1.*pixel_pos.x  )-(abs(ux)+set.z -set.w ))*(0.5/set.w) _co_\n                      (abs(pixel_uv.y-1.*pixel_pos.y  )-(abs(uy)+set.z -set.w ))*(0.5/set.w) )_sm_\n                   } \n                \n                return vec4(max(i_co_j)*alpha*color+(1.-max(i_co_j)*alpha)*oldMat.xyz _co_1.)_sm_  _sm_\n                 }\n_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tadd_popUp(vec3 color _co_ vec4 set _co_ vec2 pos _co_ float alpha _co_ vec4 oldMat _co_ vec2 vuv)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t    color _dd_ inner Content Color or texture\n_lt_/p_gt_\n\n_lt_p_gt_\n\t    set _lt_span_gt__dd_ vec4( width _co_ height _co_ radius _co_ blur border )_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t    pos _dd_ vec2 (0..1_co_0..1) \n_lt_/p_gt_\n\n_lt_p_gt_\n\t    alpha _dd_ opacity\n_lt_/p_gt_\n\n_lt_p_gt_\n\t    oldMat _dd_ the last  FragmentColor \n_lt_/p_gt_\n\n_lt_p_gt_\n\t   vuv _dd_ you uv system (you can manage that if you wanna scale or make perfect square )\n_lt_/p_gt_\n\n_lt_p_gt_\n\t  so that if fully by code  just you can append content by texture\n_lt_/p_gt_\n\n_lt_p_gt_\n\t*** notice that\n_lt_/p_gt_\n\n_lt_p_gt_\n\t  optimization  - blur - support shadow  - live change in size and border radius and no any texture \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]