[{"Owner":"JBP","Date":"2016-09-07T22:22:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello I am trying to develop a FPS using BabylonJS and CannonJS in TypeScript.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMy first problem was what type of Impostor to use as the player_co_ end up using a Cylinder with a FixedRotation _eq_ true.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNow I place the camera on top off the Cylinder on every frame_co_ and apply Impulses to the Cylinder based on keyboard input_co_ and camera target.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe algorithm that I came up is the flowing (hero _eq_ Cylinder)_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tscene.registerBeforeRender(function () {_lt_br /_gt_\n\t    //Your code here_lt_br /_gt_\n\t    //Step\n_lt_/p_gt_\n\n_lt_p_gt_\n\t    camera.position.x _eq_ hero.position.x_sm__lt_br /_gt_\n\t    camera.position.y _eq_ hero.position.y + 1.0_sm__lt_br /_gt_\n\t    camera.position.z _eq_ hero.position.z_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t    let camFront _eq_ camera.getFrontPosition(1.0)_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t    let vecFront _eq_ camFront.subtract(camera.position)_sm__lt_br /_gt_\n\t    vecFront.normalize()_sm_           \n_lt_/p_gt_\n\n_lt_p_gt_\n\t    let finalVector _eq_ new BABYLON.Vector3(0.0_co_ 0.0_co_ 0.0)_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t    if (moveForward) {_lt_br /_gt_\n\t        finalVector _eq_ finalVector.add(new BABYLON.Vector3(1.0 * vecFront.x_co_ 0.0_co_ 1.0 * vecFront.z))_sm__lt_br /_gt_\n\t    }_lt_br /_gt_\n\t    if (moveBackward) {_lt_br /_gt_\n\t        finalVector _eq_ finalVector.add(new BABYLON.Vector3(-1.0 * vecFront.x_co_ 0.0_co_ -1.0 * vecFront.z))_sm__lt_br /_gt_\n\t    }_lt_br /_gt_\n\t    _lt_br /_gt_\n\t    if (moveRight) {_lt_br /_gt_\n\t        let q _eq_ BABYLON.Quaternion.RotationAxis(BABYLON.Axis.Y_co_ BABYLON.Tools.ToRadians(90))_sm__lt_br /_gt_\n\t        let m _eq_ new BABYLON.Matrix()_sm__lt_br /_gt_\n\t        q.toRotationMatrix(m)_sm__lt_br /_gt_\n\t        let vecRight _eq_ BABYLON.Vector3.TransformCoordinates(vecFront_co_ m)_sm__lt_br /_gt_\n\t        vecRight.normalize()_sm__lt_br /_gt_\n\t        finalVector _eq_ finalVector.add(new BABYLON.Vector3(1.0 * vecRight.x_co_ 0.0_co_ 1.0 * vecRight.z))_sm__lt_br /_gt_\n\t    }\n_lt_/p_gt_\n\n_lt_p_gt_\n\t    if (moveLeft) {_lt_br /_gt_\n\t        let q _eq_ BABYLON.Quaternion.RotationAxis(BABYLON.Axis.Y_co_ BABYLON.Tools.ToRadians(-90))_sm__lt_br /_gt_\n\t        let m _eq_ new BABYLON.Matrix()_sm__lt_br /_gt_\n\t        q.toRotationMatrix(m)_sm__lt_br /_gt_\n\t        let vecLeft _eq_ BABYLON.Vector3.TransformCoordinates(vecFront_co_ m)_sm__lt_br /_gt_\n\t        vecLeft.normalize()_sm__lt_br /_gt_\n\t        finalVector _eq_ finalVector.add(new BABYLON.Vector3(1.0 * vecLeft.x_co_ 0.0_co_ 1.0 * vecLeft.z))_sm__lt_br /_gt_\n\t    }_lt_br /_gt_\n\t                _lt_br /_gt_\n\t    finalVector _eq_ finalVector.normalize()_sm__lt_br /_gt_\n\t    hero.physicsImpostor.applyImpulse(new BABYLON.Vector3(15.0 * finalVector.x_co_ 0.0_co_ 15.0 * finalVector.z)_co_ hero.getAbsolutePosition())_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt_\n\t})_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t Is there a more effective way to do this ?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks in advance.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t\t\t\n\n_lt_span class_eq__t_ipsType_reset ipsType_medium ipsType_light_t_ data-excludequote_gt_\n\t_lt_strong_gt_Edited _lt_time datetime_eq__t_2016-09-07T22_dd_24_dd_25Z_t_ title_eq__t_09/07/2016 10_dd_24  PM_t_ data-short_eq__t_2 yr_t__gt_September 7_co_ 2016_lt_/time_gt_ by JBP_lt_/strong_gt_\n\t\n\t\t_lt_br_gt_Bad colors\n\t\n\t\n_lt_/span_gt_\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2016-09-08T14:23:41Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tSearch for TERIABLE infinity on the forums or magic marble editor demo\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JBP","Date":"2016-09-12T12:52:03Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tUploaded a example to _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1AFY3M%230_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1AFY3M#0_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe control works but the problem is that the camera/hero doesn_t_t go straight forward all the time.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tExample if at start I point at the Box at the top left if and only press _t_W_t_ it goes straight to the Box_co_ but if I for example go straight _t_W_t_ for 1-5 seconds and then point at the Box and press _t_W_t_ the camera/hero doesn_t_t go straight to the BOX_co_ it goes sides ways.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhere is an example using THREE.JS and CANNON.JS of the kind of movement I want_dd_ _lt_a href_eq__qt_http_dd_//javascriptjamie.weebly.com/bouncy-colorful-boxes-game.html_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//javascriptjamie.weebly.com/bouncy-colorful-boxes-game.html_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCan any one help me_co_ or in alternative point me to and example First Person Example using BABYLON.JS and CANNON.JS.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCan any one help me_co_ please.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI want to use BABYLON.JS for my projects.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2016-09-12T14:26:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tIt_t_s how your calculating your forward and scaling it.  Agian look up TERIABLE specifically TERIABLE infinity or magic marble if you want to see a physics controller.  I_t_ve covered this topic several times and kinda burnt out explaining it now.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JBP","Date":"2016-09-12T16:07:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks for the reply_co_ and I sorry for insisting on this topic_co_ but I copied the best I can the example you speak about_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//github.com/Pryme8/TERIABLE/blob/gh-pages/Infinity/teriable-infinity-0.0.1.js_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/Pryme8/TERIABLE/blob/gh-pages/Infinity/teriable-infinity-0.0.1.js_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd updated the Playground _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1AFY3M%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1AFY3M#1_lt_/a_gt_ but still I can_t_t get it to work correctly.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m sorry for being such a _qt_pain in the ass_qt_ but I just can_t_t figure this one out.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks in advance.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2016-09-12T18:09:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tYou got everything working_co_ it looks like you just need to recalculate the forward when the camera looks around and the player is holding forward or something.  Im saying this cause if you release forward and press it agian the sideways motion stops and you start going forward again._lt_br /_gt__lt_br /_gt_\n\tand looking over your script im not sure whats causing it actually_co_ if you look at the example at _lt_a href_eq__qt_http_dd_//pryme8.github.io/TERIABLE/infinity.html_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//pryme8.github.io/TERIABLE/infinity.html_lt_/a_gt__lt_br /_gt_\n\tit does not happen... so yeah not sure_co_ Id go through the before loop item by item and make sure your calculations are correct including the encapsulation.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JBP","Date":"2016-09-16T21:42:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p style_eq__qt_margin-top_dd_0px_sm_color_dd_rgb(39_co_42_co_52)_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_background-color_dd_rgb(255_co_255_co_255)_sm__qt__gt_\n\tFound the solution_co_ the problem is not in BabylonJS the problem is  in this lines of code_dd_\n_lt_/p_gt_\n\n_lt_p style_eq__qt_color_dd_rgb(39_co_42_co_52)_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_background-color_dd_rgb(255_co_255_co_255)_sm__qt__gt_\n\thero.physicsImpostor.physicsBody.fixedRotation _eq_ true_sm_\n_lt_/p_gt_\n\n_lt_p style_eq__qt_color_dd_rgb(39_co_42_co_52)_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_background-color_dd_rgb(255_co_255_co_255)_sm__qt__gt_\n\thero.physicsImpostor.physicsBody.updateMassProperties()_sm_\n_lt_/p_gt_\n\n_lt_p style_eq__qt_color_dd_rgb(39_co_42_co_52)_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_background-color_dd_rgb(255_co_255_co_255)_sm__qt__gt_\n\tI was creating a Cylinder and fixing the rotation so that the cylinder was always up_co_ if remove these lines and replace the Cylinder with a Sphere starts to work_lt_span_gt_ _lt_/span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ style_eq__qt_vertical-align_dd_middle_sm_border_dd_0px_sm__qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ style_eq__qt_vertical-align_dd_middle_sm_border_dd_0px_sm__qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt_ \n_lt_/p_gt_\n\n_lt_p style_eq__qt_margin-bottom_dd_0px_sm_color_dd_rgb(39_co_42_co_52)_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_background-color_dd_rgb(255_co_255_co_255)_sm__qt__gt_\n\tThanks for all the help !!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]