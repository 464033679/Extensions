[{"Owner":"ReMix","Date":"2015-09-05T11:50:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi everybody !_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I_t_m trying to do a ShaderMaterial that renders fur._lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.remymaetz.com/up/BabylonFur/_qt_ rel_eq__qt_external nofollow_qt__gt_Here is how it looks right now._lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_It_t_s starting to look good_co_ but I still have some issues with it _dd__lt_/p_gt__lt_ul_gt__lt_li_gt_Each layer of fur is rendered using an instance of the object. I have some background of making shaders in Unity3D and I like the way we can do multi-pass shaders_co_ is there a way to do the same with babylon or my instance system the only one ?_lt_/li_gt__lt_li_gt_To render smoothly the material needs to be alpha blended_co_ but then it doesn_t_t write the depth. But in this case_co_ I have issue when multiples _qt_fur faces_qt_ overlay (try rotating the view in the link to overlap the fur at different distances on the object). I think the solution would be to have alpha blending and alpha cutout enabled at the same time (cutout to write in depth buffer and blending for nice effect) but it seems that if I enable both the alpha cutout is ignored (no _qt_define _lt_span_gt_ALPHATEST_qt_ in generated shader)_lt_/span_gt__lt_/li_gt__lt_/ul_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_span_gt_I still have some work to do on supporting dynamic lights and stuff_co_ but the two issues here are really blocking me._lt_/span_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_span_gt_Also_co_ I_t_ve had to add some exceptions in the ShaderMaterial attributes I pass to render the instances _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/tutorials/15._Understanding_Shaders_with_Babylon.js_and_ShaderMaterial_qt_ rel_eq__qt_external nofollow_qt__gt_like listed here_lt_/a_gt_. Let me explain _dd_ _lt_/span_gt__lt_/p_gt__lt_p_gt__lt_span_gt_The effect needs to work on smartphones_co_ and I_t_ve discoverd that on my smartphone (Galaxy Note 2_co_ Android 5.1.1_co_ Firefox) doesn_t_t support GPU instancing. I had to check this using _lt_strong_gt_engine.getCaps().instancedArrays !_eq_ null_lt_/strong_gt__co_ and if false pass the uniform _qt__lt_strong_gt_world_lt_/strong_gt__qt_ instead of the 4 _qt__lt_strong_gt_world[n]_lt_/strong_gt__qt_ attributes. It was quite a funny thing to find why the shader wasn_t_t working ...  That_t_s the reason why a multi-pass shader would be useful._lt_/span_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_span_gt_If somebody has some answers to my issues_co_ any help would be greatly appreciated!_lt_/span_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_span_gt_Thanks!_lt_/span_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Convergence","Date":"2015-09-06T01:34:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Can_t_t answer your questions_co_ but very cool _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_My FPS is a tad low though for that single mesh._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ReMix","Date":"2015-09-08T09:57:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Also_co_ is there a way to add custom _lt_strong_gt_#define _lt_/strong_gt_directive to a ShaderMaterial ? It would allow me to disable shader features depending on the platform capabilities._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-09-08T16:41:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hello #define are not supported by ShaderMaterial._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_You have two options here_dd__lt_/p_gt__lt_p_gt_- Use differents shaders and then select the right one at runtime_lt_/p_gt__lt_p_gt_- Create a custom Material (by inheriting from Material). This is more advanced but you will have complete control. You can almost copy/paste code from ShaderMaterial_dd_ _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Materials/babylon.shaderMaterial.ts%C2%A0_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Materials/babylon.shaderMaterial.ts _lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-09-08T16:54:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Ok option 3 is coming _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_You will be able to do this in the next commit_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_\tvar outMaterial _eq_ new BABYLON.ShaderMaterial( name _co_ scene_co_ shaderPath_co_\t\t\t\t\t{\t\t\t\t\t\t\tattributes_dd_ matAttributes_co_\t\t\t\t\t\t\tuniforms_dd_ matUniforms_co_\t\t\t\t\t\t\tneedAlphaTesting _dd_ true_co_\t\t\t\t\t\t\tneedAlphaBlending_dd_ true_co_\t\t\t\t\t\t\tdefines_dd_ [_qt_#define option1_qt__co_ _qt_#define option2_qt_]\t\t\t\t\t})_sm__lt_/pre_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Vousk-prod.","Date":"2015-09-08T17:54:03Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Nice this Fur shader !!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_You definitly rocks DK_co_ prompt and helpful_co_ as always_co_ and with user satisfaction in mind_co_ BJS god is once again among us! _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_laugh.png_qt_ alt_eq__qt__dd_lol_dd__qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jahow","Date":"2015-09-08T19:37:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi ReMix_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Your shader is awesome. Fur always looks nice!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Have you tried using only alpha cutout meshes for this effect? from a distance_co_ it may look sufficiently nice and not require any headache with alpha blend rendering order. Also_co_ you can try keeping your meshes alpha blended and using the alphaIndex property_co_ see_dd_ _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/tutorials/Transparency_and_How_Meshes_Are_Rendered#alpha-index_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/tutorials/Transparency_and_How_Meshes_Are_Rendered#alpha-index_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_There is no such thing as multipass shaders in WebGL (yet). Rendering several meshes_lt_em_gt_ requires _lt_/em_gt_making several rendering calls_co_ unless you merge all your identical meshes in one big buffer and then_co_ through clever use of attributes and uniforms_co_ define which part of the buffer belongs to which pass_co_ etc.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_ohmy.png_qt_ alt_eq__qt__dd_o_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/ohmy@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Hope that helps in any way._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"MidnightCow","Date":"2015-09-16T09:58:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Damn this is really nice so far!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ReMix","Date":"2015-09-16T18:47:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Thanks for the hints and answers !_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I_t_ve tried to optimize a bit the effect by moving some of the vertex deformation to javascript by generating a new mesh with the desired amount of fur layers (instead of instances) and offsetting the vertex positions. The layer _qt_index_qt_ is stored in the vertex colors._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_But now I_t_m trying to make this work on mobile_co_ and for some reason the _lt_a href_eq__qt_http_dd_//www.remymaetz.com/up/BabylonFur/_qt_ rel_eq__qt_external nofollow_qt__gt_demo that you can see here _lt_/a_gt_is extremely slow._lt_/p_gt__lt_p_gt_I_t_ve disabled a bunch of features in the fragment shader (normal map_co_ specular_co_ rim lighting) and moved some calculations from fragment to vertex. Also_co_ no more alpha blending but alpha test instead._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Still_co_ I think I have less then 5 fps (the debug layer on my phone says 0_co_ but I can see it_t_s a bit more though)._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I really don_t_t know why it_t_s so slow_co_ any help ?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_EDIT _dd_ Well_co_ even when displaying the _qt_fur object_qt_ with the standard shader it_t_s slow_co_ what could be the cause ?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-09-16T20:23:41Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hello on low end devices this may come from a crappy GPU. is a scene with just a box still slow?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ReMix","Date":"2015-09-16T21:27:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_My device is a Samsung Galaxy Note 2_co_ a bit old but I think it still has a pretty decent GPU._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The same scene with only the _qt_skin_qt_ plane (so_co_ a simple texture plane with standard material) runs smoothly. But as soon as I duplicate the mesh to have the fur layers_co_ the fps drops (but still under 100 vertices and only 2 draw calls)._lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.remymaetz.com/up/BabylonFur/nofx.html_qt_ rel_eq__qt_external nofollow_qt__gt_Here is this test scene_lt_/a_gt__co_ it_t_s the fur scene but with a standard material applied on the layers. It runs at about 5fps on my phone._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"chg","Date":"2015-09-16T22:53:41Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Dumb question_dd_ does inverting the order of the fur layers have any effect?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-09-16T23:08:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_What kind of perf do you get by turning alpha testing off?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ReMix","Date":"2015-09-17T09:33:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_96932_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_16951_qt_ data-ipsquote-username_eq__qt_chg_qt_ data-cite_eq__qt_chg_qt_ data-ipsquote-timestamp_eq__qt_1442444021_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt_Dumb question_dd_ does inverting the order of the fur layers have any effect?_lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_No changes._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_96935_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_16951_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt_ data-cite_eq__qt_Deltakosh_qt_ data-ipsquote-timestamp_eq__qt_1442444901_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt_What kind of perf do you get by turning alpha testing off?_lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Apparently_co_ no perf change._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"MidnightCow","Date":"2015-09-17T11:54:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Is it worth trying_co_ rather than looping through the verts for each layer etc_co_ taking the original plane mesh_co_ then using SubMesh functionality_co_ and SubMesh.clone() to build up the layers..  I think submesh is optimised for fast access ( for octree use etc ) so it may be that some small performance gain could be leveraged out of it.._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"chg","Date":"2015-09-17T13:34:04Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_MidnightCow_co_ spatial partitioning schemes like octrees shouldn_t_t help here_co_ the meshes are basically all in the same location (ie. they are pretty much all visible or none are) or and there is no collision detection._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ReMix","Date":"2015-09-17T13:50:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I don_t_t really understand_co_ how can I clone the SubMesh inside the original mesh_co_ without creating a new mesh ? In the doc the function is like this _dd_ clone(newMesh)_lt_/p_gt__lt_p_gt_So if I clone it_co_ it must generate a new mesh object_co_ right ?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"MidnightCow","Date":"2015-09-17T14:01:47Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_CHG no I didn_t_t mean use octree just pointing out that submesh might be better optimised than a standard mesh with duplicated internals all in serial.._lt_/p_gt__lt_p_gt_I would have thought .clone would create a new submesh.._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-09-17T16:35:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Do you use instances?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ReMix","Date":"2015-09-17T16:42:34Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_97023_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_16951_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt_ data-cite_eq__qt_Deltakosh_qt_ data-ipsquote-timestamp_eq__qt_1442507726_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt_Do you use instances?_lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_I tried using instances at first_co_ but on my mobile device GPU instances are not supported_co_ so I tried this _qt_duplicate mesh in script_qt_ trick. I got a small performance boost_co_ probably due to having less objects to handle._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-09-17T17:49:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_arg _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ alt_eq__qt__dd_(_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ReMix","Date":"2015-09-17T21:07:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_To be sure I tried generating fake fur layers by instancing my object (a base plane) multiple times (16). And even with the standard material_co_ this simple scene is still extremely slow._lt_/p_gt__lt_p_gt_I now have absolutely no idea why it_t_s so slow on mobile_co_ is this normal ?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_EDIT _dd_ _lt_a href_eq__qt_http_dd_//www.remymaetz.com/up/BabylonFur/nofx.html_qt_ rel_eq__qt_external nofollow_qt__gt_Here is the mentioned scene _lt_/a_gt__dd_ 17 planes (original + 1 clone + 15 clone instances ) rendered with default material_co_ and still slow on mobile._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I found the more I have objects in the scene_co_ more the fps drops. Same when duplicating polygons in the fur mesh._lt_/p_gt__lt_p_gt_I really don_t_t understand why this is happening_co_ the scene with the red spaceship featured on the babylonjs homepage runs at arount 15fps on my phone_co_ and has more vertices and more objects._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Please great god Deltakosh_co_ help me _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ alt_eq__qt__dd_(_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ ._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-09-18T02:29:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_It seems that your mobile is fillrate limited which means that the pixel shader seems to be the limitating factor._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The spaceship works at 15fps because the number of pixel drawn is limited. In your case every layer is almost fullscreen which means that the GPU needs to render 16x480x840 pixels (I have no idea about your true resolution of your phone but you get the point _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_)_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ReMix","Date":"2015-09-18T06:42:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_You seem to be right_co_ I tried placing the camera further_co_ and it runs better. (btw_co_ the resolution is 1280x720)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_So I have no other choices than avoiding to see this from too close ? Or draw less layers (but that makes an ugly effect) ?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_That_t_s sad _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ alt_eq__qt__dd_(_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_An other option I would have is to draw the fur with only one mesh _lt_a href_eq__qt_https_dd_//www.shadertoy.com/view/XsfGWN_qt_ rel_eq__qt_external nofollow_qt__gt_like on this demo_lt_/a_gt_. I_t_ve never done a raymarching shader_co_ but it_t_s not impossible. The only thing I_t_m afraid of is the even this would not help me with perfs_co_ this demo also runs at about 4 fps in fullscreen on my phone _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ alt_eq__qt__dd_(_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ ._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-09-18T17:40:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_On mobile we all need to reduce our quality _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]