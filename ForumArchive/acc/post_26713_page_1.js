[{"Owner":"cricket","Date":"2016-11-30T06:05:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am unable to apply material to objects loaded in .gltf/.glb format but am able to do so for objects loaded in .obj formal.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have attached chair_gltf.png_co_ chair_obj.png and relevant code below.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI would like to create a demonstration in the babylon playground but cant since I dont know how to add assets to the playground.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tQuestions\n_lt_/p_gt_\n\n_lt_p_gt_\n\t1) Can someone help me figure out how to apply materials to models loaded via gltf?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t2) How does one add static assets to babylon playground?\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_function addObject(scene_co_ model){\n  var scale _eq_ model.scale_sm_\n  var pos _eq_ function(t) {\n      t.loadedMeshes.forEach(function(m) {\n        console.log(m.material)\n        m.scaling _eq_ new BABYLON.Vector3(scale_co_scale_co_scale)_sm_\n        let materialSphere1 _eq_ new BABYLON.StandardMaterial(_qt_texture1_qt__co_ scene)_sm_\n        materialSphere1.alpha _eq_ 0.5_sm_\n        materialSphere1.diffuseColor _eq_ new BABYLON.Color3(1.0_co_ 0.2_co_ 0.7)_sm_\n        m.material _eq_ materialSphere1_sm_\n        console.log(m.material)\n      })_sm_\n  }_sm_\n  var loader _eq_ new BABYLON.AssetsManager(scene)_sm_\n  let file_dir _eq_ dirname(model.gltf_url).substring(1) + _t_/_t_\n  let file_name _eq_ basename(model.gltf_url)\n\n  var object _eq_ loader.addMeshTask(model.title_co_ _qt__qt__co_ file_dir_co_ file_name)_sm_\n  object.onSuccess _eq_ pos\n  loader.load()_sm_\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_11/chair_gltf.png.fe06498dd2c2b233e44eecda745b10ab.png_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_10444_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_11/chair_gltf.png.fe06498dd2c2b233e44eecda745b10ab.png_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_chair_gltf.png_qt__gt__lt_/a_gt__lt_/p_gt_\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_11/chair_obj.png.86d54b62c7cb997674fa6a94011edfe3.png_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_10445_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_11/chair_obj.png.86d54b62c7cb997674fa6a94011edfe3.png_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_chair_obj.png_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-11-30T19:55:03Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tping _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/11802-luaacro/?do_eq_hovercard_qt_ data-mentionid_eq__qt_11802_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/11802-luaacro/_qt_ rel_eq__qt__qt__gt_@Luaacro_lt_/a_gt_\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Luaacro","Date":"2016-12-01T19:08:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/24636-cricket/?do_eq_hovercard_qt_ data-mentionid_eq__qt_24636_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/24636-cricket/_qt_ rel_eq__qt__qt__gt_@cricket_lt_/a_gt_ ! _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tDo you confirm that applying a new material on a binary version of the gltf (.glb) doesn_t_t work too ?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"cricket","Date":"2016-12-02T05:55:00Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/11802-luaacro/?do_eq_hovercard_qt_ data-mentionid_eq__qt_11802_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/11802-luaacro/_qt_ rel_eq__qt__qt__gt_@Luaacro_lt_/a_gt_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tYes. It does not work with both gltf and glb. However_co_ I must mention that I used _lt_a href_eq__qt_https_dd_//github.com/AnalyticalGraphicsInc/obj2gltf_qt_ rel_eq__qt_external nofollow_qt__gt_node obj to gltf/glb_lt_/a_gt_ and _lt_a href_eq__qt_https_dd_//cesiumjs.org/convertmodel.html_qt_ rel_eq__qt_external nofollow_qt__gt_cesium online converter_lt_/a_gt_ to convert existing obj files.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Luaacro","Date":"2016-12-02T20:07:00Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tVery good thanks for the links!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt_t_ll be quicker if you send me as PM your project file with the gltf file. Then I_t_ll try to find the problem using your project and fix the gltf loader in this case\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThank you !\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"cricket","Date":"2016-12-03T09:37:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/11802-luaacro/?do_eq_hovercard_qt_ data-mentionid_eq__qt_11802_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/11802-luaacro/_qt_ rel_eq__qt__qt__gt_@Luaacro_lt_/a_gt_ I have _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1KZNYG%232_qt_ rel_eq__qt_external nofollow_qt__gt_this playground_lt_/a_gt_ to demonstrate the issue. The chair on the left is glb and the chair on right is obj. The relevant code follows\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_    // create loader\n    var loader _eq_ new BABYLON.AssetsManager(scene)_sm_\n    var glbTask _eq_ loader.addMeshTask(_qt_batman_qt__co_ _qt__qt__co_ _qt_https_dd_//dl.dropboxusercontent.com/u/28136236/models/chair/_qt__co_ _qt_chair.glb_qt_)_sm_\n    var objTask _eq_ loader.addMeshTask(_qt_batman_qt__co_ _qt__qt__co_ _qt_https_dd_//dl.dropboxusercontent.com/u/28136236/models/chair/_qt__co_ _qt_chair.obj_qt_)_sm_\n\n    // function that takes a mesh and applies pink material\n    function applyMaterialToMesh(mesh){\n        var materialSphere1 _eq_ new BABYLON.StandardMaterial(_qt_texture1_qt__co_ scene)_sm_\n        materialSphere1.diffuseColor _eq_ new BABYLON.Color3(1.0_co_ 0.2_co_ 0.7)_sm_\n        mesh.material _eq_ materialSphere1_sm_\n    }\n\n    // applies pink material and move mesh one to left\n    objTask.onSuccess _eq_ function (task) {\n        task.loadedMeshes[0].position.x +_eq_ 1\n        applyMaterialToMesh(task.loadedMeshes[0])\n    }\n\n    // applies material but does not move to left\n    glbTask.onSuccess _eq_ function (task) {\n        applyMaterialToMesh(task.loadedMeshes[0])\n    }_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tI hope this suffices. The code in my project is slightly convoluted. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tRelevant files are _lt_a href_eq__qt_https_dd_//www.dropbox.com/sh/62ebw5mllvkmxg1/AACR0FkpPFTyLHZX8FFWWdCoa?dl_eq_0_qt_ rel_eq__qt_external nofollow_qt__gt_here_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t\t\t\n\n_lt_span class_eq__t_ipsType_reset ipsType_medium ipsType_light_t_ data-excludequote_gt_\n\t_lt_strong_gt_Edited _lt_time datetime_eq__t_2016-12-03T09_dd_39_dd_29Z_t_ title_eq__t_12/03/2016 09_dd_39  AM_t_ data-short_eq__t_2 yr_t__gt_December 3_co_ 2016_lt_/time_gt_ by cricket_lt_/strong_gt_\n\t\n\t\t_lt_br_gt_Added link to assets\n\t\n\t\n_lt_/span_gt_\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Luaacro","Date":"2016-12-03T19:01:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOkay_co_ I found the issue in the glTF loader. In fact_co_ you applied the material but the asynchronous nature of the loader erased the material you just applied.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m fixing it and will create a pull request\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks for this feedback _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Luaacro","Date":"2016-12-03T19:10:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tCreated here _dd_ _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/pull/1557_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/pull/1557_lt_/a_gt_\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"cricket","Date":"2016-12-04T04:04:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThank you. Just to confirm_co_ if I download _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/dist/preview%20release/loaders/babylon.glTFFileLoader.min.js_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/dist/preview release/loaders/babylon.glTFFileLoader.min.js_lt_/a_gt_ file things should work?\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Luaacro","Date":"2016-12-04T13:05:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tYes it should work_co_ like glTFFileLoader.js which is just the non-minified version\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]