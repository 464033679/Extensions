[{"Owner":"fenomas","Date":"2015-09-24T13:34:00Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Latest builds have some kind of bug (or at least breaking change) related to texture offsets._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Reproduce_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_1. Clone _lt_a href_eq__qt_https_dd_//github.com/andyhall/babylon-atlas_qt_ rel_eq__qt_external nofollow_qt__gt_this repo_lt_/a_gt_ (or other projects relying on texture uv offsets)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_2. Run the local demo per instructions_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_cd babylon-atlasnpm installnpm test_lt_/pre_gt__lt_p_gt_(Demo should work normally)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_3. Replace _lt_span style_eq__qt_font-family_dd__t_courier new_t__co_ courier_co_ monospace_sm__qt__gt_/example/babylon.js_lt_/span_gt_ with the latest version of _lt_span style_eq__qt_font-family_dd__t_courier new_t__co_ courier_co_ monospace_sm__qt__gt_dist/preview release/babylon.max.js_lt_/span_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_(Demo breaks)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The breaking commit is _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/commit/6303307ce7a80bd019f8105f441e95e7e73264ec_qt_ rel_eq__qt_external nofollow_qt__gt_6303307_lt_/a_gt_. The dist build from before that commit works fine._lt_/p_gt__lt_div_gt_ _lt_/div_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-09-24T15:05:22Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hello_co_ actually the commit fixed a BIG bug in texture uv offsets_lt_/p_gt__lt_p_gt_Can you reproduce your bug in the repo?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"fenomas","Date":"2015-09-24T15:12:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Like I said_co_ bug or breaking change_co_ as a user I can_t_t distinguish. All I know is that setting UV offsets produces a different result now_co_ so code that worked no longer works._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_98055_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_17412_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt_ data-cite_eq__qt_Deltakosh_qt_ data-ipsquote-timestamp_eq__qt_1443107122_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt_Can you reproduce your bug in the repo?_lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_What do you mean?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-09-24T15:18:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_My question is_dd_ do you think that results produced are wrong? If yes can you try to create a PG to showcase it ?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I *think* the results produced now are correct and were wrong before...but I can be wrong _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-09-24T15:32:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Here is a test PG_dd__lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#2HVWTZ%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#2HVWTZ#1_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"fenomas","Date":"2015-09-24T16:31:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I don_t_t know which version is correct_co_ because I don_t_t know what the intended behavior is._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_That is_co_ I got my sprite handling to work with the old version_co_ but it was not very intuitive. Presumably I can rewrite my code to work with the new version_co_ and it may or may not be more intuitive. But unless there_t_s a unit test I can_t_t tell you which is _qt_right_qt__co_ that depends on your intent._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_So to be clear this is intentionally a breaking change_co_ right?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-09-24T16:53:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_It is a bug fixing _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_&lt_sm_fileStore.core_Emoticons&gt_sm_/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ so indirectly a breaking changes. You know that I HATE breaking changes but the behavior of uvScale/offset was wrong so it was a no brainer_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I can help you fix your code if you want._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_So here is a basic texture applied to a plane_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var ground _eq_ BABYLON.Mesh.CreateGround(_qt_ground1_qt__co_ 6_co_ 6_co_ 2_co_ scene)_sm_var mat _eq_ new BABYLON.StandardMaterial(_qt_mat_qt__co_ scene)_sm_mat.diffuseTexture _eq_ new BABYLON.Texture(_qt_textures/misc.jpg_qt__co_ scene)_sm_mat.specularColor _eq_ BABYLON.Color3.Black()_sm_\tground.material _eq_ mat_sm__lt_/pre_gt__lt_p_gt_And the associated render_dd__lt_/p_gt__lt_p_gt__lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_09_2015/post-4442-0-40432200-1443113298.jpg_qt_ rel_eq__qt_external nofollow_qt__gt__lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_09_2015/post-4442-0-40432200-1443113298.jpg_qt_ data-fileid_eq__qt_5178_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_post-4442-0-40432200-1443113298.jpg_qt__gt__lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Now let_t_s add some offsets_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var mat _eq_ new BABYLON.StandardMaterial(_qt_mat_qt__co_ scene)_sm_mat.diffuseTexture _eq_ new BABYLON.Texture(_qt_textures/misc.jpg_qt__co_ scene)_sm_mat.diffuseTexture.uOffset _eq_ 0.6_sm__lt_/pre_gt__lt_p_gt__lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_09_2015/post-4442-0-03331700-1443113330.jpg_qt_ rel_eq__qt_external nofollow_qt__gt__lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_09_2015/post-4442-0-03331700-1443113330.jpg_qt_ data-fileid_eq__qt_5179_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_post-4442-0-03331700-1443113330.jpg_qt__gt__lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_As you can see the texture _qt_moved_qt_ to the right by a factor of 60%_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_And now le_t_ts add some scaling_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var mat _eq_ new BABYLON.StandardMaterial(_qt_mat_qt__co_ scene)_sm_mat.diffuseTexture _eq_ new BABYLON.Texture(_qt_textures/misc.jpg_qt__co_ scene)_sm_mat.diffuseTexture.uOffset _eq_ 0.6_sm_mat.diffuseTexture.vScale _eq_ 10_sm__lt_/pre_gt__lt_p_gt__lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_09_2015/post-4442-0-08930300-1443113427.jpg_qt_ rel_eq__qt_external nofollow_qt__gt__lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_09_2015/post-4442-0-08930300-1443113427.jpg_qt_ data-fileid_eq__qt_5180_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_post-4442-0-08930300-1443113427.jpg_qt__gt__lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The issue with previous version was that scaling was wrongly computed resulting (sometimes) in wrong rendering._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Hope this helps _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_&lt_sm_fileStore.core_Emoticons&gt_sm_/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"fenomas","Date":"2015-09-24T17:31:18Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I_t_m glad this makes sense to you! But to me as a user any scale/translate operation is equivalent to another_co_ except for where the transformation_t_s origin is_co_ and which operation is done first. So without knowing what you_t_re intending for those things I have no way of knowing what you think is correct. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Put it this way - here is a pseudocode declaration of a texture atlas_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var texture_atlas_size _eq_ {  w_dd_ 444_co_  h_dd_ 333}var sprite _eq_ {  x_dd_ 123_co_  y_dd_ 234_co_  w_dd_ 34_co_  h_dd_ 45}_lt_/pre_gt__lt_p_gt_If you can tell me what you intend to be the correct code to display that sprite in a texture_co_ then I can tell you if the current implementation is correct.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-09-24T17:42:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_so it should be_dd__lt_/p_gt__lt_p_gt_uOffset _eq_ 123/444_lt_/p_gt__lt_p_gt_vOffset _eq_ 234/333_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_uScale _eq_ 34/444_lt_/p_gt__lt_p_gt_vScale _eq_ 45/333_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"fenomas","Date":"2015-09-25T04:27:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Okay_co_ current implementation is wrong then. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_For the current build_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_vOffset _eq_ 1 - (234+45)/333_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Again stuff like this would be easier with a unit test._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-09-25T16:38:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt__lt_strike_gt_What do you mean? How do you get _lt_span style_eq__qt_color_dd_rgb(40_co_40_co_40)_sm_font-family_dd_helvetica_co_ arial_co_ sans-serif_sm__qt__gt_vOffset _eq_ 1 - (234+45)/333? Do you think there is a bug in sprite manager? or texture matrix generation?_lt_/span_gt__lt_/strike_gt__lt_/p_gt__lt_p_gt__lt_span style_eq__qt_color_dd_rgb(40_co_40_co_40)_sm_font-family_dd_helvetica_co_ arial_co_ sans-serif_sm__qt__gt_ok I understood _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/span_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_span style_eq__qt_color_dd_rgb(40_co_40_co_40)_sm_font-family_dd_helvetica_co_ arial_co_ sans-serif_sm__qt__gt_Please provide a playground else this discussion will remain sterile _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ _lt_/span_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-09-25T17:10:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Just one thought_dd_ did you load the texture with invertY on or off?_lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//doc.babylonjs.com/classes/2.2/Texture#new-texture-classes-2-2-texture-url-scene-nomipmap-inverty-samplingmode-onload-onerror-buffer-deletebuffer-_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/classes/2.2/Texture#new-texture-classes-2-2-texture-url-scene-nomipmap-inverty-samplingmode-onload-onerror-buffer-deletebuffer-_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Because your vOffset looks like the opposite of mine_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-09-25T17:31:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Ok so here is a small sample_dd__lt_/p_gt__lt_p_gt__lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_09_2015/post-4442-0-67418500-1443202300.png_qt_ rel_eq__qt_external nofollow_qt__gt__lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_09_2015/post-4442-0-67418500-1443202300_thumb.png_qt_ data-fileid_eq__qt_5188_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_post-4442-0-67418500-1443202300_thumb.pn_qt__gt__lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I would like to get this one_dd__lt_/p_gt__lt_p_gt__lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_09_2015/post-4442-0-79179000-1443202639.png_qt_ rel_eq__qt_external nofollow_qt__gt__lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_09_2015/post-4442-0-79179000-1443202639_thumb.png_qt_ data-fileid_eq__qt_5189_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_post-4442-0-79179000-1443202639_thumb.pn_qt__gt__lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Here are the coordinates (remember that with textures_co_ the origin is at the left  bottom_dd__lt_/p_gt__lt_p_gt__lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_09_2015/post-4442-0-20928600-1443202642.png_qt_ rel_eq__qt_external nofollow_qt__gt__lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_09_2015/post-4442-0-20928600-1443202642_thumb.png_qt_ data-fileid_eq__qt_5190_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_post-4442-0-20928600-1443202642_thumb.pn_qt__gt__lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_So the code to get it is the following_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_mat.diffuseTexture _eq_ new BABYLON.Texture(_qt_textures/player.png_qt__co_ scene_co_ false)_sm_\tmat.diffuseTexture.uOffset _eq_ 1233 / 1408_sm_mat.diffuseTexture.vOffset _eq_ 60 / 192_sm_mat.diffuseTexture.uScale _eq_ 51 / 1408_sm_ // Note this is the width and not the coordinate_dd_ 1284 - 1233mat.diffuseTexture.vScale _eq_ 66 / 192_sm_ // Note this is the height_dd_126 - 60_lt_/pre_gt__lt_p_gt_with this result_dd__lt_/p_gt__lt_p_gt__lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_09_2015/post-4442-0-12833500-1443202782.jpg_qt_ rel_eq__qt_external nofollow_qt__gt__lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_09_2015/post-4442-0-12833500-1443202782_thumb.jpg_qt_ data-fileid_eq__qt_5191_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_post-4442-0-12833500-1443202782_thumb.jp_qt__gt__lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_and the playground_dd__lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#4DVSK_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#4DVSK_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"fenomas","Date":"2015-09-26T03:52:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_98247_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_17412_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt_ data-cite_eq__qt_Deltakosh_qt_ data-ipsquote-timestamp_eq__qt_1443202308_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt_Here are the coordinates (remember that with textures_co_ the origin is at the left  bottom_dd__lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_That_t_s why I said any transformation is as good as another unless you know the intent._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Texture atlases measure from the upper left. If the sprite you_t_re using came from an atlas its declaration would be_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_frame_dd_ {  x_dd_ 1233_co_  y_dd_ 66_co_  w_dd_ 51_co_  h_dd_ 66}_lt_/pre_gt__lt_p_gt_and the code to display it (in today_t_s build) would be_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_  uOffset _eq_ x / texturew_sm_  vOffset _eq_ 1 - (y+h) / textureh_sm_  uScale _eq_ w / texturew_sm_  vScale _eq_ h / textureh_sm__lt_/pre_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#4DVSK%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#4DVSK#1_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_If that_t_s your intention then the current implementation is right. Like I said_co_ without documentation or unit tests it_t_s not really possible for anyone else to talk about correctness without knowing your intention._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-09-26T17:03:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Code _eq_ intention here (I mean_co_ there is no secret_co_ code is open_co_ my intention is coded inside)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Babylon.js is a community project. I cannot do everything by myself. Please update the doc with whatever you may find useful. This is why the project is open sourced. To work together to provide a better framework_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-09-26T17:09:47Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Perhaps just adding this image in the documentation could help?_lt_/p_gt__lt_p_gt__lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_09_2015/post-4442-0-05906600-1443287434.jpg_qt_ rel_eq__qt_external nofollow_qt__gt__lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_09_2015/post-4442-0-05906600-1443287434.jpg_qt_ data-fileid_eq__qt_5197_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_post-4442-0-05906600-1443287434.jpg_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-09-26T17:37:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Actually I did it_dd_)_lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//doc.babylonjs.com/tutorials/04._Materials_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/tutorials/04._Materials_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"fenomas","Date":"2015-09-26T18:06:04Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_98312_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_17412_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt_ data-cite_eq__qt_Deltakosh_qt_ data-ipsquote-timestamp_eq__qt_1443286982_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt_Code _eq_ intention here (I mean_co_ there is no secret_co_ code is open_co_ my intention is coded inside)_lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Well_co_ code only _eq_ intention if it_t_s correct.   _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  In this case you were asking if the code was correct_co_ so that_t_s why I asked about intention._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Chatter aside_co_ it would be really useful if the playground had a way to specify using BJS 2.2 or 2.1. I would like to have reported this issue with a PG_co_ but I had no way to check that the code would have worked under 2.2 for comparison._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-09-26T18:17:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_VOffset or VScale_co_ V _eq_ Vertical_co_ thus automatically by from bottom to top._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2015-09-26T18:22:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_98324_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_17412_qt_ data-ipsquote-username_eq__qt_fenomas_qt_ data-cite_eq__qt_fenomas_qt_ data-ipsquote-timestamp_eq__qt_1443290764_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt_Chatter aside_co_ it would be really useful if the playground had a way to specify using BJS 2.2 or 2.1. I would like to have reported this issue with a PG_co_ but I had no way to check that the code would have worked under 2.2 for comparison._lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I was thinking something similar today.  A dropdown for babylonjs versions would be awesome._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-09-27T01:46:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_It is a good idea. I_t_ll add it to my LOOONNNNG todo list _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt__gt__lt_div_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_span style_eq__qt_color_dd_rgb(40_co_40_co_40)_sm_font-family_dd_helvetica_co_ arial_co_ sans-serif_sm__qt__gt_In this case you were asking if the code was correct_co_ so that_t_s why I asked about intention._lt_/span_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_Tha_t_ts true _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Vousk-prod.","Date":"2015-10-17T23:07:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Oh my fracking god!!! That particular change have broken every materials of every projects I_t_m working on! Fine tuned speculars_co_ bumps_co_ reflections_co_ everything is affected _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ alt_eq__qt__dd_(_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_I_t_m not using offsets and scales to address sprites in spritesheets_co_ I_t_m using them to produce materials as realistic as possible thanks to multiple UVs and textures layers usage._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I_t_m happy to see that a bug was fixed_co_ but manually redoing hundreds of materials in a lot of materials libraries would be an endless and painfull job... _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_unsure.png_qt_ alt_eq__qt__dd_unsure_dd__qt__gt_ I_t_m sure there is a smart way to do that_co_ based on how things have changed!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Please DK_co_ would you mind providing us a quick explanation on what the bug was_co_ what have changed and which parts of standardMaterial were affected by the fix (UVscales and offsets_co_ every texture slots_co_ something else ?)._lt_/p_gt__lt_p_gt_I tried to find the incriminated commit but didn_t_t managed to spot it._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Do you think it_t_s possible to deduce from your changes a brief _qt_converting rule to follow_qt_ to be able for us to properly fix materials without requiring to refine each one visually ? That would be very nice._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-10-18T01:57:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Only UV scale and offset changed._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The simplest way for you could be to force this (use the old formula)_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_BABYLON.Texture.prototype._prepareRowForTextureGeneration _eq_ function(x_co_ y_co_ z_co_ t) {  x -_eq_ this.uOffset + 0.5_sm_  y -_eq_ this.vOffset + 0.5_sm_  z -_eq_ 0.5_sm_  BABYLON.Vector3.TransformCoordinatesFromFloatsToRef(x_co_ y_co_ z_co_ this._rowGenerationMatrix_co_ t)_sm_  t.x *_eq_ this.uScale_sm_  t.y *_eq_ this.vScale_sm_  t.x +_eq_ 0.5_sm_  t.y +_eq_ 0.5_sm_  t.z +_eq_ 0.5_sm_}_lt_/pre_gt__lt_p_gt_For the record here is the new version_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_x *_eq_ this.uScale_sm_y *_eq_ this.vScale_sm_x -_eq_ 0.5 * this.uScale_sm_y -_eq_ 0.5 * this.vScale_sm_z -_eq_ 0.5_sm_Vector3.TransformCoordinatesFromFloatsToRef(x_co_ y_co_ z_co_ this._rowGenerationMatrix_co_ t)_sm_t.x +_eq_ 0.5 * this.uScale + this.uOffset_sm_t.y +_eq_ 0.5 * this.vScale + this.vOffset_sm_t.z +_eq_ 0.5_sm__lt_/pre_gt__lt_p_gt_So globally_co_ now scaling is done BEFORE translation which was not the case before_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Now_dd_ scaling x rotation x translation_lt_/p_gt__lt_p_gt_Before_dd_ translation x rotation x scaling_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Vousk-prod.","Date":"2015-10-18T02:02:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Thank you so much DK!!!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-10-18T02:03:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Does it make sense ? Do you disagree with the changes?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]