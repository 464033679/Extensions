[{"Owner":"MacSkelly","Date":"2016-02-07T17:45:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_ll start off by saying I_t_m very new to Babylonjs so excuse my incompetence if I_t_m doing something silly. So I_t_m creating a town building sim and I_t_m handling the building creation by creating a grid of invisible cubes that can turn into specific buildings when clicked on in _qt_Build Mode_qt_. I have a button that handles going in and out of _qt_Build Mode_qt_ and it alternates a buildMode variable from true to false. What I_t_m trying to do is register the action that handles the highlighting of the build areas_co_ the cubes_co_ when buildMode equals _qt_true_qt_ and unregister it when it equals _qt_false_qt_. Here_t_s how I_t_m handling it so far_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_scene.registerBeforeRender(function() {\n\t\t\n\t\t\tfor(var i _eq_ 0_sm_ i &lt_sm_ 144_sm_ i++){\n\t\t\t\n\t\t\t\tvar currentBox _eq_ scene.getMeshByName(_qt_box_qt_ + i)_sm_\n\t\t\t\tvar overAction _eq_ new BABYLON.SetValueAction(BABYLON.ActionManager.OnPointerOverTrigger_co_ currentBox_co_ _qt_visibility_qt__co_ 1)_sm_\n\t\t\t\tvar outAction _eq_ new BABYLON.SetValueAction(BABYLON.ActionManager.OnPointerOutTrigger_co_ currentBox_co_ _qt_visibility_qt__co_ 0)_sm_\n\t\t\t\t\n\t\t\t\tif(buildMode _eq__eq_ true) {\n\t\t\t\t\t\n\t\t\t\t\tcurrentBox.actionManager.registerAction(overAction)_sm_\n\t\t\t\t\tcurrentBox.actionManager.registerAction(outAction)_sm_\n\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\n\t\t\t\t\tcurrentBox.actionManager.actions.pop(overAction)_sm_\n\t\t\t\t\tcurrentBox.actionManager.actions.pop(outAction)_sm_\n\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\n\t\t})_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tIt works going from buildMode false to true but not true to false_co_ as in I click the button and build mode enables but it the actions are still working when I click the button again.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAlso_co_ am I right in saying that I could maybe avoid all this if I just add a condition to the Action and add the action to the boxes when I first create them? I tried looking into that but I_t_m not really sure how BABYLON.ValueCondition works. As I said I_t_m pretty new at this so any help would be great.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Samuel Girardin","Date":"2016-02-07T18:44:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\thi_co_ it s off topic but did you find a solution for your walker?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"MacSkelly","Date":"2016-02-07T21:15:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_ve put the walkers on the backburner for the time being as its turning out to be more complicated than I expected. I liked your approach_co_ its very cool_co_ but its a bit too complicated for my project as the walkers will really just be aesthetic_co_ just to make my town look alive. I_t_m looking in into some pathfinding algorithms such as breadth-first or A* as I really don_t_t need the walkers to avoid each other_co_ just the buildings.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Samuel Girardin","Date":"2016-02-07T22:47:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tyou can have a look at this too _dd_ _lt_a href_eq__qt_http_dd_//lo-th.github.io/root/traffic/index.html_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//lo-th.github.io/root/traffic/index.html_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-02-08T01:16:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThis does not work because you create a NEW overAction and outAction on EVERY frame _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt_true_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt__gt__lt_/p_gt_\n\n_lt_p_gt_\n\tYou should create all actions outside of this callback and just turn them on and off. BTW why not doing it on click on your button instead of checking it on every frame?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"MacSkelly","Date":"2016-02-08T14:07:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt__gt_@Deltakosh_lt_/a_gt_I notice now that I have made some questionable decisions with my code _lt_img alt_eq__qt__dd_mellow_dd__qt_ data-emoticon_eq__qt_true_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_mellow.png_qt_ title_eq__qt__dd_mellow_dd__qt__gt__lt_/p_gt_\n\n_lt_p_gt_\n\tHow does one go about turning them on and off? I was looking for something like this but I couldn_t_t find it.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2016-02-08T14:36:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo_co_ a simple solution would be this_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#HUY9P_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#HUY9P_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tExecute code on pointer over and out_co_ check that a variable out of the functions scope is either true or false_co_ and change this variable with the scene_t_s action manager (in this case_co_ it will toggle when you press the _qt_b_qt_ button).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe scene_t_s before and after rendering loops run (surprisingly _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt_true_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt__gt_ ) on every frame_co_ before or after the render process.  You should try to avoid creating too many new objects in them_co_ as they will influence your render time. Also - actions_co_ just like JS events_co_ should br registered once_co_ including the entire functionality you need. The helper actions (SetValue etc_t_) are wonderful when needed something simply_co_ but when you need something a bit more complex_co_ use the ExecuteCodeAction.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"MacSkelly","Date":"2016-02-08T14:59:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/10310-raananw/?do_eq_hovercard_qt_ data-mentionid_eq__qt_10310_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/10310-raananw/_qt__gt_@RaananW_lt_/a_gt_ Thanks for the playground example.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt_t_s a much easier approach than what I was going for_co_ but I_t_m running into a problem. I want to add this action to multiple meshes in a loop but it seems to only work for the first mesh that_t_s added. My code_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_for (var i _eq_ 0_sm_ i &lt_sm_ size_sm_ i++) {\n        \n        var box _eq_ BABYLON.Mesh.CreateBox(_qt_box_qt_ + boxNo_co_ 0.5_co_ scene)_sm_\n        box.position.x _eq_ x_sm_\n        x +_eq_ 0.5_sm_\n        box.position.z _eq_ z_sm_\n        \t\t\t\n        var materialBox _eq_ new BABYLON.StandardMaterial(_qt_texture_qt_ + boxNo_co_ scene)_sm_\n        materialBox.alpha _eq_ 0.2_sm_\n        box.setMaterialByID(_qt_texture_qt_ + boxNo)_sm_\n\t\t\t\t\t\n        box.visibility _eq_ 0_sm_\n\t\t\t\t\t\n\tbox.actionManager _eq_ new BABYLON.ActionManager(scene)_sm_\n\t\t\t\t\t\n\tbox.actionManager.registerAction(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnPointerOverTrigger_co_ function (evt) {\n\t\tif(buildMode) box.visibility _eq_ 1_sm_\n\t}))_sm_\n\t\t\t\t\t   \n\tbox.actionManager.registerAction(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnPointerOutTrigger_co_ function (evt) {\n\t\tif(buildMode) box.visibility _eq_ 0_sm_\n\t}))_sm_\n        \t\t\t\n        boxNo++_sm_\n        \n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tWould you know of any reason why this may be the case? It worked fine with setValueAction_co_ well_co_ before I needed to add the buildMode condition.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2016-02-08T15:03:34Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOf course there is a reason. It is called _qt_JavaScript_qt_ and it is a hell of a language _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt_true_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt__gt_ (My guess is_co_ that it_t_s working for the last mesh you added)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTry creating the boxes first_co_ and then use a forEach loop (and not a for loop) to create the actions. Should be working.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2016-02-08T15:08:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSmthng like this - _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#HUY9P%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#HUY9P#1_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"MacSkelly","Date":"2016-02-08T15:17:38Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/10310-raananw/?do_eq_hovercard_qt_ data-mentionid_eq__qt_10310_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/10310-raananw/_qt__gt_@RaananW_lt_/a_gt_ Thank you so much_co_ it_t_s working perfectly now.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPreviously I_t_ve only used JavaScript for making small changes to the DOM_co_ so I_t_m only starting to understand how little I know about it and how confusing it can be _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt_true_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]