[{"Owner":"jerome","Date":"2015-09-22T08:28:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Here_t_s a tiny tutorial about the new _lt_em_gt_CreateBox_lt_/em_gt_ method features _dd_ per face textures and colors._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_strong_gt__lt_u_gt_Textures_lt_/u_gt__lt_/strong_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Image that you have such an image file _dd_ _lt_a href_eq__qt_http_dd_//jerome.bousquie.fr/BJS/images/spriteAtlas.png_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//jerome.bousquie.fr/BJS/images/spriteAtlas.png_lt_/a_gt__lt_/p_gt__lt_p_gt_We call it_co_ in video games development_co_  a sprite atlas because we have 24 different spite images in a single file _dd_ 4 rows of 6 sprites_co_ each having the same size._lt_/p_gt__lt_p_gt_Well_co_ I_t_m about to talk about atlases here_co_ but remember it_t_s only an example to illustrate the per-texture feature. It_t_s not mandatory to use an atlas_co_ you can just use a regular texture file and choose what part of it to display on each (or only some) box face._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Let_t_s start..._lt_/p_gt__lt_p_gt_We create a rectangular box by using the new _lt_em_gt_options_lt_/em_gt_ parameters line 43 and 50 _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1V3CAT_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1V3CAT_lt_/a_gt__lt_/p_gt__lt_p_gt_Then we give to its material the texture as usual _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1V3CAT%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1V3CAT#1_lt_/a_gt__lt_/p_gt__lt_p_gt_Nothing new until now_co_ right ?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Let_t_s go on._lt_/p_gt__lt_p_gt_Please have a look from line 27 _dd__lt_/p_gt__lt_p_gt_Line 30_co_ we define a new array called _lt_em_gt_faceUV_lt_/em_gt__co_ sized 6 because our box has 6 faces. This array will content _lt_em_gt_Vector4_lt_/em_gt_ elements._lt_/p_gt__lt_p_gt_Each _lt_em_gt_Vector4(x_co_ y_co_ z_co_ w)_lt_/em_gt_ will be defined this way _dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_x _eq_ Utop  y _eq_ Vtopz _eq_ Ubottomw _eq_ Vbottom_lt_/pre_gt__lt_p_gt_all in the range [0_co_ 1]_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_as _lt_em_gt_Utop_lt_/em_gt__co_ _lt_em_gt_Vtop_lt_/em_gt_ are the 2D coordinates of the top left point where to start to crop the texture file and _lt_em_gt_Ubottom_lt_/em_gt__co_ _lt_em_gt_Vbottom_lt_/em_gt_ the bottom right ones where to stop to crop._lt_/p_gt__lt_p_gt_Not clear ?_lt_/p_gt__lt_p_gt_Let_t_s go back to our sprite atlas _dd_ we_t_ve got 4 rows of 6 sprites._lt_/p_gt__lt_p_gt_So if we iterate _lt_em_gt_i_lt_/em_gt_ from 0 to 5 (so 6 times as 6 box faces) and if we assign_lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_Utop _eq_ i / 6Vtop _eq_ 0Ubottom _eq_ (i+1) / 6Vbottom _eq_ 1 / 4_lt_/pre_gt__lt_p_gt_to each array element_co_ we actually set a different sprite from the the first horizontal row to each box face in the _lt_em_gt_faceUV_lt_/em_gt_ array_lt_/p_gt__lt_p_gt_code _dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_  var hSpriteNb _eq_  6_sm_  // 6 sprites per raw  var vSpriteNb _eq_  4_sm_  // 4 sprite raws  var faceUV _eq_ new Array(6)_sm_  for (var i _eq_ 0_sm_ i &lt_sm_ 6_sm_ i++) {    faceUV[i] _eq_ new BABYLON.Vector4(i/hSpriteNb_co_ 0_co_ (i+1)/hSpriteNb_co_ 1 / vSpriteNb)_sm_  }_lt_/pre_gt__lt_p_gt_To pass then this array to the _lt_em_gt_CreateBox_lt_/em_gt_ method_co_ just add a parameter called _lt_em_gt_faceUV_lt_/em_gt__co_ valued with this array_co_ to the _lt_em_gt_options _lt_/em_gt__dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_  var options _eq_ {    width_dd_ 10_co_    height_dd_ 3_co_    depth_dd_ 5_co_    faceUV_dd_ faceUV  }_sm_  var box _eq_ BABYLON.Mesh.CreateBox(_t_box_t__co_ options_co_ scene)_sm_  box.material _eq_ mat_sm__lt_/pre_gt__lt_p_gt_Here_t_s the result _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1V3CAT%232_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1V3CAT#2_lt_/a_gt__lt_/p_gt__lt_p_gt_Quite easy_co_ isn_t_t it ?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Now look at the red haired character on the top face of the box. He has his head on the left_co_ right ?_lt_/p_gt__lt_p_gt_What if I want to flip only this face ?_lt_/p_gt__lt_p_gt_This face is the box face 4 (just make attempts to discover the box geometry). I just then need to swap y and w coordinate values _dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_  var f _eq_ 4_sm_  var temp _eq_ faceUV[f].y_sm_  faceUV[f].y _eq_ faceUV[f].w_sm_  faceUV[f].w _eq_ temp_sm__lt_/pre_gt__lt_p_gt_Now_co_ his head in on the right _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1V3CAT%233_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1V3CAT#3_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Obviously_co_ you_t_re not obliged to set every box face._lt_/p_gt__lt_p_gt_Imagine you want to set only the face 4._lt_/p_gt__lt_p_gt_Forget about the _lt_em_gt_for{}_lt_/em_gt_ loop_co_ just initialize your _lt_em_gt_faceUV_lt_/em_gt_ array and set only _lt_em_gt_faceUV[4]_lt_/em_gt_ _dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_  var faceUV _eq_ new Array(6)_sm_  faceUV[4] _eq_ new BABYLON.Vector4(0_co_ 0_co_ 1 / hSpriteNb_co_ 1 / vSpriteNb)_sm__lt_/pre_gt__lt_p_gt_Two lines of code only and that_t_s all _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1V3CAT%234_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1V3CAT#4_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_strong_gt__lt_u_gt_Colors_lt_/u_gt__lt_/strong_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Let_t_s go back to our initial rectangular box _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1V3CAT_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1V3CAT_lt_/a_gt__lt_/p_gt__lt_p_gt_We are about to apply the same principle here not with textures_co_ but with colors._lt_/p_gt__lt_p_gt_Let_t_s define a 6 element array _lt_em_gt_faceColors_lt_/em_gt_ (as for 6 box faces) and just set the color of the faces we want with Colors4_lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_  var faceColors _eq_ new Array(6)_sm_  faceColors[4] _eq_ new BABYLON.Color4(1_co_0_co_0_co_1)_sm_   // red top  faceColors[1] _eq_ new BABYLON.Color4(0_co_1_co_0_co_1)_sm_   // green front_lt_/pre_gt__lt_p_gt_then pass this array to the _lt_em_gt_CreateBox_lt_/em_gt_ method with the new _lt_em_gt_faceColors_lt_/em_gt_ parameter of _lt_em_gt_options_lt_/em_gt__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_  var options _eq_ {    width_dd_ 10_co_    height_dd_ 3_co_    depth_dd_ 5_co_    faceColors _dd_ faceColors  }_sm_  var box _eq_ BABYLON.Mesh.CreateBox(_t_box_t__co_ options_co_ scene)_sm__lt_/pre_gt__lt_p_gt_simple_co_ isn_t_t it ?  _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1V3CAT%235_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1V3CAT#5_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Colors are BJS vertex color4_co_ this mean you can give an alpha if you enable the _lt_em_gt_hasVertexAlpha_lt_/em_gt_ mesh property _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1V3CAT%236_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1V3CAT#6_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_You can even combine the vertex colors with a colored material_co_ blue here _dd_  _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1V3CAT%237_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1V3CAT#7_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_And finally you can of course mix the face colors with the per-face texture feature (and the material color) _dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_  var options _eq_ {    width_dd_ 10_co_    height_dd_ 3_co_    depth_dd_ 5_co_    faceUV_dd_ faceUV_co_    faceColors _dd_ faceColors  }_sm__lt_/pre_gt__lt_p_gt_Enjoy _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1V3CAT%238_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1V3CAT#8_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_No more submaterials or submeshes for so simple things !_lt_/p_gt__lt_p_gt_Have fun gals and guys _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-09-22T21:05:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hey Jerome_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_please copy paste it to the documentation _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ This is where it belongs to be_dd_)_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-09-23T07:12:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_sir_co_ yes sir !_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-09-23T09:39:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Doc PRed_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2015-09-23T13:22:34Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Congrats_co_ Jerome... nice work!  Thanks for the cool feature add!!! _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Ok_co_ so... now... 3 and 4 sided pyramids?  Make a new CreatePyramid() basic shape so that pyramids are no longer dependent-upon the rules of a cylinder?  If pyramids could be made without using CreateCylinder_co_ then the per-side coloring and texturing... would be available to those_co_ too_co_ yes?  hmm.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-09-23T13:26:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Yes_co_ I will do this_co_ it_t_s planned  (endless backlog_co_ arrf)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_BTW_co_ 3 sided pyramids are actually tetrahedrons with ... 4 sides _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_tongue.png_qt_ alt_eq__qt__dd_P_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/tongue@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ and what we usually call 4 sided pyramids are real pyramids with 5 sides (don_t_t forget the bottom side)_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2015-09-23T13:52:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_yuh yuh_co_ you is absolutely correct_co_ sir.  And_co_ that is good news (about pyramid futures).  Probably a 3-4 minute modification of CreateBox... and then CreatePyramid will be done?  *nod*  _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Ok_co_ ok_co_ 10 minutes_co_ tops_co_ right?  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I came across the word _qt_apex_qt_ when reading-about pyramids.  It is the point or tip of the pyramid (duh).  I like that word.  Using it makes me feel important and educated... just like _qt_orthogonal_qt_.  In fact... I sometimes take one of Jerome_t_s technical geometry-word-ladened posts to my local cafe... read it aloud_co_ and they give me free coffee... for reciting that cool math poem.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-09-23T14:00:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_ _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_laugh.png_qt_ alt_eq__qt__dd_lol_dd__qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_So don_t_t say _qt_Snub Icosidodecahedron_qt_ ... else they will offer to you a year of bourbon !_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-09-28T14:32:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_documentation updated _dd_ _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/tutorials/CreateBox_Per_Face_Textures_And_Colors_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/tutorials/CreateBox_Per_Face_Textures_And_Colors_lt_/a_gt__lt_/p_gt__lt_p_gt_waiting for the last PR to be merged_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I just added an example how to use only one single texture file to display two different images onto two different boxes_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Eric McG","Date":"2016-04-17T00:44:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi Jerome_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI can_t_t for the life of me create a box with CreateBox using _lt_a href_eq__qt_http_dd_//i.imgur.com/uPBZOiB.png_qt_ rel_eq__qt_external nofollow_qt__gt_this image_lt_/a_gt_ so that the faces form an RGB color cube.  My attempt is _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1V3CAT%23137_qt_ rel_eq__qt_external nofollow_qt__gt_here_lt_/a_gt_.   Any advice?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2016-04-23T18:52:31Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tmaybe_co_ you just have to set different UVs...\n_lt_/p_gt_\n\n_lt_p_gt_\n\texample _dd_ here_co_ I just invert V for the face B _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1V3CAT%23138_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1V3CAT#138_lt_/a_gt_ _co_ this looks better\n_lt_/p_gt_\n\n_lt_p_gt_\n\tjust a matter of order\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]