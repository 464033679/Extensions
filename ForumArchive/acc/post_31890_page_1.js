[{"Owner":"boyofgreen","Date":"2017-07-26T02:58:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello Friends_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t  I recently upgraded to the RC version of BJS 3 and am now seeing an error that isn_t_t present in v2.  I am creating an audio file and setting the src to a blob URL that I have just created with getUserMedia (it_t_s a wave)_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_\nvar newUrl _eq_ (window.URL || window.webkitURL).createObjectURL(blob)_sm_\nvar audioEl _eq_ new Audio()_sm_\naudioEl.controls _eq_ true_sm_\naudioEl.src _eq_ newUrl_sm_\ndocument.getElementById(_t_curTrackContainer_t_).appendChild(audioEl)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_pre_gt_\n_lt_code_gt_ audioObj[i].sound.dispose()_sm_\naudioObj[i].sound _eq_ new BABYLON.Sound(newName+i_co_ newUrl_co_ scene_co_ null_co_ { loop_dd_ false_co_ autoplay_dd_ false })_sm_\n_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tThe audio file plays okay from the audio element_co_ but when I try to have babylon play it_co_ I get this error_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_color_dd_#e74c3c_sm__qt__gt_BJS - [21_dd_52_dd_42]_dd_ Error while trying to play audio_dd_ Sampled15010375539220_co_ TypeMismatchError_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tbabylon.customRC.js (6025_co_13)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis method works fine in version 2.5 but breaks in 3.0.  Any help would be appreciated_co_ if we know what has changed in that space.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tJeff\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"davrous","Date":"2017-07-26T17:14:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello Jeff_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI don_t_t remember supporting playing blob directly_co_ I_t_m surprised it was working in the past. It supports_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- an ArrayBuffer or url to the sound to be played_lt_br /_gt_\n\t- an array of urls to be played (to provide for instance .ogg and .mp3 and let the browser choose the format supported to be played)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFor instance_co_ this sample_dd_ _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#E9CKPE_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#E9CKPE_lt_/a_gt_ is using an ArrayBuffer as an input. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI can add support for blob_dd_ url but it should work by either passing an ArrayBuffer (you can easily transform your blob into an ArrayBuffer).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDavid\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"davrous","Date":"2017-07-26T17:22:41Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tBy the way_co_ what would you like to do exactly? Maybe I should better expose the audio context of Web Audio to let you connect the microphone directly to it if needed.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"davrous","Date":"2017-07-26T18:09:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tWell_co_ you_t_re right_co_ it was working before. _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ It_t_s because I_t_ve added some logic testing the file extension. I need to consider the blob_dd_ prefix to avoid that. I_t_m going to update my code and push the new version asap. \n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"davrous","Date":"2017-07-26T18:44:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tDone. This sample now works_dd_ _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/debug.html#50DV4A%233_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/debug.html#50DV4A#3_lt_/a_gt_ _co_ so should your code also. \n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"boyofgreen","Date":"2017-07-27T00:16:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_ll try it out.  so remember the app I previewed to you about a year ago_co_ well I am still working on it and getting close.  The scenario is that when you are recording a story_co_ you can also record an audio track for each page of your story.  The architectureI have in place right now isn_t_t really great.  Basically I do this_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t1. record voice track with get user media_lt_br /_gt_\n\t2. pull the wave immediately out and set it to a _qt_preview_qt_ audio element and pass the wav into a Babylonjs audio object_lt_br /_gt_\n\t3. concert the wav to an mp3 in a separate thread_lt_br /_gt_\n\t4. save the mp3 into an indexedDB (for later use) and then update the Babylonjs audio object with the mp3 file.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt_t_s a bit of a mess right now_co_ I convert it to mp3 so that it doesn_t_t take up as much space_co_ but it takes quite a while to convert it (several minutes sometimes).  I_t_m going to let you know how the sample works.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"boyofgreen","Date":"2017-07-27T00:30:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThat seems to have fixed it!  I_t_ll do some heavy testing tonight_co_ but I_t_m sure it is fine.  You are awesome as always!   Next time I see you I_t_ll go into more depth as to what I am doing_co_ of course I would love for Babylon to do more of my work for me _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-07-27T15:24:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tWe are here to serve!\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]