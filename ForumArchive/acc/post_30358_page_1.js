[{"Owner":"rpajo","Date":"2017-05-11T09:31:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am still somewhat new to Babylon and i_t_m having the following problem. I am loading an .obj model into my scene and I wish to apply a standard material onto the meshes_co_ after the model has loaded.  But my problem is_co_ that the materials are not applied in the success callback. I have a button to maually apply the materials and it works fine.\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_document.getElementById(_qt_applyMaterials_qt_).addEventListener(_qt_click_qt__co_ function(e) {\n   var meshMaterial _eq_ new BABYLON.StandardMaterial(_qt_meshMaterial_qt__co_ scene)_sm_\n   meshMaterial.backFaceCulling _eq_ false_sm_\n   meshesGlobal.forEach(function(element) {\n       element.material _eq_ meshMaterial_sm_\n    }_co_ this)_sm_\n})_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tI have tried my code in the playground with the skull.babylon model and it works fine.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/index.html#EAY2GH_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/index.html#EAY2GH_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAm I missing someting?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-05-11T15:29:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tcan you save your .obj somewhere so you can reference it in the PG? It_t_s gonna be easier to help if we can see the bug\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Raggar","Date":"2017-05-11T17:47:47Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tdoes meshesGlobal contain All the meshes from the imported file?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf you use the blender exporter_co_ I think index 0 of the array is a root mesh without any geometry.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"rpajo","Date":"2017-05-12T16:35:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHey!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo i have recreated the situation with a sample model. \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/index.html#EAY2GH%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/index.html#EAY2GH#1_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have found that only importing models with mtl files are affected by this. I have also added a button to apply the materials manualy_co_ as I have mentioned. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAre the any problems that I am missing with applying materials on models with mtl files?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks for the help!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-05-12T17:19:34Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOk I know why _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ this is because the loading of .obj is done in 2 steps_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tfirst the obj is loaded and the callback is called\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThen the mtl is loaded and material is applied.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf you are only interested by geometry I suggest removing the reference to the .mtl file in the .obj file _lt_img alt_eq__qt__sm_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ title_eq__qt__sm_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"rpajo","Date":"2017-05-13T10:17:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOh_co_ I understand.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks for celaring this up\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCheers _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ozRocker","Date":"2017-05-14T00:38:50Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tMaybe we should add this_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_\t\tvar matTimer _eq_ setInterval(function() {\n\t\t\tif (typeof(mesh.material) !_eq_ _qt_undefined_qt_) {\n\t\t\t\tclearTimeout(matTimer)_sm_\n\t\t\t\tvar mat _eq_ mesh.material_sm_\n\t\t\t\t//Do stuff to material\n\t\t\t}\n\t\t}_co_ 50)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tto the OBJ Loader documentation _t_cos a lot of people encounter this problem first time when trying to access .OBJ materials\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]