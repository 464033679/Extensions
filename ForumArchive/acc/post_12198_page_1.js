[{"Owner":"bombe93","Date":"2015-02-02T20:51:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I_t_m trying to use Babylon.js to make a fun fps._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_How I can get to make the camera a jump after press the space button?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I am following this guide (_lt_a href_eq__qt_http_dd_//pixelcodr.com/tutos/shooter/shooter.html_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//pixelcodr.com/tutos/shooter/shooter.html_lt_/a_gt_). _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-02-02T22:37:46Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_create an event keyup or keydown. and add 2_co_ 3 in y position of your camera simply._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_For exemple_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_window.addEventListener(_qt_keyup_qt__co_ onKeyUp_co_ false)_sm_function onKeyUp(event){    switch (event.keyCode) {        case 32_dd_            your_camera.position.y +_eq_ 3_sm_        break_sm_    }}_lt_/pre_gt__lt_p_gt_Of course_co_ your camera must be gravity and collisions with the ground not to stay in the air and pass through the ground._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Mimetis","Date":"2015-02-03T10:22:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var cam _eq_ this.scene.cameras[0]_sm_cam.animations _eq_ []var a _eq_ new BABYLON.Animation(    _qt_a_qt__co_    _qt_position.y_qt__co_ 20_co_    BABYLON.Animation.ANIMATIONTYPE_FLOAT_co_    BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE)_sm_// Animation keysvar keys _eq_ []_sm_keys.push({ frame_dd_ 0_co_ value_dd_ cam.position.y })_sm_keys.push({ frame_dd_ 10_co_ value_dd_ cam.position.y + 2 })_sm_keys.push({ frame_dd_ 20_co_ value_dd_ cam.position.y })_sm_a.setKeys(keys)_sm_var easingFunction _eq_ new BABYLON.CircleEase()_sm_easingFunction.setEasingMode(BABYLON.EasingFunction.EASINGMODE_EASEINOUT)_sm_a.setEasingFunction(easingFunction)_sm_cam.animations.push(a)_sm_this.scene.beginAnimation(cam_co_ 0_co_ 20_co_ false)_sm__lt_/pre_gt__lt_p_gt_You can try something like that too_co_ it_t_s a little bit more _qt_smoothy_qt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"bombe93","Date":"2015-02-03T11:10:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Thanks for the quick replies._lt_br_gt_ _lt_/p_gt__lt_p_gt_I tried the suggestion of dad72 but does not work well_co_ jumps but there is no gravity so remains high._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I tried the suggestion of Mimetis but doesn_t_t work_co_ nothing happens._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Have you other ideas?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Hhas never happened to solve this problem?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-02-03T11:55:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_70396_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_12198_qt_ data-ipsquote-username_eq__qt_bombe93_qt_ data-cite_eq__qt_bombe93_qt_ data-ipsquote-timestamp_eq__qt_1422961835_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt_I tried the suggestion of dad72 but does not work well_co_ jumps but there is no gravity so remains high._lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__eq__eq_&gt_sm_ _lt_span style_eq__qt_color_dd_rgb(40_co_40_co_40)_sm_font-family_dd_helvetica_co_ arial_co_ sans-serif_sm__qt__gt_Of course_co_ _lt_strong_gt_your camera must be gravity_lt_/strong_gt_ and collisions with the ground not to stay in the air and pass through the ground._lt_/span_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_scene.gravity _eq_ new BABYLON.Vector3(0_co_ -9.81_co_ 0)_sm__lt_/p_gt__lt_div_gt_camera.applyGravity _eq_ true_sm__lt_/div_gt__lt_div_gt_scene.collisionsEnabled _eq_ true_sm__lt_p_gt_camera.checkCollisions _eq_ true_sm__lt_/p_gt__lt_/div_gt__lt_div_gt__lt_span style_eq__qt_background-color_dd_transparent_sm__qt__gt_ground.checkCollisions _eq_ true_sm__lt_/span_gt__lt_/div_gt__lt_div_gt_ _lt_/div_gt__lt_div_gt__lt_a href_eq__qt_http_dd_//babylondoc.azurewebsites.net/page.php?p_eq_22091_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//babylondoc.azurewebsites.net/page.php?p_eq_22091_lt_/a_gt__lt_/div_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"iiceman","Date":"2015-02-03T12:01:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Here is a playground with the ideas of dad72 and Mimetis combined. I changed the jump key to shift (space seems to trigger the playground to reload sometimes)._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#XN87O%232_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#XN87O#2_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Is that what you wanted?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"bombe93","Date":"2015-02-03T12:24:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Yes iiceman!_lt_br_gt__lt_br_gt_I tried what you suggested but it returns an error._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//postimg.org/image/7044jbtdj/_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//postimg.org/image/7044jbtdj/_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-02-03T12:43:44Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_You must use version 2.0 of babylon _dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_CTRL for jump (spacebar seems update the playground)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#XN87O%235_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#XN87O#5_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"bombe93","Date":"2015-02-03T13:23:46Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_i tried_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_when i do a left click mouse it freezes (With babylon 2.0 )._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_-------------------------_lt_/p_gt__lt_p_gt_The error with Babylon JS 2.0 is in this line_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_why?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//postimg.org/image/hp0ej094d/_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//postimg.org/image/hp0ej094d/_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-02-03T17:35:47Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_GetDeltaTime is now on the engine_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_engine.getDeltaTime()_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"bombe93","Date":"2015-02-03T19:03:22Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I tried but it does not work._lt_/p_gt__lt_p_gt_can you be more specific?_lt_br_gt_however_co_ the error that gives me is _qt_Uncaught TypeError_dd_ undefined is not a function_qt__co_ does not seem to find something._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-02-03T22:24:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_instead of using BABYLON.Tools.GetDeltaTime() please use engine.getDeltaTime() (with your engine object)_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"bombe93","Date":"2015-02-04T07:56:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Ok_co_ where is engine object?_lt_/p_gt__lt_p_gt_ _lt_br_gt_I think engine object is in this file (Game.js). _lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var VERSION _eq_ 1.0_co_    AUTHOR _eq_ _qt_temechon@pixelcodr.com_qt__sm_// The function onload is loaded when the DOM has been loadeddocument.addEventListener(_qt_DOMContentLoaded_qt__co_ function () {    new Game(_t_renderCanvas_t_)_sm_}_co_ false)_sm_           Game _eq_ function(canvasId) {    var canvas _eq_ document.getElementById(canvasId)_sm_    var engine _eq_ new BABYLON.Engine(canvas_co_ true)_sm_    this.scene _eq_ this._initScene(engine)_sm_    var _this _eq_ this_sm_    this.loader _eq_  new BABYLON.AssetsManager(this.scene)_sm_    // An array containing the loaded assets    this.assets _eq_ {}_sm_    var meshTask _eq_ this.loader.addMeshTask(_qt_gun_qt__co_ _qt__qt__co_ _qt_./assets/_qt__co_ _qt_gun.babylon_qt_)_sm_    meshTask.onSuccess _eq_ function(task) {        _this._initMesh(task)_sm_    }_sm_    this.loader.onFinish _eq_ function (tasks) {        // Player and arena creation when the loading is finished        var player _eq_ new Player(_this)_sm_        var arena _eq_ new Arena(_this)_sm_        engine.runRenderLoop(function () {            _this.scene.render()_sm_        })_sm_        window.addEventListener(_qt_keyup_qt__co_ function(evt) {            _this.handleUserInput(evt.keyCode)_sm_        })_sm_    }_sm_    this.loader.load()_sm_    // Resize the babylon engine when the window is resized    window.addEventListener(_qt_resize_qt__co_ function () {        if (engine) {            engine.resize()_sm_        }    }_co_false)_sm_      }_sm_Game.prototype _eq_ {    /**     * Init the environment of the game / skybox_co_ camera_co_ ...     */    _initScene _dd_ function(engine) {        var scene _eq_ new BABYLON.Scene(engine)_sm_                  /*         Camera attached to the canvas      var camera _eq_ new BABYLON.ArcRotateCamera(_qt_Camera_qt__co_ 0_co_ Math.PI/5_co_ 10_co_ BABYLON.Vector3.Zero()_co_ scene)_sm_       camera.maxZ _eq_ 1000_sm_       camera.attachControl(engine.getRenderingCanvas())_sm_        */        axis(scene_co_ 5)_sm_        // Update the scene background color        scene.clearColor_eq_new BABYLON.Color3(0.8_co_0.8_co_0.8)_sm_        // Hemispheric light to light the scene        new BABYLON.HemisphericLight(_qt_hemi_qt__co_ new BABYLON.Vector3(1_co_ 2_co_ 1)_co_ scene)_sm_        // Skydome        var skybox _eq_ BABYLON.Mesh.CreateSphere(_qt_skyBox_qt__co_ 50_co_ 1000_co_ scene)_sm_        skybox.layerMask _eq_ 2_sm_        // The sky creation        BABYLON.Engine.ShadersRepository _eq_ _qt_shaders/_qt__sm_        var shader _eq_ new BABYLON.ShaderMaterial(_qt_gradient_qt__co_ scene_co_ _qt_gradient_qt__co_ {})_sm_        shader.setFloat(_qt_offset_qt__co_ 200)_sm_        shader.setColor3(_qt_topColor_qt__co_ BABYLON.Color3.FromInts(0_co_119_co_255))_sm_        shader.setColor3(_qt_bottomColor_qt__co_ BABYLON.Color3.FromInts(240_co_240_co_ 255))_sm_        shader.backFaceCulling _eq_ false_sm_        skybox.material _eq_ shader_sm_        return scene_sm_    }_co_    /**     * Handle user keyboard inputs     * @param keycode     */    handleUserInput _dd_ function(keycode) {        switch (keycode) {            // user inputs        }    }_co_    /**     * Initialize a mesh once it has been loaded. Store it in the asset array and set it not visible.     * @param task     * @private     */    _initMesh _dd_ function(task) {        this.assets[task.name] _eq_ task.loadedMeshes_sm_        for (var i_eq_0_sm_ i&lt_sm_task.loadedMeshes.length_sm_ i++ ){            var mesh _eq_ task.loadedMeshes[i]_sm_            mesh.isVisible _eq_ false_sm_        }    }}_sm_/** * Draw axis on the scene * @param scene The scene where the axis will be displayed * @param size The size of each axis. */var axis _eq_ function(scene_co_ size) {        //X axis        var x _eq_ BABYLON.Mesh.CreateCylinder(_qt_x_qt__co_ size_co_ 0.1_co_ 0.1_co_ 6_co_ scene_co_ false)_sm_        x.material _eq_ new BABYLON.StandardMaterial(_qt_xColor_qt__co_ scene)_sm_        x.material.diffuseColor _eq_ new BABYLON.Color3(1_co_ 0_co_ 0)_sm_        x.position _eq_ new BABYLON.Vector3(size/2_co_ 0_co_ 0)_sm_        x.rotation.z _eq_ Math.PI / 2_sm_        //Y axis        var y _eq_ BABYLON.Mesh.CreateCylinder(_qt_y_qt__co_ size_co_ 0.1_co_ 0.1_co_ 6_co_ scene_co_ false)_sm_        y.material _eq_ new BABYLON.StandardMaterial(_qt_yColor_qt__co_ scene)_sm_        y.material.diffuseColor _eq_ new BABYLON.Color3(0_co_ 1_co_ 0)_sm_        y.position _eq_ new BABYLON.Vector3(0_co_ size / 2_co_ 0)_sm_        //Z axis        var z _eq_ BABYLON.Mesh.CreateCylinder(_qt_z_qt__co_ size_co_ 0.1_co_ 0.1_co_ 6_co_ scene_co_ false)_sm_        z.material _eq_ new BABYLON.StandardMaterial(_qt_zColor_qt__co_ scene)_sm_        z.material.diffuseColor _eq_ new BABYLON.Color3(0_co_ 0_co_ 1)_sm_        z.position _eq_ new BABYLON.Vector3(0_co_ 0_co_ size/2)_sm_        z.rotation.x _eq_ Math.PI / 2_sm_}_sm__lt_/pre_gt__lt_p_gt_ _lt_br_gt_ _lt_/p_gt__lt_p_gt_This is weapon.js (gives me this error_dd_ _qt_Uncaught ReferenceError_dd_ engine is not defined_qt_)_lt_/p_gt__lt_p_gt_where am I wrong?_lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_Weapon _eq_ function(game_co_ player) {    this.game _eq_ game_sm_    this.player _eq_ player_sm_    // The weapon mesh    var wp _eq_ game.assets[_qt_gun_qt_][0]_sm_    wp.isVisible _eq_ true_sm_    wp.rotationQuaternion _eq_ null_sm_    wp.rotation.x _eq_ -Math.PI/2_sm_    wp.rotation.y _eq_ Math.PI_sm_    wp.parent _eq_ player.camera_sm_    wp.position _eq_ new BABYLON.Vector3(0.25_co_-0.4_co_1)_sm_    this.mesh _eq_ wp_sm_    // The initial rotation    this._initialRotation _eq_ this.mesh.rotation.clone()_sm_    // The fire rate    this.fireRate _eq_ 250.0_sm_    this._currentFireRate _eq_ this.fireRate_sm_    this.canFire _eq_ true_sm_    // The particle emitter    var scene _eq_ this.game.scene_sm_    var particleSystem _eq_ new BABYLON.ParticleSystem(_qt_particles_qt__co_ 100_co_ scene )_sm_    particleSystem.emitter _eq_ this.mesh_sm_ // the starting object_co_ the emitter    particleSystem.particleTexture _eq_ new BABYLON.Texture(_qt_./assets/particles/gunshot_125.png_qt__co_ scene)_sm_    particleSystem.emitRate _eq_ 5_sm_    particleSystem.blendMode _eq_ BABYLON.ParticleSystem.BLENDMODE_STANDARD_sm_    particleSystem.minEmitPower _eq_ 1_sm_    particleSystem.maxEmitPower _eq_ 3_sm_    particleSystem.colorDead _eq_ new BABYLON.Color4(1_co_ 1_co_ 1_co_ 0.0)_sm_    particleSystem.minLifeTime _eq_ 0.2_sm_     particleSystem.maxLifeTime _eq_ 0.2_sm_    particleSystem.updateSpeed _eq_ 0.02_sm_    //particleSystem.start()_sm_    this.particleSystem _eq_ particleSystem_sm_    var _this _eq_ this_sm_        this.game.scene.registerBeforeRender(function() {        if (!_this.canFire) {            _this._currentFireRate -_eq_ engine.GetDeltaTime()_sm_           // _this._currentFireRate -_eq_ BABYLON.Tools.GetDeltaTime()_sm_            if (_this._currentFireRate &lt_sm__eq_ 0) {                _this.canFire _eq_ true_sm_                _this._currentFireRate _eq_ _this.fireRate_sm_            }        }    })_sm_    }_sm_Weapon.prototype _eq_ {    /**     * Animate the weapon     */    animate _dd_ function() {        this.particleSystem.start()_sm_        var start _eq_ this._initialRotation.clone()_sm_        var end _eq_ start.clone()_sm_        end.x +_eq_ Math.PI/10_sm_        // Create the Animation object        var display _eq_ new BABYLON.Animation(            _qt_fire_qt__co_            _qt_rotation_qt__co_            60_co_            BABYLON.Animation.ANIMATIONTYPE_VECTOR3_co_            BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT)_sm_        // Animations keys        var keys _eq_ [{            frame_dd_ 0_co_            value_dd_ start        }_co_{            frame_dd_ 10_co_            value_dd_ end        }_co_{            frame_dd_ 100_co_            value_dd_ start        }]_sm_        // Add these keys to the animation        display.setKeys(keys)_sm_        // Link the animation to the mesh        this.mesh.animations.push(display)_sm_        // Run the animation !        var _this _eq_ this_sm_        this.game.scene.beginAnimation(this.mesh_co_ 0_co_ 100_co_ false_co_ 10_co_ function() {            _this.particleSystem.stop()_sm_        })_sm_    }_co_    /**     * Fire the weapon if possible.     * The mesh is animated and some particles are emitted.     */    fire _dd_ function(pickInfo) {        if (this.canFire) {            if (pickInfo.hit &amp_sm_&amp_sm_ pickInfo.pickedMesh.name _eq__eq__eq_ _qt_target_qt_) {                pickInfo.pickedMesh.explode()_sm_              } else {                var b _eq_ BABYLON.Mesh.CreateBox(_qt_box_qt__co_ 1_co_ this.game.scene)_sm_                b.position _eq_ pickInfo.pickedPoint.clone()_sm_                b.checkCollisions _eq_ true_sm_                         }            this.animate()_sm_            this.canFire _eq_ false_sm_        } else {            // Nothing to do _dd_ cannot fire        }    }}_sm__lt_/pre_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"iiceman","Date":"2015-02-04T09:37:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_You could define engine outside your classes to make it a global variable that can be accessed from everywhere or you hand the engine variable to your weapon constructor when creating that class._lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_Weapon _eq_ function(game_co_ player_co_ engine) {    ...}_lt_/pre_gt__lt_p_gt_So when you initiate the Weapon_co_ you could pass the engine as a parameter... but I didn_t_t see where you create that weapon... not sure what_t_s the better way of doing it. But you get the idea?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"bombe93","Date":"2015-02-04T10:09:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Thanks iiceman!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I had not thought_co_ I solved in 10 seconds!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Now I_t_m trying to integrate the jump but gives me an error on the scene (_qt_Uncaught TypeError_dd_ Cannot read property _t_cameras_t_ of undefined_qt_)._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_This is the file Player.js where I want to add the jump_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_/** * A player is represented by a box and a free camera. * @param scene * @param game * @param spawnPoint The spawning point of the player * @constructor */Player _eq_ function(game_co_ spawnPoint) {    if (!spawnPoint) {        spawnPoint _eq_ new BABYLON.Vector3(0_co_10_co_-10)_sm_    }     // The player spawnPoint    this.spawnPoint _eq_ spawnPoint_sm_    // The game scene    this.scene _eq_ game.scene_sm_    // The game    this.game _eq_ game_sm_    // The player eyes height    this.height _eq_ 2_sm_    // The player speed    this.speed _eq_ 1_sm_    // The player inertia    this.inertia _eq_ 0.9_sm_    // The player angular inertia    this.angularInertia _eq_ 0_sm_    // The mouse sensibility (lower the better sensible)    this.angularSensibility _eq_ 4000_sm_    // The player camera    this.camera _eq_ this._initCamera()_sm_    // The player must click on the canvas to activate control    this.controlEnabled _eq_ false_sm_    // The player weapon    this.weapon _eq_ new Weapon(game_co_ this_co_this.scene.getEngine())_sm_    var _this _eq_ this_sm_    var canvas _eq_ this.scene.getEngine().getRenderingCanvas()_sm_    // Event listener on click on the canvas    canvas.addEventListener(_qt_click_qt__co_ function(evt) {        var width _eq_ _this.scene.getEngine().getRenderWidth()_sm_        var height _eq_ _this.scene.getEngine().getRenderHeight()_sm_        if (_this.controlEnabled) {            var pickInfo _eq_ _this.scene.pick(width/2_co_ height/2_co_ null_co_ false_co_ _this.camera)_sm_            _this.handleUserMouse(evt_co_ pickInfo)_sm_        }    }_co_ false)_sm_                                              // Event listener to go pointer lock    this._initPointerLock()_sm_    // The representation of player in the minimap    var s _eq_ BABYLON.Mesh.CreateSphere(_qt_player2_qt__co_ 16_co_ 8_co_ this.scene)_sm_    s.position.y _eq_ 10_sm_    s.registerBeforeRender(function() {        s.position.x _eq_ _this.camera.position.x_sm_        s.position.z _eq_ _this.camera.position.z_sm_            })_sm_    var red _eq_ new BABYLON.StandardMaterial(_qt_red_qt__co_ this.scene)_sm_    red.diffuseColor _eq_ BABYLON.Color3.Red()_sm_    red.specularColor _eq_ BABYLON.Color3.Black()_sm_    s.material _eq_ red_sm_    s.layerMask _eq_ 1_sm_    // Set the active camera for the minimap    this.scene.activeCameras.push(this.camera)_sm_    this.scene.activeCamera _eq_ this.camera_sm_}_sm_Player.prototype _eq_ {    _initPointerLock _dd_ function() {        var _this _eq_ this_sm_        // Request pointer lock        var canvas _eq_ this.scene.getEngine().getRenderingCanvas()_sm_        canvas.addEventListener(_qt_click_qt__co_ function(evt) {            canvas.requestPointerLock _eq_ canvas.requestPointerLock || canvas.msRequestPointerLock || canvas.mozRequestPointerLock || canvas.webkitRequestPointerLock_sm_            if (canvas.requestPointerLock) {                canvas.requestPointerLock()_sm_            }        }_co_ false)_sm_        // Event listener when the pointerlock is updated.        var pointerlockchange _eq_ function (event) {            _this.controlEnabled _eq_ (document.mozPointerLockElement _eq__eq__eq_ canvas || document.webkitPointerLockElement _eq__eq__eq_ canvas || document.msPointerLockElement _eq__eq__eq_ canvas || document.pointerLockElement _eq__eq__eq_ canvas)_sm_            if (!_this.controlEnabled) {                _this.camera.detachControl(canvas)_sm_            } else {                _this.camera.attachControl(canvas)_sm_            }        }_sm_        document.addEventListener(_qt_pointerlockchange_qt__co_ pointerlockchange_co_ false)_sm_        document.addEventListener(_qt_mspointerlockchange_qt__co_ pointerlockchange_co_ false)_sm_        document.addEventListener(_qt_mozpointerlockchange_qt__co_ pointerlockchange_co_ false)_sm_        document.addEventListener(_qt_webkitpointerlockchange_qt__co_ pointerlockchange_co_ false)_sm_    }_co_    /**     * Init the player camera     * @returns {BABYLON.FreeCamera}     * @private     */    _initCamera _dd_ function() {         var cam _eq_ new BABYLON.FreeCamera(_qt_camera_qt__co_ this.spawnPoint_co_ this.scene)_sm_        cam.attachControl(this.scene.getEngine().getRenderingCanvas())_sm_        cam.ellipsoid _eq_ new BABYLON.Vector3(2_co_ this.height_co_ 2)_sm_        cam.checkCollisions _eq_ true_sm_        cam.applyGravity _eq_ true_sm_                                       window.addEventListener(_qt_keyup_qt__co_ onKeyUp_co_ false)_sm_                function onKeyUp(event) {            switch (event.keyCode) {    \t        case 17_dd_                                              \t          var camera _eq_ this.scene.cameras[0]_sm_            \t\tcamera.animations _eq_ []_sm_\t\t            \t\tvar a _eq_ new BABYLON.Animation(_qt_a_qt__co_ _qt_position.y_qt__co_ 20_co_ BABYLON.Animation.ANIMATIONTYPE_FLOAT_co_ BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE)_sm_            \t\t            \t\t// Animation keys            \t\tvar keys _eq_ []_sm_            \t\tkeys.push({ frame_dd_ 0_co_ value_dd_ camera.position.y })_sm_            \t\tkeys.push({ frame_dd_ 10_co_ value_dd_ camera.position.y + 2 })_sm_            \t\tkeys.push({ frame_dd_ 20_co_ value_dd_ camera.position.y })_sm_            \t\ta.setKeys(keys)_sm_            \t\t            \t\tvar easingFunction _eq_ new BABYLON.CircleEase()_sm_            \t\teasingFunction.setEasingMode(BABYLON.EasingFunction.EASINGMODE_EASEINOUT)_sm_            \t\ta.setEasingFunction(easingFunction)_sm_            \t\t            \t\tcamera.animations.push(a)_sm_\t\t            \t\tthis.scene.beginAnimation(camera_co_ 0_co_ 20_co_ false)_sm_                                                              \t        break_sm_    \t    }                        }                                                            // ZQSD        cam.keysUp _eq_ [87]_sm_ // Z        cam.keysDown _eq_ [83]_sm_ // S        cam.keysLeft _eq_ [65]_sm_ // Q        cam.keysRight _eq_ [68]_sm_ // D        cam.speed _eq_ this.speed_sm_        cam.inertia _eq_ this.inertia_sm_        cam.angularInertia _eq_ this.angularInertia_sm_        cam.angularSensibility _eq_ this.angularSensibility_sm_        cam.layerMask _eq_ 2_sm_        return cam_sm_    }_co_    /**     * Handle the user input on keyboard     * @param keycode     */    handleUserKeyboard _dd_ function(keycode) {        switch (keycode) {                         }    }_co_    /**     * Handle the user input on mouse.     * click _eq_ shoot     * @param evt     * @param pickInfo The pick data retrieved when the click has been done     */    handleUserMouse _dd_ function(evt_co_ pickInfo) {        this.weapon.fire(pickInfo)_sm_    }       }_sm__lt_/pre_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"iiceman","Date":"2015-02-04T12:11:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I think the error is a reference to this line_dd_ _lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var camera _eq_ this.scene.cameras[0]_sm__lt_/pre_gt__lt_p_gt_Try changing it to_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var camera _eq_ cam_sm__lt_/pre_gt__lt_p_gt_... since that is the variable name of your camera. Alternatively you could remove that line and rename all appearances of camera to cam. Good luck_co_ hope it works _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"bombe93","Date":"2015-02-04T13:30:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Now gives me this error _qt_Uncaught TypeError_dd_ Cannot set property _t_animations_t_ of undefined_qt_ in this line _qt_camera.animations _eq_ []_sm__lt_span_gt_ _lt_/span_gt__qt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"iiceman","Date":"2015-02-04T14:09:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Well.. what did you do? You used the line_dd_ _qt_var camera _eq_ cam_sm__qt_? Right above the line that trows the error?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"bombe93","Date":"2015-02-04T15:02:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Yes i used _qt_var camera _eq_ cam_sm__qt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"iiceman","Date":"2015-02-04T15:35:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Then I don_t_t really know... you can just do some debugging out puts with console.log to see if it is really undefined and then find out why... check if your variable cam is set or where the error actually happens. Sorry_co_ it_t_s kinda hard for me when I can_t_t really play with the code _dd_-/_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"bombe93","Date":"2015-02-04T22:08:03Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_In this way does not give me any error but nothing happens  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_dry.png_qt_ alt_eq__qt_&lt_sm__&lt_sm__qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_UPDATE_dd_ _lt_span style_eq__qt_color_dd_rgb(0_co_0_co_0)_sm_font-family_dd_monospace_sm_font-size_dd_13px_sm_background-color_dd_rgb(245_co_245_co_245)_sm__qt__gt_ _lt_/span_gt__qt__lt_span style_eq__qt_color_dd_rgb(0_co_0_co_0)_sm_font-family_dd_monospace_sm_font-size_dd_13px_sm_background-color_dd_rgb(245_co_245_co_245)_sm__qt__gt_onKeyUp_qt_ _lt_/span_gt_function does not work if I try to pass variables (like camera)._lt_br_gt_I think gives me this error because it seems to be an isolated function and therefore does not take the variables that I need as the camera. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_(the jump function is at 114 line number)_lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_/** * A player is represented by a box and a free camera. * @param scene * @param game * @param spawnPoint The spawning point of the player * @constructor */Player _eq_ function(game_co_ spawnPoint) {    if (!spawnPoint) {        spawnPoint _eq_ new BABYLON.Vector3(0_co_10_co_-10)_sm_    }     // The player spawnPoint    this.spawnPoint _eq_ spawnPoint_sm_    // The game scene    this.scene _eq_ game.scene_sm_    // The game    this.game _eq_ game_sm_    // The player eyes height    this.height _eq_ 2_sm_    // The player speed    this.speed _eq_ 1_sm_    // The player inertia    this.inertia _eq_ 0.9_sm_    // The player angular inertia    this.angularInertia _eq_ 0_sm_    // The mouse sensibility (lower the better sensible)    this.angularSensibility _eq_ 4000_sm_    // The player camera    this.camera _eq_ this._initCamera()_sm_    // The player must click on the canvas to activate control    this.controlEnabled _eq_ false_sm_    // The player weapon    this.weapon _eq_ new Weapon(game_co_ this_co_this.scene.getEngine())_sm_    var _this _eq_ this_sm_    var canvas _eq_ this.scene.getEngine().getRenderingCanvas()_sm_    // Event listener on click on the canvas    canvas.addEventListener(_qt_click_qt__co_ function(evt) {        var width _eq_ _this.scene.getEngine().getRenderWidth()_sm_        var height _eq_ _this.scene.getEngine().getRenderHeight()_sm_        if (_this.controlEnabled) {            var pickInfo _eq_ _this.scene.pick(width/2_co_ height/2_co_ null_co_ false_co_ _this.camera)_sm_            _this.handleUserMouse(evt_co_ pickInfo)_sm_        }    }_co_ false)_sm_        // Event listener to go pointer lock    this._initPointerLock()_sm_    // The representation of player in the minimap    var s _eq_ BABYLON.Mesh.CreateSphere(_qt_player2_qt__co_ 16_co_ 8_co_ this.scene)_sm_    s.position.y _eq_ 10_sm_    s.registerBeforeRender(function() {        s.position.x _eq_ _this.camera.position.x_sm_        s.position.z _eq_ _this.camera.position.z_sm_            })_sm_    var red _eq_ new BABYLON.StandardMaterial(_qt_red_qt__co_ this.scene)_sm_    red.diffuseColor _eq_ BABYLON.Color3.Red()_sm_    red.specularColor _eq_ BABYLON.Color3.Black()_sm_    s.material _eq_ red_sm_    s.layerMask _eq_ 1_sm_    // Set the active camera for the minimap    this.scene.activeCameras.push(this.camera)_sm_    this.scene.activeCamera _eq_ this.camera_sm_}_sm_Player.prototype _eq_ {    _initPointerLock _dd_ function() {        var _this _eq_ this_sm_        // Request pointer lock        var canvas _eq_ this.scene.getEngine().getRenderingCanvas()_sm_        canvas.addEventListener(_qt_click_qt__co_ function(evt) {            canvas.requestPointerLock _eq_ canvas.requestPointerLock || canvas.msRequestPointerLock || canvas.mozRequestPointerLock || canvas.webkitRequestPointerLock_sm_            if (canvas.requestPointerLock) {                canvas.requestPointerLock()_sm_            }        }_co_ false)_sm_        // Event listener when the pointerlock is updated.        var pointerlockchange _eq_ function (event) {            _this.controlEnabled _eq_ (document.mozPointerLockElement _eq__eq__eq_ canvas || document.webkitPointerLockElement _eq__eq__eq_ canvas || document.msPointerLockElement _eq__eq__eq_ canvas || document.pointerLockElement _eq__eq__eq_ canvas)_sm_            if (!_this.controlEnabled) {                _this.camera.detachControl(canvas)_sm_            } else {                _this.camera.attachControl(canvas)_sm_            }        }_sm_        document.addEventListener(_qt_pointerlockchange_qt__co_ pointerlockchange_co_ false)_sm_        document.addEventListener(_qt_mspointerlockchange_qt__co_ pointerlockchange_co_ false)_sm_        document.addEventListener(_qt_mozpointerlockchange_qt__co_ pointerlockchange_co_ false)_sm_        document.addEventListener(_qt_webkitpointerlockchange_qt__co_ pointerlockchange_co_ false)_sm_    }_co_    /**     * Init the player camera     * @returns {BABYLON.FreeCamera}     * @private     */    _initCamera _dd_ function() {         var cam _eq_ new BABYLON.FreeCamera(_qt_camera_qt__co_ this.spawnPoint_co_ this.scene)_sm_        cam.attachControl(this.scene.getEngine().getRenderingCanvas())_sm_        cam.ellipsoid _eq_ new BABYLON.Vector3(2_co_ this.height_co_ 2)_sm_        cam.checkCollisions _eq_ true_sm_        cam.applyGravity _eq_ true_sm_                \t                             window.addEventListener(_qt_keyup_qt__co_ onKeyUp(cam)_co_ false)_sm_                            function onKeyUp(event_co_camera) {              switch (event.keyCode) {      \t        case 17_dd_                      \t          //var camera _eq_ cam_sm_              \t\tcamera.animations _eq_ []_sm_                                \t\tvar a _eq_ new BABYLON.Animation(_qt_a_qt__co_ _qt_position.y_qt__co_ 20_co_ BABYLON.Animation.ANIMATIONTYPE_FLOAT_co_ BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE)_sm_              \t\t              \t\t// Animation keys              \t\tvar keys _eq_ []_sm_              \t\tkeys.push({ frame_dd_ 0_co_ value_dd_ camera.position.y })_sm_              \t\tkeys.push({ frame_dd_ 10_co_ value_dd_ camera.position.y + 2 })_sm_              \t\tkeys.push({ frame_dd_ 20_co_ value_dd_ camera.position.y })_sm_              \t\ta.setKeys(keys)_sm_              \t\t              \t\tvar easingFunction _eq_ new BABYLON.CircleEase()_sm_              \t\teasingFunction.setEasingMode(BABYLON.EasingFunction.EASINGMODE_EASEINOUT)_sm_              \t\ta.setEasingFunction(easingFunction)_sm_              \t\t              \t\tcamera.animations.push(a)_sm_\t\t              \t\tthis.scene.beginAnimation(camera_co_ 0_co_ 20_co_ false)_sm_                                                             var cam _eq_ this.scene.cameras[0]_sm_                \t\tcam.animations _eq_ []_sm_              \t\t              \t\tvar a _eq_ new BABYLON.Animation(              \t\t    _qt_a_qt__co_              \t\t    _qt_position.y_qt__co_ 20_co_              \t\t    BABYLON.Animation.ANIMATIONTYPE_FLOAT_co_              \t\t    BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE)_sm_              \t\t              \t\t// Animation keys              \t\tvar keys _eq_ []_sm_              \t\tkeys.push({ frame_dd_ 0_co_ value_dd_ cam.position.y })_sm_              \t\tkeys.push({ frame_dd_ 10_co_ value_dd_ cam.position.y + 2 })_sm_              \t\tkeys.push({ frame_dd_ 20_co_ value_dd_ cam.position.y })_sm_              \t\ta.setKeys(keys)_sm_              \t\t              \t\tvar easingFunction _eq_ new BABYLON.CircleEase()_sm_              \t\teasingFunction.setEasingMode(BABYLON.EasingFunction.EASINGMODE_EASEINOUT)_sm_              \t\ta.setEasingFunction(easingFunction)_sm_              \t\t              \t\tcam.animations.push(a)_sm_              \t\t              \t\tscene.beginAnimation(cam_co_ 0_co_ 20_co_ false)_sm_                                                                                                                           \t        break_sm_    \t    }                        }                // ZQSD        cam.keysUp _eq_ [87]_sm_ // Z        cam.keysDown _eq_ [83]_sm_ // S        cam.keysLeft _eq_ [65]_sm_ // Q        cam.keysRight _eq_ [68]_sm_ // D        cam.speed _eq_ this.speed_sm_        cam.inertia _eq_ this.inertia_sm_        cam.angularInertia _eq_ this.angularInertia_sm_        cam.angularSensibility _eq_ this.angularSensibility_sm_        cam.layerMask _eq_ 2_sm_        return cam_sm_    }_co_    /**     * Handle the user input on keyboard     * @param keycode     */    handleUserKeyboard _dd_ function(keycode) {                switch (keycode) {                     }    }_co_    /**     * Handle the user input on mouse.     * click _eq_ shoot     * @param evt     * @param pickInfo The pick data retrieved when the click has been done     */    handleUserMouse _dd_ function(evt_co_ pickInfo) {        this.weapon.fire(pickInfo)_sm_    } }_sm__lt_/pre_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"iiceman","Date":"2015-02-05T07:52:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_You should be able to access cam from within the event  function even without passing the cam variable. Your cam variable is defined outside that function_co_ so it is on a higher level and should be available on lower levels_co_ too_co_ unless you overwrite it. So don_t_t try to pass it there. Just check if you can access it from within the event function._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I still don_t_t really understand your code I fear _dd_-/ How many cameras do you actually have? Just one? May I ask_dd_ did you write that code yourself?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_You don_t_t have a git repository with the whole project that I just could clone and try out myself_co_ do you? Or maybe you can upload everything to a server and I can get the whole thing from there and take a look?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"bombe93","Date":"2015-02-05T10:02:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_70711_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_12198_qt_ data-ipsquote-username_eq__qt_iiceman_qt_ data-cite_eq__qt_iiceman_qt_ data-ipsquote-timestamp_eq__qt_1423122729_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt_You should be able to access cam from within the event  function even without passing the cam variable. Your cam variable is defined outside that function_co_ so it is on a higher level and should be available on lower levels_co_ too_co_ unless you overwrite it. So don_t_t try to pass it there. Just check if you can access it from within the event function._lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_it_t_s what I think!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_70711_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_12198_qt_ data-ipsquote-username_eq__qt_iiceman_qt_ data-cite_eq__qt_iiceman_qt_ data-ipsquote-timestamp_eq__qt_1423122729_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt_I still don_t_t really understand your code I fear _dd_-/ How many cameras do you actually have? Just one? May I ask_dd_ did you write that code yourself?_lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The code does not wrote it_co_ but I_t_m trying to improve it by adding new things(like jump)._lt_/p_gt__lt_p_gt_I think there are 2 cameras_co_ one for player and the other for the minimap._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_70711_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_12198_qt_ data-ipsquote-username_eq__qt_iiceman_qt_ data-cite_eq__qt_iiceman_qt_ data-ipsquote-timestamp_eq__qt_1423122729_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt_You don_t_t have a git repository with the whole project that I just could clone and try out myself_co_ do you? Or maybe you can upload everything to a server and I can get the whole thing from there and take a look?_lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Here is the link_dd_ _lt_a href_eq__qt_https_dd_//github.com/Bombe93/Babylon-test_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/Bombe93/Babylon-test_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"bombe93","Date":"2015-02-05T11:50:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I solved!_lt_/p_gt__lt_p_gt_The problem is that the function _initCamera is private so I had to create a new variable scene(in this way the cam works_co_ _qt_var camera _eq_ cam_sm__qt_)_dd__lt_br_gt__lt_br_gt_ _lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt__initCamera _dd_ function() {         var cam _eq_ new BABYLON.FreeCamera(_qt_camera_qt__co_ this.spawnPoint_co_ this.scene)_sm_        cam.attachControl(this.scene.getEngine().getRenderingCanvas())_sm_        cam.ellipsoid _eq_ new BABYLON.Vector3(2_co_ this.height_co_ 2)_sm_        cam.checkCollisions _eq_ true_sm_        cam.applyGravity _eq_ true_sm_        var sceneJump _eq_ this.scene_sm_                    window.addEventListener(_qt_keyup_qt__co_ onKeyUp_co_ false)_sm_                            function onKeyUp(event) {              switch (event.keyCode) {      \t        case 17_dd_      \t          var camera _eq_ cam_sm_                                                  \t\tcamera.animations _eq_ []_sm_\t                                  \t\tvar a _eq_ new BABYLON.Animation(_qt_a_qt__co_ _qt_position.y_qt__co_ 20_co_ BABYLON.Animation.ANIMATIONTYPE_FLOAT_co_ BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE)_sm_                                                                            \t\t                \t\t// Animation keys              \t\tvar keys _eq_ []_sm_              \t\tkeys.push({ frame_dd_ 0_co_ value_dd_ camera.position.y })_sm_              \t\tkeys.push({ frame_dd_ 8_co_ value_dd_ camera.position.y + 8 })_sm_              \t\tkeys.push({ frame_dd_ 13_co_ value_dd_ camera.position.y })_sm_              \t\ta.setKeys(keys)_sm_              \t\t                                                   \t\tvar easingFunction _eq_ new BABYLON.CircleEase()_sm_              \t\teasingFunction.setEasingMode(BABYLON.EasingFunction.EASINGMODE_EASEINOUT)_sm_              \t\ta.setEasingFunction(easingFunction)_sm_              \t\tconsole.log(_qt_entrato6_qt_)_sm_                               \t\tcamera.animations.push(a)_sm_\t                                 \t\tsceneJump.beginAnimation(camera_co_ 0_co_ 20_co_ false)_sm_                                                                                              \t        break_sm_    \t    }                        }        _lt_/pre_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"iiceman","Date":"2015-02-05T12:48:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Uhm... okay.. well_co_ glad it works now _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]