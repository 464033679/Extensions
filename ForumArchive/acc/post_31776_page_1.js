[{"Owner":"Pryme8","Date":"2017-07-20T18:59:03Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#EC6R4F%2320_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#EC6R4F#20_lt_/a_gt__lt_br /_gt__lt_br /_gt_\n\tSo it _qt_works_qt_ but it crashes once it propagates out a little._lt_br /_gt_\n\tI need an idea of how to establish which zones to build.  _lt_br /_gt_\n\tMaybe like a max ring size instead of what I am doing now and have it only render out say 4 steps from the current zone the player is on?_lt_br /_gt__lt_br /_gt_\n\tJust hoping for some alternative ideas._lt_br /_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#EC6R4F%2319_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#EC6R4F#19_lt_/a_gt__lt_br /_gt_\n\t^^ for a non crashing version without neighborhood checks._lt_br /_gt__lt_br /_gt_\n\t#EDIT#\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAlso any math buffs wanna help me with how to do an equation to calculate the distance from the the outer closest edge point or center_co_ which ever is closest.  Not just the Center_co_ or at least point me in the right direction?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2017-07-20T22:44:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tGot the chunking done._lt_br /_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#EC6R4F%2326_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#EC6R4F#26_lt_/a_gt__lt_br /_gt__lt_br /_gt_\n\tNow I really need to do calculations on the nearest point on the plane_co_ _lt_a href_eq__qt_https_dd_//en.wikipedia.org/wiki/Distance_from_a_point_to_a_plane_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//en.wikipedia.org/wiki/Distance_from_a_point_to_a_plane_lt_/a_gt_  I found this but I am such a lamen I have no clue what it is saying if anyone can translate?\n_lt_/p_gt_\n\n\t\t\t\n\t\t\t\t\n\n_lt_span class_eq__t_ipsType_reset ipsType_medium ipsType_light_t_ data-excludequote_gt_\n\t_lt_strong_gt_Edited _lt_time datetime_eq__t_2017-07-21T00_dd_06_dd_58Z_t_ title_eq__t_07/21/2017 12_dd_06  AM_t_ data-short_eq__t_1 yr_t__gt_July 21_co_ 2017_lt_/time_gt_ by Pryme8_lt_/strong_gt_\n\t\n\t\n_lt_/span_gt_\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"V!nc3r","Date":"2017-07-21T08:25:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tSoon in _qt_Demos &amp_sm_ Project_qt__co_ Minecraft-like in webGL _lt_img alt_eq__qt__dd_lol_dd__qt_ data-emoticon_eq__qt__qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_laugh.png_qt_ title_eq__qt__dd_lol_dd__qt_ /_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2017-07-21T18:38:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#EC6R4F%2333_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#EC6R4F#33_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tGotta fix cracks (which will be easy) then just do my normal_t_s_co_ and the procedural terrain shader.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThen ill refine/extend the way the noise stack is used_co_ right now Im just doing 1 noise but eventually I want to layer them using the Das_Noises mixing methods.  After all that add dynamic heightmaps_co_ so the areas can be manipulated by the user!_lt_br /_gt__lt_br /_gt_\n\tBut here is the Infinite Terrain with LOD people have been wanting... there are a few fixes I could make to speed things up but this is a decent prototype.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2017-07-21T19:41:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThe LOD is really nice and the algo implementation is great ... but the allocations/deletions start to be noticeable regarding the FPS and the GC activity_co_ I suppose ...  \n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2017-07-22T14:42:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tYeah_co_  I think generating all the meshes for each level of LOD is overkill and is impacting performance.  I think reworking it to not do that will speed things up.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2017-07-25T19:17:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tSo today I am restructuring it to not build all the levels of LOD until they are needed which should do a lot for the FPS drop!_lt_br /_gt__lt_br /_gt_\n\tThen I am adding in a function to test the neighbors (if they exist) level of detail and have the correct T Junctions put into place on the zones so there are not any cracks and will prolly use this same function to do the normal calculations so that I can get rid of the normal artifacts._lt_br /_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#f00M0U%237_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#f00M0U#7_lt_/a_gt_ Not done yet_co_ but getting there... I only get to work on this in between real work so sorry if its dragging on...\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2017-07-26T18:10:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#f00M0U%2311_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#f00M0U#11_lt_/a_gt__lt_br /_gt__lt_br /_gt__lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5453-jerome/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5453_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5453-jerome/_qt_ rel_eq__qt__qt__gt_@jerome_lt_/a_gt_ So I really narrowed down the scope to try to debug this FPS drop_co_ and its starting to look like its not so much pre creation of the meshes that is impacting performance as is the change in level of detail.  I say this because even after all the levels are spawned as I transverse the levels I see a drop in FPS regardless if the meshes are preSpawned or not._lt_br /_gt__lt_br /_gt_\n\tWhat would be a viable way to stop this from happening?  Maybe do all the calculations in a setTimeout wrapper?  and then just have some secondary calculations to skip and cancel the functions of some timing/sync problems appear?  That way I can leave the main thread unlocked for the most part_co_ Im just not sure how easy it will be to prevent someone from breaking the system then though like if they go back and forth over a _qt_sensitive_qt_ area that will be destroying and creating zones each time._lt_br /_gt__lt_br /_gt_\n\tSomeone else contribute to this conversation please!!! _lt_img alt_eq__qt_^_^_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_happy.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/happy@2x.png 2x_qt_ title_eq__qt_^_^_qt_ width_eq__qt_20_qt_ /_gt_._lt_br /_gt__lt_br /_gt_\n\thmmm Maybe a variable on the main zone that holds if the meshes have been triggered to be created and then if they are complete then make it  LOD on a callback.  but then again the same problem that i mentioned above could happen. &gt_sm__&lt_sm_ arg._lt_br /_gt__lt_br /_gt_\n\talso I am trying to modify my tPlane object to know when to skip indices when I need to step down LOD levels._lt_br /_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1MGYNV%232_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1MGYNV#2_lt_/a_gt_ &lt_sm_- here is the developing of that but its a lot to think about intermittently. \n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2017-07-27T22:37:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1MGYNV%2323_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1MGYNV#23_lt_/a_gt__lt_br /_gt__lt_br /_gt_\n\tHoly crap the logic behind this was a little tricky..._lt_br /_gt__lt_br /_gt_\n\tanyways the tPlane object now can step down in any direction..._lt_br /_gt_\n\tThis is getting close to a workable LOD now._lt_br /_gt_\n\tAll I need to do is extend my neighborhood checks now to rebuild the zones as necessary with this new tPlane object._lt_br /_gt_\n\twhich should fix the cracks from the example_dd__lt_br /_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#EC6R4F%2333_qt_ rel_eq__qt_external nofollow_qt_ style_eq__qt_color_dd_#ad1457_sm__qt__gt_http_dd_//www.babylonjs-playground.com/#EC6R4F#33_lt_/a_gt__lt_br /_gt_\n\tand once I deploy it in the new structure_dd__lt_br /_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#f00M0U%237_qt_ rel_eq__qt_external nofollow_qt_ style_eq__qt_color_dd_#ad1457_sm__qt__gt_http_dd_//www.babylonjs-playground.com/#f00M0U#7_lt_/a_gt__lt_br /_gt_\n\tthe fps drops and cracks should be fixed\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2017-07-28T17:58:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWHA BAM!_lt_br /_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#f00M0U%2321_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#f00M0U#21_lt_/a_gt__lt_br /_gt_\n\tCracks are fixed ^_^... Now to calculate normals with neighbors taken into consideration.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t*EDIT*_lt_br /_gt_\n\tWell damn... _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#f00M0U%2323_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#f00M0U#23_lt_/a_gt__lt_br /_gt_\n\tI guess cracks are not fixed... what the heck._lt_br /_gt_\n\tAhhh I get it... dang gotta rework the tJunctions again to have normal splits on the indices on the alt faces._lt_br /_gt__lt_br /_gt_\n\t*UPDATE*_lt_br /_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#f00M0U%2324_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#f00M0U#24_lt_/a_gt__lt_br /_gt_\n\tJust North and West are kind glitchy now but I should be able to fix it as soon as I have a chance to really focus._lt_br /_gt_\n\tThen I need to run a neighbor check/pass when its created as well to stop the _qt_poping_qt_ from happening.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2017-07-28T19:18:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#f00M0U%2327_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#f00M0U#27_lt_/a_gt__lt_br /_gt_\n\tFixed woot_co_ now to prevent the _qt_poping_qt_.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2017-07-28T19:47:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\treally nice\n_lt_/p_gt_\n\n_lt_p_gt_\n\tbut some weird behavior _dd_ fly down to the surface_co_ then fly towards some direction above the mountains for a while_co_ then rotate the camera to see backward ... there are some remaining terrain parts floating in the space\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2017-07-28T19:48:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#f00M0U%2328_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#f00M0U#28_lt_/a_gt__lt_br /_gt_\n\tJust fixed that thanks ^_^.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2017-07-29T08:08:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\treally really nice _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"gryff","Date":"2017-07-30T14:09:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/19199-pryme8/?do_eq_hovercard_qt_ data-mentionid_eq__qt_19199_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/19199-pryme8/_qt_ rel_eq__qt__qt__gt_@Pryme8_lt_/a_gt_ I_t_ve been following this thread since you first started it. The latest PG suggests that it seems to be coming along nicely_lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m no coder_co_ and I probably need to sit down for a day with your code to try and understand what you are doing_co_ but I just wanted to let you know that I find it fascinating.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI look forward to your continued posts.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tcheers_co_ gryff _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2017-07-31T14:05:57Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tI should be re uploading my Das_Noise Library today to re enable Perlin_co_ Worley_co_ Cellular and a few other noises of my own creation.  Then I am going to redo the noise stack calculations along with fixing the poping at the tJunctions. _lt_br /_gt__lt_br /_gt_\n\tIf I have time ill do the normal calculations today as well....  Ill post some info as I have more.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2017-08-01T00:08:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#f00M0U%2338_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#f00M0U#38_lt_/a_gt__lt_br /_gt__lt_br /_gt_\n\tJust need to fix the normal seams_co_ and the popping at the step downs then I can start working on the shader.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2017-08-01T18:38:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#f00M0U%2340_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#f00M0U#40_lt_/a_gt__lt_br /_gt__lt_br /_gt_\n\tso anyone have any idea on the best method to calculate these normals?   I was going to reference the x_co_y position of the facet and then get the normal of the neighbors touching fact on the other zone then average the two... but Im not sure if that_t_s the correct route to take.  _lt_br /_gt__lt_br /_gt_\n\tAny suggestions? \n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]