[{"Owner":"Merfoo","Date":"2014-06-08T00:51:04Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hello_co_ I_t_m working on a museum project when you walk in a building and view a bunch of models. I_t_m trying to do the collision for everything so that when you collide with the models or the museum you stop moving ex like walls in the museum. How was the collision done for Esplit and Windows Cafe? _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2014-06-08T05:45:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi Merfoo!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf you take a look at our _lt_u_gt__lt_strong_gt__lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/wiki_qt_ rel_eq__qt_external nofollow_qt__gt_Playpen Series Tutorials_lt_/a_gt__lt_/strong_gt__lt_/u_gt__co_ you will see one called Collisions By Gravity.  Actually_co_ that tutorial should be titled Camera Collisions... because it covers camera impact with the ground or floor (gravity-based)_co_ and camera impact with mesh OTHER THAN ground or floor (inertia-based).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou might want to download the ZIP file that is linked at the bottom of that tutorial_co_ and take a look at the file called collisions.js.  It will give you everything you need. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tDid you know that we are phasing-out the zips that are at the bottom of the tutorials?  I knew you did.  What is to replace them?  The _t_playground_t_ !\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo_co_ here is _lt_u_gt_a_lt_/u_gt_ playground for some camera-to-mesh collisions_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs.com/playground/#NTL8V%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs.com/playground/#NTL8V#1_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tUp-arrow your camera right into the box.  BANG!  (ouch)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWant to see your camera fall?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAdd this line at the bottom... (you might need to press some ENTER_t_s to make some space)\n_lt_/p_gt_\n\n_lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_\ncamera.position.y _eq_ 20_sm__lt_/pre_gt_\n\n_lt_p_gt_\n\tNow hit the playground_t_s RUN button_co_ and then hold up-arrow on your keyboard.  kuh-thud!  _lt_img alt_eq__qt__dd_)_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tWant to see your camera fall much further down?  Then walk off the edge of the floor.  _lt_img alt_eq__qt__dd_o_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_ohmy.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/ohmy@2x.png 2x_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tThis playground scene is ALMOST the same as the ZIP and ALMOST the same as the default collision playground scene... but I modified it a tiny bit.  I moved the box a little distance_co_ I made the ground bigger_co_ I slowed the camera speed_co_ I removed the pointLight and installed a hemisphericLight (to light-up the dark side of the crate)_co_ and then I saved it one too many times.  (There is an unnecessary #2 version too).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut the cool thing about the playground... is that you_co_ YES YOU_co_ MERFOO... can make adjustments to anything_co_ over and over_co_ and watch them happen right now!  Don_t_t worry about SAVE_co_ just adjust_co_ run_co_ adjust_co_ run_co_ have fun! \n_lt_/p_gt_\n\n_lt_p_gt_\n\tPlay in the playground in one browser window_co_ read the tutorial in another browser window_co_ and you will be a BabylonJS collisions expert in under 2.73 minutes.  Party On!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Kilombo","Date":"2014-06-08T12:17:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hello everyone._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_(Merfoo_co_ sorry if I_t_ll _qt_kidnap_qt_ your topic  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ _co_ but I think it applies to this topic)._lt_/p_gt__lt_p_gt_Did some one already tried to use octree in collision detection?_lt_/p_gt__lt_p_gt_I_t_m trying to shoot a mesh against other mesh_co_ how do i use octree on this?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I already used _qt__lt_span style_eq__qt_font-family_dd_Consolas_co_ _t_Liberation Mono_t__co_ Menlo_co_ Courier_co_ monospace_sm_font-size_dd_12px_sm_background-color_dd_transparent_sm__qt__gt_dynamicContent.push(mesh)_qt_ _lt_/span_gt_in all my mesh_t_s (that move) and the octree is beeing updated on the render loop._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Merfoo","Date":"2014-06-08T18:40:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Thank you Wingnut_co_ that helped lot. But if I make the camera position y 30 it doesn_t_t move down_co_ I have to press the arrow key for it to fall. And if I make it 300 and only press the arrow key not hold_co_ it only falls down a little bit. Is it possible for this to not happen and perhaps have the collision be updated constantly or would the performance hit be too great?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2014-06-09T07:32:41Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_My pleasure.  Your questions/comments are good questions and comments_co_ Merfoo.  I asked myself the same things.  I_co_ personally_co_ would like to see the camera do a complete fall to the ground once the rendering starts (without needing to do arrow keys_co_ as you stated). _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I don_t_t have answers about the performance things.  I am quite a newbie_co_ and have done no significant framework programming.  Let_t_s give this a few days and see if the framework coders and/or other experts... have comments about this._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_There are some other options_co_ too.  I know that mesh which have their physicsState set... start falling as soon as the scene starts rendering.  SO... you could make an invisible box_co_ parent the camera to the box_co_ and setPhysicsState on the box (and on the ground and on the scene itself).  That should make the camera start falling as soon as the scene starts rendering. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Somewhere during the scene building_co_ set a... scene.registerBeforeRender(_qt_checkIfOnGround_qt_)_sm__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Inside checkIfOnGround() function_co_ you might do something like this_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_var stopFall _eq_ -5_sm__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_if (engine.scenes[0].getMeshByName(_qt_invisibox_qt_).position.y &gt_sm_ stopFall) {_lt_/p_gt__lt_p_gt_     return 1_sm__lt_/p_gt__lt_p_gt_} else {_lt_/p_gt__lt_p_gt_     invisibox.dispose()_sm__lt_/p_gt__lt_p_gt_     engine.scenes[0].unregisterBeforeRender(_qt_checkIfOnGround_qt_)_sm__lt_/p_gt__lt_p_gt_}_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Disposing the invisibox (once IT and the camera are on the ground) should clear the camera.parent property_co_ and allow it to be free of any annoying _t_parental hangups_t_.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  But this is a _t_work-around_t_ that requires the use of the physics engine.  I am still interested_co_ like you_co_ in the comments of some experts_co_ about doing it WITHOUT the physics engine._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I tried a little _qt_camera nudge_qt_ function when I modified that playground test. I set a scene.registerBeforeRender(_qt_nudge_qt_)_sm_   In the nudge function_co_ I tried moving the camera ahead... a few units... to see if I could get the camera to start falling without needing arrow keys.  It didn_t_t work.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_In the old Commodore 64 days_co_ we had something called a keyboard buffer (an array)_co_ and we could put keypresses into it (such as 5 up-arrow presses)... and the computer would process those keypresses when the program started running.  That would be another possible work-around for us_co_ here_co_ if we were using Commodore 64_t_s.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Ok experts and idea people... let_t_s hear some comments.  (thanks).  Merfoo_co_ if you are doing more experimenting_co_ would you please keep us posted about your discoveries?  Thanks!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Kilombo","Date":"2014-06-09T09:10:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hey guys._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I didn_t_t test it but it maybe helpfull. It explains how to simulate the _qt_keypressed_qt_ event that you are looking for._lt_/p_gt__lt_p_gt_Although it_t_s not a good practice._lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_function simulateKeyPress(character) {jQuery.event.trigger({ type _dd_ _t_keypress_t__co_ which _dd_ character.charCodeAt(keycodethatyouwant) })_sm_}$(function() {$(_t_body_t_).keypress(function(e) {yourfunction()_sm_})_sm_simulateKeyPress(_qt_thekeythatyouwanttobepressed_qt_)_sm_})_sm__lt_/pre_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2014-06-10T16:13:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Interesting_co_ K!  That might have handy applications.  Cool find!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Regarding your comment about octree collisions... umm... you might want to start a new thread about that.  I think it is a topic worthy of its own thread with a proper title.  I know nothing about octree colliding... but you apparently do.  Not many people are working with octrees_co_ I don_t_t think._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_As a matter of fact...  _lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/topic/6877-octrees/#entry41560_qt__gt_http_dd_//www.html5gamedevs.com/topic/6877-octrees/#entry41560_lt_/a_gt_ is discussing octrees and collisions_co_ and a fresh demo is there_co_ too.  You might want to add more comments onto that thread... and maybe show us what you are working-on.  Are you guys shooting at meshes and having chunks of submesh be removed as you shoot it?  That would be cool. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Make some more posts over there and tell us about it_co_ if you please_co_ eh?  Be well_co_ party on!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]