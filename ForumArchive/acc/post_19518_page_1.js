[{"Owner":"davychen","Date":"2015-12-29T13:50:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_hi all_co__lt_br_gt_ _lt_br_gt_i_t_m a developer from shanghai_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_i use babylonjs_t_ particle system to show a water spout_co_ each time a bomb hits the water._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_each time i will new a BABYLON.ParticleSystem_co__lt_/p_gt__lt_p_gt_then start it._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_and i set _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_particleSystem.disposeOnStop _eq_ true_sm__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_after several times_co_ the frame rate slows down_co_ start to block._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_i log scene.particleSystems.length_lt_/p_gt__lt_p_gt_out_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_the number keep rising._lt_/p_gt__lt_p_gt_the particle system seems not disposing itsself._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_is there a solution to avoid the issue?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_i use it the wrong way?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_if can_t_t solve it_co__lt_/p_gt__lt_p_gt_i may have to write a particle system and manage it myself._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_any suggestions?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_thank you._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-12-29T21:15:41Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hello_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_can you provide a repro on the playground?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"davychen","Date":"2015-12-30T04:27:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_hi Deltakosh_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_thank you for your help_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_please check the link_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//year1949.com/cannon/_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//year1949.com/cannon/_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_you can keep clicking mouse left button to shoot bombs._lt_/p_gt__lt_p_gt_after a few shoots_co_ the frames will slow down._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_the js files are not compressed._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_or do you need a local copy of the code?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2015-12-30T08:10:00Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi guys_co_ sorry to interrupt.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI started a test playground for this... nothing is active.  I might work on it more_co_ later_co_ when I have more time.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#OLPDM_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#OLPDM_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDavychen_co_ welcome to the BJS forum... good to have you with us!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI notice that you are pushing each particle system into an array called particleList.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDo you know that there is an array on the BabylonJS Scene object that already contains all scene particleSystems?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//doc.babylonjs.com/classes/2.2/Scene#particlesystems-particlesystem-classes-2-2-particlesystem-_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/classes/2.2/Scene#particlesystems-particlesystem-classes-2-2-particlesystem-_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDavychen_co_ if you would like to do some tests...\n_lt_/p_gt_\n\n_lt_p_gt_\n\t1.  For now_co_ DO NOT push the particleSystems into your particleList array.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t2.  Now_co_ do tests on scene.particleSystems and see if THOSE array items are being disposed.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI do not know if particleList is causing the problem... but maybe so. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tDo your _qt_Did it dispose properly?_qt_ -testing using scene.particleSystems instead.  At least this is something to TRY_co_ for now.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPlease report findings/success... and also feel free (anyone) to advance/activate the testing playground above.  Thanks!  We_t_ll talk more soon.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBy the way_co_ cool game!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"davychen","Date":"2015-12-30T11:43:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\thi Wingnut_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tthank you for the kind help. _lt_img alt_eq__qt__sm_)_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ data-emoticon_eq__qt__qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\t1) yes_co_ i know there is a list_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_color_dd_rgb(40_co_40_co_40)_sm_font-family_dd_helvetica_co_ arial_co_ sans-serif_sm__qt__gt_scene.particleSystems_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_color_dd_rgb(40_co_40_co_40)_sm_font-family_dd_helvetica_co_ arial_co_ sans-serif_sm__qt__gt_i already use it to output logs for the issue._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t2) the array _qt__lt_span style_eq__qt_color_dd_rgb(40_co_40_co_40)_sm_font-family_dd_helvetica_co_ arial_co_ sans-serif_sm__qt__gt_particleList_qt_ i added myself_co__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_color_dd_rgb(40_co_40_co_40)_sm_font-family_dd_helvetica_co_ arial_co_ sans-serif_sm__qt__gt_its for a test to dispose particles myself._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\ti deleted all the code about it_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tthe particle systems still do not dispose themselves.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tand then_co_ i_t_ll try to use the playground you setup.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tthank you.\n_lt_/p_gt_\n\n_lt_p_gt_\n\thappy new year_co_ guys. _lt_img alt_eq__qt__dd_D_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ data-emoticon_eq__qt__qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2015-12-30T14:58:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi again!\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#OLPDM%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#OLPDM#1_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am doing some testing on a single particle system.  I have not learned much_co_ yet.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Particles/babylon.particleSystem.js_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Particles/babylon.particleSystem.js_lt_/a_gt_ ... I noticed that . _lt_em_gt__alive_lt_/em_gt_ has not been initialized.  I_t_m not sure if that is a factor or not_co_ yet.  I was hoping to monitor PS.isAlive() in the render loop_co_ and when it changed to false_co_ I was going to call PS.stop().  But_co_ that did not work so well.  It could be my mistake_co_ though.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd... disposeOnStop()... hmm.  I wonder if that means the programmer needs to _lt_u_gt__lt_strong_gt_call_lt_/strong_gt__lt_/u_gt_ _lt_em_gt__lt_em_gt_particleSystem.stop()_lt_/em_gt__lt_/em_gt_ before that will activate.  hmm.  Still testing and learning.  Maybe others will help. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAll in all_co_ I think we have a good testing playground_co_ now. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tGenerally speaking_co_ when one of our heroes (such as Deltakosh) requests a playground _qt_repro_qt_ (or repo)... this is what he likes to see.  He (and others) like to have the issue shown as simple as is possible.  We all do.  It is easy to collaborate when a simple playground is provided_co_ right?  *nod* \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI think we are traveling on a good trail to success.  Talk soon.  Happy New Year to you_co_ too_co_ davychen!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-12-30T16:16:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Wingy is right_dd_ disposeOnStop implies that you call Stop() in order to recycle the memory used by the particles system_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"davychen","Date":"2015-12-31T06:40:44Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_hi Deltakosh_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_thank you for clearing it._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_hi Wingnut_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_thank you for the explanation of playground repro_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_i_t_m new to this forum_co_ so not very clear about it._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_i_t_ll try to play with your playground_co_ add some code to it maybe if needed._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_i tried following code in my game_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_div_gt_            for (var i _eq_ 0_sm_ i &lt_sm_ scene.particleSystems.length_sm_ i++)_lt_/div_gt__lt_div_gt_            {_lt_/div_gt__lt_div_gt_                if(scene.particleSystems_lt_em_gt_.isAlive() _eq__eq_ false)_lt_/em_gt__lt_/div_gt__lt_div_gt__lt_em_gt_                {_lt_/em_gt__lt_/div_gt__lt_div_gt__lt_em_gt_                    scene.particleSystems_lt_/em_gt__lt_em_gt__lt_em_gt_.dispose()_sm__lt_/em_gt__lt_/em_gt__lt_/div_gt__lt_div_gt__lt_em_gt__lt_em_gt_                }_lt_/em_gt__lt_/em_gt__lt_/div_gt__lt_div_gt__lt_em_gt__lt_em_gt_            }_lt_/em_gt__lt_/em_gt__lt_/div_gt__lt_p_gt__lt_em_gt__lt_em_gt_ _lt_/em_gt__lt_/em_gt__lt_/p_gt__lt_p_gt__lt_em_gt__lt_em_gt_ _lt_/em_gt__lt_/em_gt__lt_/p_gt__lt_p_gt__lt_em_gt__lt_em_gt_this can dispose particles_co__lt_/em_gt__lt_/em_gt__lt_/p_gt__lt_p_gt__lt_em_gt__lt_em_gt_ _lt_/em_gt__lt_/em_gt__lt_/p_gt__lt_p_gt__lt_em_gt__lt_em_gt_but particles_t_ lifetime on screen is shortened_co__lt_/em_gt__lt_/em_gt__lt_/p_gt__lt_p_gt__lt_em_gt__lt_em_gt_ _lt_/em_gt__lt_/em_gt__lt_/p_gt__lt_p_gt__lt_em_gt__lt_em_gt_the particles can_t_t be seen clearly as before_co__lt_/em_gt__lt_/em_gt__lt_/p_gt__lt_p_gt__lt_em_gt__lt_em_gt_ _lt_/em_gt__lt_/em_gt__lt_/p_gt__lt_p_gt__lt_em_gt__lt_em_gt_ _lt_/em_gt__lt_/em_gt__lt_/p_gt__lt_p_gt__lt_em_gt__lt_em_gt_seems_lt_/em_gt__lt_/em_gt__lt_/p_gt__lt_p_gt__lt_em_gt__lt_em_gt_ _lt_/em_gt__lt_/em_gt__lt_/p_gt__lt_p_gt__lt_em_gt__lt_em_gt_scene.particleSystems_lt_/em_gt__lt_/em_gt__lt_em_gt__lt_em_gt__lt_em_gt__alive is set false_co__lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_/p_gt__lt_p_gt__lt_em_gt__lt_em_gt__lt_em_gt_before particles finished their lifttime._lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_/p_gt__lt_p_gt__lt_em_gt__lt_em_gt__lt_em_gt_ _lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_/p_gt__lt_p_gt__lt_em_gt__lt_em_gt__lt_em_gt_so_co_ this is as far as i can do it now._lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2015-12-31T13:58:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello Davychen.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYes_co_ please do adjust that playground demo_co_ and click RUN and SAVE as often as you wish.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt is confusing to me_co_ as well.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLet_t_s examine _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Particles/babylon.particleSystem.js_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Particles/babylon.particleSystem.js_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLine 150 seems to check particles.length_co_ but with a .manualEmitCount_co_ the particles array goes empty_co_ but the particles have not reached their lifetime ending yet.  So_co_ particles.length is a bad check for ._alive  (assuming ._alive is for testing when all particles have died).  I_t_m confused.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLines 229 - 247 is also an area of _stopped_co_ _started_co_ _alive_co_ and confusion_co_ too.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI really cannot determine what the particle system programmer_t_s plan is/was_co_ yet.  The _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/tutorials/12._Particles_qt_ rel_eq__qt_external nofollow_qt__gt_documentation_lt_/a_gt_ only addresses .targetStopDuration but there is no .stopOnParticlesFinished or .stopOnNotAlive or .stopOnFinalParticleDead.  hmm.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tscene.particleSystems_lt_em_gt_.isAlive()_lt_/em_gt_ should NOT _eq__eq_ false before all particles have ended their lifetime... I would think.  hmm.  But maybe isAlive() is ONLY testing the particle SYSTEM_co_ and not the particles.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt seems_co_ with manualEmitCount_co_ we maybe need to watch the age of the last particle that was launched_co_ and not dispose until that particle has died.  *scratch scratch*\n_lt_/p_gt_\n\n_lt_p_gt_\n\t We need to do more testing_co_ I guess.  Or maybe others will help clarify.  Or maybe_co_ both.  I will do more testing soon.  Thanks for the information about your game tests.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t Update #1_dd_  I am having some problems with .manualEmitCount on another demo.  hmm.  _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#15UMON_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#15UMON_lt_/a_gt_ I was once a pretty good particleSystem pilot.  Now I can_t_t even find the cockpit._lt_em_gt_  _lt_/em_gt__lt_img alt_eq__qt__dd_D_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ data-emoticon_eq__qt__qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2015-12-31T16:47:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#7DAOO%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#7DAOO#1_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYet another.  Here_co_ I have hijacked the PS source code into the playground.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn line 474_co_ I have a manualEmitCount of 1500.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut in the console (via line 230)_co_ I am seeing a newParticles of far less-than 1500 particles.  I think there is something wrong with line 228.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLocated at _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Particles/babylon.particleSystem.js#L223_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Particles/babylon.particleSystem.js#L223_lt_/a_gt_ in the real source.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t@davychen_co_ this is somewhat off-topic for your issue... maybe.  But it is yet another playground to do some tests upon_co_ insert some console.logs and see the particleSystem operate.  That is what I will use it for_co_ as well.  So_co_ edit_co_ run_co_ save_co_ grab zips_co_ have fun.  Tell us whatever you discover_co_ please.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI learned that emitRate is ignored when manualEmitCount is set.  I didn_t_t know that until now_co_ even though it says it in the docs.  _lt_img alt_eq__qt__dd_)_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ data-emoticon_eq__qt__qt_ /_gt_  When manualEmitCount is set_co_ it is just one giant _qt_sneeze_qt_ of particles_co_ and then isAlive() goes false immediately.  So_co_ isAlive() seems to be a bad way to test if all particles have died.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut we WILL find a way to test for _qt_hasLastParticleDied?_qt_... even if _lt_u_gt_WE_lt_/u_gt_ die doing it.  _lt_img alt_eq__qt__dd_D_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ data-emoticon_eq__qt__qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"davychen","Date":"2016-01-04T08:31:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_hi Wingnut_co__lt_br_gt_ _lt_br_gt_i was on other issues latest a few days._lt_br_gt_ _lt_br_gt_i have a web site to take care_co__lt_br_gt_so i was away from our topic this weekend..._lt_br_gt_ _lt_br_gt_ _lt_br_gt_back to our topic_co__lt_br_gt_thank you anyway for taking so much time checking this issue._lt_br_gt_ _lt_br_gt_i agree with you_co_ that the code of particle system is not very long_co_ not very complicated_co__lt_br_gt_ _lt_br_gt_but i_t_m also confused._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Particles/babylon.particleSystem.js#L250_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Particles/babylon.particleSystem.js#L250_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_from source code_co_ line #250_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_VBOs are updated here_co__lt_/p_gt__lt_p_gt_as long as in particles_t_ lifetime_co_ this place should be called_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_this.particles.length should be greater than 0 to update VBOs_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_i think this.particles.length might be 0 sometimes during particles lifetime._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_but i don_t_t know why._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_i_t_ll take more time testing it._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_regards_lt_/p_gt__lt_p_gt_davy_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-01-04T15:21:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi DC_co_ I was away_co_ too... watching _lt_a href_eq__qt_http_dd_//www.ironwoodsnowmobileolympus.com/_qt_ rel_eq__qt_external nofollow_qt__gt_local snowmobile racing_lt_/a_gt_.  Pretty fun!\n_lt_/p_gt_\n\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tQuote\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_div_gt_\n\t\t\t \n\t\t\t_lt_p_gt_\n\t\t\t\t@davychen - scene.particleSystems_lt_em_gt__alive is set false_co_ before particles finish their lifetime._lt_/em_gt_\n\t\t\t_lt_/p_gt_\n\t\t_lt_/div_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\t_lt_em_gt_ _lt_/em_gt_Yeppers... you are exactly correct.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tHmm. \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAs mentioned in the last post_co_ I encountered another problem with .manualEmitRate producing only about 10 % of the requested particles.  So_co_ for now_co_ if you are seeing a shortage of particles_co_ just increase the .manualEmitCount to higher levels.  I need to ask the professionals for help with that_co_ or maybe you might understand WHY _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Particles/babylon.particleSystem.js#L223_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Particles/babylon.particleSystem.js#L223_lt_/a_gt_ ...  emitcout * this._scaledUpdateSpeed  is causing some problems... reducing the particle count well-below .manualEmitRate values.  \n_lt_/p_gt_\n\n_lt_p_gt_\n\t In other words_co_ you can help us find that problem_co_ if you wish.  But that is not the issue that YOU have_co_ with disposal after all particles have died.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t See line 151?   _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Particles/babylon.particleSystem.js#L151_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Particles/babylon.particleSystem.js#L151_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t That line was added... to allow framework pilots to easily create their own custom update functions.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#15UMON%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#15UMON#1_lt_/a_gt_  (see line 40)  That_t_s a custom update function I created a long time ago.  Very few modifications from the normal default particleSystem.updateFunction.  I only did a couple lines ... 53 and 54_co_ and I also added two _qt_utility functions_qt_.   Sparkly particles!   Essentially_co_ I removed the coloring and sizing lines from the normal default updater_co_ and did my own coloring and sizing.  Fun!\n_lt_/p_gt_\n\n_lt_p_gt_\n\t Keep in mind that custom update functions need to run very fast.  But_co_ inside your custom update function_co_ you have SOME time to ... umm... do SOMETHING.  I_t_m not sure what.  *scratch scratch*\n_lt_/p_gt_\n\n_lt_p_gt_\n\t I still have no solution to the issue... but maybe... now that you have seen a custom updateFunction... maybe that will give you more ideas.  Maybe other readers will have ideas.  isAlive()_co_ ._stopped_co_ _started_co_ _alive... they all seem useless for testing .haveAllParticlesDied.  But maybe there is a problem with .isAlive() and or ._alive.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t Monitoring VBO activity... watching for it to stop.  Maybe that is a good idea_co_ DC.  I will study and test when I get a chance.  Interesting idea!\n_lt_/p_gt_\n\n_lt_p_gt_\n\t Ok_co_ forum users... we need more ideas/comments that might help.  We would love to have a .stopOnParticlesDone flag... but we don_t_t want to slow PS speeds_co_ if possible.  C_t_mon_co_ who has a great idea?  Help!  _lt_img alt_eq__qt__dd_D_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ data-emoticon_eq__qt__qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-01-04T23:27:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOk_co_ here_t_s another...\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#15UMON%232_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#15UMON#2_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn this one_co_ everything is done in the render loop (Line 75 area)_co_ and quite badly.  _lt_img alt_eq__qt__dd_D_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ data-emoticon_eq__qt__qt_ /_gt_  (I_t_m not a very good coder)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWatch the console.  PS1.particles.length _lt_u_gt_IS_lt_/u_gt_ counting down to zero!  Yay! \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am seeing some inconsistency_co_ but... this works for me.  scene.particleSystems.length stays at 1 until the particles have died_co_ and then goes to zero (disposes).  But... hmm.  I am not sure if ALL the particles are launching before .stop() gets runned. \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#15UMON%233_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#15UMON#3_lt_/a_gt_ - Here I have changed my IF statement... to never run (so dispose never happens because stop() is never called).   According to the console_co_ this version produces MANY more particles.  So the #2 demo above... is likely stopping the particle system too early.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThere has to be a better way.  More tests ahead.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-01-04T23:50:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_This is a very long thread _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ Can you summarize he question ?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-01-05T01:52:44Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks for asking_co_ DK! \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI/We need a fast and easy way to...   stopOnAllParticlesDead\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMy most recent playground uses the renderLoop to try (pseudo)....  .stop-on-particles.length _eq__eq_ 0...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut_co_ the renderLoop runs faster than this.particles.length gets filled.  So_co_ stop() gets called before the ParticleSystem has time to produce all the particles.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThere is another problem with manualEmitCount not producing enough particles_co_ but that_t_s for later.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFor now_co_ how best to get .stopOnAllParticlesDead flag/check? \n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf we had that_co_ then .disposeOnStop would wait for all manualEmitCount particles to finish.  Essentially_co_ we are looking for dispose-On-Full-Finish-Of-ManualEmitCount-Explosion  _lt_img alt_eq__qt__dd_D_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ data-emoticon_eq__qt__qt_ /_gt_  Thx.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-01-05T17:04:50Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tManualEmitCount can be reset at any time. This is why the system is not stopped when all particles are dead.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou have to check you system.particles.length to call stop if this value _eq__eq_ 0 \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-01-06T00:44:57Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tRight_co_ in theory.  But that doesn_t_t work inside the renderLoop.  _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#15UMON%234_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#15UMON#4_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t(line 76 goes true instantly)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe fountain turns red instantly.  It does not wait for particles to die.  It also stops the PS before ANY particles have been created.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis is because the FIRST time the render loop runs_co_ particles.length _eq__eq_ 0 (I think)  (thx for ideas/thoughts)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDavychen has probably solved this already_co_ but Wingy hasn_t_t.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tFirst_co_ see _lt_a href_eq__qt_http_dd_//year1949.com/cannon/_qt_ rel_eq__qt_external nofollow_qt__gt_the game_lt_/a_gt_.  Now_co_ let_t_s pretend Davychen uses _qt_shot class_qt_ objects... because his game can have many shots active all at the same time.  Each shot would need to have three particle systems.  #1 - shot trailing smoke.  #2 - shot hits water (miss)_co_ and #3 - shot hits target ship.  A shot-class object and its 3 particle systems cannot be recycled until its #2 or #3 particle explosion finishes completely.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDeltakosh - where would _lt_u_gt_you_lt_/u_gt_ put PS#2.particles.length _eq__eq_ 0 and PS#3.particles.length _eq__eq_ 0 testing?  Could it be put in a custom PS#2/PS#3.updateFunction?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThen... upon impact with water or target_co_ Davychen does shot.PS2.start() or shot.PS3.start()  -  for a water explosion or target-hit explosion.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tRight after the PS2 or PS3 _lt_u_gt_start()_lt_/u_gt__co_ let_t_s pretend Davychen starts checking for PS2/3.particles.length_eq__eq_0 inside a custom updateFunction.  From what I have seen in my tests_co_ PS.particles.length WILL _eq__eq_ 0 right away... instantly (the first time updateFunction runs) before producing ANY particles.  The test for particles.length _eq__eq_ 0 seems to happen BEFORE the particleSystem has enough time to create any particles.  So_co_ particles.length is still _eq__eq_ 0 at the _lt_u_gt_first run_lt_/u_gt_ of the updateFunction.  The test sees particles.length _eq__eq_ 0 and stops the PS.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMy particles.length _eq__eq_ 0 tests_co_ though_co_ are done inside the renderLoop.  Maybe that_t_s the wrong place to test.  Maybe when the particles.length_eq__eq_0 testing is done in the custom PS.updateFunction_co_ maybe it will work better.  *shrug*\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWith me?  Sorry for all the words_co_ but I have not been able to clearly communicate the issue_co_ yet.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-01-06T15:13:38Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#15UMON%237_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#15UMON#7_lt_/a_gt_  Another test.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLine 40 - my custom updateFunction.  Line 44 - my particles.length test.  See how the PS stops instantly?  How do I make it wait until all particles have finished (explosion finish)?  Ideas?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-01-06T17:11:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tyou should do you test after a few seconds to let the particle system starts _lt_img alt_eq__qt__dd_)_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ data-emoticon_eq__qt__qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#15UMON%238_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#15UMON#8_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-01-06T18:51:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t*Nod*  that works.  Thanks!  Kind of a crappy solution_co_ but thanks.  _lt_img alt_eq__qt__dd_)_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ data-emoticon_eq__qt__qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tWant to try to solve the OTHER issue?  (thx)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#206JUO_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#206JUO_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tmanualEmitCount _eq_ 150_co_000.   Max particle count 200_co_000\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWatch console.  Actual particles generated are &lt_sm_ 3000.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tProblem there?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI think... in this line... _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Particles/babylon.particleSystem.js#L223_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Particles/babylon.particleSystem.js#L223_lt_/a_gt_ ... _lt_em_gt__lt_em_gt_this._scaledUpdateSpeed_lt_/em_gt__lt_/em_gt_ is a fraction.  So I think that multiply... kills the amount of particles... MUCH.  _lt_img alt_eq__qt__dd_)_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ data-emoticon_eq__qt__qt_ /_gt_  I think MAYBE...  we shouldn_t_t multiply by _lt_em_gt__lt_em_gt_this._scaledUpdateSpeed  _lt_/em_gt__lt_/em_gt_when using manualEmitCount.  Maybe.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFor the curious_co_ &gt_sm_&gt_sm_ 0 ...  binary right-shifts the number zero places_co_ which causes rounding_co_ and ensures the number maintains its sign and is now a 32-bit INT.  (Huh?  What the hell did Wingnut just say?)  Always remember... Wingy maintains a continuous 84% chance of being wrong.  _lt_img alt_eq__qt__dd_)_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ data-emoticon_eq__qt__qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tI can start a new thread for THIS subject_co_ if wanted.  *shrug*\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-01-07T16:02:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Completely right!!! I_t_ll fix it immediatly_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"davychen","Date":"2016-01-08T03:03:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_img alt_eq__qt__dd_D_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ data-emoticon_eq__qt__qt_ /_gt_ thank you_co_ Deltakosh and Wingy_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tespecially thanks to Wingy_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tsorry i didn_t_t help much.\n_lt_/p_gt_\n\n_lt_p_gt_\n\ti was on other issues_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\ti promise i_t_ll do more help next time................ _lt_img alt_eq__qt__dd_lol_dd__qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_laugh.png_qt_ data-emoticon_eq__qt__qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tthank you guys_co_ have a nice week end.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tdavy\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-01-08T03:49:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThank you Deltakosh!   Excellent fast fix. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd thank you too_co_ Davy.  We all learned some interesting things about the BabylonJS ParticleSystem... because of your forum post.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#206JUO_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#206JUO_lt_/a_gt_ works perfect_co_ now.  A gruesome 150_co_000 particle sneeze!  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ /_gt_  Thx again!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-01-08T16:21:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hey Davy/forum-folk... did you notice that statement Deltakosh made? _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__qt__lt_em_gt_ManualEmitCount can be reset at any time_lt_/em_gt__qt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_THAT is a weird thought_co_ eh?  But think about a volcano that erupts particles... based on a 2 minute timer.  The particle system(s) at the top of the volcano... never need to be stopped or disposed.  Just set their .manualEmitCount to some value... and poof_co_ they explode.  Two minutes later_co_ set the .manualEmitCount again_co_ and poof again. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_No need to re-start() them.  No need to dispose or re-create... for that type of application._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_INTERESTING!  The .manualEmitCount becomes the particleSystem GO AGAIN button!  Sometimes a little explosion (small value).  Sometimes a massive explosion (large value).  Maybe even change particle colors and sizes before each poof!   (maybe - untested.  Might need to swap-out a section of a custom UpdateFunction.) _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Cool!  (at least it is cool to me)  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  I might need to see it in a demo_co_ just for fun._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-01-08T17:17:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#206JUO%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#206JUO#1_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tInitial... 100 particles via manualEmitCount.  Using Deltakosh_t_s interval time... (placed in ps1.timer for portability)... in Line 87 - wait for the count to be 90 (meaning 10 particles have died).  Then lines 89-91 change some colors on the PS... and then line 92 dumps another load of _qt_Purina ParticleSystem Chow_qt_ into the hopper_co_ and POOF! \n_lt_/p_gt_\n\n_lt_p_gt_\n\tA confetti machine!  Load more paper stock into .manualEmitCount_co_ and FOOF - confetti sneeze!  _lt_img alt_eq__qt__dd_D_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ data-emoticon_eq__qt__qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tToo fun!  It seems that ANY particleSystem parameters can be set between _qt_poofs_qt_... including colors_co_ sizes_co_ emitbox sizes_co_ directions_co_ emitter themselves (rot/pos/scale)_co_ but gravity might get weird.  _lt_img alt_eq__qt__sm_)_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ data-emoticon_eq__qt__qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tWhat_t_s that?  You want another?   Ok.  _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#206JUO%233_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#206JUO#3_lt_/a_gt_  Here_t_s a no-particle-counting 1/3-second poofer.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]