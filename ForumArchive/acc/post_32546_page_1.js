[{"Owner":"MackeyK24","Date":"2017-08-24T19:40:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi guys... I am trying to create a binary format serialization for Babylon scene files... But the main question is how do I manually create\n_lt_/p_gt_\n\n_lt_p_gt_\n\ta scene from the_dd_  \n_lt_/p_gt_\n\n_lt_p_gt_\n\tvar parsedScene _eq_ JSON.parse(binData) \n_lt_/p_gt_\n\n_lt_p_gt_\n\tnow I already have the javascript object representing my scene... I don_t_t wanna to save out to string and try a re-load via the XmlHttpRequest or anything like that...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI want to create a FileLoader like the obj... But have a .bin file... I will DECODE the binary into JSON Objects (not strings)... is there a \n_lt_/p_gt_\n\n_lt_p_gt_\n\tBABYLON.SceneLoader.CreateFromObject(jsonObject)_dd_BABYLON.Scene or ANYTHING like that ???\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYo _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_ Is There anything to help me create a scene from a parsed json object (not string) ???\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks In Advanced _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-08-25T16:52:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThe think as I mentioned earlier is that we already have a binary format. You should rely on it and perhaps expand it if needed because all the loading infrastructure is already in and we won_t_t support multiple binary format\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"MackeyK24","Date":"2017-08-25T17:24:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_186742_qt_ data-ipsquote-contentid_eq__qt_32546_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1503679948_qt_ data-ipsquote-userid_eq__qt_4442_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t49 minutes ago_co_ Deltakosh said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tThe think as I mentioned earlier is that we already have a binary format. You should rely on it and perhaps expand it if needed because all the loading infrastructure is already in and we won_t_t support multiple binary format\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tYo _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_ I get you... But as a little side project I am working on... I was able to serialize an entire scene... skeletons_co_ animations_co_ particle systems and everything.. the entire scene file as one binary myscene.babylon.bin... Is working perfect... I just need to create a scene from that parsed json just like you do when you read from xmlhttpresponse or whatever to parse the .babylon text... I just already have the parsed up json object... \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI know you got your existing binary format... and I am not and will not try to replace... but would LUV to get this tiny little going... Just please take a look at this code and see if you can tell me how create scene from the JSObject... I mead could always try some kind a way to hack in the loading process with some kinda the BLOB url workaround... But creating the scene in the DESIRED spot below_co_ would be freakin awesome_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_var sceneUrl_dd_string _eq_ rootUrl + sceneFilename_sm_\nBABYLON.Tools.LoadFile(sceneUrl_co_ \n    (arrayBuffer_dd_any)_eq_&gt_sm_{\n        var byteArray_dd_Uint8Array _eq_ new Uint8Array(arrayBuffer)_sm_\n        var jsonScene_dd_any _eq_ BABYLON.SceneManager.DecodeBinary(byteArray)_sm_\n        \n        console.log(_qt__eq__eq__eq_&gt_sm_ Decoded Binary Scene File_dd_ _qt_ + sceneFilename)_sm_\n        // TODO_dd_ BABYLON.SceneLoader.CreateFromParsedJson(jsonScene)\n\n    }_co_\n    null_co_  \n    null_co_  \n    true_co_ \n    () _eq_&gt_sm_ { console.warn(_qt_Error - Unable to load _qt_ + sceneUrl)_sm_ })_sm_ \n_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tOr guide me into the SceneLoader process and I can hack around in there (For my own purposes... and and OPTION in the toolkit to pack your whole scene file as 1 binary file instead of a bunch of external mesh data and a son catalog file... NOT THAT ANYTHING WRONG WITH THAT... Im just playing around in my toolkit and I got native binary work perfect... IF I SAVE THE jsonScene_dd_any to a string and cut and copy to a text file and load that... my decoded son works perfect)... BTW I what do you consider a good reduction ratio from doing all the binary stuff... either your way or my way... \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI loaded up a character with several minutes worth of long playing animations on a skin with 65 bones... the total JSON file size was 18 MB  and the BINARY encoded version of same file was 13MB ... I think thats about 20 - 25 percent file size reduction and all one single file binary encoded for even easier/smoother network communications to the web browser... I would think...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnyways.. enough me tootin my horn... but if you can help.. thanks... as always _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tIF NO CAN... NO CAN _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"MackeyK24","Date":"2017-08-25T19:49:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_u_gt__lt_strong_gt_UPDATE_dd_ _lt_/strong_gt__lt_/u_gt_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tYo _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_ ... Nevermind bro... I get em _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tI just use a Loader_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_export class ToolkitSceneLoader implements ISceneLoaderPlugin {\n    public name _eq_ _qt_babylon.bin_qt__sm_\n    public extensions_dd_ BABYLON.ISceneLoaderPluginExtensions _eq_ {\n        _qt_.bin_qt__dd_ {isBinary_dd_ true}_co_\n    }_sm_\n    public load(scene_dd_ BABYLON.Scene_co_ data_dd_ any_co_ rootUrl_dd_ string)_dd_ boolean {\n        var byteArray_dd_Uint8Array _eq_ new Uint8Array(data)_sm_\n        var parsedScene_dd_any _eq_ BABYLON.SceneManager.DecodeBinary(byteArray)_sm_\n        return this.loadHandler(scene_co_ parsedScene_co_ rootUrl)_sm_\n    }\n    public importMesh(meshesNames_dd_ any_co_ scene_dd_ BABYLON.Scene_co_ data_dd_ any_co_ rootUrl_dd_ string_co_ meshes_dd_ BABYLON.AbstractMesh[]_co_ particleSystems_dd_ BABYLON.ParticleSystem[]_co_ skeletons_dd_ BABYLON.Skeleton[])_dd_ boolean {\n        var byteArray_dd_Uint8Array _eq_ new Uint8Array(data)_sm_\n        var parsedScene_dd_any _eq_ BABYLON.SceneManager.DecodeBinary(byteArray)_sm_\n        return this.importMeshHandler(meshesNames_co_ scene_co_ parsedScene_co_ rootUrl_co_ meshes_co_ particleSystems_co_ skeletons)_sm_\n    }\n}\n_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t Works like a charm _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-08-25T20:28:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tWell done!\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"MackeyK24","Date":"2017-08-26T15:11:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_186756_qt_ data-ipsquote-contentid_eq__qt_32546_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1503692908_qt_ data-ipsquote-userid_eq__qt_4442_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t18 hours ago_co_ Deltakosh said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tWell done!\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tYo _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_ ... You know I looked at loaders before but decided to go with my own BABYLON.SceneManager.Load and ImportMesh functions that are in the current scenemanager.ts... But needing to get to the raw son creating is the PERFECT spot for all scene loader... and its all automatic HOWEVER you load a scene or import meshes... my managers will attach and pears the metadata automatically give LIFE-CYCLE... IF METADATA EXISTS.. IF NOT.. DOES NOTHING.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAgain works like a charm... Take a look at my Scene Manager Loader... Nice_co_ tight and clean Json and Binary scene loading.. no fuse no muse _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_module BABYLON {\n    export class JsonSceneLoader implements ISceneLoaderPlugin {\n        public name _eq_ _qt_toolkit.json_qt__sm_\n        public extensions_dd_ BABYLON.ISceneLoaderPluginExtensions _eq_ {\n            _qt_.babylon_qt__dd_ {isBinary_dd_ false}_co_\n        }_sm_\n        public load(scene_dd_ BABYLON.Scene_co_ data_dd_ any_co_ rootUrl_dd_ string)_dd_ boolean {\n            var plugin_dd_BABYLON.ToolkitPlugin _eq_ new BABYLON.ToolkitPlugin()_sm_\n            var result_dd_boolean _eq_ false_sm_\n            result _eq_ plugin.load(scene_co_ data_co_ rootUrl)_sm_\n            if (result _eq__eq__eq_ true) {\n                (&lt_sm_any&gt_sm_BABYLON.SceneManager).parseSceneMetadata(rootUrl_co_ scene)_sm_\n            } else {\n                BABYLON.Tools.Warn(_qt_Failed to load json scene data._qt_)_sm_\n            }\n            return result_sm_\n        }\n        public importMesh(meshesNames_dd_ any_co_ scene_dd_ BABYLON.Scene_co_ data_dd_ any_co_ rootUrl_dd_ string_co_ meshes_dd_ BABYLON.AbstractMesh[]_co_ particleSystems_dd_ BABYLON.ParticleSystem[]_co_ skeletons_dd_ BABYLON.Skeleton[])_dd_ boolean {\n            var plugin_dd_BABYLON.ToolkitPlugin _eq_ new BABYLON.ToolkitPlugin()_sm_\n            var result_dd_boolean _eq_ false_sm_\n            result _eq_ plugin.importMesh(meshesNames_co_ scene_co_ data_co_ rootUrl_co_ meshes_co_ particleSystems_co_ skeletons)_sm_\n            if (result _eq__eq__eq_ true) {\n                (&lt_sm_any&gt_sm_BABYLON.SceneManager).parseMeshMetadata(meshes_co_ scene)_sm_\n            } else {\n                BABYLON.Tools.Warn(_qt_Failed to load json scene data._qt_)_sm_\n            }\n            return result_sm_\n        }\n    }\n    export class BinarySceneLoader implements ISceneLoaderPlugin {\n        public name _eq_ _qt_toolkit.binary_qt__sm_\n        public extensions_dd_ BABYLON.ISceneLoaderPluginExtensions _eq_ {\n            _qt_.bin_qt__dd_ {isBinary_dd_ true}_co_\n        }_sm_\n        public load(scene_dd_ BABYLON.Scene_co_ data_dd_ any_co_ rootUrl_dd_ string)_dd_ boolean {\n            var plugin_dd_BABYLON.ToolkitPlugin _eq_ new BABYLON.ToolkitPlugin()_sm_\n            var bytes_dd_Uint8Array _eq_ new Uint8Array(data)_sm_\n            var json_dd_string _eq_ BABYLON.SceneManager.DecompressToString(bytes)_sm_\n            var result_dd_boolean _eq_ plugin.load(scene_co_ json_co_ rootUrl)_sm_\n            if (result _eq__eq__eq_ true) {\n                (&lt_sm_any&gt_sm_BABYLON.SceneManager).parseSceneMetadata(rootUrl_co_ scene)_sm_\n            } else {\n                BABYLON.Tools.Warn(_qt_Failed to load binary scene data_qt_)_sm_\n            }\n            json _eq_ null_sm_\n            bytes _eq_ null_sm_\n            return result_sm_\n        }\n        public importMesh(meshesNames_dd_ any_co_ scene_dd_ BABYLON.Scene_co_ data_dd_ any_co_ rootUrl_dd_ string_co_ meshes_dd_ BABYLON.AbstractMesh[]_co_ particleSystems_dd_ BABYLON.ParticleSystem[]_co_ skeletons_dd_ BABYLON.Skeleton[])_dd_ boolean {\n            var plugin_dd_BABYLON.ToolkitPlugin _eq_ new BABYLON.ToolkitPlugin()_sm_\n            var bytes_dd_Uint8Array _eq_ new Uint8Array(data)_sm_\n            var json_dd_string _eq_ BABYLON.SceneManager.DecompressToString(bytes)_sm_\n            var result_dd_boolean _eq_  plugin.importMesh(meshesNames_co_ scene_co_ json_co_ rootUrl_co_ meshes_co_ particleSystems_co_ skeletons)_sm_\n            if (result _eq__eq__eq_ true) {\n                (&lt_sm_any&gt_sm_BABYLON.SceneManager).parseMeshMetadata(meshes_co_ scene)_sm_\n            } else {\n                BABYLON.Tools.Warn(_qt_Failed to load json scene data_qt_)_sm_\n            }\n            json _eq_ null_sm_\n            bytes _eq_ null_sm_\n            return result_sm_\n        }\n    }\n    if (BABYLON.SceneLoader) {\n        BABYLON.SceneLoader.RegisterPlugin(new BABYLON.JsonSceneLoader())_sm_\n        BABYLON.SceneLoader.RegisterPlugin(new BABYLON.BinarySceneLoader())_sm_\n    }    \n}\n_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks again ... As always for all your help _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]