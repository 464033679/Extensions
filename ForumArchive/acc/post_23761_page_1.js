[{"Owner":"Uniform","Date":"2016-07-11T22:25:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi guys_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have biiig issues with .intersectsMesh() function\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd to begin with I_t_d like to  ask you why the heck is the ball becoming red even after the commented out bounding boxes? _lt_img alt_eq__qt__dd_blink_dd__qt_ data-emoticon_eq__qt__qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_blink.png_qt_ title_eq__qt__dd_blink_dd__qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#QGKMK_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#QGKMK_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"vsh91","Date":"2016-07-11T22:54:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThis is just a guess_co_ but perhaps the bounding box on the third sphere or plane is off/oversized. Maybe print out the dimensions to possibly rule that out.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tUpdate** It seems like that_t_s not the issue. I enabled showBoundingBox on all the objects. _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#QGKMK%235_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#QGKMK#5_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"gryff","Date":"2016-07-12T00:27:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tQuote\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tAnd to begin with I_t_d like to  ask you why the heck is the ball becoming red even after the commented out bounding boxes? \n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/11606-uniform/?do_eq_hovercard_qt_ data-mentionid_eq__qt_11606_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/11606-uniform/_qt_ rel_eq__qt__qt__gt_@Uniform_lt_/a_gt_ _dd_ You are not commenting out the _lt_u_gt_actual_lt_/u_gt_ bounding boxes of the two planes. That code is actually just showing you what/where the bounding boxes are that are being used by the two conditions\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_(balloon1.intersectsMesh(plan1_co_ false))\nand\n(balloon2.intersectsMesh(plan1_co_ true))_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tcheers_co_ gryff _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Uniform","Date":"2016-07-13T11:54:34Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_135750_qt_ data-ipsquote-contentid_eq__qt_23761_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1468283222_qt_ data-ipsquote-userid_eq__qt_7026_qt_ data-ipsquote-username_eq__qt_gryff_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tOn 12/07/2016 at 2_dd_27 AM_co_ gryff said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/11606-uniform/?do_eq_hovercard_qt_ data-mentionid_eq__qt_11606_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/11606-uniform/_qt_ rel_eq__qt__qt__gt_@Uniform_lt_/a_gt_ _dd_ You are not commenting out the _lt_u_gt_actual_lt_/u_gt_ bounding boxes of the two planes. That code is actually just showing you what/where the bounding boxes are that are being used by the two conditions\n\t\t_lt_/p_gt_\n\n\t\t_lt_pre_gt_\n\n_lt_code_gt_(balloon1.intersectsMesh(plan1_co_ _lt_span_gt_false_lt_/span_gt_))\n_lt_span_gt_and_lt_/span_gt_\n(balloon2.intersectsMesh(plan1_co_ _lt_span_gt_true_lt_/span_gt_))_lt_/code_gt__lt_/pre_gt_\n\n\t\t_lt_p_gt_\n\t\t\tcheers_co_ gryff _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tThank you a lot _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/7026-gryff/?do_eq_hovercard_qt_ data-mentionid_eq__qt_7026_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/7026-gryff/_qt_ rel_eq__qt__qt__gt_@gryff_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt is really strange because i feel like the bounding box has been designed for me and I have no word to say_co_ quite strange.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut anyway it still doesn_t_t resolve my issue.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere is the code_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1GHPEG_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1GHPEG_lt_/a_gt_ (open the console and press run)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tBasically_co_ I am trying to map the terrain into a 2 dimension matrix of 0 for non walkable and 1 for walkable. (for further pathfinding use)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am planning to use an abstract mesh as a pointer but for visual purposes i am using a mesh. Every frame this mesh will move by incrementations of 0.5 units on the x axis. When it reaches the border of the ground the pointer will increment the z axis until it reaches the top right corner of the terrain. I use the intersectMesh() function to detect wether the pointer mesh encounters another mesh_co_ in this case the big red box.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am printing the matrix into the console and i am limiting the computing to the 3 first frames because everything is similar after it.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis is the algorithm_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_ var pathMatrix _eq_ []_sm_ // initializing an array\n        function computeMatrix(){\n            var begin _eq_ [-7.5_co_-7.5]_sm_ // bottom left corner of the ground\n            var end _eq_ [7.5_co_7.5]_sm_ // top right corner of the ground\n            var incr _eq_ 0.5_sm_ // Incremental value_co_ crashes if set to 0.1... strange!\n            pointer.position _eq_ new BABYLON.Vector3(begin[0]_co_0.3_co_ begin[1])_sm_\n\n            var tempArray _eq_ []_sm_ // temp array representing each row of the Matrix\n            var stop _eq_ false_sm_\n            while(stop _eq__eq_ false){\n                if(pointer.intersectsMesh(box_co_true)){\n                    tempArray.push(0)_sm_\n                }\n                else{\n                    tempArray.push(1)_sm_\n                }\n\n                // Condition of stop\n                if (pointer.position.x _eq__eq_ end[0] &amp_sm_&amp_sm_ pointer.position.z _eq__eq_ end[1]){\n                    pathMatrix.push(tempArray)_sm_\n                    tempArray _eq_ []_sm_\n                    stop _eq_ true_sm_\n                }\n                else if (pointer.position.x _eq__eq_ 7.5){\n                    pathMatrix.push(tempArray)_sm_\n                    tempArray _eq_ []_sm_\n                    pointer.position.x _eq_ -7.5_sm_\n                    pointer.position.z +_eq_ incr_sm_ // go to next row\n                }\n                pointer.position.x +_eq_ incr_sm_ // go to next column\n            }\n            // Print each row of the array in console\n            for(var i _eq_ 0_sm_ i&lt_sm_30_sm_i++){\n                console.log(pathMatrix[i])_sm_\n            }\n            pathMatrix _eq_ []_sm_ // reset the matrix arrau\n        }_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI would be very grateful if anyone can help me to resolve this issue. Basically I am trying to obtain a 2dimension matrix based on the abstract representation of the ground mesh. This matrix represents a collision mask that I will be able to use with my pathfinding library.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf you have other suggestions of how I can do this because this might be a bit overkill (especially moving an object several times per frame)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks_co_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tUniform\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-07-13T15:59:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_m sorry but I did not get the problem here _lt_img alt_eq__qt__sm_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ title_eq__qt__sm_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tcan you try to explain me with a simple playground where the problem is?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Uniform","Date":"2016-07-13T17:06:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_135931_qt_ data-ipsquote-contentid_eq__qt_23761_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1468425593_qt_ data-ipsquote-userid_eq__qt_4442_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t1 hour ago_co_ Deltakosh said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tI_t_m sorry but I did not get the problem here _lt_img alt_eq__qt__sm_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ title_eq__qt__sm_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tcan you try to explain me with a simple playground where the problem is?\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tWow didn_t_t expect an answer from the mighty creator _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tWell if you look at the matrix output the first frame I obtain only zero_t_s. It is okay because the first frame everything is created.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut then the next frames I get matrices only 1_t_s.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.hostingpics.net/viewer.php?id_eq_324971Capture.png_qt_ rel_eq__qt_external nofollow_qt__gt__lt_img alt_eq__qt_mini_324971Capture.png_qt_ class_eq__qt_ipsImage_qt_ src_eq__qt_http_dd_//img11.hostingpics.net/thumbs/mini_324971Capture.png_qt_ /_gt__lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo because there is this big red box in the middle of the ground the matrix should have some 0 in the place of 1_t_s because that means that the pointer encountered some collision and thus there is a mesh in the way.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhich is not the case here because I only get an array of 1.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Uniform","Date":"2016-07-13T17:32:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI made a quick video to illustrate my problem.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_div class_eq__qt_ipsEmbeddedVideo_qt__gt_\n\t_lt_div_gt_\n\t\t_lt_iframe allowfullscreen_eq__qt_true_qt_ frameborder_eq__qt_0_qt_ height_eq__qt_270_qt_ src_eq__qt_https_dd_//www.youtube.com/embed/gPvln1jBbKg?feature_eq_oembed_qt_ width_eq__qt_480_qt__gt__lt_/iframe_gt_\n\t_lt_/div_gt_\n_lt_/div_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Uniform","Date":"2016-07-13T18:06:22Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSo basically the pointer is doing this but 60 times per second.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#16JB3C%232_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#16JB3C#2_lt_/a_gt_ # Check the console\n_lt_/p_gt_\n\n_lt_p_gt_\n\t(just validates my algorithm so something is wrong with the function or it is not designed to be used that way_eq__eq_&gt_sm_ too fast)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAny help is welcome\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-07-13T18:26:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tok gotcha_dd_) Not a big deal then. This is because the internal bounding info are only updated when a frame is rendered for performance reason.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tJust add this code_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_pointer.computeWorldMatrix(true)_sm_ // true to force all inner values to get updated RIGHT NOW _dd_)\nif(pointer.intersectsMesh(box_co_true)){\n                    tempArray.push(0)_sm_\n                }\n                else{\n                    tempArray.push(1)_sm_\n                }_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Uniform","Date":"2016-07-13T18:35:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOh god thank you.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have tried this function before but I placed it in the beginning of the function instead of the while loop.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThank you so much _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_ !\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]