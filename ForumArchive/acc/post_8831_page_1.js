[{"Owner":"Zimbofly","Date":"2014-08-27T18:08:50Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi all...._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I have freecamera with some custom hotkeys to move the _t_first person shooter_t_ ._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Pageup button - the camera floats up_lt_/p_gt__lt_p_gt_Pagedown button - the camera _t_crouches_t_ down._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_BUT - when I press forward or back keys_co_ camera returns to original height (Y.position) instead of continuing at the new height._lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_window.addEventListener(_qt_keydown_qt__co_ function (event) {//pageup        if (event.keyCode _eq__eq__eq_ 33) {        \tif (camera.position.y &lt_sm_ 6) {        \t\tanimateCameraPositionAndRotation(camera_co_ camera.position_co_\t\t\t\t\tnew BABYLON.Vector3(camera.position.x_co_ camera.position.y + 2_co_ camera.position.z)_co_\t\t\t\t\tcamera.rotation_co_\t\t\t\t\tcamera.rotation)_sm_        \t}        }        //pagedown        if (event.keyCode _eq__eq__eq_ 34) {        \tif (camera.position.y &gt_sm_ 3) {        \t\tanimateCameraPositionAndRotation(camera_co_ camera.position_co_\t\t\t\t\tnew BABYLON.Vector3(camera.position.x_co_ camera.position.y - 2_co_ camera.position.z)_co_\t\t\t\t\tcamera.rotation_co_\t\t\t\t\tcamera.rotation)_sm_        \t}        }}_co_ false)_sm_var animateCameraPositionAndRotation _eq_ function (camera_co_ fromPosition_co_ toPosition_co_                                                 fromRotation_co_ toRotation) {        //needs work to even out the time of animation between short and long distances        var animTime        if (fromPosition - toPosition &gt_sm_ 10) { animTime _eq_ 40 }        else { animTime _eq_ 50 }        var animCamPosition _eq_ new BABYLON.Animation(_qt_animCam_qt__co_ _qt_position_qt__co_ animTime_co_                                  BABYLON.Animation.ANIMATIONTYPE_VECTOR3_co_                                  BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE)_sm_        var keysPosition _eq_ []_sm_        keysPosition.push({            frame_dd_ 0_co_            value_dd_ fromPosition        })_sm_        keysPosition.push({            frame_dd_ 100_co_            value_dd_ toPosition        })_sm_        animCamPosition.setKeys(keysPosition)_sm_        var animCamRotation _eq_ new BABYLON.Animation(_qt_animCam_qt__co_ _qt_rotation_qt__co_ animTime_co_                                  BABYLON.Animation.ANIMATIONTYPE_VECTOR3_co_                                  BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE)_sm_        var keysRotation _eq_ []_sm_        keysRotation.push({            frame_dd_ 0_co_            value_dd_ fromRotation        })_sm_        keysRotation.push({            frame_dd_ 100_co_            value_dd_ toRotation        })_sm_        animCamRotation.setKeys(keysRotation)_sm_        camera.animations.push(animCamPosition)_sm_        camera.animations.push(animCamRotation)_sm_        camera.checkCollisions _eq_ true_sm_        scene.beginAnimation(camera_co_ 0_co_ 100_co_ false)_sm_    }_sm__lt_/pre_gt__lt_p_gt_any ideas how I can get the camera to continue at the new height after pageup or down pressed?_lt_/p_gt__lt_p_gt_eg - I want to fly up into the sky_co_ then continue forward at that height _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_many thanks_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2014-08-28T05:05:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Heya Zimbofly_co_ how ya been?  I hope well._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I made a quick playground scene from your code... _lt_a href_eq__qt_http_dd_//www.babylonjs.com/playground/#1EVRXC_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs.com/playground/#1EVRXC_lt_/a_gt_ .  It seems to be working properly. I adjusted the upper range from 6 to 20... no big deal.  After each page-up (and later page-down)_co_ all cursor in/out actions seem to start from the new height (work properly).  I have not seen any unusual camera y-position stuff_co_ so far._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Looks like good code to me... but... I am certainly not a pro.  Others may be able to see something that I am missing.  Make adjustments and more saves to that playground scene above_co_ as wanted_co_ of course._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_strong_gt__lt_a href_eq__qt_http_dd_//www.babylonjs.com/babylon.js_qt_ rel_eq__qt_external nofollow_qt__gt_Right click here and save link target_lt_/a_gt__lt_/strong_gt_... to get the same version of Babylon.js that is used in the Babylon.js Playground.  *shrug*_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_And keep us posted on your discoveries_co_ okay Z?  Cool._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Update_dd_ Zimbofly_co_ you don_t_t HAVE TO use animation (you probably already know that).  Take a look at _lt_a href_eq__qt_http_dd_//www.babylonjs.com/playground/#1EVRXC%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs.com/playground/#1EVRXC#1_lt_/a_gt_ .  Since the page-up and page-down keys can be held-down_co_ you can just force the incrementing and decrementing of the camera.position.y.  It_t_s not as smooth as animating_co_ but it still gets the job done.  I also did a _lt_a href_eq__qt_http_dd_//www.babylonjs.com/playground/#1EVRXC%232_qt_ rel_eq__qt_external nofollow_qt__gt_#2_lt_/a_gt_ (ahem) that re-sets the camera.target to 0_co_0_co_0 after every page-up and page-down.  It was boring.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  ok bye again._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Zimbofly","Date":"2014-08-29T12:20:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hey Wingnut - You rock dude!_lt_/p_gt__lt_p_gt_thanks - things are great - real busy _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_   _lt_/p_gt__lt_p_gt_Hope you too...?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_thanks for taking the time to do that._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_So - I_t_ve found the culprit..._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_div_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_camera.applyGravity _eq_ true_sm_camera.ellipsoid _eq_ new BABYLON.Vector3(1_co_ 3_co_ 1)_sm__lt_/pre_gt__lt_/div_gt__lt_div_gt_ _lt_/div_gt__lt_div_gt_these 2 line together were forcing the height to all ways return to the same._lt_/div_gt__lt_div_gt_after removing them_co_ then_co_ just like your examples - the height function began to work as expected._lt_/div_gt__lt_div_gt_ _lt_/div_gt__lt_div_gt_I thought camera.ellipsoid was needed for collision checking - but works fine without._lt_/div_gt__lt_div_gt_ _lt_/div_gt__lt_div_gt_Most of all - what you_t_ve done by taking everything back to basics_co_ was exactly what i needed to do (and learn to do with all problems)_lt_/div_gt__lt_div_gt_simplify - take it back to basics_co_ then work out which line/s is causuing problems _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/div_gt__lt_div_gt_ _lt_/div_gt__lt_div_gt_Thanks again man!_lt_/div_gt__lt_div_gt_ _lt_/div_gt__lt_div_gt_ _lt_/div_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]