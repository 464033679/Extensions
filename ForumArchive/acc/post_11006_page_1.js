[{"Owner":"David78","Date":"2014-12-11T16:44:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/applications/core/interface/file/attachment.php?id_eq_3259_qt__gt_New Text Document.txt_lt_/a_gt__lt_/p_gt__lt_p_gt_Hi to all_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_First off_co_ I wish to thank gratefully the creators of this wonderful framework that makes working with 3d on the web very easy and intuitive. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I have just started using it and it is all okay_sm_ the issue is that I have created some models in blender and exported them to babylon and accessing some of the mesh data yields the _qt_undefined_qt_ response. I_t_ve opened the file using an editor and see that it_t_s a JSON object with various properties._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Some properties can be accessed like these ones_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ newMesh[0].position or newMesh[0].checkCollisions _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_and so on._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Trying to access other properties however yields the _qt_undefined_qt_ response_co_ such as_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_newMesh[0].useFlatShading or  newMesh[0].positions or  newMesh[0].uvs_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_and so on._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Why is this so? What would be the proper way to access all the properties of an imported object from blender?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thanks in advance._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-12-11T19:34:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Could you share your code or create a repro case on playground?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"David78","Date":"2014-12-11T20:50:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi there_co_ I appreciate all the work you_t_ve done as well as your swift response._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Here is the code I use to load the models_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_    if (BABYLON.Engine.isSupported()) {        var canvas _eq_ document.getElementById(_qt_renderCanvas_qt_)_sm_        var engine _eq_ new BABYLON.Engine(canvas_co_ true)_sm_scene _eq_ new BABYLON.Scene(engine)_sm_BABYLON.SceneLoader.ImportMesh(_qt__qt__co_ _qt__qt__co_ _qt_flowers.babylon_qt__co_ scene_co_ function (newMeshes_co_ particleSystems)            // Wait for textures and shaders to be ready{           scene.executeWhenReady(function () {camera _eq_ new BABYLON.FreeCamera(_qt_Camera_qt__co_ new BABYLON.Vector3(0_co_ 50_co_ -200)_co_ scene)_sm_camera.attachControl(canvas_co_ true)_sm_light _eq_ new BABYLON.DirectionalLight(_qt_hemi_qt__co_ new BABYLON.Vector3(0_co_ 1_co_ 0)_co_ scene)_sm_//trying to access some properties_dd_alert(newMeshes[0].position+_qt_  _qt_+newMeshes[0].checkCollisions)_sm_//&lt_sm_-this works okay. _dd_)alert(newMeshes[0].useFlatShading+_qt_ _qt_+newMeshes[0].positions+_qt_  _qt_+newMeshes[0].uvs)_sm_//&lt_sm_-this just tells me _qt_undefined_qt_...                // Once the scene is loaded_co_ just register a render loop to render it                engine.runRenderLoop(function() {                    scene.render()_sm_                })_sm_            })_sm_        }_co_ function (progress) {            // To do_dd_ give progress feedback to user        })_sm_    }_lt_/pre_gt__lt_p_gt_I hope that helps_co_ it really is the exact code used from the blog post. Starting to get my way around it_co_ before I begin building something._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2014-12-11T21:35:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Not all properties in Mesh are always assigned.  Positions_co_ indices are always going to be.  normals are always going to be coming from Blender.  colors_co_ uvs_co_ uvs2_co_ skeletonIndices_co_ skeletonWeights are all optional.  Could be null as opposed to undefined_co_ but I do not see a real difference._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"David78","Date":"2014-12-11T22:11:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hmmm...Alright_co_ what do you mean when you say that _qt__lt_span style_eq__qt_color_dd_rgb(40_co_40_co_40)_sm_font-family_dd_helvetica_co_ arial_co_ sans-serif_sm__qt__gt_Not all properties in Mesh are always assigned._lt_/span_gt__qt_?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Do you mean that when imported from blender_co_ their values are going to be  null? If that is what you mean_co_ then that isn_t_t the case in this instance. For example_co_ the property _qt_useFlatShading_qt_ is set to _qt_false_qt_ and the _qt_positions_qt_ and _qt_uvs_qt_ are arrays that are both full of values (when the file _qt_flowers.babylon_qt_ is perused using an editor). The properties that have no value simply show an empty response when accessed_co_ for example_co_ saying_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ alert(newMeshes[0].instances)_sm__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Outputs an empty result_sm_ but calling the other properties that I_t_ve highlighted respond with _qt_undefined_qt__co_ even though these properties are assigned when one looks at the file from an editor._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-12-11T22:36:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_HUmm.. you just use newMesh_lt_u_gt__lt_strong_gt_es_lt_/strong_gt__lt_/u_gt_[0] and not newMesh[0] _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"David78","Date":"2014-12-12T21:22:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I_t_m sorry about that_co_ it was a typo as in the original code_co_ I did in fact use _lt_span style_eq__qt_color_dd_rgb(40_co_40_co_40)_sm_font-family_dd_helvetica_co_ arial_co_ sans-serif_sm__qt__gt_newMesh_lt_/span_gt__lt_u_gt__lt_strong_gt_es_lt_/strong_gt__lt_/u_gt__lt_span style_eq__qt_color_dd_rgb(40_co_40_co_40)_sm_font-family_dd_helvetica_co_ arial_co_ sans-serif_sm__qt__gt_[0]_lt_/span_gt__sm_ I_t_ve just corrected this error in my earlier posts. The issue still stands_sm_ it still responds with _qt_undefined_qt_ for some properties_co_ but correctly displays other properties as well as their values._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Would it help if I uploaded the .babylon file somewhere? I tried uploading here but the system did not allow me to upload that type of file. _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-12-12T21:31:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Perhaps newMeshes[0] is an empty object. Can you check this by display newMeshes[0].name?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"David78","Date":"2014-12-13T11:40:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_That doesn_t_t seem to be the case_co_ displaying newMeshes[0].name alerts _qt_vase_qt__co_ which is one of the two meshes I_t_ve imported from blender...I_t_ve attached the .babylon file but changed the extension to .txt so that I could upload it. I_t_ve attached it to my original post. If you look at it_co_ you_t_ll see that it does have the properties with set values that I_t_m trying to access. _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"David78","Date":"2014-12-13T18:34:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Here is a list of properties that I _lt_strong_gt_cannot _lt_/strong_gt_access_co_ even though in the file they are defined and they do have set values_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_useFlatShading. (in the file_dd_ _qt_useFlatShading_dd__qt_ false)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_positions. (in the file_dd_ _qt_positions_dd__qt_-&gt_sm_ a huge array with floats) _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_normals.(in the file_dd_ _qt_positions_dd__qt_-&gt_sm_ a huge array with floats) _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_indices.(in the file_dd_ _qt_positions_dd__qt_-&gt_sm_ a huge array with floats) _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_uvs.(in the file_dd_ _qt_positions_dd__qt_-&gt_sm_ a huge array with floats) _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_It_t_s weird that I can_t_t access those values_co_ yet the mesh is loaded properly and the flower and the vase are properly displaying._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I saw that one can get the vertex data from a mesh using this_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var ver_dat_eq_new BABYLON.VertexData.ExtractFromGeometry(newMeshes[0])_sm__lt_/pre_gt__lt_p_gt_trying to access the vertex data works fine when one writes_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_alert(vert_dat.positions) etc_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_but not when one writes_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_alert(newMeshes[0].positions)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I feel like it_t_s something obvious that I_t_m not seeing somewhere (I am a newbie after all...)....anyways_co_ another way would be to just use the extracted vertex data to form a new mesh_co_ but I don_t_t exactly know how to go about doing that. After getting the vertex data from mesh A_co_ how would I use this to make a new mesh B_co_ so that from mesh B I can access all the mesh properties that I currently cannot from the original mesh A?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thanks._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2014-12-13T19:24:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_There is no positions_co_ normals_co_ uvs_co_ uvs2_co_ colors_co_ or indices properties in BABYLON.Mesh.  These are transferred to the GPU on load.  There are artifacts letf on the cpu_co_ but you have to access them thru something like_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_span style_eq__qt_font-family_dd__t_courier new_t__co_ courier_co_ monospace_sm__qt__gt_newMeshes[0].getVerticesData(BABYLON.VertexBuffer.PositionKind)_lt_/span_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2014-12-13T19:40:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_There is also no useFlatShading property.  BabaylonFileLoader checks for it.  When true_co_ it flattens the normals out using BABYLON.Mesh.convertToFlatShadedMesh() method_co_ then re-transmits them to the GPU.  You should not be taking every data structure in a .babylon to mean that is how they are represented in JS_co_ though the simple one might be._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_You should look at the source code (either .ts or .js) to see how things are represented in memory.  Here_dd_  _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/tree/master/Babylon/Mesh_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/tree/master/Babylon/Mesh_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_FYI_co_ look into either cloning or instancing to make copies of entire meshes._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"David78","Date":"2014-12-14T12:46:03Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Thanks for the help. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I need to manipulate the shape of the imported mesh and to also merge different meshes together_co_ that_t_s why I_t_d use VertexData as opposed to cloning._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]