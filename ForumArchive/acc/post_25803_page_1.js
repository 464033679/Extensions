[{"Owner":"gaelbeltran","Date":"2016-10-17T01:13:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello_co_ I was reading that you can specifically freeze materials to improve performance.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m wondering if there_t_s an easy way to do this to a whole loaded scene.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m loading the scene like this_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_BABYLON.SceneLoader.ImportMesh(_qt__qt__co_ _qt_scenes/_qt__co_ _qt_daz2.babylon_qt__co_ scene_co_ function (newMeshes) {\n                // Set the target of the camera to the first imported mesh\n                camera.target _eq_ newMeshes[0]_sm_\n\n               \n                // Move the light with the camera\n                scene.registerBeforeRender(function () {\n                    light.position _eq_ camera.position_sm_\n                })_sm_\n            \n                return scene_sm_\n            } //scene loader_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"aWeirdo","Date":"2016-10-17T02:10:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/2993-gaelbeltran/?do_eq_hovercard_qt_ data-mentionid_eq__qt_2993_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/2993-gaelbeltran/_qt_ rel_eq__qt__qt__gt_@gaelbeltran_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI hope this points you in the right direction _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\ttry to console.log(newMeshes)_sm_ and look in the console for the correct structure.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tand as i also commented_co_ use the method to freeze materials which is shown in the docs _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_BABYLON.SceneLoader.ImportMesh(_qt__qt__co_ _qt_scenes/_qt__co_ _qt_daz2.babylon_qt__co_ scene_co_ function (newMeshes) { \n\nfor(var i _eq_ 0_co_ max _eq_ newMeshes.length_sm_ i &lt_sm_ max_sm_ i++){\nif(!newMeshes[i]) continue_sm_\n\n/*\nNOTE_sm_ use console.log &amp_sm_ babylon docs to find and use the correct terms. \nI_t_m not sure the syntrax _qt_mesh.material.freeze()_sm__qt_ is correct.\n*/\nnewMeshes[i].material.freeze()_sm_\n\n//If the current mesh have children/sub-meshes with seperate materials_co_ you should make a secondary loop\nif(newMeshes[i]._children){\n  for(var i2 _eq_ 0_co_ max2 _eq_ newMeshes[i]._children.length_sm_ i2 &lt_sm_ max2_sm_ i2++){\n    if(!newMeshes[i]._children[i2] || !newMeshes[i]._children[i2].material) continue_sm_\n\n    newMeshes[i]._children[i2].material.freeze()_sm_\n  }\n}\n\n}\n\n// Set the target of the camera to the first imported mesh \n  camera.target _eq_ newMeshes[0]_sm_ \n\n// Move the light with the camera \n\nscene.registerBeforeRender(function () { \n  light.position _eq_ camera.position_sm_ \n})_sm_ \n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"gryff","Date":"2016-10-17T02:12:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/2993-gaelbeltran/?do_eq_hovercard_qt_ data-mentionid_eq__qt_2993_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/2993-gaelbeltran/_qt_ rel_eq__qt__qt__gt_@gaelbeltran_lt_/a_gt_ _dd_ if what you mean by _qt_freezing materials_qt_ is setting _qt_checkReadyOnlyOnce_qt_  to true for each material _lt_u_gt_and_lt_/u_gt_ you are using Blender_co_ then you can do it before export by setting it in the data object tab.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSee attached image.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tcheers_co_ gryff _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_10/choo1.png.d76d1efee833c172fd842af2e4891291.png_qt_ data-fileid_eq__qt_9869_qt_ rel_eq__qt__qt__gt__lt_img alt_eq__qt_choo1.png_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_9869_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_10/choo1.png.d76d1efee833c172fd842af2e4891291.png_qt_ /_gt__lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2016-10-17T15:20:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tYes_co_ material freeze is the same thing as _t_Check Ready Only Once_t_.  Would not recommend doing this while you are getting a scene to work though.  This is not always possible_co_ and may not be easy to spot what went wrong.  Better to leave this for later passes.  Doing all materials in a scene with a loop sounds like a bad idea.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-10-17T15:57:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tCan_t_t agree more with _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/?do_eq_hovercard_qt_ data-mentionid_eq__qt_8492_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/_qt_ rel_eq__qt__qt__gt_@JCPalmer_lt_/a_gt_.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe freeze is powerful for performance but sometimes a material cannot be frozen.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCheck more about freeze here_dd_ _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/tutorials/Optimizing_your_scene_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/tutorials/Optimizing_your_scene_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nabroski","Date":"2016-10-18T01:13:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI also had often to iterate trough my data to change values._lt_br /_gt__lt_br /_gt_\n\tAnd yes_co_ freeze materials before the shaders starts to work in your main app_co_ can cause issues_co_ (e.g no animations on meshes_co_ no loading of a mesh at all).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAn inexperience user will stuck here for a while. I learn this the hard way._lt_br /_gt__lt_br /_gt_\n\tSo this is one of my solutions_co_ when you what to avoid using just another loop and in the second line just an other one._lt_br /_gt_\n\tmaybe its helpful so i leave it here\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt__lt_a href_eq__qt_http_dd_//babylonjs-playground.com/#2ENZDZ%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//babylonjs-playground.com/#2ENZDZ#1_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"gaelbeltran","Date":"2016-10-18T15:27:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSo the best solution is applying this after everything has been loaded and everything is working?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYes_co_ I_t_ll be very careful with this option_co_ I_t_m just testing things.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBtw_co_ how much of a performance improvement are we talking about?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-10-18T17:48:34Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tIt depends. If you have a lot of meshes using the same material this could save a lot of time\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nabroski","Date":"2016-10-18T17:55:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/2993-gaelbeltran/?do_eq_hovercard_qt_ data-mentionid_eq__qt_2993_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/2993-gaelbeltran/_qt_ rel_eq__qt__qt__gt_@gaelbeltran_lt_/a_gt__lt_br /_gt__lt_br /_gt_\n\tI_t_m sorry_co_ but for now i_t_m not so sure anymore if i grab the data in the right place to modify it. _lt_br /_gt__lt_a href_eq__qt_http_dd_//babylonjs-playground.com/#2ENZDZ%232_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//babylonjs-playground.com/#2ENZDZ#2_lt_/a_gt__lt_br /_gt__lt_br /_gt_\n\tTwo options OnevryCall and Onlyonce_lt_br /_gt__lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Documentation/blob/fb118c05a8be522f3b4160d099c3823a1ccd2c1c/content/classes/2.4/Material.md#checkreadyoneverycall--boolean_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Documentation/blob/fb118c05a8be522f3b4160d099c3823a1ccd2c1c/content/classes/2.4/Material.md#checkreadyoneverycall--boolean_lt_/a_gt__lt_br /_gt__lt_br /_gt__lt_br /_gt_\n\tBest_lt_br /_gt__lt_br /_gt_\n\tEDIT_dd__lt_br /_gt_\n\tSo it should work_co_ but its not! Idk why. v() function is triggered 8 times_co_ but if i ask for the materials in the scene it shows me only 4 materials_co_ okay so_co_ the issue is_co_ be course from 8 meshes 4 meshes share the same material.  \n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]