[{"Owner":"1glayfan","Date":"2018-03-29T21:57:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThis is certainly a newbie question_dd_ what is the most performant way to get the distance of a mesh which appears right in front of the camera (in the gaze direction of the camera) ?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"1glayfan","Date":"2018-03-29T22:40:52Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tLooks like the following approach would work_co_ but the trouble is the api is also picking up ray coming from the controller. I want only the headset. \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_vrHelper.raySelectionPredicate _eq_ (mesh_dd_ BABYLON.AbstractMesh) _eq_&gt_sm_ {\n            return true_sm_\n        }_sm_\n\nvrHelper.onNewMeshPicked.add((pickInfo_dd_ BABYLON.PickingInfo_co_ eventState_dd_ BABYLON.EventState) _eq_&gt_sm_ {\n            if (pickInfo.hit) {\n                console.log(`**** picked mesh_dd_ name_eq_${pickInfo.pickedMesh.name}_co_ distance_eq_${pickInfo.distance}`)_sm_\n            }\n        })_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"waverider","Date":"2018-03-30T03:11:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\thy _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI think this will be quicker and less expensive compared to ray\n_lt_/p_gt_\n\n_lt_p_gt_\n\tvar dist _eq_ BABYLON.Vector3.Distance(camera.position_co_ mesh.position)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"1glayfan","Date":"2018-03-30T16:51:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks for the tips!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOk_co_ that_t_s for calculating the actual distance. But first I need to find out which mesh appears in front of the camera though.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2018-03-30T16:55:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOr_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tvar dist _eq_ _lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_camera_lt_/span_gt_.position.subtract(_lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_mesh_lt_/span_gt_.position)_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2018-03-30T17:05:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_div style_eq__qt_background-color_dd_#fffffe_sm_color_dd_#000000_sm_font-size_dd_14px_sm__qt__gt_\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#0000ff_sm__qt__gt_var_lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_ sphere _eq_ BABYLON.Mesh.CreateSphere(_lt_/span_gt__lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt__qt_sphere1_qt__lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt__co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#09885a_sm__qt__gt_16_lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt__co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#09885a_sm__qt__gt_2_lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt__co_ scene)_sm__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#0000ff_sm__qt__gt_var_lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_ projectionMatrix _eq_ scene.activeCamera.getProjectionMatrix()_sm__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#0000ff_sm__qt__gt_var_lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_ frustumPlanes _eq_ BABYLON.Frustum.GetPlanes(projectionMatrix)_sm__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_console.log(sphere.getBoundingInfo().boundingBox.isInFrustum(frustumPlanes))_sm__lt_br /_gt_\n\t\t_lt_br /_gt_\n\t\tfor if its visible._lt_/span_gt_\n\t_lt_/div_gt_\n_lt_/div_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"1glayfan","Date":"2018-03-30T18:10:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks to all who replied!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWell_co_ I still need to determine which mesh which appears in front of the camera.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSimple brute force approach is to enumerate each mesh in the scene and apply the distance-calculating codes which you guys supplied to get the distance. The shortest distance is hopefully the mesh I want.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut is there a faster way to get that mesh which appears in front of the camera ?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Rodrix3","Date":"2018-04-03T04:44:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi 1glayfan_co_ did you find any other solution? It would be awesome if you could post your full final code here to share it with the community for people who have the same question.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI would really appreciate it. Thanks!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"1glayfan","Date":"2018-04-03T20:17:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/27138-rodrix3/?do_eq_hovercard_qt_ data-mentionid_eq__qt_27138_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/27138-rodrix3/_qt_ rel_eq__qt__qt__gt_@Rodrix3_lt_/a_gt_ Well I haven_t_t found the solution yet unfortunately.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tJust to summarize_co_ the real question here is about how to find a mesh in front of the camera and it ideally should be a performant one._lt_br /_gt_\n\tCalculating the distance is not the real issue as you can easily do this once the mesh has been detected.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe approach I mentioned above actually did not work very reliably. It sometimes does not detect the mesh_co_ plus it works on the controller too (which I don_t_t want).\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2018-04-03T20:36:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_span_gt__lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/30158-1glayfan/?do_eq_hovercard_qt_ data-mentionid_eq__qt_30158_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/30158-1glayfan/_qt_ rel_eq__qt__qt__gt_@_lt_font style_eq__qt_vertical-align_dd_inherit_sm__qt__gt__lt_font style_eq__qt_vertical-align_dd_inherit_sm__qt__gt_1glayfan_lt_/font_gt__lt_/font_gt__lt_/a_gt_ _lt_/span_gt_This should solve the problem. This creates a ray in front of a mesh and as this ray collides with a mesh_co_ it returns the object and the distance. (Performance level is good)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou can change this code for your convenience _dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_castRay(scene_co_ mesh_co_ camera_co_ showRay)\n{\n\tlet ray _eq_ new BABYLON.Ray()_sm_\n\tlet rayHelper _eq_ new BABYLON.RayHelper(ray)_sm_\n\trayHelper.attachToMesh(camera_co_ new BABYLON.Vector3(0_co_ 0.1_co_ 1)_co_ mesh.position_co_ 1000)_sm_\n\tif(showRay) { rayHelper.show(scene)_sm_ }\n\tlet hit _eq_ scene.pickWithRay(ray) || null_sm_\t\n\tif(hit) {\n\t    let dist _eq_ camera.position.subtract(hit.pickedMesh.position)_sm_\n\t    return {_qt_meshFrontCamera_qt__dd_ hit.pickedMesh_co_ _qt_distMesh_qt__dd_ dist}_sm_\n\t}\n\treturn false_sm_\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"1glayfan","Date":"2018-04-04T01:11:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5292-dad72/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5292_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5292-dad72/_qt_ rel_eq__qt__qt__gt_@Dad72_lt_/a_gt_ Thanks! That looks quite compact too.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tQuestion for the code_dd_ what should be the value for mesh.position ? At this point we don_t_t know the mesh (in front of the camera) yet_co_ so I am guessing this is position for something else ?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tthanks\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2018-04-04T01:39:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#FLP6GY_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#FLP6GY_lt_/a_gt__lt_br /_gt_\n\t_lt_br /_gt_\n\tI could not bare to see you struggling with this anymore._lt_br /_gt_\n\t_lt_br /_gt_\n\t \n_lt_/p_gt_\n\n_lt_div style_eq__qt_background-color_dd_#1e1e1e_sm_color_dd_#d4d4d4_sm_font-size_dd_14px_sm__qt__gt_\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#569cd6_sm__qt__gt_function_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_ checkMeshPos_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_(_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_target_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt__co__lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_ inCam_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt__co__lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_ scene_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_){_lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#569cd6_sm__qt__gt_var_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_ frustumPlanes _lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt__eq__lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_ BABYLON_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_._lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_Frustum_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_._lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_GetPlanes_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_(_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_scene_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_._lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_getTransformMatrix_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_())_sm__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#569cd6_sm__qt__gt_if_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_(!_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_target_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_._lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_getBoundingInfo_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_()._lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_boundingBox_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_._lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_isInFrustum_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_(_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_frustumPlanes_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_)_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_&amp_sm_&amp_sm__lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_ inCam_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_){_lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#569cd6_sm__qt__gt_return_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#569cd6_sm__qt__gt_false_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt__sm__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_}_lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#569cd6_sm__qt__gt_return_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_((_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_scene_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_._lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_activeCamera_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_._lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_position_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_._lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_clone_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_())._lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_subtract_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_(_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_target_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_._lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_position_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_._lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_clone_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_()))._lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_length_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_()_sm__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_}_lt_/span_gt_\n\t_lt_/div_gt_\n_lt_/div_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"1glayfan","Date":"2018-04-04T03:52:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/19199-pryme8/?do_eq_hovercard_qt_ data-mentionid_eq__qt_19199_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/19199-pryme8/_qt_ rel_eq__qt__qt__gt_@Pryme8_lt_/a_gt_ thanks for your reply. But ... yes unfortunately I am still struggling with your code. _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThere can be many meshes in the scene_co_ you cannot simply pass in a particular mesh (like a sphere here).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe question is how to programatically determine which mesh. Do you understand the issue ? or am I not making myself very clear.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2018-04-04T05:00:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIterate through an array with the same function and parse the results.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"1glayfan","Date":"2018-04-04T06:05:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIt works but it is pulling down the fps tho. \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"alexoy","Date":"2018-04-04T09:10:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI understand you so much. Sometimes in the internet I also ask something like _qt_What time is it?_qt_ and the response is like _qt_This color is red_qt_ _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut don_t_t worry_co_ some people just don_t_t have a complete solution yet_co_ so they provide at least some ideas/code examples to solve at least some part of your question.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere is my try_co_ I hope complete - _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#KNE0O%2382_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#KNE0O#82_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_ve combined ray and distance calculation. So the idea is to cast a ray from your camera_co_ get picked mesh_co_ calculate the distance between camera and mesh_co_ print results in a console. White dot in the screen center is to help to see camera_t_s direction.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2018-04-04T10:43:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_210815_qt_ data-ipsquote-contentid_eq__qt_36722_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1522804293_qt_ data-ipsquote-userid_eq__qt_30158_qt_ data-ipsquote-username_eq__qt_1glayfan_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t9 hours ago_co_ 1glayfan said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tQuestion for the code_dd_ what should be the value for mesh.position ? At this point we don_t_t know the mesh (in front of the camera) yet_co_ so I am guessing this is position for something else ?\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tthanks\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t \n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tIn fact mesh position was the position of the character who looks in front of him. But you can use the camera instead.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2018-04-04T14:09:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHow many meshes are you testing?_lt_br /_gt_\n\tSeparate them into chunks_co_ and have it only iterate through sections at a time.  If you are doing like 1000+ do maybe 200 count chunks and switch which one you are processing after every frame._lt_br /_gt_\n\t_lt_br /_gt_\n\tA PG with your setup would help... This is a fairly simple problem.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"1glayfan","Date":"2018-04-04T16:16:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/19199-pryme8/?do_eq_hovercard_qt_ data-mentionid_eq__qt_19199_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/19199-pryme8/_qt_ rel_eq__qt__qt__gt_@Pryme8_lt_/a_gt_ That was good suggestions in general_co_ I agreed. I have only about 200 meshes_co_ but the rendering loop is already doing some other computations plus I want to reserve some space for future stuff too (animation_co_ AI etc).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt looks like the approach using Ray from _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/30699-alexoy/?do_eq_hovercard_qt_ data-mentionid_eq__qt_30699_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/30699-alexoy/_qt_ rel_eq__qt__qt__gt_@alexoy_lt_/a_gt_ would work really well as it does not iterate any meshes.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"1glayfan","Date":"2018-04-04T16:19:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/30699-alexoy/?do_eq_hovercard_qt_ data-mentionid_eq__qt_30699_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/30699-alexoy/_qt_ rel_eq__qt__qt__gt_@alexoy_lt_/a_gt_ Hehehe I like your sense of humor_co_ I thought it was pretty funny.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tEveryone is trying to help me_co_ so despite occasional misunderstandings_co_ I really appreciate every single reply.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWell back to your codes_co_ it looks very promising!! Well written and I don_t_t see any issues from first looking at it.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI will give it a try now. Thank you!!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2018-04-04T16:30:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#FLP6GY%232_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#FLP6GY#2_lt_/a_gt__lt_br /_gt_\n\t_lt_br /_gt_\n\tI see no fps drop when testing 200 meshes.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#FLP6GY%233_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#FLP6GY#3_lt_/a_gt__lt_br /_gt_\n\t_lt_br /_gt_\n\tHell there is no FPS drop when I run 2000 meshs.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2018-04-04T20:59:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_210900_qt_ data-ipsquote-contentid_eq__qt_36722_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1522858562_qt_ data-ipsquote-userid_eq__qt_30158_qt_ data-ipsquote-username_eq__qt_1glayfan_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t4 hours ago_co_ 1glayfan said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\twould work really well as it does not iterate any meshes.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tUnderneath the hood it does.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"1glayfan","Date":"2018-04-04T21:08:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI am sure it does but probably does it more efficiently? \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"alexoy","Date":"2018-04-05T09:22:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_ _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/19199-pryme8/?do_eq_hovercard_qt_ data-mentionid_eq__qt_19199_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/19199-pryme8/_qt_ rel_eq__qt__qt__gt_@Pryme8_lt_/a_gt__co_ _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/30158-1glayfan/?do_eq_hovercard_qt_ data-mentionid_eq__qt_30158_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/30158-1glayfan/_qt_ rel_eq__qt__qt__gt_@1glayfan_lt_/a_gt__co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_ve got 2 news_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t1. My testing shows that with 2000 meshes using a Ray is a little slower than manual iterating through all visible meshes_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t2. Iterating through all visible meshes and returning the closest one - it doesn_t_t mean this mesh is right in front of camera. Function will return a mesh even if it_t_s somewhere in a screen corner.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo probably both solutions can be potentially improved.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"BlackMojito","Date":"2018-04-05T12:49:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI think you can use a customized acceleration structure like BVH...\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]