[{"Owner":"Flomotion","Date":"2016-08-28T12:35:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have 2 canvasses next to eachother. I_t_d like to display a selected object from scene 1 in scene 2 on the other canvas.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI should duplicate it into scene 2..But I don_t_t know how to do that. Is there a way to display a mesh from a scene into another scene?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-08-28T15:55:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi again_co_ F-guy!  How_t_s it goin_t_?  I hope well.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tUmm... _lt_a href_eq__qt_https_dd_//github.com/Wingnutt/misc/blob/master/bi_canvas.zip?raw_eq_true_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/Wingnutt/misc/blob/master/bi_canvas.zip_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tJust a test package... babylon.js and hand.js included... unzip_t_n_t_go.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDon_t_t be excited_co_ I have failed so far.  I use two engines_co_ two canvas_co_ two scene objects (global_co_ so they can access each other)_co_ two separate createScene funcs... and the bottom of the 2nd createScene func... I try to reach-out-and-touch-someone. _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt_   (ahem_co_ sorry).  I use clone... which means I must also clone its material_co_ because cloning doesn_t_t include materials from the source of the clone.\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_\tvar oldbox _eq_ scene.meshes[1]_sm_\n\tvar oldmat _eq_ oldbox.material_sm_\n\tvar newbox _eq_ oldbox.clone()_sm_\n\tnewbox.position _eq_ new BABYLON.Vector3(-3_co_ 10_co_ -3)_sm_\n\tvar newmat _eq_ oldmat.clone()_sm_\n\n\tconsole.log(newmat)_sm_\n\n\t// console.log(newbox)_sm_\n\n\tscene2.meshes.push(newbox)_sm_\n\tscene2.materials.push(newmat)_sm_\n\n\tscene.meshes[2].dispose()_sm_\n\n\treturn scene2_sm_\n}\n\nvar scene _eq_ createScene()_sm_\nvar scene2 _eq_ createScene2()_sm_\n_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tGenerally speaking_co_ I pretend that the mesh and the material... are just plain ol_t_ JS objects.  _lt_img alt_eq__qt__sm_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ title_eq__qt__sm_)_qt_ width_eq__qt_20_qt_ /_gt_   I try to hand-them across the two scenes. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd... I fail... nicely.  Sorry.  I just wanted to show you what I_t_ve done so far.  (hope the zip link works for you) \n_lt_/p_gt_\n\n_lt_p_gt_\n\tA bounding box DOES show-up in the 2nd (right side) canvas2/scene2... but its just a shell of its former self.  _lt_img alt_eq__qt__sm_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ title_eq__qt__sm_)_qt_ width_eq__qt_20_qt_ /_gt_   (I think the material hand-off is failing.  Might need a deeper cloning_co_ or maybe more Wingnut intelligence.)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI will keep troubleshooting_co_ or maybe you can find the problem.  And this is not the ONLY solution.  There_t_s trickery possibilities_co_ too_co_ using viewports (or possibly a renderTargetTexture camera).  Same scene_co_ but it can _qt_look_qt_ like two separate canvases.  We_t_ll talk.  \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Flomotion","Date":"2016-08-28T20:31:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\they Wingnut_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tthank you for your brave effort! I would have guessed that this should work. But indeed.. something is not right.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI noticed that the clone has some things missing_co_ compared to the original. One pretty important one I think is the _geometry. But there are many differences (I made screenshot to compare) I tried to specifically copy the scene.meshes[1]._geometry. But it_t_s not working.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI don_t_t have any brilliant idea_t_s right now.. maybe they_t_ll come to me in the night _dd_-)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_08/clone.jpg.d9cbb01b4969412580394d4823ede577.jpg_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_9231_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_08/clone.thumb.jpg.30de3d44c49c407ea73ca53de48eb66e.jpg_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_clone.jpg_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-08-28T23:34:34Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHey_co_ good troubleshooting activity... thanks for the comparison list.  Well done.  I see that materials and mesh have a ._scene property_co_ too.  Tried it_co_ no go.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tJust for fun_co_ let_t_s look at the 5-viewport thing I made long ago.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#13TVWJ%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#13TVWJ#1_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAssorted crap going-on_co_ there.  Take some time to play.  The thin blue lines are camera 2 and 4_co_ and viewport 2 and 4.  This was made before the days of Canvas2D_co_ so I needed SOME way to make divider lines between the viewports.  I COULD HAVE used absolute-positioned HTML &lt_sm_img&gt_sm_ elements_co_ but rumor has it that Android apps running CocoonJS... can_t_t do DOM things.  SO_co_ I tried to avoid HTML methods_co_ and thus make a decent 3-window-area game-ready viewport-template... that works for everyone.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf you look carefully as you pan the camera_co_ you will see a lit blue plane way out at 500x_co_500z.  It could be considered TV Studio #2 (Blue Plane Studios Inc). _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ Just a camera aiming down at a lit blue plane_co_ and then I defined thin viewports for those divider lines_co_ and it turned out okay.  You can move studio #2 to anywhere you like.  Perhaps best if 10000x _co_10000z or beyond.  More on that in a moment.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou could open Studio #3 (Selected Mesh Studios Inc)... maybe out at 10000x_co_10000z if you wanted.  My camera 3 is already feeding the top-right viewport_co_ so just move cam3 out to 10000_co_10000_co_ set-up some studio lights out there_co_ and start yelling at the employees.  heh. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tPerhaps set camera1.maxZ to 9000... and nobody would know Studio #2 or #3 exist at all... out there on the prairie_co_ hiding in the tall grass.  _lt_img alt_eq__qt__sm_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ title_eq__qt__sm_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tWhat you would do... (upon click?)... is clone the box_co_ and put the clone out at your new studio #3 all by itself_co_ or maybe studio #3 has a ground of its own.  It HAS TO have a light or you_t_ll need to have an emissiveColor or emissiveTexture on clonebox_t_s material... for self-illumination.  A hemisphericLight... direction 0_co_ 1_co_ 0 (aimed at the sky).... with light.groundColor set to gray... works great for one-light-does-all.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSee what I mean about _qt_looking_qt_ like 2 canvases?  Canvai?  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  Just maybe... _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/16218-flomotion/?do_eq_hovercard_qt_ data-mentionid_eq__qt_16218_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/16218-flomotion/_qt_ rel_eq__qt__qt__gt_@Flomotion_lt_/a_gt_ can fool ALL of the people... ALL of the time.  *shrug*  It_t_s another option.  Party on.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-08-29T16:22:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tWhat about serializing the mesh from scene1 and importing it to scene2 ?\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-08-29T23:01:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt__co_ what a great idea!  Darn... I should have thought of that myself.  Thanks DK!\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//github.com/Wingnutt/misc/blob/master/bi-canvas2.zip?raw_eq_true_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/Wingnutt/misc/blob/master/bi_canvas2.zip_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_\tvar oldbox _eq_ scene.meshes[1]_sm_\n\n\tvar serMesh _eq_ BABYLON.SceneSerializer.SerializeMesh(oldbox_co_ false_co_ false)_sm_\n\n\tserMesh _eq_ JSON.stringify(serMesh)_sm_\n\n/*\n\tBABYLON.SceneLoader.Load(_qt__qt__co_ _qt_data_dd__qt_ + serMesh_co_ scene2_co_ function (newMeshes) {\n\t\tconsole.log(_qt_newMeshes_dd_ _qt_ + newMeshes)_sm_\n\t})_sm_\n*/\n/*\n\tBABYLON.SceneLoader.Append(_qt__qt__co_ _qt_data_dd__qt_ + serMesh_co_ scene2)_sm_\n\tscene.onReadyObservable.add(function (d) {\n\t\tconsole.log(_qt_d_dd_ _qt_ + d)_sm_\n\t})_sm_\n*/\n\tBABYLON.SceneLoader.ImportMesh(_qt__qt__co_ _qt__qt__co_ _qt_data_dd__qt_ + serMesh_co_ scene2_co_ function (newMeshes) {\n\t\tconsole.log(_qt_newMeshes_dd_ _qt_ + newMeshes)_sm_\n\t})_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tAs you can see_co_ I tried the import using Load_co_ and then with Append... neither worked_co_ but I could have been screwing-up.  Then I tried importMesh_co_ and it worked just fine.  The append would probably work_co_ too... IF I would have used _lt_em_gt_scene_lt_u_gt__lt_strong_gt_2_lt_/strong_gt__lt_/u_gt_.onReadyObservable.add_lt_/em_gt_  (a mistake I noticed just now)  _lt_img alt_eq__qt__dd_o_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_ohmy.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/ohmy@2x.png 2x_qt_ title_eq__qt__dd_o_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tWanna hear something weird?  I knew ya did.  When we tried the other non-serializing methods_co_ we got ONLY the boundingBox to transfer... because _lt_em_gt_.showBoundingBox _eq_ true_lt_/em_gt_ on the source mesh.  Using this serialize/import method_co_ all went fine_co_ even the material got transferred automatically_co_ but... _lt_u_gt__lt_strong_gt_not_lt_/strong_gt__lt_/u_gt_ the .showBoundingBox _eq_ true.  heh.  Too funny!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMe thinks maybe .showBoundingBox is not included in the serialization_co_ for some reason.  When I put serMesh in my browser object inspector_co_ I could not see any .showBoundingBox property on it.  But_co_ maybe that is by design. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAll in all_co_ this is cooooool.  I learned stuff.  thx agn_co_ dk!   Well thunk.  Flomo might want to do edits to the object_co_ and then put it back into scene1.  This same method will work for the put-back_co_ too (after a dispose of the original).  PARTY!!!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI wonder if a mesh.dispose()... also disposes it_t_s material... IF that was the only mesh in the scene... using that material. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tEarly tests say no.  It_t_s interesting that scene1.materials has 3 items_co_ when only 2 materials were defined.  hmm.  Anyway_co_ scene.materials[2] _eq__eq__eq_ oldbox.material_co_ and after a test oldbox.dispose()... scene.materials.length is still 3.  But it COULD be a _qt_lazy dispose_qt_.  Is there such a thing?  Done during browser GC?  I dunno.  I_t_m only the bass player in the band.  _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tAnyone else running this test zip in firefox 47.0.1?  Seeing lots of...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tError_dd_ WebGL_dd_ drawArrays_dd_ Drawing to a destination rect smaller than the viewport rect. (This warning will only be given once) -- babylon.js_dd_5_dd_27955_lt_br /_gt_\n\tError_dd_ WebGL_dd_ Exceeded 16 live WebGL contexts for this principal_co_ losing the least recently used one. -- babylon.js_dd_4_dd_6955\n_lt_/p_gt_\n\n_lt_p_gt_\n\t????  I sure do.  They don_t_t get in my way_co_ but they sure clutter-up my JS console.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"AlbertTJames","Date":"2016-08-31T15:38:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHey all _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am late to the party_co_ but is there any new functionality that permit to add a mesh from scene 1 to scene 2 easily ? Or serializing is still the best way ?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tBy the way I was wondering if lodash _.cloneDeep() would work. But it seems the cloning is taking exponentially more time at each cloning _dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_var tilesArray _eq_ []_sm_\nfor (var i _eq_ 0_sm_ i &lt_sm_ taskObject.assets.tiles.length_sm_ i++) {\n  var tile _eq_ _.cloneDeep(taskObject.assets.tiles[i])_sm_\n  tile._scene _eq_ scene_sm_\n  scene.addMesh(tile)_sm_\n  tilesArray.push(tile)_sm_\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tAround the 8th clone I am above the minute...\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"AlbertTJames","Date":"2016-08-31T17:00:03Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOk so I had a problem with the serialization_co_ with this code _dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_var serMesh _eq_ BABYLON.SceneSerializer.SerializeMesh(taskObject.assets.tiles_co_ false_co_ false)_sm_\nserMesh _eq_ JSON.stringify(serMesh)_sm_\nBABYLON.SceneLoader.ImportMesh(_qt__qt__co_ _qt__qt__co_ _qt_data_dd__qt_ + serMesh_co_ scene_co_ function (newMeshes) {\nconsole.log(_qt_newMeshes_dd_ _qt_ + newMeshes)_sm_\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tif I serialized the mesh twice the geometries in the serialized object would disapear and I would get a warning on the second time _dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_BJS - [18_dd_57_dd_46]_dd_ Geometry not found for mesh e4889621-49bb-4dd5-87a6-48b38720fcdd_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe problem came from line 48339 babylon.max\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_var BABYLON_sm_\n(function (BABYLON) {\n  var serializedGeometries _eq_ []_sm_\n  var serializeGeometry _eq_ function (geometry_co_ serializationGeometries) {\n    if (serializedGeometries[geometry.id]) {\n     return_sm_\n    }\n\n...\n\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf I comment out the if statement_co_ geometries are serialized both times and I dont get the geometry error.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAlthough I do not have errors anymore_co_ I couldnt make the loading work_co_ the ImportMesh callback is never called.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe only message I get from babylon is _dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_BJS - [18_dd_44_dd_21]_dd_ importMesh of unknown_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tMy goal is to load all the meshes and material in a first scene_co_ then be able to reuse them across multiple scenes. \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"AlbertTJames","Date":"2016-08-31T17:31:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThe next roadblock is coming from the line 25103 babylon.max_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_if (!materialFound) {\n                  loadedMaterialsIds.push(parsedMesh.materialId)_sm_\n                  var mat _eq_ parseMaterialById(parsedMesh.materialId_co_ parsedData_co_ scene_co_ rootUrl)_sm_\n\n***\n\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tThe BABYLON.SceneSerializer.SerializeMesh(mesh_co_false/true_co_false) does not seem to serialize the material and there is not materials array in the serialized mesh.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe parseMaterialById returns an uncaught error _dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_babylon.max.js_dd_24983 Uncaught TypeError_dd_ Cannot read property _t_length_t_ of undefined(…)_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-08-31T17:39:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/22270-alberttjames/?do_eq_hovercard_qt_ data-mentionid_eq__qt_22270_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/22270-alberttjames/_qt_ rel_eq__qt__qt__gt_@AlbertTJames_lt_/a_gt_ - interesting testing!  In my tiny little test scene_co_ the material DID copy.  _lt_a href_eq__qt_https_dd_//github.com/Wingnutt/misc/raw/master/bi-canvas2.zip_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/Wingnutt/misc/blob/master/bi_canvas.zip_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut it is a simple test with non-imported mesh_co_ so it might not apply.  The other issues you raise... I_t_m not experienced enough to comment-on.  A bit over my head.  We_t_ll ping-up _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_ and see if he has words.  (thx DK) \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd thanks for telling us about your tests_co_ ATJ!  Very interesting.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Athelios","Date":"2016-08-31T17:43:46Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHey! I was able to clone mesh from first scene into second.\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_var loaderScene _eq_ new BABYLON.Scene(engine)_sm_\nvar loader _eq_ new BABYLON.AssetsManager(loaderScene)_sm_\nvar assets _eq_ {\n_qt_your_mesh_name_qt__dd_loader.addMeshTask(_qt_name_qt__co_ _qt__qt__co_ _qt_/static/models/hand/_qt__co_ _qt_hand.babylon_qt_)\n}_sm_\nloader.load()_sm_\nloader.onFinish _eq_ function (tasks) {\n    scene _eq_ createScene()_sm_\n}_sm_\n\nvar clone _eq_ function (name) {\n    var clone _eq_ assets[name].loadedMeshes[0].clone(_qt__qt_)_sm_\n    clone._scene _eq_ scene_sm_\n    \n    if(clone.material)\n    {\n        clone.material._scene _eq_ scene_sm_\n        if(clone.material.subMaterials)\n        {\n            for (var i _eq_ 0_sm_ i &lt_sm_ clone.material.subMaterials.length_sm_ i++) {\n                clone.material.subMaterials[i]._scene _eq_ scene_sm_\n            }\n        }\n    }\n    scene.addMesh(clone)_sm_\n    \n    return clone_sm_\n}\n\nvar mesh _eq_ clone(_t_your_mesh_name_t_)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"AlbertTJames","Date":"2016-08-31T18:25:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/22583-athelios/?do_eq_hovercard_qt_ data-mentionid_eq__qt_22583_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/22583-athelios/_qt_ rel_eq__qt__qt__gt_@Athelios_lt_/a_gt_ Man ! Thank you a lot ! Changing the scene of the materials was the problem. After testing your solution I had problems when changing scenes several times because the material was passed by reference and not cloned. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo the final code I am using based on your solution _dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_cloneAssetIntoScene(asset _eq_ mandatory()_co_ scene _eq_ mandatory()) {\n  var clone _eq_ asset.clone()_sm_\n  clone._scene _eq_ scene_sm_\n\n  if (clone.material) {\n    clone.material _eq_ clone.material.clone()_sm_\n    clone.material._scene _eq_ scene_sm_\n    if (clone.material.subMaterials) {\n      for (var i _eq_ 0_sm_ i &lt_sm_ clone.material.subMaterials.length_sm_ i++) {\n        clone.material.subMaterials[i] _eq_ clone.material.subMaterials[i].clone()_sm_\n        clone.material.subMaterials[i]._scene _eq_ scene_sm_\n      }\n    }\n  }\n  scene.addMesh(clone)_sm_\n\n  return clone_sm_\n}\n\n...\n\nvar tilesArray _eq_ []_sm_ \nfor (var i _eq_ 0_sm_ i &lt_sm_ taskObject.assets.tiles.length_sm_ i++) {\n  var tile _eq_ taskObject.cloneAssetIntoScene(taskObject.assets.tiles[i]_co_ scene)_sm_\n  tile.isVisible _eq_ false_sm_\n  tilesArray.push(tile)_sm_\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t* * * \n_lt_/p_gt_\n\n_lt_p_gt_\n\tTo finish on serialization maybe for those who would be interested _dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo serialization it seems does not serialize the material but pass by ID on line 48413 Babylon.max_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_// Material\nif (mesh.material) {\n  serializationObject.materialId _eq_ mesh.material.id_sm_\n} else {\n  mesh.material _eq_ null_sm_\n}\n\n// Skeleton\nif (mesh.skeleton) {\n  serializationObject.skeletonId _eq_ mesh.skeleton.id_sm_\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5733_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/_qt_ rel_eq__qt__qt__gt_@Wingnut_lt_/a_gt_ Thank you for your support and good energy ! _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2016-08-31T18:33:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI do not want to lead you on_co_ but soon there will a way as good any listed_co_ coming from Blender anyway.  If your mesh was self contained its own Mesh sub-class with in-line geometry (and even in-line textures_lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_)_co_ you could just say_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_var myMesh _eq_ new moduleNme.meshClass(_qt_name_qt__co_ scene)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tin both scenes.  It is brutally fast.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Flomotion","Date":"2016-09-03T08:02:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks everyone for the solutions! I was buried in work this week and didn_t_t find the time to reply.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5733_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/_qt_ rel_eq__qt__qt__gt_@Wingnut_lt_/a_gt_ I don_t_t really understand the serialise method. Unfortunately your link doesn_t_t work anymore. Could you repost it?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_ll use the method of AlbertTJames.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks again!!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-09-03T14:06:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi F.  Sorry for the bad links. This one should work... _lt_a href_eq__qt_http_dd_//webpages.charter.net/wingthing/misc/bi-canvas2.zip_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//webpages.charter.net/wingthing/misc/bi-canvas2.zip_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe forum software doesn_t_t like those github zip links?raw_eq_true_co_ or maybe its me.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tGood to see that you survived the burial!  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  Yeah_co_ we got a lot of help from other posters_co_ eh?  I learned a ton of stuff from the thread joiners.  Good good good.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"AlbertTJames","Date":"2017-01-18T16:59:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tI was wondering if any new solutions exists for this beside the one proposed in this post ?\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]