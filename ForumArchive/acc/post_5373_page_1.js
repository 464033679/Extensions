[{"Owner":"Feldspar","Date":"2014-04-03T10:11:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi guys_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I_t_m having trouble positioning objects on my scene._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Here is the context _dd__lt_/p_gt__lt_p_gt_I_t_m having 3 objects _qt_table_qt_ on which the position is effectively non zero _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_img src_eq__qt_http_dd_//f.cl.ly/items/3d1k3t42192p0A1m2e2I/Capture.PNG_qt_ alt_eq__qt_Capture.PNG_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_These 3 objects have a non-visible _qt_floor_qt_ parent mesh_co_ for the purpose of local positionning _dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_img src_eq__qt_http_dd_//f.cl.ly/items/1C2k3x1V0m1d2a3g352c/Capture.PNG_qt_ alt_eq__qt_Capture.PNG_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Unfortunately_co_ all these table meshes appears at the center of the scene. The girl is in (0_co_0_co_0) for reference _dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_img src_eq__qt_http_dd_//f.cl.ly/items/3K3C2B2P120b362e0e1a/Capture.PNG_qt_ alt_eq__qt_Capture.PNG_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The solution I have found for the meshes to appear in the right spot_co_ is to add this hella dirty code_co_ just after i finish adding the objects _dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_setTimeout(function() {floor.markAsDirty()}_co_ 100)_sm__lt_/pre_gt__lt_p_gt_Here is the result _dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_img src_eq__qt_http_dd_//f.cl.ly/items/3Z2g030e3N3n012n0f3W/Capture.PNG_qt_ alt_eq__qt_Capture.PNG_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_If i don_t_t use a setTimeout_co_ and mark the floor as dirty right away_co_ the tables are still in (0_co_ 0_co_ 0)_lt_/p_gt__lt_p_gt_Any thoughts on what to update in the hierarchy_co_ so I can get my objects in their right position ?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thanks_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"gwenael","Date":"2014-04-03T11:11:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Does it work without the setTimeout and if the non-visible _qt_floor_qt_ parent mesh is visible?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Feldspar","Date":"2014-04-03T12:08:17Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I can_t_t set the floor parent mesh to visible_co_ it has no vertices _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Edit _dd_ I tried to set the floor mesh to a simple cube_co_ so I can set it to visible_co_ but the problem is still there._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Artem","Date":"2014-04-03T12:32:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Do you use _t_.setPhysicsState_t_ properties?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Feldspar","Date":"2014-04-03T12:51:57Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_No I don_t_t_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-04-03T15:15:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Could you call_dd_ mesh.computeWorldMatrix(true) ?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_If this works I_t_m really interested by getting your sample because you should definitely not have to do that_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Feldspar","Date":"2014-04-03T15:46:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_@Deltakosh_co_ already done_co_ and it already failed _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ alt_eq__qt__dd_(_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ i_t_m really stuck with this. I_t_ll try to reproduce it on a simpler test case._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-04-03T23:32:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Yes please I_t_ll figure out what is going wrong_sm_)_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Feldspar","Date":"2014-04-04T08:01:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Okay i found it_co_ it turns out when I import the tables_co_ I have a function that recursively computes bounding boxes of the table and its children._lt_/p_gt__lt_p_gt_This custom function uses _lt_em_gt_computeWorldMatrix _lt_/em_gt_on the mesh_co_ and by some way I don_t_t really understand_co_ it prevented the table from being updated on the scene. Any idea why Deltakosh ?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Oh_co_ and here is the custom function. It computes an overall boundingbox of the object and its children in the object_t_s local frame _dd__lt_/p_gt__lt_div_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_BABYLON.Mesh.prototype.getBoundingBox _eq_ function(force) {    if(!force &amp_sm_&amp_sm_ this.boundingBox) {        return this.boundingBox_sm_    }    var minX _eq_ Infinity_co_        minY _eq_ Infinity_co_        minZ _eq_ Infinity_co_        maxX _eq_ -Infinity_co_        maxY _eq_ -Infinity_co_        maxZ _eq_ -Infinity_sm_    // Put back the bounding box in the local frame    this.computeWorldMatrix()_sm_    var worldToObject _eq_ this.getWorldMatrix().clone()_sm_    worldToObject.invert()_sm_        var customTraverse _eq_ function(mesh) {        mesh.computeWorldMatrix()_sm_          var subObjectToWorld _eq_ mesh.getWorldMatrix().clone()_sm_        // Top level Object local frame        var subObjectToObject _eq_ subObjectToWorld.multiply(worldToObject)_sm_        if(mesh instanceof BABYLON.Mesh &amp_sm_&amp_sm_ mesh.isVisible) {            var minMax _eq_ BABYLON.Tools.ExtractMinAndMaxWithTransform(mesh.getVerticesData(BABYLON.VertexBuffer.PositionKind)_co_ 0_co_ mesh._totalVertices_co_ subObjectToObject)_sm_            var Minimum _eq_ minMax.minimum_sm_            var Maximum _eq_ minMax.maximum_sm_            // compute overall bbox            minX _eq_ Math.min(minX_co_ Minimum.x)_sm_            minY _eq_ Math.min(minY_co_ Minimum.y)_sm_            minZ _eq_ Math.min(minZ_co_ Minimum.z)_sm_            maxX _eq_ Math.max(maxX_co_ Maximum.x)_sm_            maxY _eq_ Math.max(maxY_co_ Maximum.y)_sm_            maxZ _eq_ Math.max(maxZ_co_ Maximum.z)_sm_        }        var children _eq_ mesh.getChildren()_sm_        for(var i _eq_ 0_co_ l _eq_ children.length_sm_ i &lt_sm_ l_sm_ i++) {            customTraverse(children[i])_sm_        }    }_sm_  customTraverse(this)_sm_  var bBox_min _eq_ new BABYLON.Vector3(minX_co_ minY_co_ minZ)_sm_  var bBox_max _eq_ new BABYLON.Vector3(maxX_co_ maxY_co_ maxZ)_sm_    this._boundingInfo _eq_ new BABYLON.BoundingInfo(bBox_min_co_ bBox_max)_sm_  return this._boundingInfo.boundingBox_sm_}_sm__lt_/pre_gt__lt_/div_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-04-05T15:43:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Umf...I suspect the problem is coming from the fact that you are using this._boundingInfo which is already used by babylon_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_To be sure to not override babylon.js objects_co_ I suggest that you use __ instead of _  _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Feldspar","Date":"2014-04-07T08:26:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_That_t_s very likely the problem is here.._lt_/p_gt__lt_p_gt_Thanks for your help !_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]