[{"Owner":"willemmulder","Date":"2016-01-06T07:33:03Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi guys_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I_t_m creating a simple selection-mechanism with a _t_rubberband_t_ which selects all the meshes within that rubberband._lt_/p_gt__lt_p_gt_What I have now is this_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#4EPTA_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#4EPTA_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_For selection_co_ I check the intersection of the generated rubberband mesh (line 122) with the existing box positions and if they intersect_co_ the selected boxes get a green color. Like this_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_div_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_        function getMeshesSelectedByRubberBand() {             var meshes _eq_ []_sm_             for (var index in boxes) {                 var box _eq_ boxes[index]_sm_                 if (game.rubberBand.intersectsPoint(box.position)) {                     meshes.push(box)_sm_                 }             }             return meshes_sm_         }_lt_/pre_gt__lt_/div_gt__lt_div_gt_ _lt_/div_gt__lt_div_gt_but as you can see the wrong boxes are selected_co_ and I don_t_t understand why... Do anybody see anything wrong?_lt_/div_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"iiceman","Date":"2016-01-06T13:01:50Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi willen_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I played around with it for quite a while now and didn_t_t get it to work with the intersect methods_co_ no clue why... maybe there is a bug or we both were doing something wrong here _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ maybe somebody else can enlighten us._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Anyways_co_ I tried a different approach and it seems like I succeeded_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#PSKRF%230_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#PSKRF#0_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The idea is to do the intersection check manually by calculating the distance between the center of the bounding box and the boxes and then just check if there are closer than half the size of the rubber band box._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Here is another (fancy) version where the box updates while you drag_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#PSKRF%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#PSKRF#1_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Hope that helps! Let us know about how it goes and if you need anything else! _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"willemmulder","Date":"2016-01-06T14:58:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi iiceman_co_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thanks so much!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Your method works perfectly_co_ so I_t_ll be using that_co_ but in the meantime I_t_m really interested if somebody else can figure out why the normal intersect methods in the demo don_t_t work as expected..._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_A small follow-up question would be how to make a simple _t_flat selection ring / circle_t_ around the selected objects instead of changing their color... (also posted here_co_ no answers _lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/topic/19636-how-to-create-a-selection-ring-like-in-starcraft-2/_qt__gt_http_dd_//www.html5gamedevs.com/topic/19636-how-to-create-a-selection-ring-like-in-starcraft-2/_lt_/a_gt_). Do you have any pointer that I could look at? _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Temechon","Date":"2016-01-06T15:03:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Maybe you can use _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/tutorials/17._Using_decals_qt_ rel_eq__qt_external nofollow_qt__gt_decals _lt_/a_gt_ on the ground below._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"willemmulder","Date":"2016-01-06T15:14:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Well yes_co_ but then I_t_d still need a mesh that looks like a nice selection-ring I guess _dd_-)_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-01-06T16:11:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi Willem...  good to have you on the forum with us._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1OLW0N_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1OLW0N_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I made some minor changes._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Oddly enough_co_ the whole problem SEEMED to be fixed by adding line 128...  a scene.render().  You made the selection box fine... (fun/useful code_co_ by the way)... and everything seemed right_co_ but it needed to be kicked (with scene.render) to get it started.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I dunno.  I just went feeling around in the dark until something worked.  heh_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I will leave it to you... to figure out how to make the selection area be see-thru... when drag goes from upper-right to lower-left.  Cool demo!  Fun collaborating._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_By the way_co_ decals make their own mesh when they are created_co_ so you can plaster one onto the ground without worrying about making a mesh for the decal texture._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Also_co_ there is mesh.showBoundingBox _eq_ true/false... for indicating _qt_mesh is selected_qt_.  Also_co_ we have an _qt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#TYAHX%2321_qt_ rel_eq__qt_external nofollow_qt__gt_edges renderer_lt_/a_gt__qt_ that can be used.  And_co_ you can make a CLONE of the object and set its material to wireframe_co_ and place the cloned wireframe mesh...  atop the selected mesh (you might need to set selectedmesh.visibility _eq_ 0.5).  And_co_ speaking of visibility... you could sweep that value in the renderLoop (maybe with a sine wave)... between 0.5 and 1.0.  In other words_co_ the mesh cycles half-visible-full-visible... when it is selected.  Fancy!  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#TYAHX%2321_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#TYAHX#21_lt_/a_gt_ - a demo where I was testing the logic of the edges renderer... to see how well it _qt_found_qt_ edges... even when there was very little angular change between faces of the sphere._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_All in all_co_ showBoundingBox_co_ decals_co_ edgesRenderer_co_ visibility pulsing_co_ or overlaying a wireframe... these are all ways of showing something being selected... WITHOUT using a material color change.  There_t_s many more_co_ like scaling pulsing_co_ spinning_co_ vibrating the mesh randomly_co_ _lt_a href_eq__qt_http_dd_//www.babylonjs.com/cyos/#1G2LG1_qt_ rel_eq__qt_external nofollow_qt__gt_swimming a sine wave thru its vertex positions_lt_/a_gt__co_ lots of goofy toys to play-with.  Ok_co_ party on!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"iiceman","Date":"2016-01-07T00:09:52Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Nice fix Wingy! I took a look at the bounding boxes when I played around with it. I was hoping I could use them to calculate the size of the rubber band but it didn_t_t work out somehow. Maybe it_t_s the same problem with the intersect method and the scene.render() somehow forces a bounding box update? Somehow I remember having ready something similar...I think _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I refactored a bit and made the rubber band rescale instead of recreating it all the time_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#PSKRF%232_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#PSKRF#2_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I took a shot at the selection circle_co_ too_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#PSKRF%233_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#PSKRF#3_lt_/a_gt__lt_/p_gt__lt_p_gt_Using dynamic texture to draw a circle on a disc mesh that is then placed under the mesh. I think it looks pretty neat_co_ but that_t_s for you to decide_co_ willem. _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Edit_dd_ since I had a good run I kept going and added a cool dashed line + spinning effect. You can have a lot of fun with dynamic textures_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#PSKRF%234_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#PSKRF#4_lt_/a_gt_ Fancy_co_ eh? _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"willemmulder","Date":"2016-01-07T20:03:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Guys you are so awesome!  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_It_t_s so great to come to this forum as a newbie_co_ start trying something out_co_ and get this incredible help_co_ pointers_co_ enthousiasm_co_ examples _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  This feels like collaboration how it is meant and I will surely try to give back once I know my way around  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thanks Wingnut_co_ I_t_ll surely go with the _lt_span style_eq__qt_color_dd_rgb(40_co_40_co_40)_sm_font-family_dd_helvetica_co_ arial_co_ sans-serif_sm__qt__gt_scene.render() fix so that I can use as much standard code as possible. The edges renderer is nice too_co_ I_t_ll probably use it later for some other uses._lt_/span_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_span style_eq__qt_color_dd_rgb(40_co_40_co_40)_sm_font-family_dd_helvetica_co_ arial_co_ sans-serif_sm__qt__gt_iiceman_co_ re-using that rubber band is a great idea_co_ thanks for sharing the demo._lt_/span_gt__lt_/p_gt__lt_p_gt__lt_span style_eq__qt_color_dd_rgb(40_co_40_co_40)_sm_font-family_dd_helvetica_co_ arial_co_ sans-serif_sm__qt__gt_And the circle is even more awesome_co_ I didn_t_t know I could use 2D canvas as a texture_dd_ excellent! And yes_co_ it certainly looks great  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/span_gt__lt_span style_eq__qt_color_dd_rgb(40_co_40_co_40)_sm_font-family_dd_helvetica_co_ arial_co_ sans-serif_sm__qt__gt_ _lt_/span_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_span style_eq__qt_color_dd_rgb(40_co_40_co_40)_sm_font-family_dd_helvetica_co_ arial_co_ sans-serif_sm__qt__gt_This playground is really one of the most useful things of the framework_sm_ it makes iterating_co_ showing_co_ helping so much easier!_lt_/span_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]