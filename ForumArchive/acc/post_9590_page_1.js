[{"Owner":"Toushin","Date":"2014-10-01T09:16:18Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hello folks_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_first to me_dd_ I started with BabylonJS and HTML5/JS/CSS just two weeks ago_co_ so I am really a total newb._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Now what I want to do_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I have a canvas where it is possible to draw pictures with mouse_co_ like paint really. This picture should then function as a texture for a mesh shown next to it_co_ without first needing to save the picture on my server._lt_/p_gt__lt_p_gt_In short_co_ I want to change the appearance of meshes by drawing in my canvas._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Is this possible at all with BabylonJS and how hard will it be to make it work?_lt_/p_gt__lt_p_gt_Are there better ways to do what I want? I am open to every suggestion and advice._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I have been working on this problem for the last 2 days and I_t_m at my wits end._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-10-01T16:14:03Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hello and welcome!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_so first of all good news_dd_ this is possible!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_You have to use a DynamicTexture as texture for your mesh_t_s material._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_This texture is like a canvas. So it is possible to copy pixels from your canvas to this texture just like you would have done between canvases._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_To get the context of the texture just do the following code_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var texture _eq_ new BABYLON.DynamicTexture(_qt_dynamic texture_qt__co_ 512_co_ scene_co_ true)_sm_var textureContext _eq_ texture.getContext()_sm__lt_/pre_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"joshcamas","Date":"2014-10-01T22:19:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYea_co_ it_t_s fully possible!\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m actually working on the same type of project_co_ funnily enough_dd_ _lt_a href_eq__qt_http_dd_//steinhauer.x10.mx/editor/versions/1/_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//steinhauer.x10.mx/editor/versions/1/_lt_/a_gt_ _lt_strong_gt_(Dead Link)_lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t(click texture painter button)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img alt_eq__qt__dd_)_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ /_gt_ I wish good luck to you\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Toushin","Date":"2014-10-02T10:48:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Thanks for the reply._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I_t_ve been playing around a bit with this now_co_ but I can_t_t seem to get it to work correctly with cylinders_co_ which is what I actually need._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I have 2 problems_dd__lt_/p_gt__lt_p_gt_1. The DynamicTexture is only shown on the top and bottom areas_co_ the side area seems to show only the topmost row of pixels in my picture. The side area is actually the most important_co_ so the texture should be visible in full there._lt_/p_gt__lt_p_gt_My guess would be to do some UV-Mapping_co_ but I have no idea how that works in BabylonJS (I only did that in 3dsMax_co_ and there you usually only drag and resize some rectangles)._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_2. I would like the DynamicTexture to have the same size and proportions as my drawing canvas. Is there a way to do this without changing the constructor in BabylonJS? From what I saw the second value you pass into the constructor seems to be a size in pixels and the texture is then made into a square._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_As an aside_co_ if my canvas and my texture are not a compatible size_co_ i.e. 256 or 512_co_ the cylinder shows some blank areas. Since I would like to later define the size of the texture with my canvas_co_ I am unsure how that will affect the blank areas._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Also if someone would like to look at it_co_ I can provide the code._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-10-02T18:44:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_1. You can access uv streams from a mesh. Here is a sample that play with internal streams_dd__lt_/p_gt__lt_p_gt__lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/wiki/How-to-merge-meshes_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/wiki/How-to-merge-meshes_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_2. You can initialize it with an object for the size_dd_ _lt_/p_gt__lt_p_gt_{_lt_/p_gt__lt_p_gt_ width_dd_ 1024_co__lt_/p_gt__lt_p_gt_ height_dd_ 512_lt_/p_gt__lt_p_gt_}_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Toushin","Date":"2014-10-06T12:13:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hello again._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thank you for the link_co_ it really helped me out._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I did it like this_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var UVKdata _eq_ cylinder.getVerticesData(BABYLON.VertexBuffer.UVKind)_sm_for(var i _eq_ 0_sm_ i &lt_sm_ (((cylTess*2)+2)*2)_sm_ i+_eq_4) {\tUVKdata[i+1] _eq_ 0_sm_\tUVKdata[i+3] _eq_ 1_sm_}cylinder.setVerticesData(BABYLON.VertexBuffer.UVKind_co_ UVKdata_co_ false)_sm__lt_/pre_gt__lt_p_gt_In the end_co_ it wasn_t_t that hard to do_co_ I only had to test a little_co_ to find out how the uvkind data is arranged._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_To point 2_dd_ as a clarification_co_ I can only use values for the texture width and height_co_ that are a power of two?_lt_/p_gt__lt_p_gt_ _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-10-06T18:46:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_yes _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Toushin","Date":"2014-10-08T12:56:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Ok_co_ thank you for your help _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_this is my solution for defining a DynamicTexture_co_ getting to draw on it and getting it to show on every side of a cylinder ^^_lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var dynTex _eq_ new BABYLON.DynamicTexture(_qt_dyntex_qt__co_ {width_dd_1024_co_ height_dd_512}_co_ scene_co_ true)_sm_var texCon _eq_ dynTex.getContext()_sm_try {\tvar drawCanvas _eq_ document.getElementById(_qt_drawCanvas_qt_)_sm_\tvar drawCon _eq_ drawCanvas.getContext(_qt_2d_qt_)_sm_\tvar imageData _eq_ drawcon.getImageData(0_co_ 0_co_ drawCanvas.width_co_ drawCanvas.height)_sm_} catch(e) {}_sm_if(imageData !_eq_ null) {\ttexCon.putImageData(imageData_co_0_co_0)_sm_\tdynTex.update()_sm_} else {\tdynTex.drawText(_qt_TestText_qt__co_ 200_co_ 256_co_ _qt_bold 50px Segoe UI_qt__co_ _qt_black_qt__co_ _qt_#ffffff_qt_)_sm_}var UVKdata _eq_ cylinder.getVerticesData(BABYLON.VertexBuffer.UVKind)_sm_for(var i _eq_ 0_sm_ i &lt_sm_ (((cylTess*2)+2)*2)_sm_ i+_eq_4) {\tUVKdata[i+1] _eq_ 0_sm_\tUVKdata[i+3] _eq_ 1_sm_}cylinder.setVerticesData(BABYLON.VertexBuffer.UVKind_co_ UVKdata_co_ false)_sm__lt_/pre_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Toushin","Date":"2014-10-14T10:06:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_After reading some more (and trying out other frameworks) to this whole topic I have a new question_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Is there an easy way to change texture wrapping in BabylonJS without having to manipulate UV streams like I did it? It seems DynamicTexture uses Clamp to Edge wrapping as a default. In my case somehow changing the wrapping to Repeat would have also solved my problem._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I tried looking through the documentation_co_ but couldn_t_t find anything specific for this._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-10-14T20:06:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p style_eq__qt_margin_dd_0px_sm__qt__gt_sure_dd__lt_/p_gt__lt_br_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt__lt_br_gt_\nvar dynTex _eq_ new BABYLON.DynamicTexture(_qt_dyntex_qt__co_ {width_dd_1024_co_ height_dd_512}_co_ scene_co_ true)_sm__lt_br_gt_\ndynTex.wrapU _eq_ BABYLON.Texture.WRAP_ADDRESSMODE_sm__lt_br_gt_\ndynTex.wrapV _eq_ BABYLON.Texture.WRAP_ADDRESSMODE_sm__lt_br_gt__lt_/pre_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Toushin","Date":"2014-10-15T07:13:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I see_co_ thank you for that ^^_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]