[{"Owner":"klavdij","Date":"2015-11-14T22:52:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hello. I am a Babylon.js noob _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ and i have been stuck on this problem for quite some time now. Im trying to implement that my character rotates toward the point where my mouse cursor is. I haven_t_t found something like this for Babylon_co_ but i have been trying to copy some of the unity scripts_co_ but was unsucessful. _lt_/p_gt__lt_p_gt_I have a 3D ortographic view (camera)_co_ and have been trying to do it as it is shown in the code below (something similar works in unity)._lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_document.onmousemove _eq_ function(e){            cursorX _eq_ e.pageX_sm_            cursorY _eq_ e.pageY_sm_            var vector _eq_ new BABYLON.Ray.CreateNew(character.position.x_co_character.position.z_co_cursorX_co_cursorY_co_camera.getWorldMatrix()_co_camera.getViewMatrix()_co_camera.getProjectionMatrix())_sm_            character.lookAt(vektor.direction)_sm_  }_lt_/pre_gt__lt_p_gt_My character only rotates at the start for a small value (also in the wrong direction_co_ i only want to rotate the x and y axis) and after that the mouse movement doesn_t_t impact him. If anybody has any kind of tip or a solution to the problem_co_  I would be very grateful. Cheers _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-11-15T16:51:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hello and welcome_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_lookAt takes a position and not a direction so this may work with character.lookAt(character.position.add(vektor.direction)_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"klavdij","Date":"2015-11-15T22:46:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Thanks for the anwser. I tried your solution_co_ but it does the same things. To explain what i mean that by that_co_ here are 2 pictues _dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//imgur.com/a/nlGLc_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//imgur.com/a/nlGLc_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The first one is before mouse enters the canvas and the second one is after i enter. After that i can move him normally_co_ but he doesn_t_t rotate in any way. Everything i tried until now gave me this result._lt_/p_gt__lt_p_gt_ Maybe the translation from world coordinates to screen isnt right ? I dont know_co_ i really am lost.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wacko.png_qt_ alt_eq__qt__dd_wacko_dd__qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"iiceman","Date":"2015-11-15T23:01:47Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi klavdij and welcome to the forum._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Maybe that helps_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#23M0G6_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#23M0G6_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Tip for getting the best feedback here_dd_ make a playground so people can directly play with your code and help you out in the most efficient way _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"klavdij","Date":"2015-11-15T23:14:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Wow iiceman_co_ thank you! Thats exactly the thing i needed... but there remains one problem. He now still rotates the x and y axis_co_ and i only want him to look at x and z axis (he looks like he is looking in the air _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_). Can i apply lookAt in a different way_co_ so that it will apply the pointerY to the Z axis rotation? _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ And thanks for the tip_co_ still getting used to the playground_co_ but will use it in the future  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"iiceman","Date":"2015-11-15T23:19:46Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Here is a link to the documentation of the lookAt function_dd_ _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/classes/2.2/AbstractMesh#lookat-targetpoint-yawcor-pitchcor-rollcor-rarr-void_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/classes/2.2/AbstractMesh#lookat-targetpoint-yawcor-pitchcor-rollcor-rarr-void_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The parameters have soemthing to do with the axis_co_ but I don_t_t have time to check how exactly that works. Maybe you just try things out and see if it helps _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"klavdij","Date":"2015-11-15T23:50:52Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Thanks_co_ he does rotate now but he still is lying horizontally like the drunk he is  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_tongue.png_qt_ alt_eq__qt__dd_P_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/tongue@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ . I tried making a vector switching the axis but it doesn_t_t solve the problem. Maybe the problem is somewhere else? Can i maybe make a fixed axis_co_ so that he cant rotate in its way?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"iiceman","Date":"2015-11-16T08:45:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Maybe you can do something like this_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#23M0G6%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#23M0G6#1_lt_/a_gt_ ? (maybe use the y value of your meshes position instead of a fixed value)_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"klavdij","Date":"2015-11-16T15:22:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I tried that with all the different axis_co_ but i didnt work. Huh_co_ could be a model problem...  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wacko.png_qt_ alt_eq__qt__dd_wacko_dd__qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"iiceman","Date":"2015-11-16T15:57:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_What exactly is the Problem... he is always laying on his back?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Did you copy this part_co_ too?_lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_indicator.rotation.x _eq_ -Math.PI / 2_sm_indicator.bakeCurrentTransformIntoVertices()_sm__lt_/pre_gt__lt_p_gt_ You don_t_t need that... if you have that in your code it could be the reason for the laying down. I just used this piece of code to rotate the cone and then bake the transformation into the geometry so that you can see what direction the model currently points at. No need for you to rotate your model and bake that transformation_co_ though._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_If you did not copy that code part... then do so. Sounds weird_co_ I know. But If your model lays down because it_t_s jsut created like this_co_ you can rotate it back up and the bake the transformation into the model. Hope you know what I mean _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_tongue.png_qt_ alt_eq__qt__dd_P_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/tongue@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"klavdij","Date":"2015-11-16T17:36:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Yes_co_ i get what you want to say _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ By lying down i mean the second picture that i posted _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_tongue.png_qt_ alt_eq__qt__dd_P_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/tongue@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ No primarly i didn_t_t copy that part _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_. But when i did i got the following result _dd_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//imgur.com/BOpVVVJ_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//imgur.com/BOpVVVJ_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_He is in the right position! But he is moving out of the map if i get the mouse on the canvas....a whole new level _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ . The code doesn_t_t tell him to move? _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_laugh.png_qt_ alt_eq__qt__dd_lol_dd__qt__gt_  Dont know what to do haha._lt_/p_gt__lt_p_gt_Here is the latest attribution of the code _co_ character import with baked vertices _dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_ BABYLON.SceneLoader.ImportMesh(_qt__qt__co__qt__qt__co__qt_benderskup.babylon_qt__co_scene_co_function(newMeshes){        bender _eq_ newMeshes[0]_sm_        bender.position _eq_ new BABYLON.Vector3(-13_co_0.75_co_-14)_sm_        bender.scaling _eq_ new BABYLON.Vector3(0.1_co_0.1_co_0.1)_sm_        bender.rotation.z _eq_ Math.PI_sm_        bender.isVisible _eq_ true_sm_        bender.checkCollisions _eq_ true_sm_        bender.collisionsEnabled _eq_ true_sm_        bender.gravity _eq_ new BABYLON.Vector3(0_co_-9.81_co_0)_sm_        bender.rotation.x _eq_ -Math.PI / 2_sm_        bender.bakeCurrentTransformIntoVertices()_sm_        camera.target _eq_ bender_sm_    })_sm__lt_/pre_gt__lt_p_gt_And the event listener _dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_window.addEventListener(_qt_mousemove_qt__co_ function () {                var pickResult _eq_ scene.pick(scene.pointerX_co_ scene.pointerY)_sm_                if (pickResult.hit) {                    var targetPoint _eq_ pickResult.pickedPoint_sm_                    targetPoint.y _eq_ 1_sm_ //this does not change anything                    bender.lookAt(targetPoint)_sm_                }        })_sm__lt_/pre_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"iiceman","Date":"2015-11-16T23:27:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hmm_co_ can you put the whole thing online or ZIP it and post a download link? Then we could take a closer look _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"klavdij","Date":"2015-11-18T22:25:22Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Sure here is  a GitHub link here for you _dd_ _lt_a href_eq__qt_https_dd_//github.com/klavdijS/CleanItUp/tree/Cloudy_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/klavdijS/CleanItUp/tree/Cloudy_lt_/a_gt_  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_The code is ugly_co_ I know_co_ this is my first game ever.. But if you see any optimization options_co_ please let me know. Also_co_ the collisions are very buggy_co_ so if you start sliding down the wall_co_ dont be surprised  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ . I still want to implement the camera rotation and eventually moving to the point where the cursor is pointing. These are the functions in the code that i made for rotation the object (so you know what to look for) _dd_ _lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_window.addEventListener(_qt_mousemove_qt__co_function(){       //characterFollow()_sm_})_sm_function characterFollow(){        var pickResult _eq_ scene.pick(scene.pointerX_co_scene.pointerY)_sm_        if (pickResult.hit){            var targetPoint _eq_ pickResult.pickedPoint_sm_            bender.lookAt(targetPoint)_sm_        }}_lt_/pre_gt__lt_p_gt_I commented it out so the game is functional and the character doesn_t_t lay on the ground. If you have and solution to the problem_co_ it would be great  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_tongue.png_qt_ alt_eq__qt__dd_P_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/tongue@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ ._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"iiceman","Date":"2015-11-19T08:07:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Okay_co_ I_t_ll take a look tonight and see waht I can do for you _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"iiceman","Date":"2015-11-19T22:55:46Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_hmm.. guess I_t_ll have to take a deep look later on_co_ I just figured otu so far that you should do it in this order_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_bender.rotation.z _eq_ Math.PI_sm_bender.bakeCurrentTransformIntoVertices()_sm_bender.position _eq_ new BABYLON.Vector3(-13_co_0_co_-13)_sm__lt_/pre_gt__lt_p_gt_when you import the mesh. But there are other problems_co_ for some reason you character looses the texture when I do that. And there are problem with the picking as well. I take another look tomorrow._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"iiceman","Date":"2015-11-21T13:56:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Okay_co_ I finally took another look and played around with it quite some time. I cahnged alot of things (mostly code structure) and I broke alot of things _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ you can have a look at the code here (as soon as it is done pushing_co_ your assets are way too huge!)_dd_ _lt_a href_eq__qt_https_dd_//github.com/iiceman40/CleanItUp_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/iiceman40/CleanItUp_lt_/a_gt__lt_br_gt_ _lt_br_gt_And here is an online version to try out and tell me if that_t_s what you want_dd_ _lt_a href_eq__qt_http_dd_//p215008.mittwaldserver.info/CleanItUp/_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//p215008.mittwaldserver.info/CleanItUp/_lt_/a_gt_ (loads really long_co_ again_co_ the assets folder is 62MB_co_ maybe you can reduce that _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ )_lt_br_gt_ _lt_br_gt_What I broke_dd__lt_/p_gt__lt_ul_gt__lt_li_gt_the switching between the cameras when moving around_lt_/li_gt__lt_li_gt_the whole level layout_co_ not sure how I manged to break that but somehow it looks like all the things ended up in different places now_lt_/li_gt__lt_li_gt_the keyboard controls and you custom collision system_lt_/li_gt__lt_li_gt_probably also broke all interactions that you had in there... the door opening stuff and so on_lt_/li_gt__lt_li_gt_(removed some of your sources files (but nothing important) that I think you got via bower? or just copied everything in there? I removed it because it slowed down the auto complete function of my editor)_lt_/li_gt__lt_/ul_gt__lt_p_gt_What I changed/fixed_dd__lt_/p_gt__lt_ul_gt__lt_li_gt_I tried to separate some of of the things you do and put them into class files like a Player class and a LevelBuilder class. That way I could separate a view things which made debugging easier for me and helps keeping a better overview over things._lt_/li_gt__lt_li_gt_I changed the movement to mouse cursor input. so your character moves where you click_lt_/li_gt__lt_li_gt_I switched to the moveWithCollions function provided by babylon (no physics here_co_ just moving with collisions the way babylon js intends it)_lt_/li_gt__lt_li_gt_now for the main problem about the mesh rotation and the lookAt function_dd_ I fixed it by using a dummy cube as your player object and then just add this dummy as the parent of your imported mesh. This way I could somehow control better what rotations it does and I could test it without using your imported mesh in the first place. (i just tried it with the normal cube_co_ then added your mesh as a child to that cube). I also added an extra ground object that is used for checking where you actually point with your cursor in the 3d environment._lt_br_gt__lt_br_gt_The gorund thingy_dd__lt_br_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_\tthis.ground _eq_ BABYLON.Mesh.CreateGround(_t_ground_t__co_ 50_co_ 50_co_ 100_co_ scene)_sm_\tthis.ground.isVisible _eq_ false_sm__lt_/pre_gt_The dummy player object and the imported mesh_dd__lt_br_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_\tthis.player _eq_ BABYLON.MeshBuilder.CreateBox(_t_player_t__co_ {}_co_ scene)_sm_\tthis.player.isVisible _eq_ false_sm_\tthis.player.position _eq_ new BABYLON.Vector3(-13_co_ 1_co_ -13)_sm_\tthis.player.gravity _eq_ new BABYLON.Vector3(0_co_ -9.81_co_ 0)_sm_\tthis.player.checkCollisions _eq_ true_sm_\tthis.player.collisionsEnabled _eq_ true_sm_\tthis.player.ellipsoid _eq_ new BABYLON.Vector3(0.5_co_ 1.0_co_ 0.5)_sm_\tthis.player.ellipsoidOffset _eq_ new BABYLON.Vector3(0_co_ 1.0_co_ 0)_sm_\tcamera.target _eq_ this.player_sm_\tBABYLON.SceneLoader.ImportMesh(_qt__qt__co_ _qt_assets/_qt__co_ _qt_beauty.babylon_qt__co_ scene_co_ function (newMeshes) {\t\tplayerAvatar _eq_ newMeshes[0]_sm_\t\tplayerAvatar.scaling _eq_ new BABYLON.Vector3(0.0075_co_ 0.0075_co_ 0.0075)_sm_\t\tplayerAvatar.isVisible _eq_ true_sm_\t\tplayerAvatar.position.y _eq_ -1_sm_\t\tplayerAvatar.parent _eq_ self.player_sm_\t\t//playerAvatar.rotation.z _eq_ Math.PI/2_sm_\t\t//playerAvatar.rotation.y _eq_ Math.PI/2_sm_\t\t//player.bakeCurrentTransformIntoVertices()_sm_\t})_sm__lt_/pre_gt_The lookAt stuff_dd__lt_br_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_\t// helper object to show current position of cursor in 3d space\tvar gizmo _eq_ BABYLON.Mesh.CreateBox(_t_gizmo_t__co_ 0.2_co_ scene)_sm_\tfunction characterFollow() {\t\tvar pickResult _eq_ scene.pick(scene.pointerX_co_ scene.pointerY_co_ function (mesh) {\t\t\treturn mesh _eq__eq_ ground_sm_\t\t})_sm_\t\tif (self.player &amp_sm_&amp_sm_ pickResult.hit) {\t\t\tvar targetPoint _eq_ pickResult.pickedPoint.clone()_sm_\t\t\tgizmo.position _eq_ targetPoint.clone()_sm_\t\t\ttargetPoint.y _eq_ self.player.position.y_sm_\t\t\tself.player.lookAt(targetPoint)_sm_\t\t}\t}_lt_/pre_gt_So in the end no extra rotations or anything was needed. The gizmo shows the point that you currently pick. And we just rotate the the cube mesh. You imported mesh follwes since the cube is it_t_s parent._lt_br_gt_ _lt_/li_gt__lt_li_gt_I think I changed more detail stuff_co_ but can_t_t remember anymore_lt_/li_gt__lt_/ul_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I hope that helps somehow even if I broke more than I fixed. You can take a look at what I did and decide what of if you can and want to use and what you don_t_t like. It_t_s probably not all good/helpful. If you have questions just ask and I_t_ll try to explain._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"klavdij","Date":"2015-11-21T23:37:41Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Wow dude_co_ I can_t_t say how grateful i am for all the help! _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ . I owe you a beer _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ I will study up the code tomorrow when i have some spare time and will probably have alot of questions_co_ untill then thank you very very much  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]