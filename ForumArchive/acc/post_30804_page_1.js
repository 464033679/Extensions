[{"Owner":"royibernthal","Date":"2017-06-02T01:15:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tBug? - Try to resize the window_co_ text is cropped instead of resized_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#XCPP9Y%2347_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#XCPP9Y#47_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tFeature suggestion _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ - When idealWidth is present_co_ would it be possible to resize text blocks based on an internal calculation of its dimensions (pixels) at the idealWidth? (or make it optional)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThat way the width and height of a text block could be defined according to that internal calculation_co_ and since they_t_ll be defined in px with idealWidth present_co_ they_t_ll be resized accordingly.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe way things are now we_t_d have to figure roughly how big the text block is and define it manually in px for it to be resized in proportions to idealWidth.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFor instance for image we can simply set the width and height of the gui image to that of the dom image in order to automate the calculation_co_ but for text blocks we don_t_t have any way to actually know the width and height of the text. (or do we?)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-06-02T01:56:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIt is a bug..Will fix it tonight_dd_)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFor the suggestion_co_ unfortunately this is not possible because I_t_m using context.measure which only use fontzise\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-06-02T02:08:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tFixed\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-06-02T02:12:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tHere_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#XCPP9Y%2348_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#XCPP9Y#48_lt_/a_gt_\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"royibernthal","Date":"2017-06-02T02:47:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks for the fix _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo the way you know for instance how to align text blocks according to their actual size is via context.measure which uses font size?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf so_co_ since by design font sizes aren_t_t affected by resolution (correct me if I_t_m wrong)_co_ maybe we could treat the idealWidth as a text block_t_s 100%? Since a text block is rendered at a fixed size according to font size by default regardless of stage size_co_ if that can be calculated (the way you calculate the text block_t_s actual size in order to align it) then resizing according to idealWidth should be possible.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMakes sense?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-06-02T13:59:03Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_176684_qt_ data-ipsquote-contentid_eq__qt_30804_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1496371675_qt_ data-ipsquote-userid_eq__qt_8420_qt_ data-ipsquote-username_eq__qt_royibernthal_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t11 hours ago_co_ royibernthal said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\t_lt_span style_eq__qt_color_dd_#272a34_sm__qt__gt_So the way you know for instance how to align text blocks according to their actual size is via context.measure which uses font size?_lt_/span_gt_\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tCorrect_dd_ _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/gui/src/controls/textBlock.ts#L112_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/gui/src/controls/textBlock.ts#L112_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNot sure to follow you_dd_ you want to_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- compute text size. Let_t_s say it is 300px with a font size of 50px\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- scale that 300px according to idealWidth and current resolution. so if idealWidth _eq_ 600 and current resolution _eq_ 300 then the new text size should be 150px\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- Revert the measureText to deduce the right font size to produce a text of 150px width?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe last step seems complex as I see no other option than brute force _lt_img alt_eq__qt__dd_(_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ title_eq__qt__dd_(_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"royibernthal","Date":"2017-06-02T22:57:34Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYes this was pretty match what I meant.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIs it needed to deduce the right font size? Why not keep the same font size and simply multiply the values returned from context.measure by the text scale?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThat way instead of trying to deduce the right font size_co_ you still deal with pixels and the font size remains the same_co_ only the whole thing is scaled.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_ve never dealt with that low-level api so it_t_s highly likely that I_t_m missing something.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-06-03T19:13:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tQuote\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\t_lt_span style_eq__qt_color_dd_#272a34_sm__qt__gt_Why not keep the same font size and simply multiply the values returned from context.measure by the text scale?_lt_/span_gt_\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tBecause I do not decide the size of the text boundaries but I set a fontsize and ask for text rendering\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"royibernthal","Date":"2017-06-03T23:03:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tLet_t_s simplify it -\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAt the moment I can see 2 functionalities_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t1) Measure text block size (e.g. that_t_s how you align text blocks)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t2) Resize text block (e.g. to be dependent on idealWidth)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhat I_t_m doing now is setting the text block size in px by eye_co_ and then it is resized according to idealWidth.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhy not measure the text block size_co_ and then set its width and height in px according to that? It should really be as simple as that_co_ since the rest of the logic is already there.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhile we_t_re on the subject -\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCan you expose a way to get text block ACTUAL width and height in px?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere I don_t_t see anything exposed_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/gui/src/controls/textBlock.ts_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/gui/src/controls/textBlock.ts_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tand width and height return 100% (makes sense but doesn_t_t help me)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-06-04T19:18:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThis is an open source project. Please submit a PR to try what you need. This will be easier and I won_t_t be the only one to contribute _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"royibernthal","Date":"2017-06-05T01:22:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tAt first it_t_ll be harder_co_ but on the long run it could definitely make things easier_co_ I have no objections _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]