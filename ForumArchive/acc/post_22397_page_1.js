[{"Owner":"Kesshi","Date":"2016-05-06T09:22:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co__lt_br /_gt__lt_br /_gt_\n\tin my application i would like to add shadows on the ground but i have some questions_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t1. Is it possible to have a light which casts a shadow without emitting light? I ask this because i have a fixed light setup which i don_t_t want to change but i need a shadow under my objects. The shadow should come exaclty from the top but i dont want to make my objects brighter as they already are. I would need some kind of shadow only light.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t2. In order to have shadows i need to fill the renderlist of the shadow map with my meshes. That means i need to sync the renderlist with my scene all the time. For me it would be much easier if i could write a predicate function to define which mesh should cast a shadow. Something like the _qt_canAffectMesh_qt_ of lights. Would it be possilbe to add something like this.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-05-08T03:31:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi Kesshi_co_ good to hear from you again.  Yes_co_ you have _lt_em_gt_some_lt_/em_gt_ options_co_ there.  Take a look... _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#Y8WGP%233_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#Y8WGP#3_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSee lines 55 and 56?  Almost exactly the same as your _qt_canAffectMesh_qt_ hope.  Cool_co_ huh?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBoth lights are creating shadows_co_ yet neither light is adding illumination to the torus.  Hope this helps for #1.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFor #2... hmm.  There are few options_co_ for that.  We have a tags system.  It would allow you to discriminate by name.  For example_co_ all mesh whose name ends in _qt__shadowed_qt_... could be quickly gathered with the tags system.  But you still need to do some processing. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou could also add BABYLON.AbstractMesh.castsShadows _eq_ true/false (prior to any creation)_co_ but I don_t_t do predicates real well_co_ so you_t_ll need to code that yourself.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere_t_s a little test.  _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#Y8WGP%237_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#Y8WGP#7_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLine 25 - establish .castsShadows Boolean property on all future-made mesh._lt_br /_gt_\n\tLines 51 and 55 - NOP (de-activated). No renderlist pushing_co_ yet.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_br /_gt_\n\tLine 59 - set torus.castsShadows flag _eq_ true_sm__lt_br /_gt_\n\tLines 75 thru 83 - constantly update the shadow casters ... and add delicious CPU bog.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tOk_co_ that_t_s all the ideas I have.  Others are much smarter than I... they will have comments.  Be well_co_ talk soon.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPS_dd_ For the kids  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  There is a slight red glow on the BLUE follow-spotlight cone.  It comes from scene _lt_em_gt_ambientColor_lt_/em_gt_.  Two requirements... line 3 and line 32.  They work together... as a team.  Yay team!  Also_co_ I _qt_illegally over-powered_qt_ the blue channel on the light2 diffuse (line 23).  The brown terrain was sucking-up all the blue intensity.  I even tried light2.intensity _eq_ 50... it didn_t_t work.  I want to BLAST that blue spotlight... but no... can_t_t fig how to get more power from it...  yet.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Kesshi","Date":"2016-05-09T07:29:17Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThank you for your answers._lt_br /_gt_\n\tFor #1_dd_ i_t_m sure that i tried the _qt_light.excludedMeshes_qt_ already and it didn_t_t work ... maybe i was sleeping at that time _lt_img alt_eq__qt__sm_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ title_eq__qt__sm_)_qt_ width_eq__qt_20_qt_ /_gt__lt_br /_gt_\n\tAnyway i think that will work. thx_lt_br /_gt__lt_br /_gt_\n\tFor #2_dd_ I need to dig a bit more in the BJS source maybe i find some workaround for this._lt_br /_gt_\n\tIf not i have to do something like in your example but maybe with some kind of delay to prevent updating in every frame._lt_br /_gt_\n\tI could also react on the scene.onNewMeshAdded / onMeshRemoved events i think._lt_br /_gt_\n\t \n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-05-09T10:53:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tNod.  But why have a onNewMeshAdded event... when YOU are the one adding the mesh?  Just set the shadow on/off when you create the mesh.  Even if some _qt_foreign entity_qt_ (like a server) creates the mesh_co_ just tell the server to set the mesh_t_s shadow factor right afterwards.  You_t_ll know when new mesh are added... because you are the one who does it_co_ right?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNow... that other idea you had... hmm.  The LOD system has some sort of _qt_monitor-for-distance_qt_ system inside it... but that is surely done once per frame_co_ too_co_ so it is the same as adding your own distance tester (and making sure built-in LOD is OFF).  I see an interesting line _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/afd415ba0ed0927fe5b6245806c58b410d828e16/src/Mesh/babylon.mesh.js#L290_qt_ rel_eq__qt_external nofollow_qt__gt_right here_lt_/a_gt_.  *shrug*  The framework is JS_co_ and you are coding in JS.  Your code runs just as fast as things that are _qt_built-in_qt_ to the framework.  So_co_ there_t_s a trade-off.  Sometimes it_t_s wise to modify something engine-ish_co_ and sometimes you lose ground by not writing it yourself.  Whether YOU run that distance-checker line once per frame_co_ or the framework does it_co_ both have load costs.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tShadow LOD... an interesting thought_co_ Kesshi.  WebGL is predominantly light-less by definition_co_ so_co_ I don_t_t think we_t_ll see hardware-powered shadowLOD anytime soon. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tTo be frank_co_ I know so little about this_co_ that I should just shut the heck up.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  Sorry if I_t_ve gotten in the way.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]