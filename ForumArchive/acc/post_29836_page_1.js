[{"Owner":"Nikos123","Date":"2017-04-18T08:21:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIn this code here_co_ on the 1st frame of the animation the mesh being animated instantly jumps to the location at the end of the animation_co_ then the next frame it goes back to frame2 at the interpolated location. Any ideas?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_       let unit _eq_ selectedUnits[i]\n\n      // use pythagoras to work out the realtive speed for the units to arrive at roughly the same time\n      let distance _eq_ Math.sqrt(Math.pow(pickResult.x - unit.mesh.position.x_co_ 2)\n        + Math.pow(pickResult.z - unit.mesh.position.z_co_ 2))\n      let framesNeeded _eq_ Math.round((distance / common.MEDIUM_SPEED) * common.ANIMATIONS_FPS)\n      // console.log(_t_dist_dd_ _t_ + distance + _t_ frames_t_ + framesNeeded)\n\n      let animationBezierTorus _eq_ new BABYLON.Animation(_t_animationCore_t__co_ _t_position_t__co_\n        common.ANIMATIONS_FPS_co_\n        BABYLON.Animation.ANIMATIONTYPE_VECTOR3_co_\n        BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT)\n      let keysBezierTorus _eq_ []\n      keysBezierTorus.push({ frame_dd_ 0_co_ value_dd_ unit.mesh.position })\n\n      keysBezierTorus.push({\n        frame_dd_ framesNeeded_co_\n        value_dd_ unit.mesh.position _eq_ formation[i]\n      })\n      animationBezierTorus.setKeys(keysBezierTorus)\n      unit.mesh.animations.push(animationBezierTorus)\n      this.scene.beginAnimation(unit.mesh_co_ 0_co_ framesNeeded_co_ true) // todo move animation to server side\n    _lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tYou can see this effect by trying to move any of the blue spheres_dd_ _lt_a href_eq__qt_http_dd_//quantuminformation.github.io/Density-Wars/_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//quantuminformation.github.io/Density-Wars/_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-04-20T15:16:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHeya N!  Sorry for the slow replies.  Is there ANY chance that you could reproduce this issue... in a playground?  Or_co_ how about creating a version with no laser and stripped-down core_co_ common_co_ and Game object?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLet me make sure I have the symptom correct.  Click-on any purple sphere.  Then click somewhere on ground grid.  There is a _qt_flash-glitch_qt_ that happens as animation starts_co_ right?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt is ONLY happening on the green box_co_ yes?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhat does a console dump of green box anim keys LOOK LIKE (dumped just before anim start)?  They look correct?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnyway_co_ we have now _qt_bumped_qt_ the topic back onto forum page 1.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  Not easy to troubleshoot... kind of big. Simplify and de-webpack if you can. I_t_ll keep thinkin_t_.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]