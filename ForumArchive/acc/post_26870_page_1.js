[{"Owner":"satguru","Date":"2016-12-07T04:41:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tNot sure I understand this well.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAs per my understanding applyImpulse takes two variables\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe first variable is the direction and amount of impulse to apply. The second is where on the body itself the force will be applied.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis as per documentation here\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//doc.babylonjs.com/overviews/Using_The_Physics_Engine#further-functionality-of-the-impostor-class_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/overviews/Using_The_Physics_Engine#further-functionality-of-the-impostor-class_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNow consider the following example\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#26LQEZ%2332_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#26LQEZ#32_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\there I am applying a small impulse at the center of sphere and it moves slowly as expected.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut now comment line 31 and un-comment line 32 and run.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn line 32 I am applying a force at a point which is not on the sphere at all.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou would think the sphere would not move at all  but instead it does move and moves with high speed.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHow come?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"heyzxz","Date":"2016-12-07T05:50:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSee the applyImpulse method in cannon.js_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_Body.prototype.applyImpulse _eq_ function(impulse_co_ relativePoint){\n    if(this.type !_eq__eq_ Body.DYNAMIC){\n        return_sm_\n    }\n\n    // Compute point position relative to the body center\n    var r _eq_ relativePoint_sm_\n\n    // Compute produced central impulse velocity\n    var velo _eq_ Body_applyImpulse_velo_sm_\n    velo.copy(impulse)_sm_\n    velo.mult(this.invMass_co_velo)_sm_\n\n    // Add linear impulse\n    this.velocity.vadd(velo_co_ this.velocity)_sm_\n\n    // Compute produced rotational impulse velocity\n    var rotVelo _eq_ Body_applyImpulse_rotVelo_sm_\n    r.cross(impulse_co_rotVelo)_sm_\n\n    /*\n    rotVelo.x *_eq_ this.invInertia.x_sm_\n    rotVelo.y *_eq_ this.invInertia.y_sm_\n    rotVelo.z *_eq_ this.invInertia.z_sm_\n    */\n    this.invInertiaWorld.vmult(rotVelo_co_rotVelo)_sm_\n\n    // Add rotational Impulse\n    this.angularVelocity.vadd(rotVelo_co_ this.angularVelocity)_sm_\n}_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tThe problem is the engine doesn_t_t check if the _t_relativePoint_t_ (your second parameter) is on the body (sphere) or not_co_ instead it just simply treat it as a valid contact point. So in your line 32_co_ your _t_relativePoint_t_ is too far away from the center of the sphere_co_ which leads to a huge angular velocity，and the angular velocity is just at the right angle which makes the sphere rolling on the ground. So finally you see the sphere moving fast on the ground.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"digitspro","Date":"2016-12-07T06:51:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tYea.. If I want to make sure the contact point touches the mesh_co_ I_t_d wrap the applyImpulse call with a _lt_em_gt_mesh.intersectsPoint(contactPoint)_lt_/em_gt_ check\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2016-12-07T13:16:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tJust wanted to add to _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/20405-heyzxz/?do_eq_hovercard_qt_ data-mentionid_eq__qt_20405_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/20405-heyzxz/_qt_ rel_eq__qt__qt__gt_@heyzxz_lt_/a_gt__t_s wonderful answer_co_ that it will add a lot of overhead to actually test that. Maybe_co_ before forcing an intersects call_co_ try seeing if you can make sure it is always the case in some other way.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI don_t_t know how you calculate the relative point_co_ so I can_t_t really help with that.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"satguru","Date":"2016-12-08T02:05:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/20405-heyzxz/?do_eq_hovercard_qt_ data-mentionid_eq__qt_20405_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/20405-heyzxz/_qt_ rel_eq__qt__qt__gt_@heyzxz_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMakes sense though I am not sure if  the location of impulse is relative.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe example in the document gives a different impression.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tit shows\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_color_dd_rgb(51_co_51_co_51)_sm_font-family_dd_Inconsolata_sm_font-size_dd_16px_sm_font-style_dd_normal_sm_font-weight_dd_300_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_pre_sm_word-spacing_dd_0px_sm_background-color_dd_rgb(240_co_240_co_240)_sm_float_dd_none_sm__qt__gt_impostor.applyImpulse(_lt_/span_gt__lt_span style_eq__qt_color_dd_rgb(51_co_51_co_51)_sm_font-weight_dd_bold_sm_font-family_dd_Inconsolata_sm_font-size_dd_16px_sm_font-style_dd_normal_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_pre_sm_word-spacing_dd_0px_sm__qt__gt_new_lt_/span_gt__lt_span style_eq__qt_color_dd_rgb(51_co_51_co_51)_sm_font-family_dd_Inconsolata_sm_font-size_dd_16px_sm_font-style_dd_normal_sm_font-weight_dd_300_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_pre_sm_word-spacing_dd_0px_sm_background-color_dd_rgb(240_co_240_co_240)_sm_float_dd_none_sm__qt__gt_ BABYLON.Vector3(_lt_/span_gt__lt_span style_eq__qt_color_dd_rgb(0_co_128_co_128)_sm_font-family_dd_Inconsolata_sm_font-size_dd_16px_sm_font-style_dd_normal_sm_font-weight_dd_300_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_pre_sm_word-spacing_dd_0px_sm__qt__gt_10_lt_/span_gt__lt_span style_eq__qt_color_dd_rgb(51_co_51_co_51)_sm_font-family_dd_Inconsolata_sm_font-size_dd_16px_sm_font-style_dd_normal_sm_font-weight_dd_300_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_pre_sm_word-spacing_dd_0px_sm_background-color_dd_rgb(240_co_240_co_240)_sm_float_dd_none_sm__qt__gt__co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_rgb(0_co_128_co_128)_sm_font-family_dd_Inconsolata_sm_font-size_dd_16px_sm_font-style_dd_normal_sm_font-weight_dd_300_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_pre_sm_word-spacing_dd_0px_sm__qt__gt_10_lt_/span_gt__lt_span style_eq__qt_color_dd_rgb(51_co_51_co_51)_sm_font-family_dd_Inconsolata_sm_font-size_dd_16px_sm_font-style_dd_normal_sm_font-weight_dd_300_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_pre_sm_word-spacing_dd_0px_sm_background-color_dd_rgb(240_co_240_co_240)_sm_float_dd_none_sm__qt__gt__co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_rgb(0_co_128_co_128)_sm_font-family_dd_Inconsolata_sm_font-size_dd_16px_sm_font-style_dd_normal_sm_font-weight_dd_300_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_pre_sm_word-spacing_dd_0px_sm__qt__gt_0_lt_/span_gt__lt_span style_eq__qt_color_dd_rgb(51_co_51_co_51)_sm_font-family_dd_Inconsolata_sm_font-size_dd_16px_sm_font-style_dd_normal_sm_font-weight_dd_300_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_pre_sm_word-spacing_dd_0px_sm_background-color_dd_rgb(240_co_240_co_240)_sm_float_dd_none_sm__qt__gt_)_co_ sphere.getAbsolutePosition())_sm__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\twhy getAbsoluteLocation()?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"heyzxz","Date":"2016-12-08T03:59:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI guess in the document_co_ it just wants to show you how to apply an impulse on the center of the sphere_co_ since in most case the sphere doesn_t_t have a parent_co_ which means the  _t_getAbsolutePosition()_t_ and _t_sphere.position_t_ should be the same thing. But using _t_getAbsolutePosition()_t_ makes sure the position(or I should say the _t_absolute position_t_) is up to date.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Mesh/babylon.abstractMesh.ts#L391-L394_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Mesh/babylon.abstractMesh.ts#L391-L394_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut in the case if the sphere has a parent or if you want to apply impulse NOT on the sphere center_co_ you may not use _t_getAbsolutePosition()_t__co_ instead you have your own way to _lt_span style_eq__qt_color_dd_rgb(39_co_42_co_52)_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_background-color_dd_rgb(255_co_255_co_255)_sm_float_dd_none_sm__qt__gt_calculate the location of the impulse (based on your requirement)._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]