[{"Owner":"pichou","Date":"2018-10-01T21:55:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello babylonjs community_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIs there a way to have the file weight uploaded with the assetManager whatever the type of file?_lt_br /_gt_\n\t_lt_br /_gt_\n\tCheerz_co_ Pichou\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-10-01T22:09:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWhat do you mean? Getting the file size before loading to get progess into? This is dependent on your server\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"pichou","Date":"2018-10-01T22:30:46Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tNope to be more specific_co_ the exact thing I am looking for is to know the entire scene weight.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMeaning what is the total of data in bytes that need to be loaded in order to render the scene._lt_br /_gt_\n\tSo after everything has been loaded and not during the progress._lt_br /_gt_\n\t_lt_br /_gt_\n\tMaybe a way to reach the _qt_Content-Length_qt_ header of each asset request?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-10-01T22:42:38Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tNot sure if this is supported by XHR. So far if the xhr has a content length we will use it to report progress so we could also expose it but this is not always supported by the server\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"pichou","Date":"2018-10-01T23:04:41Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHum I see! \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI found we could get the length with the xhr like this _lt_span_gt__dd__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_```parseInt(xhr.getResponseHeader(_qt_Content-Length_qt_))```_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tif you already use it for the progress_co_ I guess we can also have it somehow when the loading is finished?_lt_br /_gt_\n\tIf some task/file doesn_t_t have Content-Length indicated by the server it is ok because the result I want doesn_t_t have to be exact.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"pichou","Date":"2018-10-01T23:08:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWhen I go to my network console and look at the headers_co_ there is always the Content-Length.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMaybe there is a way to get the xhr of a task in the assetManager? This way I could calculate the weight I am looking for?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-10-01T23:09:04Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThis is not exposed actually\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo it should be easier to do on your side for now\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"pichou","Date":"2018-10-01T23:26:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOk I know how to do it then.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt_\n\tBut that means I will have to load the files twice and I don_t_t want to do that both for the servers and clients._lt_br /_gt_\n\t_lt_br /_gt_\n\tGuess I will find another way! Thanks for your help _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt__lt_img alt_eq__qt__sm_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ title_eq__qt__sm_)_qt_ width_eq__qt_20_qt_ /_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"brianzinn","Date":"2018-10-02T04:03:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIf you are just using MeshAssetTask _co_ you could use SceneLoader.ImportMesh directly_co_ which has a SceneLoaderProgressEvent_co_ which tells you how many bytes have been downloaded.  If you know already how big your scene is in total_co_ you could then work backwards and build your own custom asset manager with realistic progress based on bytes downloaded/total.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThat event has a property _t_lengthComputable_t__co_ which is often false. Progress is_co_ if lengthComputable _eq__eq_ true evt.loaded / evt.total.  If not lengthComputable then it_t_s evt.loaded / knownFileSize.  At least that strategy works for models_co_ so maybe that is useful.  Cheers.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]