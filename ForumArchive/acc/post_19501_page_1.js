[{"Owner":"andrewxxtheone","Date":"2015-12-28T13:03:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hey guys!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I_t_d like to cache my textures into IndexedDB_co_ I saw that Babylon.js is capable of it_co_ but my case is that_co_ I don_t_t have a _qt_scene mesh babylon_qt_ file_co_ I just create a simple Babylon.Scene and add some custom meshes_co_ with textures. And I_t_d like to cache those textures_co_ is there a workaround to _qt_make babylon.js believe it is a scene loaded from a file and force checking manifest and force using indexed db for textures_qt_? _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jdurrant","Date":"2017-09-28T01:05:46Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tI realize this question is very old_co_ but I_t_m interested in doing the same thing. Did you ever find a solution? Thanks!\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2017-09-28T09:42:50Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_ even if it_t_s an old question_co_ it is still a valid one _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tThere is currently no way of doing that cleanly without a scene file_co_ BUT_co_ there is a nice way to get it to work.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe database requires a manifest file in order to initialize. All you need to do is to serve a manifest file with a specific name (let_t_s say scene.manifest). Your manifest should have the 3 elements_co_ just like a regular manifest file_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_{\n  _qt_version_qt_ _dd_ 1_co_\n  _qt_enableSceneOffline_qt_ _dd_ true_co_\n  _qt_enableTexturesOffline_qt_ _dd_ true\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tYou then need to set the scene_t_s database object_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_scene.database _eq_ new BABYLON.Database(_t_scene_t__co_ function()  {})_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tRight after creating your scene_co_ before loading your textures.  Notice the _qt_scene_qt_ as first variable. This is the filename you chose to use.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFrom now on_co_ the scene will cache all resources into the indexedDB instance.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jdurrant","Date":"2017-10-08T01:32:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThanks_co_ _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/10310-raananw/?do_eq_hovercard_qt_ data-mentionid_eq__qt_10310_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/10310-raananw/_qt_ rel_eq__qt__qt__gt_@RaananW_lt_/a_gt_ ! Very helpful.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"dbawel","Date":"2017-10-08T07:15:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tKeep in mind that you may have issues with the scene initializing before all textures and assets are loaded. My workaround for this is to creat a couple of _qt_dummy_qt_ textures and load them last_co_ so that when the scene sometimes initializes before everything is loaded_co_ it loads in sequence so the missing assets are never missed as they were never meant to be used. So FYI - the issue I often find in your case is that I wait for the assets manager to verify that everything is loaded before initializing_sm_ however_co_ setting your scene up the way that _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/10310-raananw/?do_eq_hovercard_qt_ data-mentionid_eq__qt_10310_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/10310-raananw/_qt_ rel_eq__qt__qt__gt_@RaananW_lt_/a_gt_ suggests sometimes causes odd behaviors in initializing before the loader has completed - even though it reports that the assets Manager is finished. Just a heads up.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDB\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2017-10-09T15:56:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_191244_qt_ data-ipsquote-contentid_eq__qt_19501_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1507446915_qt_ data-ipsquote-userid_eq__qt_11286_qt_ data-ipsquote-username_eq__qt_dbawel_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tOn 10/8/2017 at 3_dd_15 AM_co_ dbawel said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tKeep in mind that you may have issues with the scene initializing before all textures and assets are loaded. My workaround for this is to creat a couple of _qt_dummy_qt_ textures and load them last_co_ so that when the scene sometimes initializes before everything is loaded_co_ it loads in sequence so the missing assets are never missed as they were never meant to be used. So FYI - the issue I often find in your case is that I wait for the assets manager to verify that everything is loaded before initializing_sm_ however_co_ setting your scene up the way that _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/10310-raananw/?do_eq_hovercard_qt_ data-mentionid_eq__qt_10310_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/10310-raananw/_qt_ rel_eq__qt__qt__gt_@RaananW_lt_/a_gt_ suggests sometimes causes odd behaviors in initializing before the loader has completed - even though it reports that the assets Manager is finished. Just a heads up.\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tDB\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tI do not use the stuff talked about in this topic_co_ but wouldn_t_t asset manager work with scene.executeWhenReady()?  Example where renderloop is not even assigned till nothing outstanding_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_scene.executeWhenReady(function () {\n    // Once the scene is loaded_co_ register a render loop\n    engine.runRenderLoop(function() {\n        scene.render()_sm_\n    })_sm_\n})_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2017-10-09T20:05:04Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIt would also know what doesn_t_t work. If you can reproduce it_co_ we will be happy to fix it.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis is actually a bit of a hack - Babylon doesn_t_t officially supports what I showed_co_ but it should be working.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"dbawel","Date":"2017-10-10T06:02:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_191378_qt_ data-ipsquote-contentid_eq__qt_19501_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1507564603_qt_ data-ipsquote-userid_eq__qt_8492_qt_ data-ipsquote-username_eq__qt_JCPalmer_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t13 hours ago_co_ JCPalmer said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tI do not use the stuff talked about in this topic_co_ but wouldn_t_t asset manager work with scene.executeWhenReady()?  Example where renderloop is not even assigned till nothing outstanding_dd_\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tHi _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/?do_eq_hovercard_qt_ data-mentionid_eq__qt_8492_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/_qt_ rel_eq__qt__qt__gt_@JCPalmer_lt_/a_gt_ _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/10310-raananw/?do_eq_hovercard_qt_ data-mentionid_eq__qt_10310_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/10310-raananw/_qt_ rel_eq__qt__qt__gt_@RaananW_lt_/a_gt_ -\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYour description above is how the Asset Manager is supposed to function_co_ but as previously mentioned when loading many assets_co_ the Asset Manager often returned true without all assets loaded. And it_t_s not that the Asset Manager continued to load after returning true_co_ but failed to complete loading assets following the return of true to report that all assets have been loaded. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tHowever_co_ I just tried loading a heavy scene which has consistently failed to load all textures for the GUI_co_ as all textures are loaded though the Asset Manager. But loading the scene multiple times this evening with the _qt_dummy_qt_ textures removed_co_ the scene loaded correctly every time. However_co_ I am using an updated babylon.js file_co_ whereas when I had problems previously_co_ I was using the then current versions of 2.2 and prior. So perhaps the bug I regularly encountered using the Asset Manager has been fixed. I_t_ll test further_co_ but am currently not able to repro the bug I used to find consistently. I simply got in the habit of adding _qt_dummy_qt_ assets to load as a routine action_sm_ but it appears this is not necessary any longer. I_t_ll report to the forum if I see this again_co_ however_co_ it_t_s been a while since I_t_ve needed to use the Asset Manager as I_t_ve recently been working outside of WebGL for the most part.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf the problem no longer exists_co_ then ignore my recent posts. Thanks for following up on this_co_ as I would not have realized that perhaps this particular bug has been fixed. I_t_m still not entirely confident_co_ but since I_t_m not able to repro anymore_co_ I have to assume it_t_s no longer an issue.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDB\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]