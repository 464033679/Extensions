[{"Owner":"mr_pinc","Date":"2017-10-02T19:15:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tI_t_m trying to add a reflection probe for a few select meshes in a scene I exported with PBRs from 3Ds Max.  I_t_ve greated a simple sphere that is also reflecting the selected pieces.  The sphere works fine and is using a PBR material.  The problem is that the imported meshes don_t_t seem to be showing the reflections even though I_t_ve assigned the reflection probe_t_s cubeTexture to the _t_reflectionTexture_t_ property of the PBRs I_t_ve loaded.  Is there something else I_t_m missing?  Is there additional values that could determine why I am not seeing the reflection in the loaded meshes?  \n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2017-10-02T23:51:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/26336-mr_pinc/?do_eq_hovercard_qt_ data-mentionid_eq__qt_26336_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/26336-mr_pinc/_qt_ rel_eq__qt__qt__gt_@mr_pinc_lt_/a_gt_ Hello_co_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tCould you try to reproduce your issue in the playground ? \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe knot is a mesh using PBRMaterial and Probes here_dd_ _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#28G6UT%2359_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#28G6UT#59_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"mr_pinc","Date":"2017-10-03T01:09:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI believe it is because the materials are coming in as PBRMetallicRoughnessMaterial from max- I_t_ve changed only 1 line in the example - the knot_t_s material is now of that type and no reflections.   \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#28G6UT%2360_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#28G6UT#60_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2017-10-03T01:56:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThe naming is different in metallic roughness to fit with the GlTF convention_dd_ _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#28G6UT%2361_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#28G6UT#61_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe conversion is documented here _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/overviews/physically_based_rendering_master#from-metallicroughness-to-pbrmaterial_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/overviews/physically_based_rendering_master#from-metallicroughness-to-pbrmaterial_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt is not reflectionTexture but environmentTexture in the simpler materials_co_ sorry for the confusion.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"mr_pinc","Date":"2017-10-03T02:05:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tI_t_m already using an environmental texture on the material_co_ is there a way to composite the reflection capture and the environmental texture? \n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2017-10-03T03:33:41Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tNo_co_ they should be the same_co_ as your probe will capture objects created using the same environment texture used elsewhere in the scene so the scene should fit together.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"mr_pinc","Date":"2017-10-03T12:15:00Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tI don_t_t quite understand.  I have a scene with 10 meshes and all 10 have the same environment texture_co_ a DDS that is effectively a skybox (the actual skybox is not visible).  I want 3 of those 10 meshes to also reflect each other along with that original environment map.  How do I combine the two?\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2017-10-03T18:18:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe 3 meshes relying on the probe will get the environment impact from the reflected objects. Let me try to draw it in paint_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ data-fileid_eq__qt_15092_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_10/image.png.45d84656a8b6afb7ffa5d62301200511.png_qt_ rel_eq__qt__qt__gt__lt_img alt_eq__qt_image.thumb.png.ab10622cfc3f3b8eda891d04f56718a0.png_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_15092_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_10/image.thumb.png.ab10622cfc3f3b8eda891d04f56718a0.png_qt_ /_gt__lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAs you can see_co_ the triangle ends up being like it would have been using the environment + reflection as the reflection already contains the environment information_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOne issue could happen if your probe can see the clear color of the scene meaning the probe would not look like the environment where nothing is rendered. For this you could add a skybox in your probe relying on the DDS file.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHope that helps.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"mr_pinc","Date":"2017-10-03T21:17:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tYes that was a great explanation thank you.  The thing is though I am only using the environment texture of a skybox_co_ I_t_m not actually rendering a skybox.  SoI don_t_t really understand how the reflection capture - could see it.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2017-10-03T23:00:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIt can not but you can add one skybox only in your probe mesh list which would lead to the desired effect.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCompositing would lead to incorrect result as it would be impossible to know how to blend_co_ also it would be a perf sink as it would require another map + sampler + mix.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWe could try on a playground if you want.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"mr_pinc","Date":"2017-10-04T00:55:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tI understand now_co_ thank you. I set up a playground doing what you describe.  Only thing is I don_t_t know how to omit the skybox from main camera while keeping it in the reflection capture.  _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#28G6UT%2366_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#28G6UT#66_lt_/a_gt_\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2017-10-04T01:32:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#28G6UT%2367_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#28G6UT#67_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tscene.removeMesh(skybox) will be your friend\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"mr_pinc","Date":"2017-10-04T01:37:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tPerfect.  Thank you for the awesome help. \n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]