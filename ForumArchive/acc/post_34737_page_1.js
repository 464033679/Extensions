[{"Owner":"splash27","Date":"2017-12-25T09:39:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI want to implement a switch inside scene world. _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#SSXJEN_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#SSXJEN_lt_/a_gt_ (Scene uses WASD controls and mouse-look)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe switch is represented by the red face of the mesh. I want to launch a custom code_co_ when the switch is activated (when user presses _qt_e_qt_ near the switch).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI thought to use an actionManager. However_co_ I don_t_t know how to determine that I_t_m standing in front of the red face near the mesh.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAt this point the custom code runs every time I press _qt_e_qt_.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHow to find out that I am near the switch and I am actually looking at it?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-12-25T11:15:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHiya splash and everyone.  Hairy Krishmas!\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#SSXJEN%232_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#SSXJEN#2_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThere_t_s one way of many.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLines 44-47 establish a _qt_sensor_qt_ plane... glued to the box.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  (later invisible_co_ likely)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLines 63-68 check that the sensor-plane is in-view of the camera_co_ and 2 units or less away-from camera.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf all that is satisfied_co_ _t_e_t_ keypress will work.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI tried it using the box itself and not a _t_sensor_t__co_ but that allows _t_e_t_ presses from the OTHER sides of the box.  The sensor worked better.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOthers might have better ideas_co_ so stay tuned.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPS-aside_dd_  Does anyone else see the playground app... do a screen-scroll... when camera/keyboard down-arrow is used?  White _qt_bar_qt_ appears on bottom of PG screen_co_ removed by pressing up-arrow?  (Wingnut using Firefox).  It_t_s been happening for a few months now_co_ and it sure is annoying when using freecams_co_ eh?  Maybe I_t_m the only one that sees it.  Something in the CSS needs overflow_dd_ none_sm__co_ or something.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"splash27","Date":"2017-12-25T12:10:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_ Wingnut! Happy Christmas!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tGreat idea! \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI thought that I can use facets data in similar way_co_ but decided that it will be hard to determine where each facet is on complex mesh. So_co_ the sensor_t_s approach is much more easy and predictable.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBy the way_co_ can you clarify what _lt_em_gt_scene._frustumPlanes _lt_/em_gt_contains? At this moment it works like magic for me.\n_lt_/p_gt_\n\n_lt_div style_eq__qt_background-color_dd_#fffffe_sm_color_dd_#000000_sm_font-size_dd_14px_sm__qt__gt_\n\t \n_lt_/div_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-12-25T12:16:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\thehe.  I stole it from here... _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#DGTY21%231_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#DGTY21#1_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI think others better explain it.  It_t_s magic stuff_co_ to me.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tI guess... at camera.minZ and camera.maxZ... there are some magical invisible non-mesh planes.  They delineate the start and end of the camera_t_s field of view (fov) frustum/cone.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tisInFrustum() uses this scene.activeCamera FOV cone_co_ for testing. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThat_t_s all the further I want to explain.  It can be read-about_co_ mostly on the web.  Or_co_ study BJS source code.  I_t_m pretty stupid on that subject_co_ sorry.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"splash27","Date":"2017-12-25T12:24:03Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5733_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/_qt_ rel_eq__qt__qt__gt_@Wingnut_lt_/a_gt__co_ are you sure that the link you shared is correct? I didn_t_t find _lt_em_gt__frustumPlanes _lt_/em_gt_there.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-12-25T12:27:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tLine 96.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  It is _lt_strong_gt_this_lt_/strong_gt_._frustumPlanes... but it is inside-of an _qt_overload-the-scene-object_qt_ add-on function_co_ so I know _lt_em_gt_this_lt_/em_gt_ means _lt_em_gt_scene._lt_/em_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhy the interest in the camera frustum?  Do you have some mad scientist ideas?  _lt_img alt_eq__qt__sm_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ title_eq__qt__sm_)_qt_ width_eq__qt_20_qt_ /_gt_  I think some folks use it to rotate/position the camera so that ALL mesh in the scene_co_ are in-view.  *shrug*\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"splash27","Date":"2017-12-26T09:42:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5733_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/_qt_ rel_eq__qt__qt__gt_@Wingnut_lt_/a_gt__co_ the most interactibles in most of the games requires to be inside field of view of the camera before activating. I think it_t_s pretty common question_dd_ _qt_How to detect that I_t_m looking at something?_qt_ After your suggestion I wonder how `scene._lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt__frustumPlanes` helps me with it._lt_/span_gt_\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-12-28T10:38:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tHi again.  You could also parent an invisible mesh to the front of the player/camera.  Then use intersectsMesh().  If the invisible mesh is not intersecting with the interaction device/mesh_co_ no interaction allowed.  Perhaps worth some tests.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]