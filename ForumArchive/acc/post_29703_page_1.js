[{"Owner":"MackeyK24","Date":"2017-04-11T23:12:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi guys... without going into a really long and drawn out explanation of of my terrain shader problems.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t This really smart shader guy _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/13038-nasimiasl/?do_eq_hovercard_qt_ data-mentionid_eq__qt_13038_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/13038-nasimiasl/_qt_ rel_eq__qt__qt__gt_@NasimiAsl_lt_/a_gt_ has the _t_snippet of code_t_ in ShaderBuilder format. This code lets him tile in a texture atlas WITHOUT using the glsl fract()\n_lt_/p_gt_\n\n_lt_p_gt_\n\tfunction. Now it still gets seams like using the fract function BUT apparently these seams are fixable (and apparently fract is UNFIXABLE ).\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tTake a look at his playground_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1ODVTX%2321_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1ODVTX#21_lt_/a_gt_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tand the ShaderBuilder code_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_var atlasMap _eq_ function(SB_co_path_co_ x_co_y_co_w_co_h_co_W_co_H_co_tx_co_ty){\n            \n            return SB.InLine(_t_\\\n            float left _eq_ _t_+BABYLONX.Shader.Print(x)+_t__sm_\\\n            float top _eq_ _t_+BABYLONX.Shader.Print(y)+_t__sm_\\\n            float width _eq__t_+BABYLONX.Shader.Print(w)+_t__sm_\\\n            float height _eq__t_+BABYLONX.Shader.Print(h)+_t__sm_\\\n            float WIDTH _eq__t_+BABYLONX.Shader.Print(W)+_t__sm_\\\n            float HEIGHT _eq_ _t_+BABYLONX.Shader.Print(H)+_t__sm_\\\n\\\n            float uv_w _eq_  width / WIDTH_sm_\\\n            float uv_h _eq_  height / HEIGHT_sm_\\\n            float uv_x _eq_  left / WIDTH_sm_\\\n            float uv_y _eq_  1.-  top  / HEIGHT -uv_h_sm_\\\n\\\n           float tile_x _eq_ _t_+BABYLONX.Shader.Print(tx)+_t__sm_\\\n            float tile_y _eq_ _t_+BABYLONX.Shader.Print(ty)+_t__sm_\\\n\\\n            vec2 newUvAtlas _eq_ vec2( mod( vuv.x*tile_x  _co_ uv_w ) +uv_x  _co_ mod(vuv.y*tile_y    _co_uv_h)+uv_y  )_sm_\\\n            vec2 edgeUvAtlas_x _eq_ vec2( mod( vuv.x*tile_x +0.5*uv_w _co_ uv_w ) +uv_x  _co_ mod(vuv.y*tile_y -0.0*uv_h  _co_uv_h)+uv_y  )_sm_\\\n            vec2 edgeUvAtlas_y _eq_ vec2( mod( vuv.x*tile_x -0.0*uv_w _co_ uv_w ) +uv_x  _co_ mod(vuv.y*tile_y -0.5*uv_h  _co_uv_h)+uv_y  )_sm_\\\n             vec2 edgeUvAtlas_xy _eq_ vec2( mod( vuv.x*tile_x -0.5*uv_w _co_ uv_w ) +uv_x  _co_ mod(vuv.y*tile_y -0.5*uv_h  _co_uv_h)+uv_y  )_sm__t_)\n              // make edge map\n             .Map({ path_dd_ path _co_  uv_dd__t_vec2(edgeUvAtlas_x)_t_  })\n            .Reference(1) // keep edge  map in result_1 var\n              .Map({ path_dd_ path _co_  uv_dd__t_vec2(edgeUvAtlas_y)_t_  })\n            .Reference(2) // keep edge  map in result_2 var\n             .Map({ path_dd_ path _co_  uv_dd__t_vec2(edgeUvAtlas_xy)_t_  })\n            .Reference(3) // keep edge  map in result_2 var\n            .Map({ path_dd_ path _co_  uv_dd__t_vec2(newUvAtlas )_t_  })\n           \n           // FIND A EDGES\n           .InLine(_t_vec2 edge _eq_ vec2(  pow( 2.*abs((newUvAtlas.x-uv_x)/uv_w -0.5)_co_ 3.)_co_  pow( 2.*abs((newUvAtlas.y-uv_y)/uv_h -0.5)_co_ 3.) ) _sm__t_)\n          .Reference(4_co__t_ result _eq_ vec4(  edge.x _co_edge.y_co_  max(edge.x_co_edge.y)  _co_1.)_sm__t_)\n            .Pink(4_co__t_ result _eq_  result_1   _sm_ _t__co_{ rangeStep_dd_-0.48_co_rangePower_dd_0.48})\n             .Cyan(4_co__t_ result _eq_  result_2 _sm_ _t__co_{ rangeStep_dd_-0.48_co_rangePower_dd_0.48})\n             .White(4_co__t_ result _eq_  result_3  _sm_ _t__co_{ rangeStep_dd_-0.48_co_rangePower_dd_0.48}) _sm_\n            \n        \n        }_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhat i need is good old fashion glsl code that basically calculating the uv coords for tiling into the texture atlas. The above code (WHICH IS ABSOLUTELY BRILLIANT ) make NO sense to me because of all the extra ShaderBuilder stuff (Like what does Pink Cyan And Whte have to do with anything??).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnyways... i am not really trying to use ShaderBuilder (I have my own use of shaders via unity that i use good ole glsl)...\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tBUT WHAT I NEED is the math being used to calculate out the texture atlas uv in a way i can use (and even tell what the heck is going on) \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis is what i got so far from the snippet above_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_// Normalized Values\n\t\t\tvec2 vuv _eq_ vTerrainUV_sm_\n            float uv_w _eq_  atlasRect1.w_sm_\n            float uv_h _eq_  atlasRect1.z_sm_\n            float uv_x _eq_  atlasRect1.x_sm_\n            float uv_y _eq_  atlasRect1.y_sm_\n           \tfloat tile_x _eq_ atlasInfo1.x_sm_\n            float tile_y _eq_ atlasInfo1.y_sm_\n\t\t\tvec2 newUvAtlas _eq_ vec2(mod(vuv.x * tile_x _co_ uv_w) + uv_x_co_ mod(vuv.y * tile_y_co_ uv_h) + uv_y)_sm_\n            \n\t\t\tvec2 edgeUvAtlas_x _eq_ vec2(mod(vuv.x * tile_x + 0.5 * uv_w_co_ uv_w) + uv_x_co_ mod(vuv.y * tile_y - 0.0 * uv_h_co_ uv_h) + uv_y)_sm_\n            vec2 edgeUvAtlas_y _eq_ vec2(mod(vuv.x * tile_x - 0.0 * uv_w_co_ uv_w) + uv_x_co_ mod(vuv.y * tile_y - 0.5 * uv_h_co_ uv_h) + uv_y)_sm_\n            vec2 edgeUvAtlas_xy _eq_ vec2(mod(vuv.x * tile_x - 0.5 * uv_w_co_ uv_w) + uv_x_co_ mod(vuv.y * tile_y - 0.5 * uv_h_co_ uv_h) + uv_y)_sm_\n\n\t\t\tatlas1UV _eq_ newUvAtlas_sm_\n\t\t\tsplatColor _eq_ texture2D(albedoSampler_co_ atlas1UV + uvOffset) * baseColor1.r_sm_\n_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis is working so far... Just like _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/13038-nasimiasl/?do_eq_hovercard_qt_ data-mentionid_eq__qt_13038_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/13038-nasimiasl/_qt_ rel_eq__qt__qt__gt_@NasimiAsl_lt_/a_gt_ first version (#20) and is showing the edge seams... But the version listed above SOMEHOW uses these new \n_lt_/p_gt_\n\n_lt_p_gt_\n\tedgeUvAtlas variable to do ... I DONT KNOW WHAT... I can_t_t see how the heck these values ever get used in the actual texture2D call... As a matter of fact i am completely lost defining the last _t_vec2 edgeUvAtlas_xy _eq_ vec2(...)_t_ statement.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut whatever he is doing there... i need to do that in a regular looking fragment shader main() function to calculate my final uv and use in the texture2D call_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_atlas1UV _eq_ newUvAtlas_sm_\nsplatColor _eq_ texture2D(albedoSampler_co_ atlas1UV + uvOffset) * baseColor1.r_sm_\n_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tAs you can see i am just using the first calculated value of atlas1UV _eq_ newUvAtlas\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut using all that .Map and .Reference and .Pink (wtf) ... i can_t_t tell how to actually get and used the final end result as my _t_atlas1UV_t_ for the texture2D call\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI hope someone out there understand what I_t_m trying to say ... It probably a 3 second fix (but I_t_m not smart enough to crack _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/13038-nasimiasl/?do_eq_hovercard_qt_ data-mentionid_eq__qt_13038_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/13038-nasimiasl/_qt_ rel_eq__qt__qt__gt_@NasimiAsl_lt_/a_gt_ excellent implementation of texture atlas tiling)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAgain... Any help would be awesome _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"NasimiAsl","Date":"2017-04-12T04:29:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tkeep it here i answer that after 2 days _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ \n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"MackeyK24","Date":"2017-04-12T09:11:44Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_170706_qt_ data-ipsquote-contentid_eq__qt_29703_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1491971352_qt_ data-ipsquote-userid_eq__qt_13038_qt_ data-ipsquote-username_eq__qt_NasimiAsl_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t4 hours ago_co_ NasimiAsl said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tkeep it here i answer that after 2 days _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ \n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tOK... \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks again _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/13038-nasimiasl/?do_eq_hovercard_qt_ data-mentionid_eq__qt_13038_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/13038-nasimiasl/_qt_ rel_eq__qt__qt__gt_@NasimiAsl_lt_/a_gt_ ... I really appreciate it _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]