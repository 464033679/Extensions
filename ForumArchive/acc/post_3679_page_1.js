[{"Owner":"pablo","Date":"2014-02-08T23:47:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I_t_m trying to create a model viewer similar to thingiview_lt_/p_gt__lt_p_gt__lt_a href_eq__qt_https_dd_//github.com/tbuser/thingiview.js_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/tbuser/thingiview.js_lt_/a_gt__lt_/p_gt__lt_p_gt_demo_dd__lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//n0r.org/thingiview.js/examples/client_side_ajax.html_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//n0r.org/thingiview.js/examples/client_side_ajax.html_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_This is what I_t_m trying to do_dd__lt_/p_gt__lt_p_gt_- Load a babylon file (the model doesn_t_t have a camera and light)._lt_/p_gt__lt_p_gt_- Create a camera. Set the distance relative to the model size so all models will look like they are the same size._lt_/p_gt__lt_p_gt_- Create a light and attach it to the camera so the model will be always in the light._lt_/p_gt__lt_p_gt_- Allow the user to rotate around the object and zoom._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_How can I attach the light to the camera so when the camera rotates_co_ the light rotates with it?_lt_/p_gt__lt_p_gt_Is there other to do get the same effect with lights?_lt_/p_gt__lt_p_gt_Is it possible to zoom when using ArcRotateCamera? Maybe using the mouse wheel and pinch touch gestures?_lt_/p_gt__lt_p_gt_Is there a way to automatically choose the camera distance so all models will start with reasonable zoom level?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thanks_lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var canvas _eq_ document.getElementById(_qt_renderCanvas_qt_)_sm_var engine _eq_ new BABYLON.Engine(canvas_co_ true)_sm_BABYLON.SceneLoader.Load(_qt__qt__co_ _qt_model.babylon_qt__co_ engine_co_ function (scene) {  scene.executeWhenReady(function () {    var camera _eq_ new BABYLON.ArcRotateCamera(_qt_Camera_qt__co_ 1_co_ 0.8_co_ 10_co_ new BABYLON.Vector3(0_co_ 0_co_ 0)_co_ scene)_sm_    var light0 _eq_ new BABYLON.PointLight(_qt_Omni_qt__co_ new BABYLON.Vector3(0_co_ 100_co_ 100)_co_ scene)_sm_    scene.activeCamera.attachControl(canvas)_sm_    engine.runRenderLoop(function() {      scene.render()_sm_    })_sm_  })_sm_}_co_ function (progress) {  // To do_dd_ give progress feedback to user})_sm__lt_/pre_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2014-02-09T00:50:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_To attach_co_ you can use _qt_parent_qt_. Your light will follow the movements of the camera._lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_camera.parent _eq_ light0_sm__lt_/pre_gt__lt_p_gt_For the zoom with the rotating camera_co_ you must increase the radius between the camera and the target_lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_      if(event.delta &gt_sm_ 0) {            camera.radius +_eq_ 2_sm_ //Distance &gt_sm_ between the camera and the target        }        else if(event.delta &lt_sm_ 0) {                 camera.radius -_eq_ 2_sm_ //Distance &lt_sm_ between the camera and the target        }   _lt_/pre_gt__lt_p_gt_To choose the distance of the camera automatically_lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_camera.target _eq_ new BABYLON.Vector3(mesh.position.x_co_ mesh.position.y + 5_co_ mesh.position.z)_sm_//The camera looks at the target camera.radius _eq_ 30_sm_ //Distance between the camera and the target_lt_/pre_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"pablo","Date":"2014-02-09T01:09:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Thank you for your answer._lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_camera.parent _eq_ light0_sm__lt_/pre_gt__lt_p_gt_Shouldn_t_t it be the opposite?_lt_/p_gt__lt_p_gt_I thought that the camera rotates and the light should follow it._lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_if(event.delta &gt_sm_ 0) {  camera.radius +_eq_ 2_sm_ //Distance &gt_sm_ between the camera and the target } else if(event.delta &lt_sm_ 0) {       camera.radius -_eq_ 2_sm_ //Distance &lt_sm_ between the camera and the target }_lt_/pre_gt__lt_p_gt_Where should I put this code? Do I need to override the controls?_lt_/p_gt__lt_p_gt_With my original code_co_ zooming with the mouse wheel works in IE and Chrome but has no effect in FF. That_t_s why I thought it_t_s not implemented._lt_/p_gt__lt_p_gt_Is this a bug?_lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_camera.target _eq_ new BABYLON.Vector3(mesh.position.x_co_ mesh.position.y + 5_co_ mesh.position.z)_sm_//The camera looks at the target camera.radius _eq_ 30_sm_ //Distance between the camera and the target_lt_/pre_gt__lt_p_gt_My model is a pdb file of a molecules with several meshes. What should I use as the target?_lt_/p_gt__lt_p_gt_Is there a top level mesh or a way to get the center of the bounding box?_lt_/p_gt__lt_p_gt__lt_span_gt_scene.meshes_lt_/span_gt_ gives me an array of meshes._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2014-02-09T12:35:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_For the zoom you must create an event with the Scrool of your mouse._lt_br_gt_The files for Babylon_co_ are .Babylon (you must convert your file in .Babylon)_lt_br_gt_yes_co_ it is ligth.parent _eq_ camera_sm_ for that the light follows the camera._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"unltdsoul","Date":"2015-11-19T18:02:17Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I realize this is an _t_old_t_ post_co_   but_co_ i am trying to do something similar_co_  i want to attach an object to the camera_lt_/p_gt__lt_p_gt_but_co_ whenever i make the    object.parent _eq_ camera_co_   the object no longer displays._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_To illustrate I_t_ve modified a PlayGround    _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1W3CLH%2316_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1W3CLH#16_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_the playground has 2 boxes_co_  a parentBox and childBox_lt_/p_gt__lt_p_gt_in the original file line #13 was_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_div_gt_childbox.parent _eq_ parentbox_sm__lt_/div_gt__lt_div_gt_ _lt_/div_gt__lt_div_gt_works fine_co_._lt_/div_gt__lt_div_gt_ _lt_/div_gt__lt_div_gt_BUT   when I comment out line and add_dd__lt_/div_gt__lt_div_gt_ _lt_/div_gt__lt_div_gt_childbox.parent _eq_ camera_sm__lt_/div_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_the childBox no longer displays.     Did this feature of using the camera as a parent_co_  get taken out  or broken?   I am using Babylon 2.3 alpha_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Otherwise_co_ how do i get an object to track with the camera?_lt_/p_gt__lt_p_gt_ _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2015-11-19T19:58:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Setting the camera to be the object_t_s mesh means that the object will get the position and rotation of the camera as its parent position and rotation and will position the mesh relatively to those parameters._lt_/p_gt__lt_p_gt_To illustrate - he is the object (adding 40 in the Z axis) - _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1W3CLH%2317_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1W3CLH#17_lt_/a_gt__lt_/p_gt__lt_p_gt_The box will always be 5 units higher and 40 units deeper than the camera._lt_/p_gt__lt_p_gt_If you want the (Arc rotate) camera to follow the object_co_ set it as the camera_t_s target_dd__lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1W3CLH%2318_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1W3CLH#18_lt_/a_gt__lt_/p_gt__lt_p_gt_Now the object in the center of the camera will be the childbox._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_If you want to follow a moving object_co_ you can use the follow camera (_lt_a href_eq__qt_http_dd_//doc.babylonjs.com/tutorials/05._Cameras_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/tutorials/05._Cameras_lt_/a_gt_ _co_ search for follow camera). _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"unltdsoul","Date":"2015-11-19T20:35:34Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_RaananW   _lt_/p_gt__lt_p_gt__qt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_106321_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_3679_qt_ data-ipsquote-username_eq__qt_RaananW_qt_ data-cite_eq__qt_RaananW_qt_ data-ipsquote-timestamp_eq__qt_1447963109_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt_Setting the camera to be the object_t_s mesh means that the object will get the position and rotation of the camera as its parent position and rotation and will position the mesh relatively to those parameters._lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thanks for the quick reply.    I was thinking it must have been something like that_co_ but_co_ in my scene (local one i_t_m working on_co_ not the playground) i didn_t_t see the object anywhere_co_   must have been hidden somewhere.  So_co_ it inherits the camera position_co_ etc.    Ok.   What I am making is a simple under-water effect.  I have _t_water_t_ in my scene_co_ which is a blue tinted transparent plane animated with a shader_co_ etc_co_  but_co_ when the camera goes underwater the river bed is no longer blue - water tinted_co_ since the water effect has no volume.   So when the camera moves below the water line i will put up a blue-tint transparent plane in front of it_co_ like putting a colored gel in front of the camera.  As the camera moves under the water it will be seeing everything with the blue tint.   It_t_s not an ideal effect_co_ but better then nothing_co_  the other would be to turn on a blue fog when the camera goes under...   but with this i can position the tint to where it starts at the water line so when the camera is seeing both above and below there will be tint_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thanks again. _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2015-11-19T21:29:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Yei_co_ water effect! - _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#C1JSV_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#C1JSV_lt_/a_gt_ (click on your mouse for on-off action) _lt_/p_gt__lt_p_gt_I like the idea_co_ I would add bump map of water drops and change the color according to depth. Would be wonderful to see the final result!!!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]