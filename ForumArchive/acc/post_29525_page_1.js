[{"Owner":"kaitek666","Date":"2017-04-04T12:39:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHey!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI created another topic lately_co_ but my problem changed a lot. I have a _lt_strong_gt_rockraider.babylon_lt_/strong_gt_ model (included in attachments). I created it and it_t_s being displayed. Everything_t_s OK.\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_class RockRaider {\n\tconstructor(xpos_co_zpos) {\n\t\t\n\t\tvar raider_sm_\n\t\tthis.ready _eq_ false_sm_\n\t\n\t\tBABYLON.SceneLoader.ImportMesh(_qt__qt__co_ _qt_CanvasRR0/_qt__co_ _qt_rockraider.babylon_qt__co_ scene_co_ function (newMeshes){\n\t\t\tconsole.log(_qt_Number of meshes... _qt_ + newMeshes.length)_sm_\n\t\t\tnewMeshes.forEach(function(mesh){\n\t\t\t\tmesh.scaling.x _eq_ mesh.scaling.y _eq_ mesh.scaling.z _eq_ 1.3_sm_\n\t\t\t})_sm_\n\t\t\traider _eq_ newMeshes_sm_\n\t\t})_sm_\n\n\t\tsetTimeout(() _eq_&gt_sm_ {\n\t\t\tthis.raider _eq_ raider_sm_\n\t\t\tthis.ready _eq_ true_sm_\n\t\t}_co_ 1000)_sm_\n\t}\n\t\n\tmoveTo() {\n\t\tthis.raider.forEach(function(mesh){\n\t\t\tmesh.__tak _eq_ true_sm_\n\t\t\tmesh.position.x _eq_ 10_sm_\n\t\t})_sm_\n\t}\n\t\t\t\t\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t_lt_sup_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_(I_t_m sorry for no syntax. I cannot set it. Here_t_s a _lt_/span_gt__lt_a href_eq__qt_https_dd_//www.pastiebin.com/58e3946d1e688_qt_ rel_eq__qt_external nofollow_qt__gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_pastebin version_lt_/span_gt__lt_/a_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_ with highlighted syntax if you wish)_lt_/span_gt__lt_/sup_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tThen_co_ when I want to use function rockraider._lt_strong_gt_moveTo()_lt_/strong_gt__co_ via developer console_co_ (which is supposed to place all meshes in x _eq_ 10)_co_ only a few of them are being moved.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img alt_eq__qt_raider.png.c60dff594bcff60e1aee62f2897632c0.png_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_12335_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_04/raider.png.c60dff594bcff60e1aee62f2897632c0.png_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_Left_dd__lt_/strong_gt_ Original meshes._lt_br /_gt__lt_strong_gt_Right_lt_/strong_gt__dd_ Translated meshes to x_eq_0\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tMy model has 9 meshes. Here_t_s an image showing which meshes has been moved and which hasn_t_t_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img alt_eq__qt_raider2.png.5d25324da86d77e5d0f4baae7197b3a6.png_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_12336_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_04/raider2.png.5d25324da86d77e5d0f4baae7197b3a6.png_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tThis is a list of meshes taken from Blender.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut hey_co_ there_t_s more!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTo debug_co_ I gave each mesh a _lt_strong_gt___tak_lt_/strong_gt_ variable and set it to _lt_strong_gt_true_lt_/strong_gt_. I can see this value in _lt_u_gt_every mesh_lt_/u_gt_ of this model.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tEven if I use _lt_strong_gt_rockraider.raider[0].dispose()_lt_/strong_gt__sm_ and then _lt_strong_gt_rockraider.raider[1].dispose()_lt_/strong_gt__sm_ etc._co_ The elements are actually being disposed. They get removed._lt_br /_gt__lt_u_gt_But not all of them!!_lt_/u_gt_ Even if some meshes don_t_t even exist in console after disposing them_co_ They still appear on screen.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFor example_co_ when I type in in developer console_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_rockraider.raider.forEach(function(mesh){\nmesh.dispose()_sm_\n})_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tThis is what I get_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img alt_eq__qt_raider3.png.c8b757c1f5c557a9e2c7a87919259867.png_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_12337_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_04/raider3.png.c8b757c1f5c557a9e2c7a87919259867.png_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tSome of the meshes disappeared_co_ but the rest are still on the screen. _lt_strong_gt_How and why? Is this a bug? _lt_/strong_gt_Is this fault of engine_co_ or model?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn attachments I included _lt_b_gt_rockraider.babylon_lt_/b_gt_. I need explanations_co_ ideas_co_ etc.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m using BJS v2.5 stable (latest) and Exporter for Blender v5.2.0.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a class_eq__qt_ipsAttachLink_qt_ data-fileid_eq__qt_12334_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/applications/core/interface/file/attachment.php?id_eq_12334_qt_ rel_eq__qt__qt__gt_rockraider.babylon_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"davrous","Date":"2017-04-04T13:08:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI don_t_t repro on our PlayGround using your model_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#236AN2_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#236AN2_lt_/a_gt_ (press s to scale and m to move).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt must come from somewhere else in your code. Can you try to reproduce on our playground?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDavid\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2017-04-04T13:50:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI used this _lt_a href_eq__qt_http_dd_//www.typescriptlang.org/play/index.html_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.typescriptlang.org/play/index.html_lt_/a_gt_ to convert your code so that it would work in the PG. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI made a couple of changes that might be helpful.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#236AN2%235_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#236AN2#5_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"kaitek666","Date":"2017-04-04T17:59:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_strong_gt_Found the solution_lt_/strong_gt_. Thanks _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4289_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/_qt_ rel_eq__qt__qt__gt_@adam_lt_/a_gt_ for code sample_co_ that helped me out as well.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_What was the problem?_lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tScene loader sequence. Mid-loading of my model_co_ engine was running a RenderLoop_co_ causing half of model load_co_ and the second half to load in.. a different way.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m using this code temporary_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_        setTimeout(function() {\n\t\t\tvar scene _eq_ createScene()_sm_\n\t\tsetTimeout(function() {\n\t\t\tengine.runRenderLoop(function () {\n            scene.render()_sm_\n        })_sm_\n\t\t}_co_ 1500)_sm_\n\t\t}_co_ 2000)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tWhich is really nasty! I need to fix execute sequence.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks a lot guys! _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_br /_gt__lt_em_gt_Kajtek_lt_/em_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"brianzinn","Date":"2017-04-04T21:10:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIf you have something running async that you want to wait for - can you not pass in a function?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI do this sometimes with animations_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tfunction createScene(onSceneLoadedAfterAnimation) {\n_lt_/p_gt_\n\n_lt_p_gt_\n\t  ... create scene here.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt_\n\t  this.scene.beginAnimation(target_co_ 0_co_ 30_co_ false_co_ 1_co_ () _eq_&gt_sm_ {_lt_br /_gt_\n\t    onSceneLoadedAfterAnimation()  _lt_br /_gt_\n\t  }_lt_br /_gt_\n\t}_lt_br /_gt__lt_br /_gt_\n\tThen you can call it like_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tcreateScene(() _eq_&gt_sm_ {_lt_br /_gt_\n\t  engine.runRenderLoop(() _eq_&gt_sm_ { scene.render() })_lt_br /_gt_\n\t})_lt_br /_gt__lt_br /_gt_\n\tI remember reading model loading have a completed event handler.  I try to avoid setTimeouts when there are hooks to accomplish same.  I think you can pass the function through to SceneLoader.ImportMesh success parameter.  I should add that the animation here won_t_t work_co_ but you get the idea of passing a function on success running other code instead of a timeout.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]