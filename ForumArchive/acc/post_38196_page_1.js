[{"Owner":"Amarth2Estel","Date":"2018-06-12T15:19:38Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi everybody!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m working on an_lt_strong_gt_ Augmented Reality_lt_/strong_gt_¬†problem that involves math too complex for me._lt_br /_gt_\n\tTo be honest_co_ I_t_m not sure there_t_s a solution to this problem._lt_br /_gt_\n\t_lt_strong_gt_Any help_lt_/strong_gt_ is of course welcome¬†(even if this help consists in telling me _qt_Impossible_co_ you cannot go from an N dimension to an N+1 dimension).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI would like to place a 3D object on a photo uploaded by a user.¬†\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have the intuition that by asking the user to place the origin and the axes of the coordinate data system_co_ specifying for each of the axes a _qt_real_qt_ length from a known reference frame_co_ it could be possible to determine the sequence of transformations that led to such a projection of the 3D coordinate system._lt_br /_gt_\n\tAnd deduce the position of the corresponding camera etc... to get the correct parameters to¬†simulate the presence of a 3D object on a picture.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis could of course only work if the user is able to draw the 3 axes and define their real length on the picture.¬†\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt_\n\t_lt_u_gt_Here is a nice drawing of the goal I would like to achieve _dd_¬†_lt_/u_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img alt_eq__qt_1630914380_Capturedecran2018-06-12a17_09_581.png.4376e6aa4a6ea3e68ee9e66af22dfb5b.png_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_18703_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_06/1630914380_Capturedecran2018-06-12a17_09_581.png.4376e6aa4a6ea3e68ee9e66af22dfb5b.png_qt_ /_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_em_gt_The user has entered the 3 axis on the projection picture_co_ and thanks to known distance_co_ has dimensioned them._lt_/em_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_The magic of math goes through there..._lt_/strong_gt__lt_br /_gt_\n\t_lt_br /_gt_\n\t_lt_img alt_eq__qt_2004475961_Capturedecran2018-06-12a17_09_582.png.42aa5ca99beffd7aae830ee46316cb32.png_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_18704_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_06/2004475961_Capturedecran2018-06-12a17_09_582.png.42aa5ca99beffd7aae830ee46316cb32.png_qt_ /_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_em_gt_We are able to draw a 3D object in this scene _dd_ here is a perfectly drawn unit cube on the XOZ plane_lt_/em_gt__lt_span class_eq__qt_ipsEmoji_qt__gt_üòÅ_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t¬†\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere is a PG that reproduces the first part (the data entered by the user are directly entered in the code_lt_span class_eq__qt_ipsEmoji_qt__gt_üòû_lt_/span_gt__lt_br /_gt_\n\t_lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#2XZ6M5_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//playground.babylonjs.com/#2XZ6M5_lt_/a_gt__lt_br /_gt_\n\tI don_t_t own that background_co_ I just¬†needed an image to show the¬†problem.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI thank you _lt_strong_gt_VERY MUCH_lt_/strong_gt_ in advance for your help !_lt_br /_gt_\n\t_lt_br /_gt_\n\tPS _lt_span_gt__dd_¬†_lt_/span_gt_I know that the field of view of the camera¬†is something to be taken in account as well_co_ but I think a simple slider may allow user to change it to match picture_t_s fov.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t\t\t\n\n_lt_span class_eq__t_ipsType_reset ipsType_medium ipsType_light_t_ data-excludequote_gt_\n\t_lt_strong_gt_Edited _lt_time datetime_eq__t_2018-06-13T07_dd_54_dd_39Z_t_ title_eq__t_06/13/2018 07_dd_54  AM_t_ data-short_eq__t_Jun 13_t__gt_June 13_lt_/time_gt_ by Amarth2Estel_lt_/strong_gt_\n\t\n\t\t_lt_br_gt_add precision\n\t\n\t\n_lt_/span_gt_\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2018-06-13T03:44:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHiya A2E.¬† I don_t_t have any fresh knowledge_co_ but isn_t_t this the idea behind AR (augmented reality)?¬† There has been some talk on the forum about that... were you able to find it?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYes_co_ AR uses live cam video (not stills) with inserted 3D... but somewhat related_co_ I would think.¬† Not sure.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnyway_co_ I saw no reference to _qt_AR_qt_ in your message_co_ so I wanted to make sure that you knew the term_co_ so you could do some forum/web searches for more info.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCool project!¬† Challenging project_co_ too.¬† I hope you get more responses_co_ and/or make useful discoveries.¬†\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI was once a primary candidate for a gov job that did these things... and aspect ratio was very important.¬† In this job_co_ they were building walls along busy highways that ran thru urban neighborhoods (noise reduction)... and they wanted to show neighborhoods WHAT the wall WOULD look like_co_ from their side_co_ after completion (a NIMBY consideration_co_ Not In My Back Yard).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tA still-pending-at-the-time marijuana possession case... took me out-of the running.¬† _lt_span_gt__lt_img alt_eq__qt__dd_o_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_ohmy.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/ohmy@2x.png 2x_qt_ title_eq__qt__dd_o_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt would be handy if cameras had (laser) range-finders (distance measuring equipment) on-board... and the cameras could/would package that data WITH the picture.¬† (picture files that also contain spatialization data).¬† Hopefully_co_ that will become commonplace in the future.¬† Oil-drilling speculators _qt_thump_qt_ the ground and then record reflected sound... to produce a 3D spatial map of the ground below.¬† I hope the future cameras won_t_t need to _qt_thump_qt_ things... to gather their spatialization data.¬† Picture-taking would become a much louder activity_co_ and likely require some large amplifiers or percussive explosives.¬† _lt_span_gt__lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Amarth2Estel","Date":"2018-06-13T07:53:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi Wingnut !\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThank you for your answer !\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYes_co_ this is an augmented reality project and you are completly right_co_ I should have mention it. I will edit my post._lt_br /_gt_\n\tBut_co_ from what I saw_co_ it seems that most of AR apps uses a video stream and a marker with a specific pattern. Using pattern recognition_co_ the marker can be¬†found.. and the magic of math appends !_lt_br /_gt_\n\tI won_t_t use a specific marker because I cannot ask users to print a carpet-wide pattern and¬†because I only want to use static images. However_co_ I am well aware of the relation between these two approaches.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI found an algorithm named _qt_POSIT_qt_ which seems to fit my needs and data. It seems¬†compute the pose of the camera from points taken in 2D.. It exists for non coplanar¬†points (the case of my problem) and coplanar points (markers with specific patterns)._lt_br /_gt_\n\t_lt_a href_eq__qt_https_dd_//www.youtube.com/watch?v_eq_ibJGeq3TOnM_qt_ rel_eq__qt_external nofollow_qt__gt_Video _lt_/a_gt__lt_br /_gt_\n\t_lt_a href_eq__qt_http_dd_//people.rennes.inria.fr/Eric.Marchand/pose-estimation/tutorial-pose-dementhon-opencv.html_qt_ rel_eq__qt_external nofollow_qt__gt_Source code_lt_/a_gt_¬†_lt_br /_gt_\n\t_lt_a href_eq__qt_http_dd_//www-labs.iro.umontreal.ca/~sherknie/articles/pose/25Lignes/model-based-object-pose.pdf_qt_ rel_eq__qt_external nofollow_qt__gt_Maths and algorithm alternatives_lt_/a_gt__lt_br /_gt_\n\tI will go on eating math all day until I found an answer ! I will post here!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAbout your freeway-reduising-noise-project_co_ it seems great ! Too bad you cannot continue this work _lt_span_gt__lt_span class_eq__qt_ipsEmoji_qt__gt_üòï_lt_/span_gt_¬†!_lt_br /_gt_\n\t_lt_br /_gt_\n\tI completely agree with you about spatialization data. I hope it will become commonplace as soon as possible !_lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2018-06-14T10:47:17Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYou_t_re so kind and gracious A2E... it_t_s a pleasure to converse with you.¬† Highly intelligent_co_ too.¬† Keep hanging around with us and don_t_t ever leave_co_ ok?¬† thx.¬† _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_I_t_m not sure what your end-goal is_co_ but_co_ is there any chance for... _lt_strong_gt__qt_Hey user_co_ keep adjusting these sliders until this added 3D 1x1x1 meter box... looks good in your picture._qt__lt_/strong_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_After they do this_co_ and press the OK button_co_ that would store those settings... possibly usable for placement of additional 3D objects.¬† _lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_But still_co_ those values are only for the INITIAL fov/scale/etc... of future-added 3D objects.¬† Perhaps you can provide dragging/sliders after placing _lt_u_gt_each ADDITIONAL_lt_/u_gt_ 3D object_co_ too... and store THOSE with each added object_co_ as well._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_There_t_s one sure way to ensure all the 3D objects... look good/right to the user.¬† Let THEM make it look good/right.¬† *shrug*_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_Is that possible in your project/hopes?_lt_/span_gt_¬† I suppose you could store a _qt_display info_qt_ object in each mesh.metadata property.... stored/refreshed each time the user pressed the _qt_done editing_qt_ button.¬† I_t_m not sure if/when necessary.¬† For example_co_ storing a camera.fov setting ON an object... is quite useless and unnecessary_co_ but not a .requiredFOV.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt starts to venture into smart 3D objects... which KNOW what picture URL they are being used-with_co_ and carry a database of URL-specific/keyed settings... for each picture URL they ever get used-with.¬† The 3D objects know how to set the correct look per any picture that the user store on that object.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFor example_co_ Wingnut_t_s 3D vase.¬† In vase.metadata object_co_ there might be 3 data records... one record for when the vase is being displayed in Wingy_t_s bathroom picture_co_ another record for when it is being displayed in Wingy_t_s living room picture_co_ and a third record to _qt_composite_qt_ it into my bedroom picture.¬† (sorry for the over-expounding).¬† Just thinkin_t__co_ and likely not very well.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI imagine lights are a similar issue_co_ even though not rendered.¬† .emmissive might be able to handle the object lighting_co_ via self-illumination.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//tinyurl.com/ybook4ck_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//tinyurl.com/ybook4ck_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI went _qt_out there_qt_ looking at room pictures_co_ and thought about the issues.¬† During my tour_co_ _lt_span_gt__qt_let the user adjust the 3D object_qt_... kept being whispered in my ear.¬†¬† _lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_I think my dog was doing the whispering_co_ cuz I felt a little tongue here and there_co_ too.¬† _lt_img alt_eq__qt__sm_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ title_eq__qt__sm_)_qt_ width_eq__qt_20_qt_ /_gt_¬† _lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"dbawel","Date":"2018-06-15T10:56:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/29328-amarth2estel/?do_eq_hovercard_qt_ data-mentionid_eq__qt_29328_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/29328-amarth2estel/_qt_ rel_eq__qt__qt__gt_@Amarth2Estel_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou don_t_t need more info than the corners of the room. this is more than enough info to calculate an accurate tracking of your environment.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDB\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JohnK","Date":"2018-06-17T16:04:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHad¬† play around and produced this result using a method that may be developable but at the moment is a bit fiddly and not very user friendly.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_18776_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_06/boxinroom.png.f176511a1655acdfdd13304454a152b3.png_qt_ style_eq__qt_width_dd_400px_sm_height_dd_auto_sm__qt_ alt_eq__qt_boxinroom.png.f176511a1655acdfdd13304454a152b3.png_qt_ /_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere is the playground I used _lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#2XZ6M5%231_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//playground.babylonjs.com/#2XZ6M5#1_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMethod\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCreate two planesl perpendicular to each other for walls.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tUse an arcRotateCamera_co_ with initial target (0_co_ 0_co_ 0) and radius 100_co_ alpha -Math.PI/2 and beta Math.PI/2.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tRotate camera until bottom of both planes are near parallel to the wall in the image.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tUsing the results in the console read the alpha value and substitute in the alpha value in the arcRotateCamera constructions.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPlay around with the camera target value for y and the wall position for y and the x value for the wall position until the join of the two planes lies on the image as close to correct as possible.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tcreate box that has the transformNode as a parent using these value to place the box in the corner of the two planes at floor level.\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_box.position.x _eq_ width /2 - size / 2_sm_\nbox.position.y _eq_ -height / 2 + size / 2_sm_\nbox.position.z _eq_ -size / 2_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tSubtract and z values to move box into _qt_room_qt_.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhether GUI sliders would make the operation easier is yet to be determined.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2018-06-18T23:17:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//developers.google.com/web/updates/2018/06/ar-for-the-web_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//developers.google.com/web/updates/2018/06/ar-for-the-web_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]