[{"Owner":"JackFalcon","Date":"2017-03-15T17:34:44Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello all_co_ BJS is great.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t   Question_dd_ What is the best way to add DOM buttons_co_ for tablet touch_co_ to mimic the left and right arrow keys that control arc rotate camera following a target?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t   Or_co_ how can dom buttons control arc rotate camera (left/right)? Is there an Action Manager action event or something?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t   Digging around_co_ not finding it_co_ hopefully this will help others_co_ looking for the best solution.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t   Here is the context_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t            engine.runRenderLoop(function(){_lt_br /_gt_\n\t                scene.render()_sm__lt_br /_gt_\n\t                if(scene.isReady()){              _lt_br /_gt_\n\t                    cameraFollowTarget(simpleMesh)_sm_ //camera positioning call._lt_br /_gt_\n\t                }_lt_br /_gt_\n\t            })_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t    cameraFollowTarget _eq_ function(target){       _lt_br /_gt_\n\t        var rotationControl _eq_ -45.5  // -45.5 is backfacing_co_   _lt_br /_gt_\n\t        target.rotation.y _eq_ rotationControl - sceneFollowCamera.alpha_sm_       _lt_br /_gt_\n\t        sceneFollowCamera.target.x _eq_ parseFloat(target.position.x)_sm_      _lt_br /_gt_\n\t        sceneFollowCamera.target.z _eq_ parseFloat(target.position.z)_sm_      _lt_br /_gt_\n\t        sceneFollowCamera.target.y _eq_ parseFloat(target.position.y+2)_sm_   _lt_br /_gt_\n\t    }_lt_br /_gt_\n\t        \n_lt_/p_gt_\n\n_lt_p_gt_\n\t    //init of sceneFollowCamera ArcRotateCamera..._lt_br /_gt_\n\t    createCameraSets _eq_ function (){_lt_br /_gt_\n\t        //CameraParams_dd_ name_co_ alpha_co_ beta_co_ radius_co_ target_co_ scene._lt_br /_gt_\n\t        sceneFollowCamera _eq_ new BABYLON.ArcRotateCamera(_qt_CameraBaseRotate_qt__co_ -Math.PI/2_co_ (Math.PI/2.2) - 0.4_co_ 50_co_ new BABYLON.Vector3(0_co_ 5.0_co_ 0)_co_ scene)_sm_ // &lt_sm_------_lt_br /_gt_\n\t        sceneFollowCamera.wheelPrecision _eq_ 15_sm_   _lt_br /_gt_\n\t        sceneFollowCamera.lowerRadiusLimit _eq_ 2_sm_      //zoominandout_lt_br /_gt_\n\t        sceneFollowCamera.upperRadiusLimit _eq_ 2222_sm_ _lt_br /_gt_\n\t        sceneFollowCamera.upperBetaLimit _eq_ 1.3_sm_//1_sm__lt_br /_gt_\n\t        sceneFollowCamera.beta _eq_ 1.5_sm__lt_br /_gt_\n\t        sceneFollowCamera.radius _eq_ 15_sm_ //distance camera is from target.   _lt_br /_gt_\n\t        scene.activeCamera _eq_ sceneFollowCamera_sm_  &lt_sm_---- _lt_br /_gt_\n\t        sceneFollowCamera.attachControl(canvas)_sm_  &lt_sm_----_lt_br /_gt_\n\t    }\n_lt_/p_gt_\n\n_lt_p_gt_\n\t   \n_lt_/p_gt_\n\n_lt_p_gt_\n\t   //Connected DOM button to onKey handler_co_ which animates Mesh_co_ but it does not mimic arrow key rotation of mesh and camera_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t    keyDown _eq_ function(e) {  _lt_br /_gt_\n\t        switch (e) {_lt_br /_gt_\n\t            case 37_dd_ //_t_leftarrow_t__dd__lt_br /_gt_\n\t                simpleMesh.rotation.z _eq_ -0.2_sm_ &lt_sm_--airplane banking animation. but does not pan because it is handled within arc rotate camera._lt_br /_gt_\n\t            break_sm__lt_br /_gt_\n\t            case 39_dd_ //_t_rightarrow_t__dd__lt_br /_gt_\n\t                simpleMesh.rotation.z _eq_ 0.2_sm__lt_br /_gt_\n\t            break_sm__lt_br /_gt_\n\t        }    _lt_br /_gt_\n\t    }\n_lt_/p_gt_\n\n_lt_p_gt_\n\t    Is there an event to mimic arc rotate arrow keys from dom buttons?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t    &lt_sm_a class_eq__t_btn btn1_t_ href_eq__t_#_t_&gt_sm_&lt_sm_i id_eq__qt_btnTurnLeft_qt_ title_eq__qt_look left_qt_ class_eq__qt_fa fa-repeat_qt_&gt_sm_&lt_sm_/i&gt_sm_&lt_sm_/a&gt_sm__lt_br /_gt_\n\t    &lt_sm_a class_eq__t_btn btn2_t_ href_eq__t_#_t_&gt_sm_&lt_sm_i id_eq__qt_btnTurnRight_qt_ title_eq__qt_look right_qt_ class_eq__qt_fa fa-undo_qt_&gt_sm_&lt_sm_/i&gt_sm_&lt_sm_/a&gt_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t    &lt_sm_script&gt_sm__lt_br /_gt_\n\t    document.getElementById(_t_btnTurnLeft_t_).onclick _eq_ function(e){ _lt_br /_gt_\n\t          ... action manager event to turn camera?_lt_br /_gt_\n\t      }_sm__lt_br /_gt_\n\t    document.getElementById(_t_btnTurnRight_t_).onclick _eq_ function(e){ _lt_br /_gt_\n\t         ..._lt_br /_gt_\n\t      }_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t     I did a source code dive and saw that it is the camera alpha that needs the behavior_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t     So I added it to the button click handler_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t            case _t_touchLeft_t__dd__lt_br /_gt_\n\t                sceneFollowCamera.alpha -_eq_ 0.2 _sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t      But... that jumps the camera rotation to that point_co_ and not a smooth tween like the arrow key.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t      So getting closer_co_ but still digging deeper...\n_lt_/p_gt_\n\n_lt_p_gt_\n\t     Is there a better (simple) way to get the arrow key behavior for DOM button?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"aWeirdo","Date":"2017-03-15T19:54:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/25131-jack-morris/?do_eq_hovercard_qt_ data-mentionid_eq__qt_25131_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/25131-jack-morris/_qt_ rel_eq__qt__qt__gt_@Jack Morris_lt_/a_gt_ _lt_br /_gt_\n\tFor mesh targeting with arcRotate_co__lt_br /_gt_\n\tsimply do_sm_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_camera.setTarget(targetMesh)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt_\n\tto manipulate the camera alpha &amp_sm_ beta values via DOM elements_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere_t_s a simple PG_sm_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#2DMPBD%233_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#2DMPBD#3_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JackFalcon","Date":"2017-03-15T19:56:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tNice _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/17943-aweirdo/?do_eq_hovercard_qt_ data-mentionid_eq__qt_17943_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/17943-aweirdo/_qt_ rel_eq__qt__qt__gt_@aWeirdo_lt_/a_gt__co_ exactly what I was looking for. That should do the trick. Thanks.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"aWeirdo","Date":"2017-03-15T20:04:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYou_t_re welcome _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ _lt_br /_gt__lt_br /_gt_\n\tfor smoother movement you can use booleans instead together with (mouse / pointer)down &amp_sm_ up events.\n_lt_/p_gt_\n\n_lt_p_gt_\n\te.g_sm_ while pointer is down on rorate_right_btn_sm_ scene.activeCamera.__rotate_Right _eq_ true_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tand in scene.registerBeforeRender_co_ something like_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tif(scene.activeCamera.__rotate_Right) scene.activeCamera.alpha -_eq_ 0.05_sm_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#2DMPBD%234_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#2DMPBD#4_lt_/a_gt_ (uses pointerdown_co_ won_t_t work with browsers that only support mousedown)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JackFalcon","Date":"2017-03-15T20:10:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p style_eq__qt_color_dd_#272a34_sm__qt__gt_\n\t@Weirdo Nice1.\n_lt_/p_gt_\n\n_lt_p style_eq__qt_color_dd_#272a34_sm__qt__gt_\n\tYes smoothing is needed. It is like an airplane so the jump was visible.... I_t_ll put it under a key flag and drop into beforeRender and post back results for others.\n_lt_/p_gt_\n\n_lt_p style_eq__qt_color_dd_#272a34_sm__qt__gt_\n\tThanks for the tip.\n_lt_/p_gt_\n\n_lt_p style_eq__qt_color_dd_#272a34_sm__qt__gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JackFalcon","Date":"2017-03-15T20:35:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYep that worked. Piece of cake. Here was the solution_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t    onKeyDown _eq_ function(e) {  _lt_br /_gt_\n\t        switch (e) {_lt_br /_gt_\n\t            case _t_touchLeft_t__dd__lt_br /_gt_\n\t                movekeys.left_eq_1_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t                     ...\n_lt_/p_gt_\n\n_lt_p_gt_\n\t    function animateMovement(){_lt_br /_gt_\n\t        if(movekeys.left){_lt_br /_gt_\n\t            sceneFollowCamera.alpha -_eq_ 0.05 _sm__lt_br /_gt_\n\t        } \n_lt_/p_gt_\n\n_lt_p_gt_\n\t       ..._lt_br /_gt_\n\t    }\n_lt_/p_gt_\n\n_lt_p_gt_\n\t        scene.beforeRender _eq_ function () {_lt_br /_gt_\n\t              animateMovement()_sm_  _lt_br /_gt_\n\t        }\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]