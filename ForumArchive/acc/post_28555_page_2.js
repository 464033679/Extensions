[{"Owner":"Nockawa","Date":"2017-02-22T01:25:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI totally understand. My advice_co_ keep it simple for now and polish when you will really need it.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tInternally the GPU drivers already try to do everything to prevent wait due to lock/update of data. You can certainly tune things up_co_ but considering the wide range of drivers if you target everything WebGL is running on_co_ I_t_m not sure you_t_ll win every time.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd as you said_co_ WebGL 2.0 may certainly provide you the tools to do a faster rendering.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLast point_dd_ all your instanced are potentially updatable? Because if you can make two set of SPS_co_ one with the static ones and another one that you update all the time_co_ you would speed things up for sure...Now if it requires to update the static one once in a world_co_ you_t_d still win out of it.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"BeanstalkBlue","Date":"2017-02-22T01:32:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks for that insight Nockawa.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPlaying with 100 particle SPS and updating one SPS per frame_co_ it seems like this might have acceptable performance for now.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe world will be made of say 100 million solid particles (or some large amount)_co_ probably represented by heightmap textures that stream to the browser as PNG images. Then I can only display say 3000 particles at a time as the user moves through the world. So I must partition the world into some number of particle systems_co_ and load more systems into memory as the user moves around.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis is basically the problem.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMost likely something like a transform feedback particle system that reads some vertex height data from a texture is how things will end up_co_ a year from now.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nockawa","Date":"2017-02-22T01:36:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThat_t_s a very interesting project_co_ I will follow your blog to get the update. Looking at what you want to achieve_co_ I would suggest you to implement your own caching system of SPS_co_ with a MRU/Gargabe collector kind of algorithm and to have X instance of the SPS at runtime with X being setup based on the available memory. It reminds me a project I did in the past_co_ when you_t_re dealing with such volumetry it usually works well.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2017-02-22T04:34:17Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI guess that DK meant sps.mesh.setEnabled(false)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe right question is _dd_ what do you intend to do exactly ?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou seemed to want to use something like a 3js bufferGeometry what is not dynamically updatable at the subpart level and you talked about a static height field from what I initially understood. Maybe I_t_m wrong. But I don_t_t really get what you really want to achieve. Please let us know and we_t_ll enjoy to drive you in the right direction.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNot sure you need more than one SPS.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe SPS allows you to update one particle_co_ several particles_co_ all the particles at will _dd_ on some event or condition_co_ each frame (milllions vertices each frame will probably be too much for the CPU anyway)_co_ or when you want.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe philosophy is to call setParticles() to update the particles_co_ or setParticles(first_co_ last) to update them only from the first one to the last one. This can be called when you want_co_ once or as many time you want.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhat does it do ? it gets each particle logical status (position_co_ rotation_co_ color_co_ uvs_co_ bbox_co_ etc) and computes it into the SPS global mesh geometry_co_ updates this one for the next rendering.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou can set each particle logical status by your own_co_ just by accessing to sps.particles_lt_em_gt_ ... or better _dd_ setParticles() calls for you_co_ within its loop the function sps.updateParticle(p)\n_lt_/em_gt__lt_/p_gt_\n_lt_em_gt_\n\n_lt_/em_gt__lt_p_gt__lt_em_gt_\n\tSo can put all your particle logic in this function directly_co_ this is the fastest way to do things\n_lt_/em_gt__lt_/p_gt_\n_lt_em_gt_\n\n_lt_/em_gt__lt_p_gt__lt_em_gt_\n\t Please have a read at this _dd_ _lt_/em_gt__lt_a href_eq__qt_http_dd_//doc.babylonjs.com/overviews/solid_particle_system_qt_ rel_eq__qt_external nofollow_qt__gt__lt_em_gt_http_dd_//doc.babylonjs.com/overviews/solid_particle_system_lt_/em_gt__lt_/a_gt__lt_em_gt_  and let us know what is not clear for you.\n_lt_/em_gt__lt_/p_gt_\n_lt_em_gt_\n\n_lt_/em_gt__lt_p_gt__lt_em_gt_\n\tCheck also these demos _dd_\n_lt_/em_gt__lt_/p_gt_\n_lt_em_gt_\n\n_lt_/em_gt__lt_p_gt__lt_em_gt_\n\t- 3000 spherical (well_co_ morphed) drops in a SPS colliding another SPS (torus knots) _lt_/em_gt__lt_a href_eq__qt_http_dd_//www.babylonjs.com/Demos/Facets/_qt_ rel_eq__qt_external nofollow_qt__gt__lt_em_gt_http_dd_//www.babylonjs.com/Demos/Facets/_lt_/em_gt__lt_/a_gt__lt_em_gt_\n_lt_/em_gt__lt_/p_gt_\n_lt_em_gt_\n\n_lt_/em_gt__lt_p_gt__lt_em_gt_\n\t- 1200 different polyhedrons (SPS) colliding a sphere mesh _dd_ _lt_/em_gt__lt_a href_eq__qt_http_dd_//www.babylonjs.com/Demos/SPSCollisions/_qt_ rel_eq__qt_external nofollow_qt__gt__lt_em_gt_http_dd_//www.babylonjs.com/Demos/SPSCollisions/_lt_/em_gt__lt_/a_gt__lt_em_gt_\n_lt_/em_gt__lt_/p_gt_\n_lt_em_gt_\n\n_lt_/em_gt__lt_p_gt__lt_em_gt_\n\t- 80K random buildings _dd_ _lt_/em_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#2FPT1A%2336_qt_ rel_eq__qt_external nofollow_qt__gt__lt_em_gt_http_dd_//www.babylonjs-playground.com/#2FPT1A#36_lt_/em_gt__lt_/a_gt__lt_em_gt_\n_lt_/em_gt__lt_/p_gt_\n_lt_em_gt_\n\n_lt_/em_gt__lt_p_gt__lt_em_gt_\n\t- 20K boxes and only some moving _dd_ _lt_/em_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#16SA9C%239_qt_ rel_eq__qt_external nofollow_qt__gt__lt_em_gt_http_dd_//www.babylonjs-playground.com/#16SA9C#9_lt_/em_gt__lt_/a_gt__lt_em_gt_\n_lt_/em_gt__lt_/p_gt_\n_lt_em_gt_\n\n_lt_/em_gt__lt_p_gt__lt_em_gt_\n\t- asteroids (immutable SPS) _dd_ _lt_/em_gt__lt_a href_eq__qt_http_dd_//jerome.bousquie.fr/BJS/demos/solidparticlesAsteroid.html_qt_ rel_eq__qt_external nofollow_qt__gt__lt_em_gt_http_dd_//jerome.bousquie.fr/BJS/demos/solidparticlesAsteroid.html_lt_/em_gt__lt_/a_gt__lt_em_gt_ or _lt_/em_gt__lt_a href_eq__qt_http_dd_//www.babylonjs.com/Demos/SPS/_qt_ rel_eq__qt_external nofollow_qt__gt__lt_em_gt_http_dd_//www.babylonjs.com/Demos/SPS/_lt_/em_gt__lt_/a_gt__lt_em_gt_\n_lt_/em_gt__lt_/p_gt_\n_lt_em_gt_\n\n_lt_/em_gt__lt_p_gt__lt_em_gt_\n\t- 5000 updated textured boxes _dd_ _lt_/em_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#2FPT1A%2391_qt_ rel_eq__qt_external nofollow_qt__gt__lt_em_gt_http_dd_//www.babylonjs-playground.com/#2FPT1A#91_lt_/em_gt__lt_/a_gt__lt_em_gt_\n_lt_/em_gt__lt_/p_gt_\n_lt_em_gt_\n\n_lt_/em_gt__lt_p_gt__lt_em_gt_\n\t \n_lt_/em_gt__lt_/p_gt_\n_lt_em_gt_\n\n_lt_/em_gt__lt_p_gt__lt_em_gt_\n\tA user named chicagobob123  did a project with 15000 container trucks some months ago (can_t_t retrieve his demo). I know Iiceman and Temechon did also pro projects about hexagonal tiled terrains with the SPS some time ago. \n_lt_/em_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"BeanstalkBlue","Date":"2017-02-22T14:13:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5453-jerome/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5453_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5453-jerome/_qt_ rel_eq__qt__qt__gt_@jerome_lt_/a_gt_ Well_co_ I am pretty sure at a minimum I will have to divide the scene into several SPS meshes.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSomething like this_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#VHJYX%235_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#VHJYX#5_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPerformance of updating 100 particles in a single 5000 particle SPS is much worse than updating 100 particles in a 100 particle SPS (that playground I linked makes it easy to test that).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI think _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/18979-nockawa/?do_eq_hovercard_qt_ data-mentionid_eq__qt_18979_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/18979-nockawa/_qt_ rel_eq__qt__qt__gt_@Nockawa_lt_/a_gt_ has the right idea_co_ allocate a bunch of SPS instances and then update their vertex data as the user moves through the world.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnother consideration is that if you only use one SPS then you have a single mesh and can only have maybe 3 point lights in the whole scene (all drawn on that mesh). If you have 10 meshes visible on the screen then you can have max 3*10_eq_30 point lights visible for similar performance cost (ignoring shadows).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI hope so anyway_co_ if Babylon lets me specify which lights shade each mesh.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnother consideration is that if you only have one mesh then you can_t_t really force the particles to be drawn in front to back order_co_ so in some cases you will have a lot of overfill_co_ I guess unless you do a depth only pre-pass or something.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIs there a deferred lighting path in Babylon? If not then I think many meshes is the only way.\n_lt_/p_gt_\n\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_164426_qt_ data-ipsquote-contentid_eq__qt_28555_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1487738057_qt_ data-ipsquote-userid_eq__qt_5453_qt_ data-ipsquote-username_eq__qt_jerome_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t9 hours ago_co_ jerome said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tI know Iiceman and Temechon did also pro projects about hexagonal tiled terrains with the SPS some time ago. \n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tI think I found one of the projects you are talking about _lt_a href_eq__qt_https_dd_//github.com/Temechon/bursion_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/Temechon/bursion_lt_/a_gt_ thanks for the tip!\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tQuote\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_div style_eq__qt_table-layout_dd_fixed_sm_width_dd_1173.5px_sm_line-height_dd_1.6_sm_color_dd_rgb(39_co_42_co_52)_sm_font-size_dd_14px_sm_margin-bottom_dd_20px_sm_margin-top_dd_0px_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-style_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_background-color_dd_rgb(255_co_255_co_255)_sm__qt__gt_\n\t\t\t_lt_p style_eq__qt_margin-top_dd_0px_sm__qt__gt_\n\t\t\t\tI guess that DK meant sps.mesh.setEnabled(false)\n\t\t\t_lt_/p_gt_\n\t\t_lt_/div_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tOh! haha_co_ thanks _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nockawa","Date":"2017-02-22T14:17:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYep_co_ you should deal with a cluster of virtual SPS_co_ and allocated a fix amount of SPS and use/refresh them when needed.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThere_t_s not deferred shading path to this day_co_ mostly because doing so would require the WebGL Extension to render multiple target in one pass_co_ if you don_t_t have this extension_co_ deferred shading is pretty much out of the question.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis is something we talk internally from time to time but we all agree it_t_s something to consider when WebGL 2.0 will be majorly spread.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2017-02-22T14:39:57Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI still don_t_t know what you_t_re trying to achieve_co_ I mean in concrete terms_co_ something that could start from a PG prototype_co_ so it_t_s not easy to tell that one SPS is better than 10_co_ or the contrary.\n_lt_/p_gt_\n\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tQuote\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tPerformance of updating 100 particles in a single 5000 particle SPS is much worse than updating 100 particles in a 100 particle SPS (that playground I linked makes it easy to test that).\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tWrong ... here_t_s a very simple code using updateParticle() like explained in the doc _dd_ 10K cylinders and 200 of them updated per frame at 60 fps\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#VHJYX%236_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#VHJYX#6_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t1000 updated / 10K _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#VHJYX%237_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#VHJYX#7_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t3000 / 10K _dd_  _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#VHJYX%238_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#VHJYX#8_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe error in your code is that you manually re-iterate over the whole pool of particles when setParticles()/updateParticle() already do it for you.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPlease take the time to read the doc_co_ everything is explained.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTemechon had another project with thousands of trees in a landscape_co_ I can_t_t remember the link\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Temechon","Date":"2017-02-22T15:09:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tIndeed_co_ but not available online as it_t_s under heavy work _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ But yes_co_ I use SPS to render tiles_co_ trees and stone on a map (~100*100 tiles)\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"BeanstalkBlue","Date":"2017-02-22T15:16:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks for that correction _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5453-jerome/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5453_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5453-jerome/_qt_ rel_eq__qt__qt__gt_@jerome_lt_/a_gt__co_ I see the error.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYour code seems to run slower than mine though (but maybe I am not benchmarking well). Try making both the same particle and update counts_co_ but use larger numbers so that they aren_t_t both at 60fps for you.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnyway it doesnt matter because there will still be the lighting problem and draw ordering problem I mentioned in a forward rendered setup with only 1 mesh.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhat I am specifically trying to achieve is that there is a game world that is a height map_co_ visualized by these particles (like a terrain_co_ but made of particles). The player can walk through the game world. The world is e.g. 10 million particles large. The player can only see e.g. 3000 particles at a time (his local part of the world). There will be various small point lights throughout the world e.g. torches that light paths.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo my idea was that you divide the world into tiles. 1 tile _eq_ 1 SPS. As the player moves through the world_co_ you load world data into offscreen SPS and then make that SPS tile visible as the player moves toward it.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTo reduce fill rate you sort the SPS tiles by distance from the camera_co_ and draw close tiles first.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTo allow 20 point lights on the screen at once_co_ you assign 2 point lights to each SPS tile mesh.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am not sure if I am explaining well. Am I making sense?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2017-02-22T15:23:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tUnderstood ...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhat I would do personally _dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- to have a chuncked logical representation of the whole world (its geometry)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- to have a single big SPS displaying only what is visible on the screen_co_ say 3000 particles\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- to make the logical world _qt_slide_qt_ under the SPS in function of the user movement_co_ to pass it the current visible data from the current chunk and to update its particle according to these current data\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWell_co_ this is just my point of view and I_t_m quite sure to keep a decent FPS_co_ to achieve to manage it with a SPS and deal with huge amount of memory required from your massive data\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"BeanstalkBlue","Date":"2017-02-22T15:26:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tBut this single SPS would only allow 3 point lights on the whole mesh_co_ instead of say 30 point lights if there are 10 meshes?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAlso if there are only 3 point lights covering 10% of the pixels then 10 meshes runs a lot faster because the 3 point light shader doesn_t_t run on all the meshes.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tRight?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2017-02-22T15:47:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\twhy only 3 point lights ?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-02-22T16:28:31Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tBy the way I read you blog (_lt_a href_eq__qt_https_dd_//blog.scarlet6.com/babylon/_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//blog.scarlet6.com/babylon/_lt_/a_gt_)_co_ this is really unfair and pretty unkind (mostly when you talked about something you did not really know at the time of writing)\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"BeanstalkBlue","Date":"2017-02-22T16:29:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_164511_qt_ data-ipsquote-contentid_eq__qt_28555_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1487778433_qt_ data-ipsquote-userid_eq__qt_5453_qt_ data-ipsquote-username_eq__qt_jerome_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t43 minutes ago_co_ jerome said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\twhy only 3 point lights ?\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t \n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tBecause if you have only 1 SPS mesh then if a point light affects only a single particle in the mesh_co_ you still have to use the point light shader for every particle in the mesh.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf you have 10 SPS meshes and a point light affects only a single particle_co_ then you use a 0-point-light shader on 9 meshes and a 1-point-light shader on only 1 mesh.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf you try to have 30 point lights with 1 SPS_co_ then you need a 30 point light shader for your entire SPS? Or can you specify a different shader for different groups of particles?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"BeanstalkBlue","Date":"2017-02-22T16:30:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_164519_qt_ data-ipsquote-contentid_eq__qt_28555_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1487780911_qt_ data-ipsquote-userid_eq__qt_4442_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t3 minutes ago_co_ Deltakosh said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tBy the way I read you blog (_lt_a href_eq__qt_https_dd_//blog.scarlet6.com/babylon/_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//blog.scarlet6.com/babylon/_lt_/a_gt_)_co_ this is really unfair and pretty unkind (mostly when you talked about something you did not really know)\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tYikes_co_ sorry I didn_t_t mean to offend!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn my latest post I mentioned that the community here is really great. I_t_ll try to modify the blog to reflect the positive experience I_t_m having here.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-02-22T16:32:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tIt is your blog _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ I don_t_t want to control what you write but it seems that the general tone of your blog does not reflect the experience you seem to have here.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"BeanstalkBlue","Date":"2017-02-22T16:38:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_ I agree with you though_co_ so I have updated that post_dd_ _lt_a href_eq__qt_https_dd_//blog.scarlet6.com/babylon/_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//blog.scarlet6.com/babylon/_lt_/a_gt_ The post was meant to be more about my own mistakes_co_ not problems that Babylon has hah _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"BeanstalkBlue","Date":"2017-02-22T16:39:34Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tIs it possible to apply a different shader to different particles in a Solid Particle System? If not that is ok_co_ I am just deciding how many SPS instances I actually need.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2017-02-22T17:29:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tnope_co_ you can_t_t. The SPS is a standard BJS mesh.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-02-22T17:54:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/25751-beanstalkblue/?do_eq_hovercard_qt_ data-mentionid_eq__qt_25751_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/25751-beanstalkblue/_qt_ rel_eq__qt__qt__gt_@BeanstalkBlue_lt_/a_gt_ thank you I appreciate the changes _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]