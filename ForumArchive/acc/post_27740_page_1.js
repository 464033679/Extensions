[{"Owner":"Matriax","Date":"2017-01-16T13:59:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_m using a FreeCamera_co_ gravity_co_etc... and when i look at the sky and press W to go forward i go up and can fly_co_ the same if i look at the floor and press back.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI want that with WASD the camera moves without take the Y.rotation in consideration_co_ because i still need to move the camera and rotate to look everywhere.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tHow can i achieve that? I tried with _qt_Camera.CamFrontX(Distance)_qt_ _co_ Camera.DirectionX(AxisX_co_ AxisY_co_ AxisZ) _co_etc... to fix the Y.Rotation value but never got the desired behaviour_co_ sometimes the Y is limited and i can_t_t climb ramps or stairs_co_ other the collisions are not detected or other weird stuff.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Matriax","Date":"2017-01-17T08:12:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThe thing is create some kind of switch so_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDeactivated _dd_ The camera not take the Y.Rotation in consideration and you can only move in X/Z axis. But if you find a ramp or stairs you still can climb it.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tActivated_dd_ The actual free camera_co_ to be used as a _qt_Jetpack behaviour_qt_ for the player on you can fly.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAny ideas how to achieve that?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-01-17T19:00:17Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHey!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou must enable gravity_dd_ camera.applyGravity _eq_ true\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-01-17T19:05:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi Matriax.  Ahh_co_ Deltakosh beat me to it.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  Oh well... here_t_s more_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tA_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1GL6RR%236_qt_ rel_eq__qt_external nofollow_qt__gt_ little playground demo_lt_/a_gt_... where a _qt_camMesh_qt_ box is created_co_ and then the free camera is parented to the box_co_ and then the box uses a handy little moveCamera() function_co_ to get the job done.  In this demo_co_ the camera (camMesh) is always moving forward... slowly.  (Notice .moveCamera() is called repeatedly from inside the renderLoop at line 63)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe reason it is able to climb the ramp... yet not climb the SIDES of the ramp... is based upon the size and elliptic shape... of camMesh.ellipsoid (a vector 3 that determines the scale of a mesh collider).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou can play with camMesh.ellipsoid values... while raising the ramp height.  If too much raising of ramp_co_ camMesh will not be able to climb it anymore.  The edge gets higher than the center of its .ellipsoid size.  Remember the camMesh.ellipsoid is the RADIUS of the invisible collider_co_ not diameter.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou can view the collision .ellipsoid on cameras and mesh... by creating a sphere of the same size_co_ and parenting it to camMesh.  It might help if it is .visibility _eq_ .5_sm_  (so you can see-through it.)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tGravity is also handled... by moveCamera() function_co_ too.  Later_co_ when you want to use jetpack cam_co_ simply turn off scene gravity_co_ and use moveCamera() again (with some keypress/gamepad eventListening to determine thrust directions).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe only reason camera.applyGravity is not used in this playground demo... is because moveCamera is doing that FOR us.  You can do camera moving and gravity work just fine... without using moveCamera() and camMesh.  You can control the camera itself.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-01-17T19:08:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tI beat you but your responses are always richer _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Matriax","Date":"2017-01-17T20:10:41Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_m already using gravity for the camera but i did it to be as a real life_co_ not a constant gravity_co_ so the camera fall every time more faster.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAlso i had problems to climb stairs and go over some objects so i made two things_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t1.- When you hit the floor the gravity comes to 0 and if you try to jump or whatever the gravity starts to increase from 0 to Up.(instead to be always 9.8).\n_lt_/p_gt_\n\n_lt_p_gt_\n\t2.-When the player try to go up_co_ this means the camera ellipsoid try change to a higher Y(like climb a stairs)_co_ i add some impulse(substract some gravity).\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tWith this i can add stairs of a big size and the player climb them so smoothly like if was a ramp in each step. No _qt_earthquake_qt_ effect_co_ without add some fake ramp mesh objects in the staris or whatever.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut the problem as i said is when you move_co_ the camera takes the Y rotation in consideration to change his position so makes you can fly if you look the sky and go forward or if you look the floor and go back.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo_co_ i need a way to using the FreeCamera avoid takes the Y.Rotation when camera moves. Also i tried toclear controls and use my own like _qt_When W is pressed_qt_ &gt_sm_ Camera.CamFrontX(1)_co_etc...  that avoids the Y rotation and the camera only moves in the axis but always i get weird results_co_ i_t_m bad in this axis-math stuff _dd_S . Any example?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-01-17T21:57:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1GL6RR%237_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1GL6RR#7_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere I changed the moveCamera function a bit.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLines 62/63 ... slewX and slewZ can be thought-of as left/right throttle setting_co_ and forward/backward throttle setting (perhaps -5 to +5 on each).  These are WORLD coordinates_co_ so it doesn_t_t matter how the camera is aimed.  (Y-rotation ignored).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDown in line 77_co_ I changed variable name to _qt_movement_qt_ because it is not camera-forwards anymore.  It is world-directions... so... I changed name.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNow you can look sideways_co_ and still go over ramp... because camera/camMesh is always going to move along WORLD +/- X_co_ and WORLD +/- Z... or both at same time.  Camera aiming direction (y-rotation) doesn_t_t matter.... because of major changes to line 77.  Hope this helps.  Write back.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-01-18T03:36:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOther option_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#GZ1YB_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#GZ1YB_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI changed the updatePosition a bit to void the Y component of the camera direction\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Matriax","Date":"2017-01-18T08:55:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tLOTS OF THANKS Deltakosh!!_co_ worked! simple and perfect! . Also thanks Wingnut for that explanation and examples _lt_img alt_eq__qt__sm_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ title_eq__qt__sm_)_qt_ width_eq__qt_20_qt_ /_gt_ .\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn my case using the plugin of Babylon.JS for Construct 2 the execute javascript action is this_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_code_gt__qt_this.runtime.scenes[0].getCameraByName(_qt__qt_camera_qt__qt_).cameraDirection.y _eq_ 0_sm__qt__lt_/code_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWell_co_ other little thing fixed after some days of research.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]