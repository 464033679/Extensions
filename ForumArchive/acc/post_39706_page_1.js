[{"Owner":"DylanD","Date":"2018-08-29T12:43:50Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello everyone_co_ Â \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI was wondering is there a way I could use scene.fogStart and scene.fogEnd_co_ but with the scene.fogMode _eq_ BABYLON.Scene.FOGMODE_EXP_co_ Â or EXP2_co_ where fogStart and fogEnd just changed where the fog starts to show_co_ that way there is not hard maths involved(just a simple if(fogPos&gt_sm_fogstart){fog.alpha _eq_ alpha}else{fog.alpha _eq_ 0}. something like this). Â Im not sure how to go about this because from what I understand fog is a function in the BABYLON.Scene_co_ which I dont think I should edit_co_ and dont know how I could edit and still keep it in my game.Â \n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo what I would like to know is_co_ can it be done_co_ changing the fog to the above ideas_co_ and if it can be done how should I go about it_co_ is changing how scenes work really the only way_co_ would it even be as difficult as I think?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"DylanD","Date":"2018-08-29T12:47:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tto add on this_co_ my understanding of fog in BABYLONjs_co_Â \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am under the impression that with fog linear_co_ the fog starts from the camera position plus the fogStart_co_ in a sphere around the entire camera_co_ then another sphere that is fogEnd_co_ which is where the fog stops. Â Inbetween the two spheres is fog that gets thicker the farther away it is from fogStart sphere.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI would like this similarly with fog density but I would like to be able to start it offset from the camera so that the player can see better.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-08-29T15:46:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello you can find how the fog is computed in shaders right here_dd_Â _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Shaders/ShadersInclude/fogFragmentDeclaration.fx#L13_qt_ ipsnoembed_eq__qt_true_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Shaders/ShadersInclude/fogFragmentDeclaration.fx#L13_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTo keep shaders fast_co_ we cannot add _qt_if_qt_ statement as this will drop the performance drastically\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"DylanD","Date":"2018-08-29T16:30:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tis there a way I could override the fragment portion of that shader_co_ without impacting anything else?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn just my game.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-08-29T16:44:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSure_co_ just write the new code to BABYLON.Effect.IncludesShadersStore[_qt_fogFragmentDeclaration_qt_]\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"DylanD","Date":"2018-08-29T16:48:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI did not think it would be that easy.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWould this overwrite the fogFragmentDeclaration permanently or only while the new declaration would be in my code?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI dont want to start changing this if its going to cause a large problem.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-08-29T16:53:44Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIt will change it permanently (I mean for the page lifetime)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"DylanD","Date":"2018-08-29T17:00:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_226627_qt_ data-ipsquote-contentid_eq__qt_39706_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1535561624_qt_ data-ipsquote-userid_eq__qt_4442_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t2 minutes ago_co_ Deltakosh said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tIt will change it permanently (I mean for the page lifetime)\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\thmm just to make sure I understand_co_Â \n_lt_/p_gt_\n\n_lt_p_gt_\n\tif I put this in my code_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_BABYLON.Effect.IncludesShadersStore[_qt_fogFragmentDeclaration_qt_]_eq__t_#ifdef FOG\n\n#define FOGMODE_NONE    0.\n#define FOGMODE_EXP     1.\n#define FOGMODE_EXP2    2.\n#define FOGMODE_LINEAR  3.\n#define E 2.71828\n\nuniform vec4 vFogInfos_sm_\nuniform vec3 vFogColor_sm_\nvarying vec3 vFogDistance_sm_\n\nfloat CalcFogFactor()\n{\n\t\n\n\treturn 0_sm_\n}\n#endif_t__sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tthen it will over ride it_co_ if I load my page_co_ Â I will look like the shader above describes. Â \n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut if I take that declaration out of the code_co_ Â then reload the page it will be back to normal as if I changed nothing?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-08-29T19:58:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tCorrect _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt_true_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt__gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"DylanD","Date":"2018-08-31T13:37:31Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHey _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt__co_ I just started trying to edit the fog_co_ I thought it would be the same as making a shader for shaderStore_co_ but I can_t_t seem to even figure out how to declare it...Â \n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere is what I tried_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#5WJ0FD_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//playground.babylonjs.com/#5WJ0FD_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tbut that didn_t_t seem to work at all_co_ the console doesn_t_t say anything.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHow should I go about starting the declaration?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-08-31T15:36:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHere we are_dd_Â _lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#5WJ0FD#2_qt_ ipsnoembed_eq__qt_true_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//playground.babylonjs.com/#5WJ0FD#2_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tyou need to use ` instead of _t_ to create multiline strings in JS\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"DylanD","Date":"2018-08-31T16:08:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOh my gosh_co_ how did I miss that _lt_span class_eq__qt_ipsEmoji_qt__gt_ðŸ˜ _lt_/span_gt_Â _co_ that is frustrating _lt_span_gt__lt_img alt_eq__qt__dd_(_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ title_eq__qt__dd_(_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_Thanks DK!_lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"DylanD","Date":"2018-08-31T16:29:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThis worked great!!\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#5WJ0FD%233_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//playground.babylonjs.com/#5WJ0FD#3_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-09-04T17:55:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tGlad to hear _lt_span_gt__lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt_true_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt__gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"DylanD","Date":"2018-10-12T13:36:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_226619_qt_ data-ipsquote-contentid_eq__qt_39706_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1535561082_qt_ data-ipsquote-userid_eq__qt_4442_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tOn 8/29/2018 at 12_dd_44 PM_co_ Deltakosh said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tSure_co_ just write the new code to BABYLON.Effect.IncludesShadersStore[_qt_fogFragmentDeclaration_qt_]\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tHey_co_ im trying to clean up my code_co_ and put shaders in files_co_ and then organize thenÂ into a shaders folder.Â  I tried putting this. fogdeclaration into a .fx file just like the rest of my shaders.Â  However it doesn_t_t get instantiated like the other shaders i believe_co_ so it doesn_t_t directly call this shader file.Â  Any ideas about how i could keep this shader in its own file_co_ without over writing the original shader permanently.Â  Just calling this one...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tÂ \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-10-12T17:03:50Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYou cannot have your file in a separate folder unfortunately. But you can trick it to make it work_dd_ Just add some code that will first do an xhr to read all your files and store the results in the Effect store.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]