[{"Owner":"sable","Date":"2016-12-07T03:39:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI have question regarding the tracking of nodes in a scene with canvas2d elements (using ScreenSpaceCanvas2D).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt seems that when a node goes behind the camera_co_ the 2d element will initially go out of view_co_ but  will eventually re-enter if you keep moving away from the node that it is attached to. An example playground below_co_ which is a very slight modification of a playground from the documentation_co_ demonstrates this. Just pan forward through the cubes (with ctrl + click)_co_ and the rectangle2ds initially go out a view_co_ but then come back onto the screen.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//babylonjs-playground.com/#1N9RJY%2361_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//babylonjs-playground.com/#1N9RJY#61_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIs this the desired behaviour?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-12-07T16:46:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tPing _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/18979-nockawa/?do_eq_hovercard_qt_ data-mentionid_eq__qt_18979_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/18979-nockawa/_qt_ rel_eq__qt__qt__gt_@Nockawa_lt_/a_gt_\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-12-07T18:15:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tAll this pinging going-on... it_t_s just so... so... pingful!  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tOk_co_ I have no solve_co_ and I have raised this z-indexing issue before_co_ and I think it is still being studied.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have a work-around.  It is not pretty. _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  Camera starts in the MIDDLE of the circle of boxes...\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//babylonjs-playground.com/#1N9RJY%2363_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//babylonjs-playground.com/#1N9RJY#63_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOkay_co_ the most important line is... line 21.  I think the professionals call this a _qt_back-reference_qt_.  I store the tag (the group2d) IN the cube.tag property (which didn_t_t exist until I created it_co_ so it is an _qt_overload_qt_).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe back-ref is used in a _lt_em_gt_isInFrustum_lt_/em_gt_ tester in the render loop... lines 53-64. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tA clumsy workaround kludge... but... it_t_s still better than peeing on your foot. _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tWe still see some labels jumping because... Canvas2d primitives turn ON first_co_ and THEN move to their trackedNode_t_s position.  They move _lt_strong_gt_after_lt_/strong_gt_ activation.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt would probably be better if all group2d moved to their trackNode position FIRST_co_ and then the .levelVisible activate them. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tNockawa will visit soon_co_ I suspect... and drop a few words on us.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"sable","Date":"2016-12-08T02:41:34Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThanks for that work-around. For my usage it seems to perform well enough_co_ and the flicker of labels on first load is just a minor gripe. \n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-12-09T10:53:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tCool.  _lt_em_gt_Some_lt_/em_gt_ label flickering can be seen with certain odd camera moves_co_ too (well-after scene start).  I think it is caused by the same reason.  Setting a tag.levelVisible _eq_ true... probably follows the same turn-on sequence as initial startup (display first_co_ then move to trackedNode screen position_co_ after).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn other words_co_ when tag.levelVisible _eq_ false... the group2d likely releases its trackedNode and goes stupid.  When we turn it BACK-on_co_ it needs to re-calc where its trackNode is located.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNot sure about that_co_ but it seems logical and explains the seen anomaly.  *shrug*  I think I_t_ll ping _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/18979-nockawa/?do_eq_hovercard_qt_ data-mentionid_eq__qt_18979_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/18979-nockawa/_qt_ rel_eq__qt__qt__gt_@Nockawa_lt_/a_gt_ in case he wants to read what we are talking_co_ here.  He_t_s the author of the Canvas2D system (still in dev)_co_ and he might have some words of wisdom for us. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tNow he has been _qt_pinged_qt_.  I typed _t_@_t_ and then _t_N_t_... and then _t_o_t_... and then... a list opens in the forum software_co_ and allows me to select names from that list.  I selected Nockawa from the list_co_ and it put that blue nametag in this post_co_ and also possibly notified him that we spoke his name in a comment.  (the ping/notification). \n_lt_/p_gt_\n\n_lt_p_gt_\n\tA little instruction for anyone who isn_t_t familiar with this brand of forum software.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tAlthough currently not-working_co_ we have system called the debug layer_co_ too. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhen working_co_ you can turn it on with a playground button (currently broken) or with code (scene.debugLayer.show() after including inspector.js in your project). \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe debug layer has a choice called _qt_show clickable labels_qt_.  When that starts working again_co_ take a look at THAT labeling method.  It uses old-style HTML tags with absolute positioning_co_ I believe.  Works quite well. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe BJS debugLayer went through a major re-code VERY recently... and now uses _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/tree/master/inspector_qt_ rel_eq__qt_external nofollow_qt__gt_the brand new _qt_inspector_qt_ system_lt_/a_gt_.  If you decide to study it thoroughly_co_ come back and teach us about it_co_ okay?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLastly_co_ nobody has really welcomed you to the forum_co_ _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/24742-sable/?do_eq_hovercard_qt_ data-mentionid_eq__qt_24742_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/24742-sable/_qt_ rel_eq__qt__qt__gt_@sable_lt_/a_gt_.  Soooo... welcome to the forum_co_ Sable!  Good to have you with us!  Be well_co_ we_t_ll talk again soon_co_ party on!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nockawa","Date":"2016-12-09T20:27:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tSorry folks_co_ I can_t_t help right now_co_ I_t_m sick and I have order to stay away from computer... as soon as I feel better I_t_ll answer/fix the issue_co_ for the moment being_co_ rest is all I can do to recover.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nabroski","Date":"2016-12-09T21:58:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/18979-nockawa/?do_eq_hovercard_qt_ data-mentionid_eq__qt_18979_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/18979-nockawa/_qt_ rel_eq__qt__qt__gt_@Nockawa_lt_/a_gt_ Gute Besserung! \n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]