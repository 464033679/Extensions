[{"Owner":"lisarutan","Date":"2014-11-25T17:18:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hello everyone_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I_t_m trying to get my head around how to work with animations in Blender and Babylon._lt_/p_gt__lt_p_gt_I have no trouble exporting/loading etc and my animations works except in one aspect. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I have added some movements to my object in Blender and with movement I mean that my object changes position. My problem now is that if I _qt_walk_qt_ with my object in the browser each animation will begin where the object is added during the initialization. I have tried to find some data giving me the new position of the object when one animation is finished. Problem seems to be that the position of the object (mesh) doesn_t_t actually change during the animation even though the object _qt_moves_qt_. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Does anyone have any suggestions of how to solve this issue? Or aren_t_t you supposed to change position in Blender_co_ only make animations where the object stays in the same spot all the time? Just seems strange if that would be the case..._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-11-26T23:42:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hello Lisa_co_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_this depends on what you animated in Blender. Do you animate mesh_t_s position? is there any object hierarchy?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_BTW if animation is controlling object_t_s position_co_ you won_t_t be able to change it because anytime you change it_co_ animation engine will overwrite it. If you want to move an animated object_co_ the good idea could be to make this object child of another one and then move the parent_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2014-11-27T11:35:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hello_co__lt_br_gt_ _lt_br_gt_For move a character_co_ for example_co_ taking into account the collisions_co_ I done like this_dd__lt_br_gt_ _lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint lang-auto_qt__gt_var forward _eq_ new BABYLON.Vector3(parseFloat(Math.sin(parseFloat(Player.rotation.y))) / 8_co_ -0.15_co_ parseFloat(Math.cos(parseFloat(Player.rotation.y))) / 8)_sm_Player.moveWithCollisions(forward)_sm__lt_/pre_gt__lt_p_gt_oh and Welcome here  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2014-11-27T17:33:52Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi Lisa_co_ welcome to the forum.  Hi long-timers_co_ too._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Lisa_co_ I don_t_t know if your animation is a walking bi-ped_co_ but let_t_s pretend it is.  It sounds to me (by the words of the previous answers) that it would be best if you animate the walking ACTION in Blender_co_ but wait until you import it into babylon.js... before you do the position_co_ rotation_co_ and/or scaling.  (Don_t_t change position in the animation.  Just move the legs.) _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_After importing_co_ you can give the biped an (invisible) parent and move that (child biped will move too)_co_ or maybe use Dad72_t_s collision-active forward-mover code.  I just wanted to reword it all_co_ for some strange reason._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_But I have a question for these animation experts.  First_co_ let_t_s pretend that this is NOT a biped.  It_t_s just a dancing box.  As it dances around_co_ Lisa made it change position 10 units along +z axis ... in 200 frames.  In brief_co_ by the time frame 200 arrives_co_ it has danced_co_ and it has changed position 10 units +z._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Now_co_ may I refer to _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/wiki/07-Animation_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/wiki/07-Animation_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Halway down_co_ see the animation mode _qt_BABYLON.Animation.ANIMATIONLOOPMODE_RELATIVE_qt_ ?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I could build a test to get this answer_co_ but it_t_s easier to ask.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_If Lisa used _lt_u_gt__lt_strong_gt_that_lt_/strong_gt__lt_/u_gt_ animation mode_co_ would her box keep dancing and moving another 10 units_co_ then another 10 units_co_ etc_co_ cumulative?  Would the animation start again_co_ and automatically have a 10 unit +z offset ... for each re-run of the animation?  (thx)  I realize this animation method might not apply to bones_co_ skeletons_co_ etc.  I have no experience in that at all._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_See the comment in there _qt_will it continue on_qt_?  I added that_co_ and I guessed.  I don_t_t know if _t_relative_t_ _eq_ continue-on._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thoughts/info_co_ anyone?  thanks!  Sorry for interrupting the thread flow_co_ if I did.  Lisa_co_ briefly_co_ you have no limitations at all.  Between the power of Blender_co_ and the power of Babylon.js and a tiny bit of javascript_co_ you can get anything done.  Be patient_co_ as sometimes things need a bit of tweaking.  Be well_co_ everyone._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"lisarutan","Date":"2014-12-10T00:14:00Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Ooh.. wasn_t_t expecting to feel this welcome for some reason hehe _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ Anyhow_co_ that makes me really happy so thank you!_lt_/p_gt__lt_p_gt_Sorry for being bad on following up on my own topic_co_ though I kind of thought I would get some kind of mail notification if someone made a reply on my topic. But back to the issue..._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I might be overexplicit now but I guess that is better than the other way around._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I have made a model in Blender which consists of a mesh with belonging bone structure_co_ or maybe it should be put the other way around. If I got it right the armature is the parent to the mesh. Appart from that there is not much of an object hierarchy. The animation is applied to the bones but since the mesh and bones are connected_co_ the mesh will move along with the bones. I added some animations as walking_co_ jumping and turning to my little robot. Maybe it_t_s stupid but I thought it would be nice to add the transition to another position in the blender file since I easily can do some tweaks and make sure that the positioning corresponds with the walking animation and looks correct. But when I think about it I could tweak it almost as easy in the javascript. Maybe need to do some small changes in the animation in Blender as well but I guess I_t_ll manage _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_So_co_ I think that all of you answers make sense... _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ Though I got to say I_t_m curious of the answer to Wingnut_t_s question. No offense taken for hijacking my topic btw _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thank you for simple but constructive answers!! Now I know where I will spend all my free time that I don_t_t have haha... _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Have a nice day_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"gryff","Date":"2014-12-10T05:33:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi Lisa _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_My guess is your animations from Blender_co_ like walk and jump_co_ have a hip _lt_u_gt_translation_lt_/u_gt_ component - the figure walks/jumps from position A to B. If so_co_  as DK says the _qt__lt_em_gt_animation engine will overwrite it_lt_/em_gt__qt_._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_What you need are animations for your character that stay in the same spot - not hard to do in Blender.  Then use javascript to move the avatar from A-&gt_sm_B-&gt_sm_C etc._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_You might want to take a look at _lt_strong_gt_ProfessorF_lt_/strong_gt__t_s efforts here - the avatar moves to where you click on the ground_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_https_dd_//github.com/professorf/BasicBabylonJSAvatarMovement_qt_ rel_eq__qt_external nofollow_qt__gt_Avatar Movement_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The link is to all the files which you can download and run on your server. I know I have seen it somewhere on the web - but I don_t_t have a link for the demo. It seems to have a bug in Firefox and Chrome browsers - but sure you can fix that ._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I also seem to remember _lt_strong_gt_dad72_lt_/strong_gt_ had a demo where the avatar movement was linked to a 3rd person camera. Sorry don_t_t have a link - but I_t_m sure dad72 will know it _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The secret I think is removing the translation component - and using javascript to provide it in some fashion when certain conditions are met (key presses or mouse clicks). I_t_m a javascript wimp otherwise I would suggest some code - though my immediate thoughts would be to parent the avatar to another object (invisible)  - and use that object  to provide translation info._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_cheers_co_ gryff _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2014-12-10T08:40:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Yes I have a full demo for you. You can see a concrete animate animation of a character who get the gravity and collisions.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_With the mouse wheel you can zoom back and forth._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_div_gt_with SHIFT + z you can run but it_t_s walking animation is playing._lt_/div_gt__lt_div_gt_As specified_co_ you must animate your character but leaving them in place in blender or other moving this shalt make Babylon shalt play the animation._lt_/div_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.castorengine.com/babylon/moveCharacter/_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.castorengine.com/babylon/moveCharacter/_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ozRocker","Date":"2015-11-04T14:49:57Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I know this is an old thread_co_ but I_t_m trying to get this happening too.  My guy ends up back at the same position.  _lt_a href_eq__qt_http_dd_//www.punkoffice.com/andrew/_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.punkoffice.com/andrew/_lt_/a_gt_  Is it still true that you can_t_t apply root motion to animated avatars?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-11-05T02:33:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Help me revive my memory_dd_) what is the problem actually?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ozRocker","Date":"2015-11-05T02:40:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I_t_m trying to get my guy to continue walking each time he loops without restarting from the same position.  Object translation is working cos he does walk forward but at the next iteration he appears back at the start again _lt_a href_eq__qt_http_dd_//www.punkoffice.com/andrew_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.punkoffice.com/andrew_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"gryff","Date":"2015-11-05T05:09:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi oz_co_ I_t_m getting this warning (image below)from my antivirus software (Avast)._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_As for your walking issue_co_ you have to delete the location frames of hips/pelvis bone  in your 3d software - that will make your model walk on the spot. Then use a script like dad72 or ProfessorF did_co_ in the links above_co_ to provide the movement across the terrain._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_cheers_co_ gryff _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_&lt_sm_fileStore.core_Emoticons&gt_sm_/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt__lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_11_2015/post-7026-0-18375400-1446699716.png_qt_ rel_eq__qt_external nofollow_qt__gt__lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_11_2015/post-7026-0-18375400-1446699716.png_qt_ data-fileid_eq__qt_5513_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_post-7026-0-18375400-1446699716.png_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ozRocker","Date":"2015-11-05T06:20:52Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_i_t_ve checked my page using some online scanners (securi.net and scanurl.net) and neither of them reported any malware.  Its just a straight-up Babylon.js file.  Anyone else having the same issue?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I was hoping to incorporate root motion because some movements are more complicated than a simple linear walk_co_ or curved walk and can_t_t be coded in as accurately as the motion was recorded.  Ah well _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ alt_eq__qt__dd_(_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-11-05T18:19:00Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_How do you animate the position of the root object?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ozRocker","Date":"2015-11-06T03:40:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_The animation for the root bone (the hip) is in there and it works in Babylon.js cos the man does move forward as he_t_s walking.  There_t_s only a problem when the animation is run a second time and the man starts from the initial position again.  Unity3D has an option that allows root motion to update the actual position and rotation of the object_co_ instead of just moving the bone and all its children.  Maybe there_t_s a way in Babylonjs to do this_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2015-11-06T14:59:00Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I am not sure I am qualified to answer your question.  Am just starting to work with skeletons.  A bone animation frame is a Matrix.  This encapsulates a change in scale_co_ rotation &amp_sm_ translation (position)._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Looking at mocaps from CMU library to try to convert them outside of an exporter_co_  I see they only record rotation.  Are you including translation in yours?  That would explain how the move is temporary.  If so_co_ you may have an number of options_co_ including_dd__lt_/p_gt__lt_ul_gt__lt_li_gt_pull translation out_co_ and manage with a concurrent position animation._lt_/li_gt__lt_li_gt_do looping yourself.  At the end of the animation_co_ apply the translation to the mesh position &amp_sm_ play again._lt_/li_gt__lt_/ul_gt__lt_p_gt_I plan on sort of doing the first_co_ but am both interpolating in a beforeRender &amp_sm_ and is an integrated operation.  Will only have bone rotation in matrices.  Mesh position &amp_sm_ rotation are optionally interpolated separately_co_ but in the same beforeRender_co_ so it is permanent.  Can also do multiple morphs at the same time_co_ if all goes well  Do not wait for me_co_ though.  I am doing it for me own purposes_co_ thus my own timetable._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ozRocker","Date":"2015-11-06T15:32:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Actually I don_t_t think it_t_s really to do with the looping (tho the looping makes the problem apparent). I think the process of applying root motion is just taking all transformations from hip bone (the root) during the animation and applying it to the mesh itself instead of the hip bone. If there_t_s a way to do that then I can probably get it working_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-11-06T18:28:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_as JCP mentioned_co_ if you have a translation in your animation_co_ this is the expected result._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_If you want to keep this translation (which I do not recommend)_co_ you can still add a parent mesh to your root object an then manually control the parent._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I think this is better to not have translation in your animation because it is then easier to control the root object manually_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ozRocker","Date":"2015-11-06T23:45:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I_t_m not sure if you guys have worked on a lot of human animation_co_ but root motion can be very complicated.  Its not always something you can replicate in code using a mathematical formula.  Have a look at my breakdancing girl here \n_lt_/p_gt__lt_div class_eq__qt_ipsEmbeddedVideo_qt_ contenteditable_eq__qt_false_qt__gt__lt_div_gt__lt_iframe width_eq__qt_480_qt_ height_eq__qt_270_qt_ src_eq__qt_https_dd_//www.youtube.com/embed/qR55wtmCtGI?feature_eq_oembed_qt_ frameborder_eq__qt_0_qt_ allowfullscreen_eq__qt_true_qt__gt__lt_/iframe_gt__lt_/div_gt__lt_/div_gt_  There are parts of that animation which change the rotation and position of the mesh and its not linear at all.  Its quite complicated and scattered.  You can see she starts at a different position and direction each time. She_t_s not just going from A to B in one straight line.  Even the flips she does changes her position slightly.\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-11-06T23:52:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_So in this case_co_ just add a new root parent and move this new object_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2015-11-07T19:00:17Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_104615_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_10675_qt_ data-ipsquote-username_eq__qt_ozRocker_qt_ data-cite_eq__qt_ozRocker_qt_ data-ipsquote-timestamp_eq__qt_1446853507_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt_I_t_m not sure if you guys have worked on a lot of human animation_lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_For me_co_ actually not ever_co_ except for shape keys for speech.  Give me 1 more week or 2.  Am just now parsing (regex-ing) the frame file of the Aclaim mocap file pair.  See the root bone has both translation &amp_sm_ rotation for each frame._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I am thinking of replacing the root bone_t_s animation with Matrix.identity_co_ then taking &amp_sm_ storing both the translations &amp_sm_ rotations of each frame in their own arrays.  When this is being performed_co_ these changes will go against the mesh position &amp_sm_ rotation so that they are permanent._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Reducing the 120 frames / sec down to poses that can be interpolated between is probably going to be my biggest challenge.  I am already setup to concurrently move / morph / skeletal articulate in my beforeRenderer_co_ so that part should not be a problem._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_i have got to say that I do not really understand what DK is saying_co_ but I do not use BABYLON.Animation objects other than for pose storage._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2015-11-07T19:20:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Oh_co_ now I think I see what you are talking about the different position &amp_sm_ direction at starts.  That always happens right after I hit the _qt_Post_qt_ button._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_FYI_co_  when you move this parent thingy DK is talking about_co_ use can use POV moves &amp_sm_ rotations.  There are methods in AbstractMesh for calculating POV._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I will not be storing absolute values_co_ rather the change in value for me (they may be relative values already_co_ going to find out).  I will call the POV methods_co_ passing the relative change_co_ &amp_sm_ it will calculate the final absolute position or rotation in all 3 dimensions for me as it is being performed._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ozRocker","Date":"2015-11-08T02:13:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_104678_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_10675_qt_ data-ipsquote-username_eq__qt_JCPalmer_qt_ data-cite_eq__qt_JCPalmer_qt_ data-ipsquote-timestamp_eq__qt_1446922817_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt_I am thinking of replacing the root bone_t_s animation with Matrix.identity_co_ then taking &amp_sm_ storing both the translations &amp_sm_ rotations of each frame in their own arrays.  When this is being performed_co_ these changes will go against the mesh position &amp_sm_ rotation so that they are permanent._lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Yeh_co_ I_t_m pretty sure this is how its handled in other animation applications.  Root bone transformation is applied to the mesh instead of the root bone.  Also_co_ big thanks for trying to help out with this _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  I didn_t_t understand what DK was saying either.  I thought maybe I wasn_t_t smart enough to interpret his words_co_ so I just kept silent lol _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jpdev","Date":"2016-12-10T09:38:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSorry for unburring this post_co_ but I just spend an hour wondering why my blender animated object was _qt_unmoveable_qt_ in the babylon scene while the animation was playing.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAll I could find was this thread_co_ so I wanted to post my solution here_dd_\n_lt_/p_gt_\n\n_lt_pre style_eq__qt_background-color_dd_#2b2b2b_sm_color_dd_#a9b7c6_sm_font-family_dd__t_Courier New_t__sm__qt__gt_\n_lt_span style_eq__qt_color_dd_#cc7832_sm_font-weight_dd_bold_sm__qt__gt_this_lt_/span_gt_._lt_span style_eq__qt_color_dd_#9876aa_sm__qt__gt_spider_lt_/span_gt_._lt_span style_eq__qt_color_dd_#ffc66d_sm__qt__gt_beginAnimation_lt_/span_gt_(_lt_span style_eq__qt_color_dd_#6a8759_sm__qt__gt__qt_Walk_qt__lt_/span_gt__lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt__co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#cc7832_sm_font-weight_dd_bold_sm__qt__gt_true_lt_/span_gt__lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt__co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#6897bb_sm__qt__gt_1.0_lt_/span_gt_)_lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt__sm__lt_/span_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tThis was my animation code_co_ that made my object unmoveable_co_ unscaleable while the animation was playing.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWith no change in blender (after trying a bunch of stuff) this was the solution_dd_\n_lt_/p_gt_\n\n_lt_pre style_eq__qt_background-color_dd_#2b2b2b_sm_color_dd_#a9b7c6_sm_font-family_dd__t_Courier New_t__sm__qt__gt_\n_lt_span style_eq__qt_color_dd_#cc7832_sm_font-weight_dd_bold_sm__qt__gt_this_lt_/span_gt_._lt_span style_eq__qt_color_dd_#9876aa_sm__qt__gt_spider_lt_/span_gt_._lt_span style_eq__qt_color_dd_#9876aa_sm__qt__gt_skeleton_lt_/span_gt_._lt_span style_eq__qt_color_dd_#ffc66d_sm__qt__gt_beginAnimation_lt_/span_gt_(_lt_span style_eq__qt_color_dd_#6a8759_sm__qt__gt__qt_Walk_qt__lt_/span_gt__lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt__co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#cc7832_sm_font-weight_dd_bold_sm__qt__gt_true_lt_/span_gt__lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt__co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#6897bb_sm__qt__gt_1.0_lt_/span_gt_)_lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt__sm__lt_/span_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tDifference_dd_ The skeleton has to be animated_co_ not the mesh.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tStupid me_co_ but I hope this might help others that run into the same problem and think they did something wrong in blender.. when actually it_t_s just the wrong thing that gets animated.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"MackeyK24","Date":"2017-08-30T18:35:44Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_104589_qt_ data-ipsquote-contentid_eq__qt_10675_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1446834503_qt_ data-ipsquote-userid_eq__qt_4442_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tOn 11/6/2015 at 8_dd_28 AM_co_ Deltakosh said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tas JCP mentioned_co_ if you have a translation in your animation_co_ this is the expected result.\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t \n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tIf you want to keep this translation (which I do not recommend)_co_ you can still add a parent mesh to your root object an then manually control the parent.\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t \n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tI think this is better to not have translation in your animation because it is then easier to control the root object manually\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_  I mean it.. You DA MAN... I was looking around about what the best way for us to handle animations... And that is IN-PLACE and NOT ROOT MOTION were the x and z get animated (I do like _t_y_t_ thou.. for a little jump looks good... what do think ..No Y either???) \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnyways... I am working out a way to ZERO the x and z (and maybe keep y offset to starting position or zero or leave alone) on root motions animations kinda like unity does if you uncheck the _t_Apply Root Motion_t_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut you right .. a set of in place animations work best... I think... much easier to stick a character in parent object with a simple invisible collision mesh as the main character and put the skinned mesh with animations as child that is pure window dressing _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]