[{"Owner":"Dimitry","Date":"2015-05-21T03:21:50Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_div_gt_Hello guys_co_ this is my very first forum post here. And I hope someone will be able to help. _lt_/div_gt__lt_br_gt__lt_div_gt_ _lt_/div_gt__lt_br_gt__lt_div_gt_So here is the demo _lt_a href_eq__qt_http_dd_//sitesman.com/3dcity/1/_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//sitesman.com/3dcity/1/_lt_/a_gt__lt_/div_gt__lt_br_gt__lt_div_gt_I want to move the camera with the mouse wheel. All ok_co_ I can track the event and make the camera react to the wheel. The code is like this_dd__lt_/div_gt__lt_br_gt__lt_div_gt_ _lt_/div_gt__lt_br_gt__lt_div_gt_camera.cameraDirection_eq_ camera.cameraDirection.add(new BABYLON.Vector3(0_co_ 0_co_ delta/200))_sm__lt_/div_gt__lt_br_gt__lt_div_gt_ _lt_/div_gt__lt_br_gt__lt_div_gt_Well of course this code only changes one z coordinate_co_ but I need somehow to change both the x and the z coordinate_co_ the problem is_co_ the number to which to change them will ALWAYS depend on the angle at which the camera is looking at the world. And so will be always different_co_ depending on this angle. Subsontiously I understand that some formulas using cos and sin should be applied here_co_ but I had poor math grades _dd_-( Can someone invent a formula for this? _lt_/div_gt__lt_br_gt__lt_div_gt_ _lt_/div_gt__lt_br_gt__lt_div_gt_Thanks in advance!_lt_/div_gt__lt_br_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Samuel Girardin","Date":"2015-05-21T11:07:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I_t_m sure one of the guys of the forum will help you  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ . _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Very nice maps  and clean  3d works !_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2015-05-21T11:19:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hey!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_First_co_ welcome. Your map is really nice. I especially like the text in the loading screen (which I can only assume means _qt_Loading_qt_  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ )_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_So_co_ just to make sure I understand correctly - what you actually want to achieve_co_ is that the mouse wheel will act like the forward/backward arrow keys (or W and S) right? You could simply use this function and _qt_adjust_qt_ it (with a certain scaling for the mousewheel event data)._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Check this function - _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/Babylon/Cameras/babylon.touchCamera.ts#L120_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/Babylon/Cameras/babylon.touchCamera.ts#L120_lt_/a_gt_ _co_ it does that exactly. _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-05-21T11:28:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_very nice scene !_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dimitry","Date":"2015-05-21T12:08:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Thanks a lot for the answers! I think the problem is that I want this camera to be a normal camera which can be operated by the mouse and keyboard and just ADD the possibility to operate with the wheel_co_ just in case. And actually all I need is to know how to return the camera_t_s angle at this moment_co_ is there such a function? Then a formula should be applied that probably I will even think of myself_co_ but the problem is how to learn the camera_t_s angle at this moment._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I mean I know how to rotate the camera to an angle_co_ but do not understand how to return the current camera_t_s angle. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thanks a lot!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Rubis","Date":"2015-05-21T12:56:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var length _eq_ delta/200_sm_var DirX _eq_ Math.sin(camera.rotation.y)*Math.cos(camera.rotation.x)_sm_var DirY _eq_ -Math.sin(camera.rotation.x)_sm_var DirZ _eq_ Math.cos(camera.rotation.y)*Math.cos(camera.rotation.x)_sm_camera.cameraDirection _eq_ camera.cameraDirection.add(new BABYLON.Vector.(length*DirX_co_length*DirY_co_length*DirZ))_sm__lt_/pre_gt__lt_p_gt_Not tested_co_ but this should work._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dimitry","Date":"2015-05-21T13:23:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Wow thanks Rubis_co_ will try that and reply. Thanks a lot!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dimitry","Date":"2015-05-21T13:42:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Works like a charm_co_ please check it here _lt_a href_eq__qt_http_dd_//sitesman.com/3dcity/1/_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//sitesman.com/3dcity/1/_lt_/a_gt__lt_/p_gt__lt_p_gt_Thanks!!_lt_/p_gt__lt_p_gt_The only strange behaviour I found is that the more you scroll the wheel_co_ the more distance the camera goes with each scroll_co_ after 10 scrolls becoming like 100 meters _dd_-D Maybe some other variable should be introduced? Seems the distance is accumulated exponentially somehow_co_ but my geometry and math knowledge do not allow me to understand the problem _dd_-D_lt_/p_gt__lt_p_gt_Thank you!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Rubis","Date":"2015-05-21T14:04:00Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I don_t_t know how wheel mouse events are detected and what kind of value he returns. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_But with what you say_co_ I assume your delta is an absolute position_co_ and should be relative. Stock your previous value of delta and subtract it to the current one. (This difference is the length of the vector)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_But keep in mind your wheel is rotative that mean his value is contain beetween [ -lamba _co_ lamba] or [ 0 _co_ 2*lambda]._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_So you have to think about what happen when the wheel is near 0 or lambda._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I hope this explanation help you﻿._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dimitry","Date":"2015-05-21T14:04:50Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Ok will try this thank you!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dimitry","Date":"2015-05-21T14:12:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Well I am really sorry but can not understand what to do _dd_-( The code now is like this_co_ maybe you could tell where to put the old and new delta_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_ engine.runRenderLoop(function() {                    Scene.render()_sm_                   var elem _eq_ document.getElementById(_t_renderCanvas_t_)_sm_    if (elem.addEventListener) {      if (_t_onwheel_t_ in document) {              elem.addEventListener(_qt_wheel_qt__co_ onWheel)_sm_      } else if (_t_onmousewheel_t_ in document) {                elem.addEventListener(_qt_mousewheel_qt__co_ onWheel)_sm_      } else {                elem.addEventListener(_qt_MozMousePixelScroll_qt__co_ onWheel)_sm_      }    } else {       elem.attachEvent(_qt_onmousewheel_qt__co_ onWheel)_sm_    }    function onWheel(e) {      e _eq_ e || window.event_sm_      var delta _eq_ e.deltaY || e.detail || e.wheelDelta_sm_var length _eq_ delta/2000_sm_var DirX _eq_ Math.sin(camera.rotation.y)*Math.cos(camera.rotation.x)_sm_var DirY _eq_ -Math.sin(camera.rotation.x)_sm_var DirZ _eq_ Math.cos(camera.rotation.y)*Math.cos(camera.rotation.x)_sm_camera.cameraDirection _eq_ camera.cameraDirection.add(new BABYLON.Vector3(length*DirX_co_ length*DirY_co_ length*DirZ))_sm_      e.preventDefault ? e.preventDefault() _dd_ (e.returnValue _eq_ false)_sm_    }                })_sm_                    }_co_ function (progress) {        })_sm_&lt_sm_/script&gt_sm__lt_/pre_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-05-21T14:26:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_everything that must be updated (values_co_ etc) before each frame rendering is to be placed within _dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_scene.registerBeforeRender(function() {  // your stuff here})_sm__lt_/pre_gt__lt_p_gt_this could placed just before_lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_...return scene_sm__lt_/pre_gt__lt_p_gt_for instance_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_so your camera direction ..._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dimitry","Date":"2015-05-21T16:05:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hm wherever I try to put this_co_ the scene hangs  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ alt_eq__qt__dd_(_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_Could you please take a look at the code and maybe put it where it should be? Thanks!! _lt_a href_eq__qt_http_dd_//storage.googleapis.com/992various/3.rar%C2%A0_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//storage.googleapis.com/992various/3.rar _lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dimitry","Date":"2015-05-21T17:25:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Found it! Just took the length out of the delta function and it is ok now. _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//c2n.me/3i4lw4y.png_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//c2n.me/3i4lw4y.png_lt_/a_gt__lt_/p_gt__lt_p_gt_Thanks to everyone!!!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Buzul","Date":"2018-09-11T13:27:31Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello to everyone_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI use mouse wheel movements in my project. I started with the code here as a sample. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut I_t_m getting this message and it_t_s not working (Added non-passive event listener to a scroll-blocking _t_mousewheel_t_ event. Consider marking event handler as _t_passive_t_ to make the page more responsive.)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tHow i can fix this problem I used all my ideas..\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tany friend can show me way please? thank you...\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Buzul","Date":"2018-09-11T15:04:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_227760_qt_ data-ipsquote-contentid_eq__qt_14655_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1536672451_qt_ data-ipsquote-userid_eq__qt_31821_qt_ data-ipsquote-username_eq__qt_Buzul_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t1 hour ago_co_ Buzul said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tHello to everyone_sm_\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tI use mouse wheel movements in my project. I started with the code here as a sample. \n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tBut I_t_m getting this message and it_t_s not working (Added non-passive event listener to a scroll-blocking _t_mousewheel_t_ event. Consider marking event handler as _t_passive_t_ to make the page more responsive.)\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t \n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tHow i can fix this problem I used all my ideas..\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t \n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tany friend can show me way please? thank you...\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tHi again friends...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI fixed that problem.. But i want to make inverted this action. For example when i roll the wheel forward camera should go forward.. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn this case i_t_m working on it but still i need help _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"trevordev","Date":"2018-09-11T17:45:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/31821-buzul/?do_eq_hovercard_qt_ data-mentionid_eq__qt_31821_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/31821-buzul/_qt_ rel_eq__qt__qt__gt_@Buzul_lt_/a_gt_ you can try taking a look at this playground _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#W5QLCA_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#W5QLCA_lt_/a_gt_ is this what you are looking for? You can change direction by modifying -event.deltaY/100\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Buzul","Date":"2018-09-12T07:11:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_227813_qt_ data-ipsquote-contentid_eq__qt_14655_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1536687906_qt_ data-ipsquote-userid_eq__qt_29361_qt_ data-ipsquote-username_eq__qt_trevordev_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t13 hours ago_co_ trevordev said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/31821-buzul/?do_eq_hovercard_qt_ data-mentionid_eq__qt_31821_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/31821-buzul/_qt_ rel_eq__qt__qt__gt_@Buzul_lt_/a_gt_ you can try taking a look at this playground _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#W5QLCA_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#W5QLCA_lt_/a_gt_ is this what you are looking for? You can change direction by modifying -event.deltaY/100\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\t_lt_span_gt__lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/29361-trevordev/?do_eq_hovercard_qt_ data-mentionid_eq__qt_29361_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/29361-trevordev/_qt_ rel_eq__qt__qt__gt_@trevordev_lt_/a_gt__lt_/span_gt_ this is definitely what I_t_m looking for .. a shorter and understandable code  thank you!!!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]