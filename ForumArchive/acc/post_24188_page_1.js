[{"Owner":"Raggar","Date":"2016-07-31T23:48:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_m sure there_t_s a simple solution to this issue.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m trying to shoot a bullet from the turret of a tank_co_ in the direction that the turret is pointing.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI made this simple scene. to demonstrate what I mean_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#2IRUGC%232_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#2IRUGC#2_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAs you can see_co_ I created a very basic tank_co_ and placed a bullet (sphere) just behind the turret. In front of the turret is a Box mesh( bPoint1 ).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI was hoping I could somehow shoot the bullet in the direction of the bPoint_co_ in order for it to _qt_appear_qt_ to be shot from the turret.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI made the turret spin ever so slightly.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tHow should I approach this?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JohnK","Date":"2016-08-01T09:23:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tAssumption - the tank does not fire while the gun is rotating.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSomething along the following lines should work but you will probably need absolutePosition rather than position as parenting is involved.\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_bulletDirection _eq_ bpoint.position.subtract(sphere.position)_sm_\nbulletDirection.normalize()_sm_\nstartPosition _eq_ sphere.position_sm_\nt _eq_ 0_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tIn render loop\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_sphere.position _eq_ startPosition.add(bulletDirection.scale(t))_sm_\nt +_eq_ 0.1 //or some appropriate value_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t Hope this gives you help to proceed.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Raggar","Date":"2016-08-01T11:36:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHmm.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI tried implementing it_co_ but no matter what_co_ it only shoots in One direction.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe tank will be moving at all times_co_ so the direction has to be calculated dynamically.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"aWeirdo","Date":"2016-08-01T12:27:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/22713-raggar/?do_eq_hovercard_qt_ data-mentionid_eq__qt_22713_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/22713-raggar/_qt_ rel_eq__qt__qt__gt_@Raggar_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tcheck this out _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#2IRUGC%235_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#2IRUGC#5_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhat i did was_co_ i made an array where a new bullet gets added on every click_co_ the new bullets clone the rotation and position of the top of the tank and that is then used to calculate the direction and starting position._lt_br /_gt_\n\tIn the renderloop it then runs through the array and moves the bullets using the rotation.y as direction .  tried getting it to work with a registerBeforeRender but it kept erroring so i just threw it in the renderLoop instead..\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tthe bullet starting position needs a bit of tweaking though.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tand note that it doesn_t_t delete anything from the array_co_ so it just keeps building bigger and bigger and thus slower and slower with every click.. easy to fix with a lifetimer on each bullet as it is being made though just add another variable to the bullet creation_co_ could be something like _qt_ _lt_em_gt_bullets[bulletId].lifetimer _eq_ 1000_sm_ _qt__lt_/em_gt__co_ and on every renderloop run _qt_ _lt_em_gt_bullets_lt_em_gt_.lifetimer -_eq_ 1_sm_ _qt_ and a _qt_ if (bullets_lt_/em_gt__lt_/em_gt__lt_em_gt__lt_em_gt__lt_em_gt_.lifetimer &lt_sm_ 0) bullets_lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_em_gt__lt_em_gt__lt_em_gt__lt_em_gt_.dispose(true)_sm_ _qt_ or something like that. _lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_em_gt_\n_lt_/em_gt__lt_/p_gt_\n_lt_em_gt_\n\n_lt_/em_gt__lt_p_gt__lt_em_gt_\n\t_lt_/em_gt__lt_em_gt__lt_em_gt__lt_em_gt__lt_em_gt_oh_co_ and sorry i broke your pretty this. style _lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt__lt_em_gt__lt_em_gt__lt_em_gt__lt_em_gt_  _lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_em_gt_\n_lt_/em_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"V!nc3r","Date":"2016-08-01T13:25:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tMaybe it_t_s possible to use a physic engine ? I don_t_t know how it could be use in BJS_co_ but it seems (in my n00b-physic-opinion) that you_t_ll juste have to apply a force in the right direction and the physic engine do the ballistics. And maybe it_t_s possible to set the force-field child of the turret ?\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2016-08-01T14:22:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_138280_qt_ data-ipsquote-contentid_eq__qt_24188_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1470054429_qt_ data-ipsquote-userid_eq__qt_17943_qt_ data-ipsquote-username_eq__qt_aWeirdo_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t1 hour ago_co_ aWeirdo said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tthe bullet starting position needs a bit of tweaking though.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#2IRUGC%237_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#2IRUGC#7_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Raggar","Date":"2016-08-02T09:30:31Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tAwesome. Works like a charm. Thanks!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI just spent 3 hours implementing it into my own base-game_co_ and I get some weird results like wrong directions_co_ only 1 bullet_co_ and bullet travel only when clicking.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut these are my issues to figure out. _lt_img alt_eq__qt__dd_P_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_tongue.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/tongue@2x.png 2x_qt_ title_eq__qt__dd_P_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_138291_qt_ data-ipsquote-contentid_eq__qt_24188_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1470057907_qt_ data-ipsquote-userid_eq__qt_20526_qt_ data-ipsquote-username_eq__qt_V!nc3r_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t20 hours ago_co_ V!nc3r said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tMaybe it_t_s possible to use a physic engine ? I don_t_t know how it could be use in BJS_co_ but it seems (in my n00b-physic-opinion) that you_t_ll juste have to apply a force in the right direction and the physic engine do the ballistics. And maybe it_t_s possible to set the force-field child of the turret ?\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tI had this one bookmarked_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//jafty.com/3D/game/_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//jafty.com/3D/game/_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]