[{"Owner":"Snouto","Date":"2018-06-25T03:50:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYo 3D dudes and dudettes\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_ve just updated the Blender exporter and BJS to the latest versions as I was using some fairly old code. One of the first things I noticed was that my .babylon file has gone from 2.1mb down to 600kb_co_ which is awesome_co_ so bravo to you guys for that excellent piece of optimisation.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI also noticed through first observing and then from looking about the internets that the export option to make everything Flat has vanished. I confirmed this from a post by _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/?do_eq_hovercard_qt_ data-mentionid_eq__qt_8492_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/_qt_ rel_eq__qt__qt__gt_@JCPalmer_lt_/a_gt_ here \n_lt_/p_gt_\n_lt_iframe allowfullscreen_eq__qt__qt_ data-controller_eq__qt_core.front.core.autosizeiframe_qt_ data-embedcontent_eq__qt__qt_ data-embedid_eq__qt_embed5094721299_qt_ scrolling_eq__qt_no_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/topic/36452-why-babylonjs-smooth-automatically-my-mesh/?do_eq_embed_qt_ style_eq__qt_height_dd_219px_sm_max-width_dd_502px_sm__qt__gt__lt_/iframe_gt_\n\n_lt_p_gt_\n\tFor my project I still wish to maintain that flat look_co_ so I understand one way to do this is via BJS code using _lt_span_gt__lt_b_gt_Mesh.convertToFlatShadedMesh()_lt_/b_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt__lt_b_gt_I just wanted to ask if this is indeed the correct approach to reproduce the flat shading appearance from Blender? _lt_/b_gt_It does work for me (albeit I have to ensure the meshes I_t_m iterating through after load support mesh.subMeshes_co_ otherwise a JS error is thrown) but I_t_m not sure this is the most optimal way. I did try adjusting the angle of the _lt_/span_gt__lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_split edged modifier in Blender_lt_span_gt_ _lt_/span_gt__lt_/span_gt_but that didn_t_t appear to make the slightest bit of difference once I exported to BJS._lt_span_gt_ _lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf I stick with convertToFlatShadedMesh() when loading my scenes and objects am I incurring an additional performance hit over the old exporter approach of _qt_Flat shade entire scene_qt__co_ or are these two things essentially the same outcome just with the processing occurring in different places? If the latter_co_ how might I take care of that processing at the model level rather than the client browser?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCheers and keep up the excellent work!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-06-25T14:58:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_span_gt__lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/?do_eq_hovercard_qt_ data-mentionid_eq__qt_8492_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/_qt_ rel_eq__qt__qt__gt_@JCPalmer_lt_/a_gt__lt_/span_gt_ will know for sure _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt_true_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt__gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2018-06-25T17:48:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThe explicit flat shading by the exporter was retired in 5.6 in favor of placing an Edge Split modifier on the desired meshes_co_ as was said in the post you reference.  Did you leave the split angle at the default 30 degrees?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_18869_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_06/edgesplit.jpg.1f8d028f0fdd5783ba45914f62c81feb.jpg_qt_ alt_eq__qt_edgesplit.jpg.1f8d028f0fdd5783ba45914f62c81feb.jpg_qt_ /_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhat happens when you drop it down to 0? \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Snouto","Date":"2018-06-26T00:52:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_219425_qt_ data-ipsquote-contentid_eq__qt_38445_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1529948917_qt_ data-ipsquote-userid_eq__qt_8492_qt_ data-ipsquote-username_eq__qt_JCPalmer_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t7 hours ago_co_ JCPalmer said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tWhat happens when you drop it down to 0? \n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tSigh....I hate myself sometimes. Tried a bunch of angles _lt_em_gt_except_lt_/em_gt_ god-damn 0. Okay so that works on a couple of the meshes in my scene that need it. Here_t_s the thing though_co_ whereas before it was super convenient to be able to apply the flat mesh across the whole scene it seems now I have to choose individual meshes and set the EdgeSplit manually. If i was only doing this one time that would probably be fine but in my case I am receiving regular updates to the FBX model I_t_m importing and so every time I import a new FBX I_t_m going to have to manually go through every mesh and set the EdgeSplit again. This is less than optimal_co_ plus I_t_m really lazy.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSince there is also the script option I mentioned earlier_co_ if I were to simply use _lt_b style_eq__qt_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_Mesh.convertToFlatShadedMesh _lt_/b_gt_only and skip setting EdgeSplits across dozens of meshes in Blender_co_ am I going to experience a significant performance or quality drop/difference in the browser? I can accept a bit of a performance drop right at the start as my code iterates each mesh and fires that JS command_co_ but is there any knock-on effect to my scene after that process completes? Just asking so I understand my options.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCheers JCP.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t[edit] Another option springs to mind_co_ and that is to use a simple python script within Blender to auto add an EdgeSplit modifier to all meshes_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_import bpy\n\nfor obj in bpy.data.objects_dd_\n    if obj.type _eq__eq_ _qt_MESH_qt__dd_\n        edgeSplit _eq_ obj.modifiers.new(_qt_EdgeSplit_qt__co_ type _eq_ _qt_EDGE_SPLIT_qt_)\n        edgeSplit.split_angle _eq_ 0\n        bpy.context.scene.update()_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tI_t_d still like to reduce the amount of steps I need to take every time an FBX is imported so would appreciate some further information as asked above. Cheers _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t\t\t\n\n_lt_span class_eq__t_ipsType_reset ipsType_medium ipsType_light_t_ data-excludequote_gt_\n\t_lt_strong_gt_Edited _lt_time datetime_eq__t_2018-06-26T01_dd_35_dd_07Z_t_ title_eq__t_06/26/2018 01_dd_35  AM_t_ data-short_eq__t_Jun 26_t__gt_June 26_lt_/time_gt_ by Snouto_lt_/strong_gt_\n\t\n\t\t_lt_br_gt_Added a bit about Blender .py script\n\t\n\t\n_lt_/span_gt_\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2018-06-26T15:23:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tRelated to doing it in Javascript_co_ there is only the overhead during the conversion.  After that it is just another mesh.  It will have more vertices_co_ but that is what the exporter used to. \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/20526-vnc3r/?do_eq_hovercard_qt_ data-mentionid_eq__qt_20526_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/20526-vnc3r/_qt_ rel_eq__qt__qt__gt_@V!nc3r_lt_/a_gt__co_ didn_t_t you mention a way before to add this modifier on all meshes?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"V!nc3r","Date":"2018-06-26T15:44:38Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYep_dd_\n_lt_/p_gt_\n\n_lt_ul_gt_\n\t_lt_li_gt_\n\t\tput your Edge Split modifier on your active object\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\tselect all objects where you want to copy this modifier (by keeping your current object active)\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\tCtrl + L &gt_sm_ Modifiers (or 3DView &gt_sm_ Object &gt_sm_ Make Links)\n\t_lt_/li_gt_\n_lt_/ul_gt_\n\n_lt_p_gt_\n\tBy doing that_co_ note that all modifiers already assigned on selected objects are deleted (not applied)_co_ and replaced by the modifiers from the current active object.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTo avoid this you can tweak your script by checking if the modifier exist_co_ and if so modify its value_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_import bpy\n\nfor obj in bpy.data.objects_dd_\n    if obj.type _eq__eq_ _qt_MESH_qt__dd_ \n        bpy.context.scene.objects.active _eq_ obj\n        edgeSplit _eq_ None\n        if obj.modifiers.get(_qt_EdgeSplit_qt_)_dd_\n            edgeSplit _eq_ obj.modifiers.get(_qt_EdgeSplit_qt_)\n        else_dd_\n            edgeSplit _eq_ obj.modifiers.new(_qt_EdgeSplit_qt__co_ type _eq_ _qt_EDGE_SPLIT_qt_)\n        edgeSplit.split_angle _eq_ 0\n        bpy.context.scene.update()_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Snouto","Date":"2018-06-27T09:07:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks for the information chaps_co_ very helpful _lt_span class_eq__qt_ipsEmoji_qt__gt_👍🏻_lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]