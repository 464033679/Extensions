[{"Owner":"Thark","Date":"2017-09-10T13:54:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_m stuck with loading my meshes. I_t_m new to all the 3D and modelling so any thoughts are highly appreciated.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBasically I want to extends Babylons default Mesh class called BaseMesh and add a _t_load_t_ function to it to get rid of clutter in my scene code. I_t_m extending this BaseMesh class for each model I have.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_font-size_dd_14px_sm__qt__gt_My _lt_strong_gt_BaseMesh_lt_/strong_gt_ class_dd_ _lt_/span_gt__lt_span style_eq__qt_font-size_dd_10px_sm__qt__gt_(Note that all code examples are written in TypeScript)_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_// BaseMesh.ts\nclass BaseMesh /* extends BABLYON.Mesh */ {\n    public readonly BASE_URL_dd_ string_sm_ // I want these to be static\n    public readonly MODEL_URL_dd_ string_sm_ // I want these to be static\n    public readonly NAME_dd_ string_sm_ // I want these to be static\n\n    public body_sm_\n\n/*\tconstructor( scene ) {\n\t\t// I don_t_t know what to do here\n\t\tsuper(\n\t\t\tthis.NAME //name\n\t\t\tscene // scene\n\t\t\tnull // parent\n\t\t\t? // source\n\t\t)_sm_\n\t}\n*/\n\tpublic load( assetsManager_dd_ BABYLON.AssetsManager ) {\n\t\treturn assetsManager.addMeshTask(\n\t\t\tthis.NAME + _t_ task_t__co_ // name\n\t\t\t_qt__qt__co_\n\t\t\tthis.BASE_URL_co_\n\t\t\tthis.MODEL_URL\n\t\t)_sm_\n\t}\n\n\tpublic onLoaded( results ) {\n\t\t// I don_t_t know what to do here\n\t\tthis.body _eq_ results.loadedMeshes[0]_sm_\n\t}\n\n    public update()_dd_ void {}\n}_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tA model class would looks like this_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_// Robot.ts\nclass Robot extends BaseMesh {\n    public readonly BASE_URL_dd_ string _eq_ _t_/models/_t__sm_\n    public readonly MODEL_URL_dd_ string _eq_ _t_robot.babylon_t__sm_\n    public readonly NAME_dd_ string _eq_ _t_robotMesh_t__sm_\n\n    public update()_dd_ void {\n        this.body.rotation.y +_eq_ 0.03_sm_\n    }\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tIn my code above I store the loadedMesh from the AssetsManager into _lt_strong_gt_this.body_lt_/strong_gt_. But here is _lt_u_gt_question 1_lt_/u_gt__dd_ why is my model already showing on the scene when the meshtask has run? I_t_m only loading a mesh_co_ I_t_ve not put anything about putting it on the scene.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_u_gt_Question 2_lt_/u_gt__dd_ How do I extend my BaseMesh class from BABLYON.Mesh so that the result (loadedMeshes) of my load function is _qt_the mesh itself_qt_ (instead of an attribute this.body). For example this would mean I could change my update function to _t_this.rotation.y +_eq_ 0.03_sm__t_ and just generally makes more sense._lt_br /_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_u_gt_Question 3_lt_/u_gt__dd_ I_t_m really confused about the relationship between my _qt_code_qt_ and my _qt_model/.babylon files_qt_. Is there any good documentation/tutorials about this? _lt_br /_gt_\n\tThese questions range from_dd__lt_br /_gt_\n\t- when is it healthy to split different parts of a model in different files_lt_br /_gt_\n\t- do I apply textures in my code or do I do that in my .babylon file_lt_br /_gt_\n\t- do I apply animations in my blender file or do I code them_lt_br /_gt_\n\t- ...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis was a pain to type_co_ if you have any questions please do ask _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tThank you in advance!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2017-09-10T14:37:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThis doesn_t_t answer your questions_co_ but is the Robot really a Mesh?  I_t_d make the mesh a member variable in the robot class and then extend the robot from something like a GameObject or GameEntity class. \n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Thark","Date":"2017-09-10T15:39:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_188348_qt_ data-ipsquote-contentid_eq__qt_32843_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1505054225_qt_ data-ipsquote-userid_eq__qt_4289_qt_ data-ipsquote-username_eq__qt_adam_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t55 minutes ago_co_ adam said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tThis doesn_t_t answer your questions_co_ but is the Robot really a Mesh?  I_t_d make the mesh a member variable in the robot class and then extend the robot from something like a GameObject or GameEntity class. \n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tI see what you_t_re going with but _qt_Robot_qt_ is just an example here. Calling it RobotMesh would_t_ve maybe been better to make my point. \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2017-09-10T17:14:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThis thread might be helpful_dd_\n_lt_/p_gt_\n_lt_iframe allowfullscreen_eq__qt__qt_ data-controller_eq__qt_core.front.core.autosizeiframe_qt_ data-embedcontent_eq__qt__qt_ data-embedid_eq__qt_embed535631151_qt_ scrolling_eq__qt_no_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/topic/32480-loading-asynchronous-objects-into-array-for-later-use/?page_eq_4&amp_sm_tab_eq_comments&amp_sm_do_eq_embed&amp_sm_comment_eq_187590&amp_sm_embedComment_eq_187590&amp_sm_embedDo_eq_findComment#comment-187590_qt_ style_eq__qt_height_dd_268px_sm_max-width_dd_502px_sm__qt__gt__lt_/iframe_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Thark","Date":"2017-09-10T19:00:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_188357_qt_ data-ipsquote-contentid_eq__qt_32843_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1505063654_qt_ data-ipsquote-userid_eq__qt_4289_qt_ data-ipsquote-username_eq__qt_adam_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t1 hour ago_co_ adam said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tThis thread might be helpful_dd_\n\t\t_lt_/p_gt_\n\t\t_lt_iframe allowfullscreen_eq__qt__qt_ data-controller_eq__qt_core.front.core.autosizeiframe_qt_ data-embedcontent_eq__qt__qt_ data-embedid_eq__qt_embed9631902160_qt_ scrolling_eq__qt_no_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/topic/32480-loading-asynchronous-objects-into-array-for-later-use/?page_eq_4&amp_sm_tab_eq_comments&amp_sm_do_eq_embed&amp_sm_comment_eq_187590&amp_sm_embedComment_eq_187590&amp_sm_embedDo_eq_findComment#comment-187590_qt_ style_eq__qt_height_dd_247px_sm_max-width_dd_502px_sm__qt__gt__lt_/iframe_gt_\n\n\t\t_lt_p_gt_\n\t\t\t \n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tThanks for the reply _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4289_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/_qt_ rel_eq__qt__qt__gt_@adam_lt_/a_gt_! That does kind of answers question 1. I could use isVisible _eq_ false to hide the mesh when loaded.\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_\tpublic onLoaded( results ) {\n\t\tthis.body _eq_ results.loadedMeshes[0]_sm_\n\t\tthis.body.isVisible _eq_ false_sm_\n\t}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tBut that_t_s still very strange and inconsistent behaviour._lt_br /_gt_\n\tI_t_m expecting my vertices_co_ shapes_co_ ... and all that to be returned and not an actual instance of a mesh. It doesn_t_t do that for any other tasks (like loading a sprite).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDoes this also not affect performance? If I load in a bunch of meshes this way_co_ but 90% of them are _t_invisible_t_ would I get the same performance as if I only load the 10% that are visible?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tQuestions 2 and 3 are also still bugging me out.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JohnK","Date":"2017-09-10T20:23:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_188358_qt_ data-ipsquote-contentid_eq__qt_32843_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1505070020_qt_ data-ipsquote-userid_eq__qt_28392_qt_ data-ipsquote-username_eq__qt_Thark_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t1 hour ago_co_ Thark said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tDoes this also not affect performance? If I load in a bunch of meshes this way_co_ but 90% of them are _t_invisible_t_ would I get the same performance as if I only load the 10% that are visible?\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tUse mesh.setEnabled(false) will keep a mesh available but ignored by engine so no performance issues. Replace false by true to use again.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Thark","Date":"2017-09-11T12:58:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_188360_qt_ data-ipsquote-contentid_eq__qt_32843_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1505075025_qt_ data-ipsquote-userid_eq__qt_14282_qt_ data-ipsquote-username_eq__qt_JohnK_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t16 hours ago_co_ JohnK said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tUse mesh.setEnabled(false) will keep a mesh available but ignored by engine so no performance issues. Replace false by true to use again.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tThank you! That completely solves question 1! _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2017-09-11T13:22:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am glad you have question 1 resolved _dd_-) Let me try answering 2 and 3 (and then_co_ maybe_co_ change 1 as well).\n_lt_/p_gt_\n\n_lt_p_gt_\n\t2) This would require a bit of object casting or a bit of code rewrite. The Babylon loader load BABYLON.Mesh objects. You cannot define what class will be returned_co_ it is set in the code. We can discuss (gladly) whether or not generics fit here_co_ but for now we accept it here as a fact - using the default loader won_t_t get you to where you want to be. So_co_ what can be done?\n_lt_/p_gt_\n\n_lt_ul_gt__lt_li_gt_\n\t\tThe first thing you can do is use the loader (not inside your class_co_ but externally) and cast the object return to your own class. This will require a bit of typescript patience_co_ but since typescript is only type-safe at compile time_co_ it will work for sure. \n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\tThe second thing you can do is extend the default babylon loaded and force it to return your own class instead of BABYLON.Mesh. \n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\tThe third (and IMHO the most recommended) - make BABYLON.Mesh a member of your Object-Class. Leave Babylon _qt_alone_qt__co_ and use babylon_t_s classes internally in your application. I think _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4289_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/_qt_ rel_eq__qt__qt__gt_@adam_lt_/a_gt__t_s question is rather legitimate - is _qt_Robot_qt_ really a mesh? or is it an object with functionality_co_ that has a mesh (or 2 or N) attached to it?\n\t_lt_/li_gt_\n_lt_/ul_gt__lt_p_gt_\n\t3) A .babylon file is a collection of serialized Babylon nodes (lights_co_ cameras_co_ meshes) and a few other properties that can be set at the scene level. A .babylon file is usually used to define an entire scene. However_co_ you can use it as a mesh-serializing object. Meaning - a .babylon file is actually a serialized mesh that can be loaded once again using the Babylon loader. A mesh can also be exported back to a .babylon file.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe relationship is actually set using the babylon loader. So if you extend it or change it (don_t_t forget to load it correctly)_co_ you can change the relationship between the two.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Thark","Date":"2017-09-12T12:50:04Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_188429_qt_ data-ipsquote-contentid_eq__qt_32843_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1505136168_qt_ data-ipsquote-userid_eq__qt_10310_qt_ data-ipsquote-username_eq__qt_RaananW_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t21 hours ago_co_ RaananW said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\t3) A .babylon file is a collection of serialized Babylon nodes (lights_co_ cameras_co_ meshes) and a few other properties that can be set at the scene level. A .babylon file is usually used to define an entire scene. However_co_ you can use it as a mesh-serializing object. Meaning - a .babylon file is actually a serialized mesh that can be loaded once again using the Babylon loader. A mesh can also be exported back to a .babylon file.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tThis is not completely clear to me. My .babylon files are just meshes I created in blender_co_ I didn_t_t think this was for _qt_complete_qt_ scenes. What is used to just import a mesh/model? Do I make make all my meshes in 1 blender project that I then export to a .babylonjs file?_lt_br /_gt_\n\tI thought each mesh/model had its own blender project that was then exported and imported through the AssetsManager in my scene code.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m like really confused now about all of this and how I should do it _lt_img alt_eq__qt__dd_huh_dd__qt_ data-emoticon_eq__qt__qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_huh.png_qt_ title_eq__qt__dd_huh_dd__qt_ /_gt_ haha_lt_br /_gt_\n\tWhat is considered best practice?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2017-09-12T12:54:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tA .babylon file is actually a definition of an entire scene. You CAN use it as a serialization object ob single meshes and load them async / independently .\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt is up to you - it depends on the connection between the meshes_co_ and if you want to set the lights / camera / physics using a json file or using code.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAbout loading it - each file loader is registered using the SceneLoader . the default extension (.babylon) is registered automatically. If you wanta .json loader with the same structure of the .babylon file_co_ you need to simply register it the way I showed you.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]