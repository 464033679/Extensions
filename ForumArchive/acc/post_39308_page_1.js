[{"Owner":"vudugun","Date":"2018-08-07T11:53:46Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello all_co__lt_br /_gt_\n\t  I am chaining movement animations for a tile-based game but I am getting some annoying jitter between the steps_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#GR24M2_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//playground.babylonjs.com/#GR24M2_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe red ball is like my current code_dd_ start animation1_co_ _qt_wait_qt_ for onFinished() and then start animation2 (in the game_co_ animation2_lt_br /_gt_\n\tis started only if arrow key is still down)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhat can I do to improve this?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAlso_co_ a weird thing I noticed_dd_ when I enable both red and blue_co_ frequently blue jitters while red goes smooth.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"brianzinn","Date":"2018-08-07T15:01:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI would say that follows the docs_dd_ _lt_a href_eq__qt_https_dd_//doc.babylonjs.com/how_to/combine#begindirectanimation-and-parameters_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//doc.babylonjs.com/how_to/combine#begindirectanimation-and-parameters_lt_/a_gt_ (_qt_In order to have one animation follow another_qt_). I tried with beginDirectAnimation_co_ but saw the glitch as well - same with .asyncWait().then(() _eq_&gt_sm_ ...).  I think with the async nature you are skipping a few frames.\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_scene.beginDirectAnimation(sphere_co_ [createAnim(kf1_co_ kf2_co_ x1_co_ x2)]_co_ x1_co_ x2_co_ false_co_ 1_co_ () _eq_&gt_sm_ {\n   scene.beginDirectAnimation(sphere_co_ [createAnim(kf1_co_ kf2_co_ x2_co_ x3)])\n})_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tIf you know what you are doing all ahead of time then you can also sequence all the animations together - the demo is like a movie. Are you able to do this?_lt_br /_gt_\n\t_lt_a href_eq__qt_https_dd_//doc.babylonjs.com/how_to/sequence_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//doc.babylonjs.com/how_to/sequence_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tedit_dd_ it looks like you are playing position kf2 in both animations_co_ so the _qt_glitch_qt_ is more pronounced or is perhaps the cause.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"vudugun","Date":"2018-08-07T18:16:52Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_224355_qt_ data-ipsquote-contentid_eq__qt_39308_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1533654076_qt_ data-ipsquote-userid_eq__qt_25365_qt_ data-ipsquote-username_eq__qt_brianzinn_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t2 hours ago_co_ brianzinn said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\t_lt_code_gt_I_lt_/code_gt_f you know what you are doing all ahead of time then you can also sequence all the animations together - the demo is like a movie. Are you able to do this?_lt_span_gt_﻿_lt_/span_gt__lt_br /_gt_\n\t\t\t_lt_a href_eq__qt_https_dd_//doc.babylonjs.com/how_to/sequence_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//doc.babylonjs.com/how_to/sequence_lt_/a_gt_\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tUnfortunately_co_ I am playing the second animation when the first one is finished AND the user is still pressing the arrow key_co_ so it_t_s a kind of last-minute decision.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n\t_lt_/p_gt_\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt__gt_\n\t\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t\t2 hours ago_co_ brianzinn said_dd_\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t\t_lt_p_gt_\n\t\t\t\tedit_dd_ it looks like you are playing position kf2 in both animations_co_ so the _qt_glitch_qt_ is more pronounced or is perhaps the cause.\n\t\t\t_lt_/p_gt_\n\t\t_lt_/div_gt_\n\t_lt_/blockquote_gt_\n\n\n_lt_p_gt_\n\tAs I understand it_co_ playing kf2 twice sets the position twice within the same frame_co_ but no further delay is expected. Of course Babylon is spending some time to start the new animation_co_ but I am getting stable 60fps during the whole animation and it does not look like Babylon is trailing behind.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2018-08-07T18:46:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI had the same thing in my animation extension until recently.  I mention this in case it might be helpful here.  I was stringing together 15 short duration morph targets synced with sound (talking).  It was acceptable when I ran in a live scene.  On the final frame of an animation_co_ the next morph target was submitted.  That was correct_co_ but the first frame of the next animation _qt_reset the clock to zero_qt__co_ so 0 percent of the next animation was performed the first frame.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis results in 2 frames with the exact same results.  The sound kept on going_co_ of course_co_ so I was getting out of sync 1000/60 (16.6 millis) every animation_co_ or a quarter second by the end.  It still looked in sync though.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhen I started producing 24 fps videos_co_ that meant I out of sync 1000/24 (41.6 millis) every frame_co_ or .625 seconds.  Not near close enough. I have an old shoot where this is a result_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_/p_gt_\n_lt_video class_eq__qt_ipsEmbeddedVideo_qt_ controls_eq__qt__qt_ data-controller_eq__qt_core.global.core.embeddedvideo_qt__gt_\n\t\t_lt_source src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_08/24_lagging-vp9.webm.9976e60149b32baf5bbb3322a9fc90d3.webm_qt_ type_eq__qt_video/webm_qt__gt__lt_a class_eq__qt_ipsAttachLink_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/applications/core/interface/file/attachment.php?id_eq_19524_qt_ data-fileid_eq__qt_19524_qt_ rel_eq__qt__qt__gt_24_lagging-vp9.webm_lt_/a_gt_\n\t_lt_/source_gt__lt_/video_gt_\n\n\n_lt_p_gt_\n\tI am not familiar with waitAsync_co_ but this _qt_looks_qt_ exactly like duplicate frame issue.  I fixed my problem by adding on one frames worth of time into the calculation of how much to animate.  I also edited my code_co_ putting in console.logs every frame with the value of the property to prove that was the problem. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt sounds like a real pain to have to do edit BJS for logging.  Being sneaky_co_ maybe you sine based_co_ IN &amp_sm_ OUT easing for both animations.  I never used easing (stole it though)_co_  if eased on both sides_co_ then it will not be moving very fast at the beginning or end of an animation_co_ so it will look less noticeable.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"brianzinn","Date":"2018-08-07T19:04:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_224382_qt_ data-ipsquote-contentid_eq__qt_39308_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1533665812_qt_ data-ipsquote-userid_eq__qt_32415_qt_ data-ipsquote-username_eq__qt_vudugun_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t49 minutes ago_co_ vudugun said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tand it does not look like Babylon is trailing behind.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tI don_t_t think it_t_s trailing behind either.  What I_t_m saying is that you need to advance the 2nd animation to give the appearance of smoothness.  Like this_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_sphere.animations _eq_ [ createAnim(kf1_co_ kf2_co_ x2 + ((x3-x2)/engine.getFps())_co_ x3) ]_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#GR24M2%232_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//playground.babylonjs.com/#GR24M2#2_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"vudugun","Date":"2018-08-07T19:27:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThat_t_s a big improvement_co_ thank you!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSome weird things still happen when you add the blue ball_co_ but I have only one _qt_ball_qt_ in the game_co_ so I am going with this _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]