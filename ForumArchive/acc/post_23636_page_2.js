[{"Owner":"iiceman","Date":"2016-07-18T15:23:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tWell_co_ if you click and things are moving something might move into your path after clicking... so just checking when clicking doesn_t_t seem enough. But maybe you can slip thing sup. First scan the static terrain_co_ build a matrix and keep that. And for the moving objects just keep track of them as they move and update your matrix according to their movements.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Uniform","Date":"2016-07-19T00:51:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_136533_qt_ data-ipsquote-contentid_eq__qt_23636_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1468855405_qt_ data-ipsquote-userid_eq__qt_12304_qt_ data-ipsquote-username_eq__qt_iiceman_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t9 hours ago_co_ iiceman said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tWell_co_ if you click and things are moving something might move into your path after clicking... so just checking when clicking doesn_t_t seem enough. But maybe you can slip thing sup. First scan the static terrain_co_ build a matrix and keep that. And for the moving objects just keep track of them as they move and update your matrix according to their movements.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tYep well If I knew a way to track the movements on the matrix it would be nice.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tUnfortunately for now this is the only way I can do that. Passing an object through all the terrain and mapping the collisions inside a matrix..\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHowever you are right and that objects might come into my path so I would probably need to scan the terrain every frame_co_ or every 2 frames. I don_t_t think that it will be that big of an issue. And if it is I can just create 4-5 abstract counters that will map the terrain into the matrix in an asynchronous way. \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo if someone knows how to do it it would be nice (What is the most effective way?). Manipulating the matrix directly based on every object_t_s movements will be a lot of work on the cpu I think. Especially when the result of terrain mapping can be used for a lot of objects in the same time.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo I will probably implement a constant terrain mapping.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tWould be great to hear from people familiar with pathfinding!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"iiceman","Date":"2016-07-19T08:42:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI thought about something like that_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#Z3UOX%2315_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#Z3UOX#15_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf you have a normal grid you can just round the values and calculate the position of an object on your grid. But still_co_ I have no idea if that_t_s a good solution or not _lt_img alt_eq__qt__dd_P_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_tongue.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/tongue@2x.png 2x_qt_ title_eq__qt__dd_P_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2016-07-19T11:26:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/12304-iiceman/?do_eq_hovercard_qt_ data-mentionid_eq__qt_12304_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/12304-iiceman/_qt_ rel_eq__qt__qt__gt_@iiceman_lt_/a_gt_ that is how I would do it. \n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Uniform","Date":"2016-07-19T12:48:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_136653_qt_ data-ipsquote-contentid_eq__qt_23636_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1468917753_qt_ data-ipsquote-userid_eq__qt_12304_qt_ data-ipsquote-username_eq__qt_iiceman_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t4 hours ago_co_ iiceman said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tI tohught about something like that_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#Z3UOX%2315_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#Z3UOX#15_lt_/a_gt_\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tIf you have a normal gid you can just round the values and calculate the position of an object on your grid. But still_co_ I have no idea if that_t_s a good solution or not _lt_img alt_eq__qt__dd_P_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_tongue.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/tongue@2x.png 2x_qt_ title_eq__qt__dd_P_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tIf I am not mistaken this simply creates another mesh at the pointer_t_s position. However it doesn_t_t really change from what I have already. I mean imagine if you have 5 enemies and a player. That means that the game will need to constantly track their movements and map not simply a point in the matrix but 2d plane the base of the box to the matrix and also update the matrix when the mesh is moving.  \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI think that if you have very few meshes that move your algo is more effective but if you have more mine is more effective because the Big O is the same and not depending on the amount of meshes_co_ I run though the matrix anyway. And with 10 abstract objects instead of 1 it will be quicker I think. (or 30 objects that which will basically map a line each).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe issue I see with your algo is that you will have to somehow transport your point in space to a 2d plane in the matrix. However it can simply be set with a simple rounding and fulfill coordinates in a certain range from the center of the mesh algo.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnyway thanks. I will try to deal with my stuff because It is more logical for me_co_ If I have performance issues I will try your way of dynamically morph the matrix (which means that you also need to put 0 when the mesh exits a said position). I understrand that for a game like DOTA_co_ with a big terrain that_t_s probably the way to do it but I have a small terrain_co_ more like an arena.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnyway thanks a lot_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tUniform\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"iiceman","Date":"2016-07-19T13:26:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tSure_co_ no problem. Good luck and let us know how it goes. Would be interesting to run some tests and see what method is better performance wise. I am still rooting for my approach since I believe you actually don_t_t need an extra mesh_co_ just the coordinates. If I have some free time and mood I might give it a try. What matrix size should I use and how many moving objects are to be expected?\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Uniform","Date":"2016-07-19T14:46:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_136708_qt_ data-ipsquote-contentid_eq__qt_23636_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1468934771_qt_ data-ipsquote-userid_eq__qt_12304_qt_ data-ipsquote-username_eq__qt_iiceman_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t1 hour ago_co_ iiceman said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tSure_co_ no problem. Good luck and let us know how it goes. Would be interesting to run some tests and see what method is better performance wise. I am still rooting for my approach since I believe you actually don_t_t need an extra mesh_co_ just the coordinates. If I have some free time and mood I might give it a try. What matrix size should I use and how many moving objects are to be expected?\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tBasically a player and 5 enemies. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am using Abstract mesh class instead of mesh class for the mapping counter. I know it_t_s not rendered but I don_t_t know if there is a big difference in performance.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe ground is 15 by 15. And the pointer abstract mesh that maps the terrain to matrix depending of the objects on the ground uses an incrementation variable of 0.5. That means it moves 0_co_5 on the x axis_co_ checks if collision or not and moves further. When reached the end of the x axis it increments the z value by 0.5 and reinitializes the x axis value and continues to move and check the collisions.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tA smaller incrementation variable value will lead to a bigger matrix_co_ Obviously to avoid a biiiig but precise matrix it_t_s better to add a bounding box bigger than the mesh itself to the pointer if you use a mesh to map the terrain or to any movable object.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo ground 15x15_co_ matrix 30x30 because calculated with incrementations of 0.5.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMoving object_dd_ player + 5 enemies (static to begin with).\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tSomethimes the player goes through the sides of other object_t_s boudning boxes. I though I will fix this by adding a second mesh that acts like a bounding box and more effectively add some scale to the pointer that maps the terrain to matrix but apparently it doesn_t_t work very well so.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe workaround is probably a bigger matrix for more precision or a custom algo. However it_t_s not big of a deal for the moment because my meshes will be characters and not boxes.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tSorry for the typos_co_ got my first blank Das Keyboard today _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Uniform","Date":"2016-07-20T00:48:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/12304-iiceman/?do_eq_hovercard_qt_ data-mentionid_eq__qt_12304_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/12304-iiceman/_qt_ rel_eq__qt__qt__gt_@iiceman_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tA litte update.  I have done some profiling and it appears that running the mapping loop everyframe gives_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- 151ms in total  with a 15x15 terrain and 0.5 increments. (no lag signs)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- 670ms in total with a 30x30 terrain and 0.5 increments (no lag signs)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- 850ms in total with 15x15 terrain and 0.25 increments (no lag signs)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- 2k ms in total with a 30x30  terrain and 0.25 increments (some lags when a lot of mouse clicks)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tLater I will try with _qt_multithreading_qt_ increments. If I can_t_t get something down to 151ms with 30x30 terrain and 0.25 increments I am gonna write something close to what you advised.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Uniform","Date":"2016-07-22T01:39:47Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tUpdate_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tImplemented the _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/12304-iiceman/?do_eq_hovercard_qt_ data-mentionid_eq__qt_12304_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/12304-iiceman/_qt_ rel_eq__qt__qt__gt_@iiceman_lt_/a_gt_ way. Great performance_co_ less than 40 ms lag with a 30x30 terrain and precision x4 (0.25 incrementations). \n_lt_/p_gt_\n\n_lt_p_gt_\n\tHacked a bit the Mesh class to store coordinates I will need to wipe out from the matrix as soon as the Mesh has moved.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe link is here_dd_ _lt_a href_eq__qt_http_dd_//linguist-rodney-20561.bitballoon.com/_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//linguist-rodney-20561.bitballoon.com/_lt_/a_gt_ (check console)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tJust wanted to ask if there is an easy method to detect a mesh_t_s corners because I am using my code for the moment_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_function generateFootprint(object){\n    var width _eq_ object.scaling.x_sm_\n    var depth _eq_ object.scaling.z_sm_\n    var height _eq_ 0.1_sm_\n    var leftUp _eq_ new BABYLON.Vector3(\n        object.position.x-width/2_co_\n        height_co_\n        object.position.z+depth/2\n    )_sm_\n    var rightUp _eq_ new BABYLON.Vector3(\n        object.position.x + width/2_co_\n        height_co_\n        object.position.z + depth/2\n    )_sm_\n    var botLeft _eq_ new BABYLON.Vector3(\n        object.position.x - width/2_co_\n        height_co_\n        object.position.z - depth/2\n    )_sm_\n    var botRight _eq_ new BABYLON.Vector3(\n        object.position.x + width/2_co_\n        height_co_\n        object.position.z - depth/2\n    )_sm_\n\n    object.corners _eq_ [leftUp_co_ rightUp_co_ botLeft_co_ botRight]_sm_\n    //console.log(object.corners)_sm_\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"iiceman","Date":"2016-07-22T11:39:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSweet! I started playing around yesterday a bit but didn_t_t have enough time to finish it. Glad to hear that it seems to work for you! Can_t_t wait for the first playable version _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tAbout the corner positions_dd_ you can check if AbstractMesh_dd__dd_getBoundingInfo() helps you - _lt_a href_eq__qt_https_dd_//doc.babylonjs.com/classes/2.4/AbstractMesh#getboundinginfo-rarr-boundinginfo-classes-2-4-boundinginfo-_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//doc.babylonjs.com/classes/2.4/AbstractMesh#getboundinginfo-rarr-boundinginfo-classes-2-4-boundinginfo-_lt_/a_gt_ - it contains quite some information about the different corners.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]