[{"Owner":"saltemishel","Date":"2016-08-26T10:50:18Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tHas anyone experience the following weird falling pattern using oimo engine? Also_co_ is there a way to make the imposter to ignore the gravity other than setting the mass to 0?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tthis is when the pivot is right in the center_co_ it_t_s not falling smoothly instead it_t_s falling like a staircase.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.dropbox.com/s/e07n9vx5ytcrtn5/centerpivot.mov?dl_eq_0_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.dropbox.com/s/e07n9vx5ytcrtn5/centerpivot.mov?dl_eq_0_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tand when I offset the pivot_co_ it_t_ll make a flip before falling down_co_ and some times it just snap to the side for around 3-5 times before it starts to flip to drop down\n_lt_/p_gt_\n\n_lt_p_gt_\n\tthis.mesh.setPivotMatrix(BABYLON.Matrix.Translation(this.width*0.5_co_ 0_co_ this.depth*0.5))_sm_           \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.dropbox.com/s/odb4r9vks5a5j5v/pivotoffseted.mov?dl_eq_0_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.dropbox.com/s/odb4r9vks5a5j5v/pivotoffseted.mov?dl_eq_0_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tthe only physics codes that I_t_m using is as below_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tthis.scene.enablePhysics(new BABYLON.Vector3(0_co_ -0.1_co_ 0)_co_ new BABYLON.OimoJSPlugin())_sm__lt_br /_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tthis.body _eq_ new BABYLON.PhysicsImpostor(this.mesh_co_ BABYLON.PhysicsImpostor.BoxImpostor_co_ {mass_dd_0_co_ friction_dd_0.5_co_restitution_dd_0}_co_ this.main.scene)_sm__lt_br /_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tbefore clicking I use this code to move the box.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tthis.mesh.position[this.moveAxis]+_eq_this.speed_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tafter clicking I stop moving the mesh and use the following code to set the mass after clicking to make it fall\n_lt_/p_gt_\n\n_lt_p_gt_\n\tthis.body.setMass(0.1)_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nabroski","Date":"2016-08-26T11:13:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tSeems something wrong with your BoundingBox _qt_info_qt__co_ its pretty straight forward a Box against Box_co_ nothing exiting here_co_ what leads to strange behaviors_lt_br /_gt__lt_br /_gt__lt_a href_eq__qt_https_dd_//doc.babylonjs.com/overviews/Using_The_Physics_Engine_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//doc.babylonjs.com/overviews/Using_The_Physics_Engine_lt_/a_gt__lt_br /_gt__lt_br /_gt_\n\tIf your models exported through a 3 Modeling Programs_co_ make sure you apply Scale_co_ Rotation._lt_br /_gt__lt_br /_gt_\n\tYou can also easy recompute the BoundingBox shrink it down etc.It dont even has to be a box._lt_br /_gt__lt_br /_gt_\n\t Here in this forum_co_ are already good examples of that. _lt_br /_gt__lt_br /_gt_\n\tMaybe also you found a serious bug_co_ please share those 2 Models with your Scene in a playground! (Search this forum for how to)_lt_br /_gt__lt_br /_gt_\n\t \n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"saltemishel","Date":"2016-08-29T14:41:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#BEFOO%2335_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#BEFOO#35_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/21965-nabroski/?do_eq_hovercard_qt_ data-mentionid_eq__qt_21965_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/21965-nabroski/_qt_ rel_eq__qt__qt__gt_@Nabroski_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOk I got a simple playground up. it seems that the _lt_span style_eq__qt_color_dd_rgb(39_co_42_co_52)_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_line-height_dd_22.4px_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_float_dd_none_sm_background-color_dd_rgb(255_co_255_co_255)_sm__qt__gt_.setPivotMatrix_lt_/span_gt_  is the one that_t_s casing the weird looking behavior. how do I see the correct bounding box and adjust it according to the pivotmatrix?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-08-29T16:09:03Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tPinging _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/10310-raananw/?do_eq_hovercard_qt_ data-mentionid_eq__qt_10310_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/10310-raananw/_qt_ rel_eq__qt__qt__gt_@RaananW_lt_/a_gt_\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-08-30T01:49:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  Delegation time limit exceeded.  Delegation fails.  4th-string crew attempts assistance...\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#BEFOO%2338_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#BEFOO#38_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI don_t_t know if this helps.  I changed box2 location slightly... with NO pivot point change.  (NOP-out line 25 to see that).  Without line 25_co_ box2 stays on that corner about the right amount of time_co_ then falls.  Seems normal. \n_lt_/p_gt_\n\n_lt_p_gt_\n\t(Re-)Activate line 25... moves the pivot point forward and left a tiny amount... and box2 stays balanced much better.  Seems normal.  Pivot point _eq_ center of gravity.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI think Oimo has an issue with _lt_em_gt_body.allowSleep_lt_/em_gt_ (to avoid _qt_Brownian jitter_qt_).  That jitter causes box2 to eventually fall.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAside_dd_  Is _qt_pimp_qt_ a good abbreviation for physicsImpostor?  _lt_img alt_eq__qt__dd_o_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_ohmy.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/ohmy@2x.png 2x_qt_ title_eq__qt__dd_o_qt_ width_eq__qt_20_qt_ /_gt__lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"saltemishel","Date":"2016-09-01T03:03:38Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHmm.. but think the bounding box is still inaccurate right? as the box and go through the floor_co_ is there anyway that I can see the imposter bounding box_co_ and adjust the imposter position according to the matrix?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#BEFOO%2339_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#BEFOO#39_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-09-01T11:58:52Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYes_co_ the setPivotMatrix is causing problems with the physics impostor.  There_t_s no way that I know-of... to view the impostor.  I tried a _lt_em_gt_box2.refreshBoundingInfo() _lt_/em_gt_just after the pivot adjustment_co_ no change.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI DID find something in the BJS impostor source... _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Physics/babylon.physicsImpostor.js#L30_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Physics/babylon.physicsImpostor.js#L30_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tsetPhysicsBodyTransformation().  I did not try it.  Not sure how to use it.  I_t_m not very experienced in physics things... sorry.  I_t_ll keep thinking... maybe try some tests.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt almost acts-like the impostor is sized incorrectly.  Perhaps it is transformed correctly (good position and orientation)... just too small.  Strange.  hmm.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2016-09-03T17:08:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_ sorry for a late answer.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo! An interesting subject. Yeah_co_ the physics engine is not taking the pivot into account. But I like it as a feature! Let me see how I can integrate it in the system. Maybe give the possibility to set the center of mass as well. Need to check if it_t_s possible in all engines. Until then_co_ try avoiding pivot matrix with physics. \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-09-03T22:38:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHiya _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/10310-raananw/?do_eq_hovercard_qt_ data-mentionid_eq__qt_10310_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/10310-raananw/_qt_ rel_eq__qt__qt__gt_@RaananW_lt_/a_gt_.  It_t_s possibly a little worse than you might suspect. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tWe_t_re seeing stuff sink into the floor.... but not fall through. Did you see the post about _qt_leverage_qt_?  Well_co_ in that thread/pg series_co_ I saw the pushed-over tile (a mesh) sink into the floor... yet not falling through. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf you can_co_ use MY version of the demo (it_t_s with an arcCam) for easier viewing.  The tile tips over_co_ and lays there nicely... about 1 meter/unit below the floor... and that_t_s without any pivot point setting. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tFor easy troublehshooting_co_ just set mesh.impostor.ghostMode _eq_ true... and you will _qt_see_qt_ the impostor_t_s ghostly image... pardon?  What_t_s that?  No such thing as ghosted impostors?  Well hrmph.  _lt_img alt_eq__qt__sm_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ title_eq__qt__sm_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tDid you know that the official abbreviation for _t_Physics IMPostor_t_... is now _t_pimp_t_?  Let_t_s try it out.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_qt_There_t_s no such thing as pimp ghosts._qt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYeah_co_ I like the sound of that.  heh    Anyway_co_ enough attempting comedy.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tIn THIS thread_co_ a changed pivotMatrix seems to make the impostor be a different shape or size.  It seems that the impostor becomes a tiny cube or sphere positioned _lt_strong_gt_at_lt_/strong_gt_ the new pivot point.  SO_co_ the impostor falls exactly halfway thru the floor... stopping only when the pivot point itself... hits the floor.  Strange.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tJust for fun_co_ here_t_s the _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1ND6TH%235_qt_ rel_eq__qt_external nofollow_qt__gt_train wheel demo_lt_/a_gt_ that Raanan helped build with me.  I really like it.  I went studying the _lt_a href_eq__qt_http_dd_//urbanproductions.com/wingy/babylon/misc/j2h02.htm_qt_ rel_eq__qt_external nofollow_qt__gt_Oimo_lt_/a_gt_/Ammo/Bullet worlds... to see if I could remove the wobble.  I can_t_t seem to find a _qt_joint tightener_qt_ property yet_co_ but it_t_s good reading... about all the different types of physics joints that folks have invented.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd look how _qt_clean_qt_ those joint creation constructors are... in that PG.  That_t_s SO nice... you can include Oimo _qt_native parameters_qt_... AS one of the many BJS parameters used in the constructor.  That... is hot hot hot_co_ and Raanan_t_s refactor of the physics plugins... let that all happen.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt might have a few glitches_co_ but it is SO properly poised for the future... it_t_s wonderful.  That boy knows how to code_co_ no doubt about it.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMore later... busy day for Mr. Wingy.  Good to see you again_co_ Admiral Raanan!   Hope you (and everyone) are well.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"saltemishel","Date":"2016-09-05T02:39:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tGasp~ O.o good thing that the project I_t_m working on doesn_t_t really need physics at the moment. Guess I_t_ll take out the physics for now. Cool demo you have there_co_ will definitely learn a lot from it. XD Do keep us update on the _lt_span style_eq__qt_color_dd_rgb(39_co_42_co_52)_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_background-color_dd_rgb(255_co_255_co_255)_sm_float_dd_none_sm__qt__gt_pivot matrix matter. _lt_/span_gt_Thanks for all your help!\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2016-09-05T09:08:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5733_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/_qt_ rel_eq__qt__qt__gt_@Wingnut_lt_/a_gt__co_ had some spare time and I decided to spend it on positive things _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ So I came here!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe problem with the pivot is the way the physics engine calculates the position of the object. With a pivot_co_ the problem is what happens when rotation is applied. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have been thinking about this quite a lot - I think the best way to have pivots pivots is using joints and setting the pivot axis correctly. Otherwise the object_t_s rotation is applied wrong_co_ and what you get is this fun _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#BEFOO%2340_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#BEFOO#40_lt_/a_gt_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe train wheel demo shows it very nicely (line 134). This is the equivalent of giving the red object a translation pivot_co_ using a physics engine. So in this case_co_ The physics engine wins over Babylon_t_s native implementation.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]