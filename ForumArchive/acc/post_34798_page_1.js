[{"Owner":"Mark Bufton","Date":"2017-12-30T12:23:38Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi guys_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m working on my train windows and want to add reflections. I_t_ve added reflection probes to each window and used the attachToMesh(myWindow) method which works fine in that I get reflections_co_ however_co_ the resulting texture won_t_t take into account the scene cameras distance from the window mesh. The result is a huge unrealistic reflection that is out of proportion (particularly with meshes closer to the window mesh).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIs there a way to rectify this? Perhaps to move the reflections POV/ghost camera_co_ to match the range and oppose the POV of the scene camera? Perhaps I_t_m just missing something.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWould have set up a playground_co_ but tight on time_co_ will include a screenshot which should highlight what I mean. The code itself is no different to the playground example anyway. The mesh I_t_ve used for reflections is the black gangway at the front.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks guys!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMark.\n_lt_/p_gt_\n\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_12/Screenshot_2017-12-30-12-16-44.png.4f0e966e62d679118181db901131cc5e.png_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_16429_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_12/Screenshot_2017-12-30-12-16-44.thumb.png.c83748147429e43102955e8b087931bd.png_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_Screenshot_2017-12-30-12-16-44.png_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2018-01-02T04:08:00Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHiya Mark!  hmm.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#AZA2CG%234_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#AZA2CG#4_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI did some playing in lines 49-51... moving the probe z-position... in the opposite direction of camera z position.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m not really sure what I  am doing_co_ but it seems that ... _qt_calculating_qt_ probe.position.... using current camera position... is somehow on the right path.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tProbes have projectionMatrix and viewMatrix as well_co_ and those could be important_co_ too.  Matrix-masters could probably have a good time.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMark says_co_ _qt_Perhaps to move the reflections POV/ghost camera_co_ to match the range and oppose the POV of the scene camera?_qt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYeah_co_ I think that is on-track thinking.  The probe._renderTargetTexture is certainly a place to experiment.  Show us your test results... if you play with this playground and make some discoveries_co_ ok?  thx.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI wish I was more experienced on this subject.   Hopefully_co_ others will have better comments_co_ soon.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Mark Bufton","Date":"2018-01-03T16:01:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks _dd_-)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI shall have a nice play later and let you know how I get on. Think I_t_m on the right track_co_ especially with the ghost camera range. The cube texture is correct but the scale is out.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWill be great fun to experiment.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHope you had a good Christmas _dd_-)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Mark Bufton","Date":"2018-01-09T14:09:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_ve managed to create a simple fix using mirrors rather than reflections. Seems that so far I can get away with it_co_ considering the window shapes not being too far off a rectangle.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI created a window() function to combine 2 plane meshes_co_ change their colour to black and visibility to 0.25. Then add mirror textures to each. Doesn_t_t seem too bad at the moment_co_ but might be a pain later haha. The results are much more convincing_co_ but limited to plane or ground meshes. Shouldn_t_t pose a problem if I can be creative with their design/placement.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tStill playing with probes though.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]