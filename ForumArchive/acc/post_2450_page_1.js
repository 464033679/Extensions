[{"Owner":"Alex_on_the_web","Date":"2013-12-06T15:16:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hello!_lt_br_gt_ _lt_br_gt_I am currently trying to make my runRenderLoop wrapper stupid-proof_co_ so I want to stop it before issuing a new runRenderLoop() with my render callback._lt_br_gt_ _lt_br_gt_Sadly_co_ I find my preformance drop everytime I _t_restart_t_ the renderloop. The scene seems to be rendered as many times as I do calls on my wrapper. This is confirmed by visuals_co_ as things get laggy_co_ and by chrome_t_s timeline_co_ as it says Animation Frame Fired x N_co_ where N increases everytime I restart._lt_br_gt_ _lt_br_gt_Here is my wrapper function I call._lt_br_gt_ _lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint lang-auto_qt__gt_function startRender() {        if (!babylonEngine) {            init()_sm_        }        if (babylonEngine._runningLoop){            babylonEngine.stopRenderLoop()_sm_  // debugger shows I hit this point on restart_co_ it goes into Babylon code_co_ where it nullifies the callback_co_ and clears this flag        }        var renderFunction _eq_ function (x) {            scene.render()_sm_        }_sm_        babylonEngine.runRenderLoop(renderFunction)_sm_    }    SCENEBABYLON.startRender _eq_ startRender_sm__lt_/pre_gt__lt_p_gt_ _lt_br_gt_ _lt_br_gt_I hope I_t_ve not missed anything trivial to begin with_co_ and not wasting your time. Thanks for the answers _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2013-12-06T17:44:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_It could be linked to timing. Because when you call scene.stopRenderLoop_co_ a current render can be in progress. And because you reset a renderFunction right after the current registered render will see a renderFunction and so will continue to pull new frames_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I_t_m not sure to be clear_co_ alas _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_BTW_co_ why not returning directly when startRender is called twice or more?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Alex_on_the_web","Date":"2013-12-08T09:46:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt__gt__lt_div_gt_BTW_co_ why not returning directly when startRender is called twice or more?_lt_p_gt_ _lt_/p_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_You see_co_ I thought_co_ if there will be more things created_co_ and / or arranged before starting the render (restarting the scene_co_ so to say) it would be nice to restart the render_co_ instead of just throwing away the restart request. But on a second thought_co_ the render function will not really change_co_ so it may as well stay in place. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thanks for the advice_co_ I_t_ll look into it_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]