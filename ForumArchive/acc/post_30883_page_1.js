[{"Owner":"Wemperer2","Date":"2017-06-06T03:12:47Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_m trying to figure out how to make a projectile pass THROUGH certain objects while making contact with others. I_t_m also having the issue where my projectile is created dynamically so I can_t_t stick in a event listener in the registerBeforeRender() function because they don_t_t exist at the time that function is called. Basically_co_ I want to be able to shoot enemies in my game_co_ while not shooting allies.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m also having an issue where I can_t_t seem to get rotation coordinates of my object. I can get the coordinates but when I check mesh.rotation() I always see 0_co_ 0_co_ 0 even when I change it with a event listener...\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"TomaszFurca","Date":"2017-06-06T05:45:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI think you shoud check instead rotation. \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_mesh.rotationQuaternion_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Raggar","Date":"2017-06-06T08:08:57Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tAre you using the impostor system or native cannon.js?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCannon.js uses quaternions for rotations_co_ so your mesh probably uses a rotationQuaternion.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI think what you want is collisionFilterGroups and collisionFilterMasks. With these_co_ you can say_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWorld objects_co_ floor_co_ walls etc.has group 1.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTeam 1 has group 2.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTeam 2 has group 4.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTeam 1 Bullets have group 6\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTeam 2 Bullets have group 8\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAll your world objects/map objects like barrels_co_ walls_co_ boxes etc. should be created with_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_collisionFilterGroup_dd_ 1_co__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_collisionFilterMask_dd_ 2 | 4 | 6 | 8_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_This makes them collide with all groups._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tNow_co_ whenever someone on team 1 creates and shoots a bullet_co_ create the body with the following_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_collisionFilterGroup_dd_ 6_co__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_collisionFilterMask_dd_ 1 | 4 | 8_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe body of the bullet from the player on Team 1 will now only collide with groups 1_co_4 and 8. That is the world objects_co_ Team 2 players and Team 2 players_t_ bullets.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhenever someone on team 2 creates and shoots a bullet_co_ create the body with the following_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_collisionFilterGroup_dd_ 8_co__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_collisionFilterMask_dd_ 1 | 2 | 6_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSame thing as above.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhy do you want to add the eventListener in a loop?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAs soon as the body is created_co_ you can register the eventListener_co_ and it will register any collision. You can(and should) register it in the same function you use to shoot or create the bullets.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNow_co_ when you want to remove the bullets from the Cannon.js world_co_ Cannon.js will crash if you do it right away_co_ as it_t_s not completely done doing calculations with the body.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo instead_co_ put it in an array of bodies to be removed_co_ and before you run the world.step function_co_ loop through this array and remove all bodies in it.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wemperer2","Date":"2017-06-07T00:33:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks for the reply\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am using the imposter system. I can_t_t figure out how to attach a Body to a babylon mesh.... \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-06-07T03:40:44Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi W.  Here is a basic CannonJS physics scene... in the BabylonJS playground.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#15EUZJ%2311_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#15EUZJ#11_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFeel free to make changes_co_ do more runs_co_ make new saves_co_ grab zips.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLine 37 (thru 41) is the where the physics impostor is attached to the mesh.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tA _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/playground?code_eq_physicsImpostor_qt_ rel_eq__qt_external nofollow_qt__gt_playground SEARCH for physicsImpostor_lt_/a_gt_ returns a big list of other demos_co_ too.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHope this helps.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wemperer2","Date":"2017-06-10T18:23:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIs there a way to use the filtergroups with imposters? I have the physics working and collision is detected using imposters and it seems using CANNON body objects is a bit more complex. (creating a world_co_ adding objects to world etc)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMy rotation problem is solved.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks for the help I really appreciate it.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-06-10T19:18:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi again_co_ W.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//doc.babylonjs.com/playground?code_eq_collisionfiltergroup_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/playground?code_eq_collisionfiltergroup_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_ve never used them_co_ but there_t_s some playgrounds that have.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tActually_co_ if you use the BabylonJS physics plugins for CannonJS and OimoJS_co_ they are both used in (mostly) the same ways. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThere ARE differences_co_ but our plugins coders have tried to make the two systems reasonably mirror each other.  Oimo doesn_t_t have meshImpostor or heightMapImpostor_co_ but other than that_co_ not too much difference.  Both use the same impostor and joint installation methods_co_ both use the same linear and angular velocity setters and applyImpulse system.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt is mostly when we _qt_go native_qt_ that some differences are seen (when we use native Cannon or Oimo calls).  The few physics pros that we have around here... have done a pretty nice job with the plugins _qt_layer of abstraction_qt_ mirroring.  It COULD be LOTS worse.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  Compare the _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/classes/2.5/cannonjsplugin_qt_ rel_eq__qt_external nofollow_qt__gt_Cannon plugin_lt_/a_gt_ with the _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/classes/2.5/oimojsplugin_qt_ rel_eq__qt_external nofollow_qt__gt_Oimo plugin_lt_/a_gt__co_ as wanted.  There_t_s not too much difference.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOur physics _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/classes/2.5/physicsengine_qt_ rel_eq__qt_external nofollow_qt__gt_Engine_lt_/a_gt__co_ _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/classes/2.5/physicsimpostor_qt_ rel_eq__qt_external nofollow_qt__gt_Impostor_lt_/a_gt__co_ and _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/classes/2.5/physicsjoint_qt_ rel_eq__qt_external nofollow_qt__gt_Joint_lt_/a_gt_ wrapper-classes are common to both engines_co_ so_co_ no differences there.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIs there something in particular... that makes you say that Cannon is more complex?  Were you talking about native calls directly to the physics library?  There could be some substantial differences in those areas... I haven_t_t studied them well.  I use the plugins_co_ but _qt_going native_qt_ is certainly an option... for both engines.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTeach us what you learn about that stuff_co_ okay Wemperer?  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  Thx!  We can use all the physics help we can get.  We have a slight shortage of physics experts.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  Hope this helps.  Others may comment soon.  Be well_co_ party on.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wemperer2","Date":"2017-06-13T00:00:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSorry to bother once again but I have to come back to my original question. How do I check the rotation of an object? The rotationquartions isn_t_t working for me_co_ I just do not understand the math (im not a math person). I need things in radiant/degrees. When I use_dd_  \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_player.rotate(BABYLON.Axis.Y_co_ BABYLON.Tools.ToRadians(1)_co_ BABYLON.Space.WORLD)_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tI need to figure out what property of the mesh this is rotating so I can convert it to Radians. If I attempt to convert rotation.Quartions I get NaN. player.rotation always returns 0_co_ 0_co_ 0. I\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI swear when I figure this out I_t_m writing some Idiots Guide level tutorials...\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-06-13T00:25:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ No bother at all. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tQuaternions are not friendly.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMost programmers use _lt_em_gt_mesh.rotationQuaternion.toEulerAngles()_lt_/em_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis will return rotation values similar to _lt_em_gt_mesh.rotation_lt_/em_gt_.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t(make sure you spell _t_Quaternion_t_ correctly when you code)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNote_dd_  _lt_em_gt_mesh.rotationQuaternion_lt_/em_gt_ property is not _lt_em_gt_initially_lt_/em_gt_ installed on BJS mesh.  It is installed as needed_co_ often by applying a physicsImpostor_co_ or by using the .rotate() command like you have used.  Hope this helps.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]