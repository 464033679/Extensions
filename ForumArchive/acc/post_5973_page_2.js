[{"Owner":"gryff","Date":"2014-04-30T20:20:22Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt__gt__lt_div_gt_OMG I thought I became mad with this bug_lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_TY - DK that fixes the issue with the initial click on the grey box._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_But there is more madness to come - see the image below. _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_ohmy.png_qt_ alt_eq__qt__dd_o_qt_ srcset_eq__qt_&lt_sm_fileStore.core_Emoticons&gt_sm_/emoticons/ohmy@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Once the second viewport is open_co_ clicking on the purple sphere is supposed to close the second viewport - but it does not._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_To close the second viewport you have to click approximately where the red circle is._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Clicking on the purple sphere tells you that you have clicked on the green plane - almost like you click through the sphere._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Maybe Wingy will have some more thoughts and experiences too._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_cheers_co_ gryff _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_&lt_sm_fileStore.core_Emoticons&gt_sm_/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt__lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_04_2014/post-7026-0-80621900-1398888895.jpg_qt_ rel_eq__qt_external nofollow_qt__gt__lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_04_2014/post-7026-0-80621900-1398888895.jpg_qt_ data-fileid_eq__qt_1521_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_post-7026-0-80621900-1398888895.jpg_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-04-30T20:52:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Could you send me a link or a jsfiddle so that I can debug? _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"gryff","Date":"2014-04-30T21:11:52Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_DK -maybe Wingy can set up a jsfiddle_co_ but in the mean time here is a zip file containing all three files._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_https_dd_//dl.dropboxusercontent.com/u/70260871/twoviewports.zip_qt_ rel_eq__qt_external nofollow_qt__gt_twoviewports_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Don_t_t lose your mind over it or let it take you away from important things._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_cheers gryff _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2014-04-30T21:37:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt__lt_a href_eq__qt_http_dd_//jsfiddle.net/87YW4/5/_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//jsfiddle.net/87YW4/5/_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_(New jsFiddle)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Not yet fixed.  Now infoline is moved to bottom._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Now click below and right of gray box to open viewport 2._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_- When 2 viewports_co_ aPlane2 (green) pick is happening everywhere (except 1 inch above gray box - then it is aSphere)._lt_/p_gt__lt_p_gt_- When 2 viewports_co_ pick for aSphere happens above gray box (wrong viewport... aSphere is not located there)._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Reworded_dd_ click down and right of gray box... to open viewport 2._lt_/p_gt__lt_p_gt_With viewport 2 open_co_ click above gray box (about 50 mm?) to pick aSphere._lt_/p_gt__lt_p_gt_With viewport 2 open_co_  click anywhere... even in viewport 1 (aPlane)... shows aPlane2 being clicked (except 1.5 inches above gray box - which shows aSphere clicked.  aSphere is not there.  It is in a different viewport._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Let_t_s try a translation._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Infoline a été déplacé vers le bas. Pas plus clientX et clientY compensés problèmes. A ce moment_co_ vous êtes tenu de cliquez sur le coin inférieur droit de la boîte grise ... pour ouvrir fenêtre 2._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Avec fenêtre 2 ouverte_co_ cliquez sur un emplacement rapports aPlane2 est cliqué. Sauf lorsque vous cliquez sur un emplacement à une certaine distance au-dessus de la zone grise. Puis il signale asphériques est cliqué. asphérique n_t_est pas à cet endroit. Il s_t_agit plutôt d_t_en fenêtre 2._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Pour résumer_co_ boîte grise clic activité est ci-dessous et à droite de la boîte grise_co_ et quand fenêtre 2 est ouvert_co_ en cliquant n_t_importe où près rapports aPlane2 est cliqué. Pour cliquer asphériques_co_ vous devez cliquer dessus de la zone grise_co_ qui n_t_est pas près de asphériques à tous._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thx for your work_co_ DK_co_ but we are only getting started._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"gryff","Date":"2014-04-30T22:03:03Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt__gt__lt_div_gt_Now click below and right of gray box to open viewport 2._lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Actually Wingy the grey box appears to be working fine for me_co_ but as you say_co_ once the viewport is open even the grey background is _qt_live_qt_._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_TY for doing the jsfiddle thing. And_co_ DK_co_ please forgive Wingy and I for any mental stress we are putting you under _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_cheers_co_ gryff _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-04-30T22:51:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_the thing is that is you want to pick in the green viewport you have to provide _qt_adapted_qt_ mouse coordinates meaning not relative to the full canvas but only to the viewport_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2014-05-01T01:15:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Yep_co_ that was talked about here... _lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/topic/5973-multiple-viewport-issues/?p_eq_35947_qt__gt_http_dd_//www.html5gamedevs.com/topic/5973-multiple-viewport-issues/?p_eq_35947_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt__gt__lt_div_gt__lt_p_gt_I am starting to think that the framework should maybe do..._lt_/p_gt_scene.pick(viewportX_co_ viewportY)_sm_  (certainly not DOM event-ready)_lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_*scratch scratch*_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Oh well_co_ we gave it a good try_co_ Gryff.  Thanks for the analysis_co_ DK.  I_t_ll do some more thinking and testing when I get a chance.  I guess we have to convert the viewport.width and viewport.height... to pixels (they are currently a float between 0 and 1)_co_ then... convert those to percentage of total canvas width and height.  Then calculate the same percentage... against evt.clientX and evt.clientY_co_ and then send those numbers as the pick args... something like that.  *shrug*_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_If we need to deduce a formula here_co_ I suppose we better make it ready for any number of viewports wide and any number of viewports tall... thus... percentages get involved.  Yep_co_ beer time.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"gryff","Date":"2014-05-01T01:41:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Well I tried changing a a few of the viewport settings_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_function makeViewports(scene) {    // create 3 viewports.  #0 is for fullscreen_co_ #1 and #2 for split screen.    scene.viewport0 _eq_ new BABYLON.Viewport(0.0_co_ 0.0_co_ 1_co_ 1)_sm_    scene.viewport1 _eq_ new BABYLON.Viewport(0.0_co_ 0.0_co_ 1_co_ 1)_sm_    scene.viewport2 _eq_ new BABYLON.Viewport(0.0_co_ 0.5_co_ .5_co_ .5)_sm_}_lt_/pre_gt__lt_p_gt_essentially not changing the size of Viewport1 when the box is clicked_co_ and opening the new Viewport 2 in the top left corner of the window see image._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Clicking on the purple sphere now works._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_For anything else_co_ I think you are right Wingy a lot of fiddling around with the math of screen_co_ browser window  and viewport sizes_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_cheers_co_gryff _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_&lt_sm_fileStore.core_Emoticons&gt_sm_/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt__lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_05_2014/post-7026-0-61005300-1398908213.jpg_qt_ rel_eq__qt_external nofollow_qt__gt__lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_05_2014/post-7026-0-61005300-1398908213.jpg_qt_ data-fileid_eq__qt_1526_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_post-7026-0-61005300-1398908213.jpg_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"gryff","Date":"2014-05-01T17:14:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Using my very limited javascript talents I have tried to do the math so that clicking on the purple ball in the second viewport screen  will close the second viewport screen._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Try it here _dd_ _lt_a href_eq__qt_http_dd_//www.3dworlds.ca/1webgl/2viewports/_qt_ rel_eq__qt_external nofollow_qt__gt_2viewports_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Click on the grey box to open the second viewport . - then try to find problems and let me know._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I will post the code later - and there maybe (likely even) be better ways to code it _sm_-)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_cheers_co_ gryff _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Edit_dd_ here are the zipped code files _lt_a href_eq__qt_https_dd_//dl.dropboxusercontent.com/u/70260871/2viewports.zip_qt_ rel_eq__qt_external nofollow_qt__gt_2viewports.zip_lt_/a_gt_ including babylon.1.11.0.js_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2014-05-01T18:13:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Yeah. it looks like you have yourself an operational workaround_co_ at least.  When viewport 2 is open_co_ aPlane2 is pickable all over the screen_co_ but if that doesn_t_t get in the way of your needs_co_ I guess you can_t_t complain.  Pretty fancy math ya got going there_co_ G!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"gryff","Date":"2014-05-01T18:34:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_As you say Wingy it is a workaround. There are two issues that drive the math_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_1. The click event reports its co-ordinates with 0_co_0 being the top left of the screen and are in pixels._lt_/p_gt__lt_p_gt_2. The viewport properties are from 0_co_0 at the bottom left of the screen and range from 0 -&gt_sm_1_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_And resizing the has to be taken into account._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_And I still do not understand why that second viewport thinks it is hiding away - always at the top left of the screen._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Maybe some of your _qt_murmered shrugs_qt_ will eventually cause a change _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_cheers_co_ gryff _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2014-05-01T20:55:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Nod.  Deltakosh ALWAYS strives to makes things easy for the users.  And if you saw the pickingRay code_co_ it is not simple code at all.  He may not have a magical solution to this situation at this time_co_ but I think he stores stuff in the back of his mind_co_ and mulls it over.  In this situation_co_ we have a DOM event... working with a 3D pick on a webGL canvas... in a scene.  Difficult enough by itself_co_ but then maniacs like you and I... try to do goofy stuff_co_ and mess-with an already complicated situation._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Ideally_co_ don_t_t be in a hurry.  Deltakosh is very very smart_co_ and if he doesn_t_t invent a magical way to improve this task in the framework_co_ he will likely come up with some really nice formulas that users can include in their createScene funcs.  Also_co_ keep in mind that DK_t_s hands are tied... by webGL.  He can only do just so much... and then webGL/openGL stands in his way.  But rough water like you and I found... CAN affect the future of webGL itself.  And if that changes_co_ new avenues can open for you_co_ I_co_ and the framework._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_You can rest assured that Deltakosh is giving this thought... and if he can come up with something to make it easier for us_co_ he WILL implement it or tell us about it.  He is a very accommodating chap_co_ but he also can see _t_the big picture_t_ much better than you or I.  There are quite a few _t_issues_t_ that are involved in this.  If you can lay back a bit and give deltakosh some time to mull this over_co_ I tend to think he will come up with a sweet and powerful formula for us to use in the short term_co_ and possibly a framework accommodation in the longer term.  He_t_s a great guy and smart as a whip.  If there_t_s a way to help us_co_ he_t_ll find it and gladly give it to us._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Feel free to keep experimenting with it_co_ of course... but... don_t_t blow a brain fuse or get too impatient_co_ if possible.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  You know how to open a second viewport_co_ you know how to point a camera at its meshes_co_ and you know how to put a div or two at the bottom of the screen.  Maybe think about what i said earlier_co_ about making a bunch of keypresses go active_co_ when viewport 2 opens... like the [ and ] keys_co_ and the &lt_sm_ &gt_sm_ keys_co_ or (n)ext page and (p)revious page_co_ etc.  When viewport 2 opens_co_ display a div at screen bottom_co_ telling the users what keys they can use to do things in viewport 2.  It may save you some headaches_co_ yet you will be ready for picking in viewport 2 if/when that option becomes more viable.  Just thoughts.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"gryff","Date":"2014-05-01T22:35:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt__gt__lt_div_gt__lt_p_gt_Ideally_co_ don_t_t be in a hurry.  Deltakosh is very very smart ..._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_You can rest assured that Deltakosh is giving this thought... and if he can come up with something to make it easier for us_co_ he WILL implement it or tell us about it._lt_/p_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Don_t_t worry Wingy - right now I have something I can work with. An important piece of functionality and game mechanics - so I want to now use it in a practical way._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt__gt__lt_div_gt_Feel free to keep experimenting with it_co_ of course... but... don_t_t blow a brain fuse or get too impatient_co_ if possible._lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The important part of it _lt_strong_gt_all is your code _lt_/strong_gt_- the five functions_dd_ makeCams(scene)_sm_ makeViewports(scene)_sm_ initViewport(scene)_sm_ goViewport2(scene)_sm_ and endViewport2(scene). And for that I am very grateful._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Im not going to tinker with that. I may tweak the math bit - and may even try to set it up to open more than one extra viewport but I am a great believer in _qt__lt_em_gt_if it ain_t_t broke_co_ don_t_t fix it_lt_/em_gt__qt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I want though a game example - and already I have started building in Blender and hopefully it won_t_t take too long._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Again thank you for all your help _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_cheers_co_ gryff _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-05-01T22:36:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_You_t_re cute _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ but this is not so complex. However you are right on at least one point_dd_ next version will include the following fix so you will never have to bother with coordinates and picking. Babylon.js will handle that for you _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_btw here is the code to offset mouse coordinates_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_            var cameraViewport _eq_ camera.viewport_sm_            var viewport _eq_ cameraViewport.toGlobal(engine)_sm_            // Moving coordinates to local viewport world            x _eq_ x - viewport.x_sm_            y _eq_ y - (this._engine.getRenderHeight() - viewport.y - viewport.height)_sm__lt_/pre_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2014-05-01T23:55:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Thanks dk and gyrff!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Gryff_co_ I don_t_t claim ownership over anything at all.  I_t_m a socialist and altruist at heart_co_ so use anything you wish and even claim it as yours... not a problem.  I_t_m honored if you find anything I code... useful.  I gather my enjoyment from looking at other people_t_s art/scenes_co_ and with making discoveries with people_t_s frameworks.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_And chatting with folks._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_And by the way gryff_co_ don_t_t believe him for a second.  Nothing is complicated to DK.  Friggin_t_ genius_co_ ya know? _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_For me_co_ pickingRay code such as BABYLON.Ray.prototype.intersectsTriangle... looks like schematics to a nuclear reactor.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"garidan","Date":"2014-11-05T16:44:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I up this post with a modified version of drag and drop example_co_ extended on 3 viewports._lt_/p_gt__lt_p_gt_Be warned_co_ I_t_m a 3D beginner_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//jsfiddle.net/garidan/zbgkq8nr/6/_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//jsfiddle.net/garidan/zbgkq8nr/6/_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I aim for a 3D view paired with a top and a side view of the scene_co_ all three with draggable meshes._lt_/p_gt__lt_p_gt_I managed to have drag and drop on 3D and top view_co_ but I miss _lt_span style_eq__qt_font-size_dd_14px_sm__qt__gt_drag and drop on side view (lower left viewport)._lt_/span_gt__lt_/p_gt__lt_p_gt__lt_span style_eq__qt_font-size_dd_14px_sm__qt__gt_When _lt_/span_gt__lt_span style_eq__qt_font-size_dd_14.3999996185303px_sm__qt__gt_drag and drop starts working everywhere_co_ I_t_ll attach the _lt_/span_gt__lt_span style_eq__qt_font-size_dd_14px_sm__qt__gt_ArcRotateCamera to canvas events_co_ and detach it on clicks outside 3D viewport._lt_/span_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Can anyone of you suggest what I_t_m doing wrong please ?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thanks_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_11_2014/post-7493-0-32503900-1415205839.png_qt_ rel_eq__qt_external nofollow_qt__gt__lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_11_2014/post-7493-0-32503900-1415205839.png_qt_ data-fileid_eq__qt_3059_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_post-7493-0-32503900-1415205839.png_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2014-11-06T00:48:57Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi Garidan_co_ welcome to the forum... good to have you_co_ and your tri-view is pretty cool.  I assume you meant _qt_lower right viewport_qt_  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I am a bad programmer_co_ but I took your code home and played with it._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The problem is here..._lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_if (pickinfo.hit) {     console.log(pickinfo.pickedPoint)_sm_  // I added this line     return pickinfo.pickedPoint_sm_}_lt_/pre_gt__lt_p_gt_We get good console.log output when dragging in the main viewport_co_ and in the top-right viewport_co_ but no output when dragging in the lower-right viewport.  You are the first person to ever try drag_t_n_t_drop from a side view_co_ and I think there is a situation in the framework itself... that is causing the problem._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Without getting good _lt_em_gt_pickinfo.pickedPoint_lt_/em_gt_ from the framework_co_ your _lt_em_gt_onPointerMove_lt_/em_gt_ function will not work correctly._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I don_t_t know how to fix this_co_ but maybe some forum experts will be able to help... now that we know what is happening.  Sorry that I could not be more helpful._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"joshcamas","Date":"2014-11-06T00:58:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t*Actually* he_t_s not the first person ever to try it from a side view. I happen to know the problem _lt_img alt_eq__qt__sm_)_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ data-emoticon_eq__qt__qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tThe problem is this entire demo. Basically it needs to detect a point _qt_in the air_qt_ where the mouse is clicking. Which makes a problem. This demo _qt_fixes_qt_ this problem by adding a mesh (the plane/ground) that will detect clicks! Hacky_co_ but it works... unless you_t_re not clicking the plane...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI managed to fix it in my editor by shamelessly copying the Babylon Editor and making it better. _dd_3\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_ll make an example on the playground in a bit_co_ k?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tEDIT_dd_ Annndddd made it! _lt_a rel_eq__qt__qt__gt_http_dd_//playground.babylonjs.com/#1RQ5E5_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt took a bit of work_co_ but it works now! Note that I made it so you cant drag it lower than y_eq_0_co_ just because. This can be removed if wanted. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI made it so when you _qt_tagged_qt_ a mesh as _qt_draggable_qt__co_ (mesh.draggable _eq_ true) then the mesh is... well_co_ draggable!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tEnjoy! Parts of the code was written by the coder who made the Official Babylon Editor!\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tEDIT2_dd_ I added a fancy alpha-changing thing to the ground_co_ just for fun. Hey_co_ I was bored_co_ ok!?!\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#1RQ5E5%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#1RQ5E5#1_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"garidan","Date":"2014-11-06T08:19:17Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Great !_lt_/p_gt__lt_p_gt_It_t_s easy to say now_co_ It was a simple reason for it not working_co_ I forgot about the ground trick _sm_-)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I go forward and modify my test_co_ I_t_ll post an update for others to come._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thanks everyone_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"garidan","Date":"2014-11-12T14:54:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOK_co_ I learned a little more and I have almost anything do what I want_co_ ... almost.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere is my updated code_dd_ _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#1PA7HW%239_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#1PA7HW#9_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have a problem with the lower right viewport_co_ the side view. Drag and drop works on the ground plane_co_ that is x-z axis_co_ not on the x-y plane as I would like._lt_br /_gt__lt_br /_gt_\n\tI think the problem is in the transformPosition(camera) function where it gets the projection matrix and view matrix from the scene_co_ with no reference to the viewport/camera involved (but the top view works ...).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOr is it due to a _qt_special role_qt_ of ground ?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCode is clean_co_ I would not like to patch with a hack.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMay you help me please?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"joshcamas","Date":"2014-11-13T00:01:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI believe you are correct garidan. I_t_ll try to fix...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI got a partial fix on it_dd_ _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#1PA7HW%2310_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#1PA7HW#10_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHowever it_t_s not completely fixed. _dd_/ You seem to have edited the code so much I_t_m not sure why/how it works _dd_3\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"garidan","Date":"2014-11-13T09:19:00Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I compared your code with mine._lt_/p_gt__lt_p_gt_You used_dd_ _lt_/p_gt__lt_p_gt_var wMCamera _eq_ targetCamera.getWorldMatrix()_sm__lt_/p_gt__lt_p_gt_instead of identity matrix_co_ I can understand that._lt_/p_gt__lt_p_gt_But to let side viewport work you had to switch the order of scene active cameras_co_ pushing side camera as last one_dd__lt_/p_gt__lt_div_gt_scene.activeCameras.push(topCamera)_sm__lt_/div_gt__lt_div_gt_scene.activeCameras.push(camera)_sm__lt_/div_gt__lt_div_gt_scene.activeCameras.push(sideCamera)_sm__lt_/div_gt__lt_div_gt_ _lt_/div_gt__lt_div_gt_I think this shouldn_t_t be and the fact this made side panel work (and disrupt top panel) means scene projection matrix and view matrix are dependent on current _qt_last_qt_ active camera._lt_/div_gt__lt_div_gt__lt_div_gt_var pMScene _eq_ scene.getProjectionMatrix()_sm__lt_/div_gt__lt_div_gt_var vMScene _eq_ scene.getViewMatrix()_sm__lt_/div_gt__lt_/div_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_It should be possible to specify as argument a camera or viewport_co_ something like_dd__lt_/p_gt__lt_div style_eq__qt_font-size_dd_14.3999996185303px_sm__qt__gt_var pMScene _eq_ scene.getProjectionMatrix(camera)_sm__lt_/div_gt__lt_div style_eq__qt_font-size_dd_14.3999996185303px_sm__qt__gt_var vMScene _eq_ scene.getViewMatrix(camera)_sm__lt_/div_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_What do you think?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_PS_dd_ top panel now doesn_t_t work anymore because y axis seems switched ... I_t_m going to patch it .._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"garidan","Date":"2014-11-13T09:44:47Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tMy patch for top panel is to reverse z axis drag (I don_t_t know why I have to do this)_dd_\n_lt_/p_gt_\n\n_lt_div_gt_\n\t \n_lt_/div_gt_\n\n_lt_div_gt_\n\t// PATCH\n_lt_/div_gt_\n\n_lt_div_gt_\n\tif (targetCamera.name_eq__eq__qt_topCamera_qt_)_lt_span_gt_ _lt_/span_gt_{\n_lt_/div_gt_\n\n_lt_div_gt_\n\tres.z_eq_-res.z_sm_\n_lt_/div_gt_\n\n_lt_div_gt_\n\t}\n_lt_/div_gt_\n\n_lt_div_gt_\n\t \n_lt_/div_gt_\n\n_lt_div_gt_\n\tCode working_dd_\n_lt_/div_gt_\n\n_lt_div_gt_\n\t_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#1PA7HW%2311_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#1PA7HW#11_lt_/a_gt_\n_lt_/div_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"joshcamas","Date":"2014-11-13T23:35:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_That works. _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ _lt_/p_gt__lt_p_gt_I am wondering how this could be fixed however_co_ without the hack. _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"FreeFrags","Date":"2014-11-20T14:20:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_hi_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_is it also possible to render a viewport onto a new canvas? if not how can we make it look like a vp is drawn in a different window add a border around the viewport for example_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]