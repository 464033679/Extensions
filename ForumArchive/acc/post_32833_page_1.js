[{"Owner":"pichou","Date":"2017-09-09T17:22:18Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHey everyone_co__lt_br /_gt__lt_br /_gt_\n\tI am trying to add a basic shadow in scene with directionnalLight but it doesn_t_t seem to work after all kind of tests._lt_br /_gt__lt_br /_gt_\n\tI tried to get inspiration from other playgrounds _dd_ _lt_br /_gt__lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#1KF7V1_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#1KF7V1_lt_/a_gt__lt_br /_gt__lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#IIZ9UU_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#IIZ9UU_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd I even went in the source code of this great example _dd_ _lt_br /_gt__lt_a href_eq__qt_https_dd_//www.babylonjs.com/demos/advancedshadows/_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs.com/demos/advancedshadows/_lt_/a_gt__lt_br /_gt__lt_br /_gt_\n\tI create one that is not working and where I can_t_t see the difference with other scenes _dd_ _lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#TWANP3_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//playground.babylonjs.com/#TWANP3_lt_/a_gt_ _lt_br /_gt__lt_br /_gt_\n\tIt seems very basic but I just can_t_t see the problem._lt_br /_gt__lt_br /_gt_\n\tThanks_co_ Pichou\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-09-11T15:09:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHey\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis is not a bug. I moved your topic to the _qt_Questions_qt_ subforum.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou forgot the give a position to the light_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#TWANP3%232_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//playground.babylonjs.com/#TWANP3#2_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"pichou","Date":"2017-09-11T22:26:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHey Deltakosh_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOK very basic indeed!_lt_br /_gt__lt_br /_gt_\n\tI have another question still linked to shadows. I have tested the worldmonger project to show a degraded ground but I can_t_t manage to make the shadows working on this ground contrary to normal groundMaterial._lt_br /_gt_\n\tI saw that the worldmonger ground material use material effects and matrix to build the ground. Do you know if there is a way to had shadows to this system?_lt_br /_gt__lt_br /_gt_\n\tThanks.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-09-12T15:46:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThere is a way but you will have to update the shaders. Is this what you want ?\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"pichou","Date":"2017-09-12T17:31:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYou mean that I will have to manually update the shaders?_lt_br /_gt__lt_br /_gt_\n\tWhat I want exatly is the ground to receiveShadows like with a normal BABYLON.StandardMaterial but using the _lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_WORLDMONGER.GroundMaterial_lt_/span_gt_ ! _lt_img alt_eq__qt__sm_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ title_eq__qt__sm_)_qt_ width_eq__qt_20_qt_ /_gt_ _lt_br /_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have read some of the effect doc used by worldmonger (_lt_a href_eq__qt_https_dd_//doc.babylonjs.com/classes/3.0/effect_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//doc.babylonjs.com/classes/3.0/effect_lt_/a_gt_)_co_ but if you know a simpler way_co_ it would be awesome._lt_br /_gt__lt_br /_gt_\n\tBye_co_ Pichou\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-09-13T17:57:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYeah you will have to manually update the shaders...OR use the shadowOnlyMaterial on top of a clone of your ground_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//doc.babylonjs.com/extensions/shadowonly_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/extensions/shadowonly_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"pichou","Date":"2017-09-15T17:30:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tCool_co_ I will give it a try! Indeed I haven_t_t thought to clone it. Clever idea! _lt_br /_gt__lt_br /_gt_\n\tThanks deltakosh\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"pichou","Date":"2017-09-15T21:19:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tHey Deltakosh_co__lt_br /_gt__lt_br /_gt_\n\tIt is working perfect with the shadow only extension.  Awesome!_lt_br /_gt__lt_br /_gt_\n\tThanks for the tips! _lt_img alt_eq__qt__sm_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ title_eq__qt__sm_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"pichou","Date":"2017-09-18T08:15:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tI have an issue with the shadowOnly extension. When I use a particle system_co_ the shadow goes in front of it (see attached image). _lt_br /_gt__lt_br /_gt_\n\tOf course I haven_t_t set receiveShadow _eq_ true on the partcles system_co_ I guess this is not possible anyway _lt_img alt_eq__qt__sm_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ title_eq__qt__sm_)_qt_ width_eq__qt_20_qt_ /_gt__lt_br /_gt__lt_br /_gt_\n\tDo tou know where it could come from?\n_lt_/p_gt_\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_09/shadowVSparticles.PNG.279943fda9822b41590c0a7a3fb7db5d.PNG_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_14888_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_09/shadowVSparticles.PNG.279943fda9822b41590c0a7a3fb7db5d.PNG_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_shadowVSparticles.PNG_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-09-18T15:25:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis is because the shadowOnlyMaterial is transparent so rendered after particles.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou can fix it by setting the renderGroupId of your particles to 1\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"pichou","Date":"2017-09-18T17:44:38Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOK_co__lt_br /_gt__lt_br /_gt_\n\tThe exact property was particle.renderingGroupId. _lt_br /_gt__lt_br /_gt_\n\tBy setting to 1_co_ now the particles are in front of every other mesh_co_ which I don_t_t want_co_ I want the particles to be in front of shadows only. Can I rendered shadow just before particles?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI tried different number of  renderingGroupId for both particles and shadowOnly to do that but it didn_t_t work because it creates rendering conflicts with the other meshes.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-09-18T23:38:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tthen in this case you can set everything BUT the ground with renderingGroupdId _eq_ 1. The ground will then be always rendered first\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"pichou","Date":"2017-09-23T23:09:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello again_co__lt_br /_gt__lt_br /_gt_\n\tI tried to do that deltakosh but it didn_t_t work. I think I a m stuck! _dd_/_lt_br /_gt_\n\tLet me explain_co_ I have 4 layers _dd_ ground_co_ shadow_co_ mesh and particles. I need my particles to be behind everything except the shadow._lt_br /_gt__lt_br /_gt_\n\tLet_t_s assume these rendering number for these 3 layers _dd_ ground_dd_1_co_ shadow_dd_2_co_ particle_dd_3_lt_br /_gt_\n\tThen the shadow is in front of the ground and the particles in the front of the shadow _dd_ good. But the particles are also in front of the ground and are still shown even when they are under the ground which I don_t_t want.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo I try these rendering number for each layer _dd_ ground_dd_1_co_ shadow_dd_2_co_ particle_dd_1_lt_br /_gt_\n\tNow the particles disappear behing the ground again. But as the shadow is rendering after_co_ the particles are hidden from the shadow when I want them to be in front the shadow._lt_br /_gt__lt_br /_gt_\n\tWith every configuration I have an issue. I have made a playground to make the test easyer _dd_ _lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#WEQHTG_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//playground.babylonjs.com/#WEQHTG_lt_/a_gt__lt_br /_gt_\n\tThe renderingGroupId are at the end of the code.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLet me know if any of you have come up with something! _lt_img alt_eq__qt__sm_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ title_eq__qt__sm_)_qt_ width_eq__qt_20_qt_ /_gt__lt_br /_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-09-25T15:44:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\twhat about this_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#WEQHTG%233_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//playground.babylonjs.com/#WEQHTG#3_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"pichou","Date":"2017-09-25T18:02:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tNope!_lt_br /_gt__lt_br /_gt_\n\tThe particles need to be not visible when behind the ground_co_ like this _dd_ _lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#WEQHTG%232_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//playground.babylonjs.com/#WEQHTG#2_lt_/a_gt__lt_br /_gt_\n\tBut in front of the shadow héhé.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-09-26T22:43:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tSo you want the particles to be behind the ground or above? Can you rephrase your need? _lt_img alt_eq__qt__sm_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ title_eq__qt__sm_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"pichou","Date":"2017-09-27T08:03:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tYes of course!_lt_br /_gt__lt_br /_gt_\n\tI need the scene to be exactly like that _dd_ _lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#WEQHTG%232_qt_ rel_eq__qt_external nofollow_qt_ style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#3d6594_sm_font-size_dd_14px_sm__qt__gt_https_dd_//playground.babylonjs.com/#WEQHTG#2_lt_/a_gt__lt_br /_gt_\n\tExcept that the particles must be in front of the shadow. \n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2017-09-27T11:32:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#WEQHTG%234_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//playground.babylonjs.com/#WEQHTG#4_lt_/a_gt_ ?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ I wonder why you use the ShadownOnly material (there must be a good reason_co_ maybe I missed it).\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"pichou","Date":"2017-09-27T13:15:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThe reason is I am working with _lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_WORLDMONGER.GroundMaterial _dd_ _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Website/blob/master/Scenes/WorldMonger/Shaders/Ground/groundMaterial.js_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Website/blob/master/Scenes/WorldMonger/Shaders/Ground/groundMaterial.js_lt_/a_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_It allows me to build the ground as I want with multimaterial but this ground doesn_t_t receive Shadow. So I have to use the shadowOnly extension as suggested by deltakosh._lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JonathanRev","Date":"2017-10-19T08:05:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tIt would be great to have _lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_WORLDMONGER.GroundMaterial accepting the shadows of the meshes _co_ i am also working on it _co_ but shaders is quiet a bit far from my knowledge at this moment _lt_img alt_eq__qt__dd_(_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ title_eq__qt__dd_(_qt_ width_eq__qt_20_qt_ /_gt_ _co_ i will try to investigate it_lt_/span_gt_\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"pichou","Date":"2017-11-10T00:30:47Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHey everybody_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have the exact same problem with a material which use FresnelParameters. The mesh_t_s material goes in front of particles when the mesh is actually behind it._lt_br /_gt__lt_br /_gt_\n\tMaybe both shadowOnly and this problem are linked?_lt_br /_gt__lt_br /_gt_\n\tHere is a playground _dd_ _lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#WEQHTG%235_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//playground.babylonjs.com/#WEQHTG#5_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWould be awesome to have a solution!!!!\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-11-10T16:57:46Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI do not think this is a problem of ShadowOnlyMaterial_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#WEQHTG%236_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//playground.babylonjs.com/#WEQHTG#6_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe problem comes from the ground which is transparent. So rendered AFTER the particles.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tyou can play with the renderingGroupId_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#WEQHTG%237_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//playground.babylonjs.com/#WEQHTG#7_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"pichou","Date":"2017-11-10T19:04:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOK I would rather say even with the classic shadowGenerator we have the same problem! _lt_img alt_eq__qt__sm_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ title_eq__qt__sm_)_qt_ width_eq__qt_20_qt_ /_gt__lt_br /_gt__lt_br /_gt_\n\tSee without the fresnelParameter we have the expected behavior _dd_ _lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#WEQHTG%238_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//playground.babylonjs.com/#WEQHTG#8_lt_/a_gt__lt_br /_gt_\n\tParticles are in front of the ground but are not visible when they get behind the groud _dd_ logic!_lt_br /_gt__lt_br /_gt_\n\tBut in your playground the particles are always visible even when they get behind the ground _dd_ _lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#WEQHTG%237_qt_ rel_eq__qt_external nofollow_qt_ style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#3d6594_sm_font-size_dd_14px_sm__qt__gt_https_dd_//playground.babylonjs.com/#WEQHTG#7_lt_/a_gt__lt_br /_gt_\n\tAnd you can play with the renderingGrounpId but you won_t_t get the expected behavior like in the first playground above._lt_br /_gt__lt_br /_gt_\n\tSame issue I had with shadowOnly.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo I am not saying the problem comes from shadowOnly but as the problem also appear with fresnelParameter_co_ maybe there is a link that could help you resolve this!_lt_br /_gt__lt_br /_gt_\n\tCheers_co_ Pichou\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-11-10T22:22:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThe problem comes from transparency only actually. You can even remove the fresnel completely as long as you keep the alpha mode (like just set alpha _eq_ 0.5)\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2017-11-10T22:48:31Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI did it once with worlmonger so he could receive light_co_ fog_co_ ambiant color and shadows and others. what i had done was to merge the worldmongerMaterial with the standardMaterial and merge the worldmonger shader and standardMateriel shader.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt was a lot of work_co_ but I ended up succeeding. but with the babylon changes that ended up no longer working because the architecture of the shaders has changed a lot_co_ so i stop using worldmonder and is creating my terrain editor using customMateriel. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tMy terrain editor can receive mountain_co_ slope/_lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#172b4d_sm_font-size_dd_14px_sm_text-align_dd_left_sm__qt__gt_ramps_lt_/span_gt__co_ hole ... and up to _lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#172b4d_sm_font-size_dd_14px_sm_text-align_dd_left_sm__qt__gt_Paint_lt_span_gt_ _lt_/span_gt__lt_/span_gt_8 different textures (more than worlmonger _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt_)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSee _dd_ _lt_a href_eq__qt_https_dd_//bitbucket.org/JSbabylon/terraineditor_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//bitbucket.org/JSbabylon/terraineditor_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]