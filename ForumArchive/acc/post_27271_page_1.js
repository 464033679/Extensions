[{"Owner":"thrice","Date":"2016-12-23T15:42:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tContext_dd_ I am attempting to build a hearthstone like game using babylon.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am using multiple planes to manage the game state/positions of cards. I.e. current_player_hand is a plane_co_ current_player_units is a plane_co_ current_player_deck is a plane. Cards themselves are planes (with meshes)_co_ and are attached to parent plane to set initial position.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhat I am struggling to figure out how to do is how to animate_co_ for instance_co_ a card being played from a players hand_co_ moving on to the game board_co_ targeting the center of the game board plane. Since the position of the plane is relative to it_t_s parent_co_ it only animates relative to it_t_s parent.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIs there a way to basically say_co_ animate this object_co_ over to that object using that objects world position? (or am I abusing planes_co_ or is there a better way to do what I_t_ve described?)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"thrice","Date":"2016-12-24T02:08:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_ve made progress but still not quite hitting the mark_co_ as far as I can tell_co_ this is possible (unless I am missing something) - I can set the plane world position and then position it correctly relative to the targets world position_co_ but I can_t_t get it animating correctly still.  (if I set the end keyframe position.x &amp_sm_ y &amp_sm_ z to the position of another plane in my scene_co_ it shoots past the mark a bit_co_ so I am thinking perhaps it_t_s using the relative position still when animating) - I read in another thread something about having to call plane.computeWorldMatrix() (or plane.computeWorldMatrix(true))_co_ as well_co_ but still no luck. The below code is what I am using to wrap all my animations_co_ anyone by chance see something obvious or that I am missing?\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_  run() {\n    let subject _eq_ this.registry.subject.babylon ? this.registry.subject.babylon _dd_ this.registry.subject_sm_\n    subject.setAbsolutePosition(subject.getAbsolutePosition())_sm_\n    subject.computeWorldMatrix()_sm_\n    _.each(this.$$animations_co_ (_animation) _eq_&gt_sm_ subject.animations.push(_animation))_sm_\n\n    return new Promise((resolve_co_ reject) _eq_&gt_sm_ {\n      this.scene.babylon.beginAnimation(subject_co_ this.startFrame_co_ this.endFrame_co_ false_co_ 1_co_ resolve)_sm_\n    })_sm_\n  }_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2016-12-24T02:20:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tplease create a simple pg of your issue.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"thrice","Date":"2016-12-26T18:07:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tRecreating it would take quite a bit of time as I am currently building an angular js babylon wrapper library and using it within my application. If worst comes to worst I may end up doing so but_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt seems there is no way to animate the absolute position is that correct? It all seems to be relative to the parent plane the nested plane is assigned to. However_co_ if I do a simple plane.setAbsolutePosition(target.getAbsolutePosition())_co_ that works perfectly. I tried animating the _absolutePosition property instead but no luck there either (didn_t_t do anything)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"thrice","Date":"2016-12-27T14:53:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tAs far as I can tell this is not supported_co_ at least easily. I ended up using tween.js and building my own animation system_co_ and using mesh.setAbsolutePosition() instead\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jpdev","Date":"2016-12-27T14:54:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThat makes sense_co_ when you look up what setAbsolutePosition actually does_co_ if the object has a parent this happens_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tvar invertParentWorldMatrix _eq_ this.parent.getWorldMatrix().clone()_sm__lt_br /_gt_\n\tinvertParentWorldMatrix.invert()_sm__lt_br /_gt_\n\tvar worldPosition _eq_ new Vector3(absolutePositionX_co_ absolutePositionY_co_ absolutePositionZ)_sm__lt_br /_gt_\n\tthis.position _eq_ Vector3.TransformCoordinates(worldPosition_co_ invertParentWorldMatrix)_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt_\n\tIt sets the position taking into account the invertedWorldMatrix of the parent_co_ meaning there is no property _absolutePosition on a mesh.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"thrice","Date":"2016-12-27T20:13:44Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_156796_qt_ data-ipsquote-contentid_eq__qt_27271_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1482850445_qt_ data-ipsquote-userid_eq__qt_6173_qt_ data-ipsquote-username_eq__qt_jpdev_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t4 hours ago_co_ jpdev said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tthis.position _eq_ Vector3.TransformCoordinates(worldPosition_co_ invertParentWorldMatrix)_sm_\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tYa although even after detaching from the parent_co_ attaching to a higher level parent_co_ it still didn_t_t seem to work correctly\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]