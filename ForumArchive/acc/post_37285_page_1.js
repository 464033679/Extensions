[{"Owner":"TheGrumps","Date":"2018-04-28T14:22:38Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_m using the ArcRotateCamera and controlling pan by updating theÂ inertialPanningX &amp_sm_Â inertialPanningY properties_co_ and it_t_s working well. However I_t_m not clear on the best way to limit the target position within a box.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have attempted clamping the target position in the render loop_co_ however it creates a wobble effect when near the edges. Is there another way that a limit can be defined? (I see the camera allows limiting the rotation and distance_co_ so am I missing the pan limits?)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks in advance!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2018-04-30T14:38:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi TG_co_ welcome to the forum.Â  Sorry for the slow replies!\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_code class_eq__qt_lang-javascript_qt__gt__lt_span_gt_camera.lowerAlphaLimit _eq_ _lt_span_gt_Math_lt_/span_gt_.PI / _lt_span_gt_2_lt_/span_gt__sm_ // or any radian value_lt_/span_gt__lt_/code_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_code class_eq__qt_lang-javascript_qt__gt__lt_span_gt_camera._lt_span_gt_upperAlphaLimit_lt_/span_gt_ _eq_ _lt_span_gt_Math_lt_/span_gt_.PI / _lt_span_gt_2_lt_/span_gt__sm_ // or any radian value_lt_/span_gt__lt_/code_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t...should do the trick.Â Â  More stuff... _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/playground/?code_eq_upperAlphaLimit_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/playground/?code_eq_upperAlphaLimit_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThere is some advanced things that can be done with camera.isInFrustum(someMesh)... but we won_t_t visit that_co_ yet.Â  _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_Also_co_ cameras can have BJS _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/how_to/camera_behaviors_qt_ rel_eq__qt_external nofollow_qt__gt_Camera Behaviors_lt_/a_gt__co_ one of which is _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/how_to/camera_behaviors#framing-behavior_qt_ rel_eq__qt_external nofollow_qt__gt_Framing Behavior_lt_/a_gt_.Â  I haven_t_t used it much_co_ but it sure looks interesting and powerful._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_Keep in mind that ArcCam targets... are a vector3 value.Â  It is common for folks to animate .vector3 values... or even invisibleMesh.positions... from location to location... as a way to aim the ArcCam.Â  People often want to adjust camera alpha_co_ beta_co_ and radius... to aim an ArcCam.Â  They sometimes forget about moving its .target vector3 and letting the camera aim itself at the new location.Â  Just a little reminder._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_I once built some little eased animator functions... and put them on all mesh...Â  _lt_/span_gt__lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#HH1U5%2372_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#HH1U5#72_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t(lines 2 - 50)Â  As you can see_co_ they are just _qt_wrappers_qt_ for the cool BABYLON.Animation.CreateAndStartAnimation() func.Â  Might be handy for... _lt_strong_gt_myInvisibleMeshCamTarget.moveTo(someVec3Position_co_ speed)_lt_/strong_gt_Â  _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_I hope this helps.Â  Write back_co_ as wanted._lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"TheGrumps","Date":"2018-05-01T10:15:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi Wingnut_co_ thanks for the welcome and the response.Â _lt_span class_eq__qt_ipsEmoji_qt__gt_ðŸ™‚_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSorry_co_ I think I wasn_t_t clear - I see limiting rotation and radius_co_ but I_t_m not clear on how to limit the pan. To make things clearer_co_ I_t_ve put together a playground_dd_Â _lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#XEIQ25_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//playground.babylonjs.com/#XEIQ25_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWelcome any suggestions!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf need be I can always implement the pan behaviour myself to support the clamping of the target position_co_ but the amount of math involved would be a pain so I thought I_t_d double check I haven_t_t missed anything obvious before heading down that path.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2018-05-01T15:12:57Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi TG!Â Â  Umm_co_ I_t_m not sure I understand.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#XEIQ25%231_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//playground.babylonjs.com/#XEIQ25#1_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLike that?Â Â  See lines 22/23 set to tiny tiny values.Â  I gave you Math.PI numbers in my example_co_ but I figged you would set them real small_co_ after some experiments.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSet lines 24/25 to ... oh... 1.5701 &amp_sm_ 1.5700... and that will do the same for cam tilt/pitch... if wanted.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThat would result in a rather input-less aim-at-.target cam... which is maybe what you want.Â  We might have been able to do the same... by removing _qt_mouseInput_qt_ and/or _qt_keyboardInput_qt_... from the camera.inputs property.Â  I don_t_t know much about adding/removing camera.inputs_co_ but playground searching could help.Â  Using a freeCam with .lockedTarget might also work.Â  The cam.lockedTarget could be an invisibleMesh.position_co_ and that could be animated/moved to anyOtherMesh.position.Â  (Fun with moving cameras-around - the adventure.)Â  _lt_span_gt__dd_)_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut_co_ let_t_s stay on subject.Â  _qt_Panning_qt_ (orbiting) is now disabled_co_ yes?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tControl + left-mousebutton-drag... is still active... and that is sometimes called _qt_dolly left/right_qt_... and sometimes called _qt_strafe_qt_ and sometimes called _qt_slewing_qt_.Â  It is a moving the .target position_co_ which makes the camera come-along.Â  Right now... when you say _qt_pan_qt__co_ I am assuming that you do NOT mean... control + left-mouse-button-drag.Â  _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_Â  You mean... WITHOUT using the control key _eq__eq_ pan._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_I just want to make sure that I_t_m not confused.Â  I get that way_co_ sometimes.Â  _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"TheGrumps","Date":"2018-05-02T00:05:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi Wingnut_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks for the response!\n_lt_/p_gt_\n\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_213399_qt_ data-ipsquote-contentid_eq__qt_37285_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1525187577_qt_ data-ipsquote-userid_eq__qt_5733_qt_ data-ipsquote-username_eq__qt_Wingnut_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t8 hours ago_co_ Wingnut said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tUmm_co_ I_t_m not su_lt_span_gt_ï»¿_lt_/span_gt_re I understand.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tSorry_co_ I think I_t_m confusing you with the terminology I_t_m using - by _qt_pan_qt_ I refer to movingÂ the camera and target around in the scene. (I agree that _qt_pan_qt_ isn_t_t really the correct term for this - _qt_track_qt_ seems more correct to me_co_ but the ArcRotateCamera uses the term _qt_pan_qt_ for this.)\n_lt_/p_gt_\n\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_213399_qt_ data-ipsquote-contentid_eq__qt_37285_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1525187577_qt_ data-ipsquote-userid_eq__qt_5733_qt_ data-ipsquote-username_eq__qt_Wingnut_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t8 hours ago_co_ Wingnut said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\twhen you say _qt_pan_qt__co_ I am assuming that you do NOT mean... control + left-mouse-button-drag._lt_span_gt_ï»¿_lt_/span_gt_\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tYes_co_ that_t_s what I_t_m referring to.Â _lt_span class_eq__qt_ipsEmoji_qt__gt_ðŸ˜„_lt_/span_gt_Â (All the settings for this on the camera_co_ such as intertia and origin target refer to this as _qt_pan_qt_ - sorry for the confusion!)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn my original playground_co_ you can control + left mouse button drag to move the camera (and the target)Â around the scene_co_ and the target position is being clamped in the render loop.Â However this results in strange behaviour when the target reaches the clamped boundary - you can see this by moving to the edges. (There_t_s some wobbly and _qt_elastic_qt_ camera behaviour.) Therefore I assume this is not the correct way to limit the target position_co_ and was wondering whether there is a way to achieve this correctly?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAs mentioned in my previous post_co_ no problem if there isn_t_t one since it would be possible to achieve by manually handling panning and only updating theÂ inertialPanningX andÂ inertialPanningY values when suitable_co_ but the amount of matrix math involved is likely to be a pain! But if I do go that route I_t_d be happy to share if anyone needs.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2018-05-02T00:18:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tAh yes_co_ ok_co_ I see it.Â  (thx for the clarification_co_ tg... well done).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tStrange camera behavior... at the edges.Â Â  (reminder to others... _lt_strong_gt__lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#XEIQ25_qt_ rel_eq__qt_external nofollow_qt__gt_this PG_lt_/a_gt__lt_/strong_gt_ - control-drag to edges of screen - clamp troubles.)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI don_t_t have a solution or a reason figged_co_ but I_t_ll think about it.Â  Probably over my head... but that doesn_t_t matter to me_co_ I_t_ll talk anyway.Â  _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCould camera.useFramingBehavior... possibly be of assistance?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//doc.babylonjs.com/how_to/camera_behaviors#framing-behavior_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/how_to/camera_behaviors#framing-behavior_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt_t_s sort of new-ish... I have very little experience with it.Â  Ok_co_ stay tuned... show_t_n_t_tell.Â  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_Â  Issue open.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2018-05-11T13:47:44Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHey TG... any good news on this issue?Â  Fellow forum helpers... we could use some input on this_co_ if anyone has some.Â  thx.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-05-11T15:04:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI would go with a simple per frame check. Unless I misunderstand here (happens a lot recently _dd_))_co_ you can just check per frame if camera.getGlobalPosition() is where is should be and if not just call camera.setPosition()\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2018-05-11T21:20:22Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThx DK.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#XEIQ25%235_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//playground.babylonjs.com/#XEIQ25#5_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWingy goofin_t_ around.Â  Checking control-drag limits.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI couldn_t_t get camera.getPosition() or camera.getGlobalPosition()... to work.Â  Funcs not found.Â  hmm.Â  Maybe I need a browser cache clearing.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI played with camera.target_co_ instead.Â Â  (tiz ok_co_ because we are talking about CONTROL-dragging_co_ here_co_ which IS camera.target dragging.Â  Camera.target is a vector3.)Â  (for those following along at home)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAll BJS-provided camera constraints are OFF.Â  (lines 15-25)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLines 36-43 is the _qt_target corral_qt_... where we fence-in the camera.target to a 10 x 10 box/corral.Â  _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_Â  Round-up!_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_Seems ok.Â  The only weird part... is when you orbit the camera about 25 degrees (or any odd angle)... and then start control-dragging.Â  When the _qt_fence_qt_ is encountered... sometimes the camera moves closer-to/further-from target... a small amount.Â  That seems weird... but maybe expected.Â  Maybe I need else-ifs instead of ifs.Â  Comments/code welcome.Â  (thx)_lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]