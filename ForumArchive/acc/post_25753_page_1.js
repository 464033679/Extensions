[{"Owner":"Benji","Date":"2016-10-14T07:44:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am very new to Babylon.js and to coding in general...\n_lt_/p_gt_\n\n_lt_p_gt_\n\ti_t_ve been looking at the tutorials on  _lt_a href_eq__qt_http_dd_//pixelcodr.com_qt_ rel_eq__qt_external nofollow_qt__gt_pixelcodr.com_lt_/a_gt_ and played around a little with that. Now there is this tutorial _qt_play with physics_qt_. Works fine. But when I replace the Oimo.js and Babylon.js that comes shipped with the tutorial with the most recent_co_ I get this error message_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t _lt_font color_eq__qt_#333333_qt__gt_TypeError_dd_ undefined is not an object (evaluating _t_this.body.body.linearVelocity‘)_lt_/font_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_font color_eq__qt_#333333_qt__gt_Any ideas how to get that fixed?_lt_/font_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_font color_eq__qt_#333333_qt__gt_Thank you!_lt_/font_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"dbawel","Date":"2016-10-14T11:09:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/23962-benji/?do_eq_hovercard_qt_ data-mentionid_eq__qt_23962_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/23962-benji/_qt_ rel_eq__qt__qt__gt_@Benji_lt_/a_gt_ - I just spent most of last week discovering that there are many broken functions in using Oimo.js with the babylon.js physics - and all is well now that I switched back to cannon.js. Most all of my code is fully compatible_co_ so there is little further work for you to change to cannon.js. So I hate to say_co_ but there is no current way to use oimo.js with babylon.js v2.5 (unknown with ealier versions)_co_ as I exhausted evry possible method of integration. And as there are issues with restitution_co_ scene.physics.newBabylonVector()_co_ and other key foundational attributes_co_ there is no way to currently use this in your project. I spent considerable time looking at oimo and BJS for what might be causing the problems_co_ but after much time_co_ I simply am not the right person to solve what appears to be more than one serious bug - but many incompatabilities currently. I want to file a bug report_co_ but haven_t_t had time yet due to a tight schedule on my current project which I lost most of a week trying to integrate oimo.js. It only took a couple hours to switch my entire scene to cannon.js - so I recommend you take this direction before spending another second trying to integrate oimo.js - unfortunately. If you need more specifics_co_ I can try and provide these_co_ but it_t_s also been onfirmed by many in the BJS community now. But you_t_ll be just fine with switching to cannon.js as suddenly everything will work as expected previously using oimo.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCheers_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDB\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Benji","Date":"2016-10-14T12:01:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks a lot_co_ DB for taking the time to explain that. For me_co_ cannon.js will be just fine I gess. I haven_t_t written much code that I_t_d have to rewrite now - unlike you...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI actually only went for Oimo because people seemed to like it for its performance - and I have a little project in mind that involves several k colliding objects...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBenji\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"dbawel","Date":"2016-10-14T12:26:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/23962-benji/?do_eq_hovercard_qt_ data-mentionid_eq__qt_23962_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/23962-benji/_qt_ rel_eq__qt__qt__gt_@Benji_lt_/a_gt_ - The good news is that you won_t_t need to change much code - if any - other than to assign the cannon.js plugin in place of oimo.js. Otherwise_co_ the callbacks are the same in babylon.js for both cannon and oimo_sm_ as well as setting up impostrs and vectors - so there maybe little else to change other than the syntax to declare imposter positions - and you also have additional forces you may want to use in cannon which are not available in oimo - so it may be a better choice for you project from the start. It certainly is for my current project.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf you have any further questions or require additional help_co_ don_t_t hesitate to ask - and as we always do -\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWelcome to the babylon.js forum!_lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tCheers_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDB\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2016-10-14T12:31:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIf _qt_this_qt_ is referring to a mesh_co_ then try_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tthis.physicsImpostor.physicsBody.linearVelocity\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Benji","Date":"2016-10-15T19:52:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/11286-dbawel/?do_eq_hovercard_qt_ data-mentionid_eq__qt_11286_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/11286-dbawel/_qt_ rel_eq__qt__qt__gt_@dbawel_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI did change to cannon.js now. There also was a typo problem in my code regarding Impostor vs. Imposter. The code is running fine now_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1BKBBK%2319_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1BKBBK#19_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tbut the speed??! Dunno if its due to my old Macbook (2009)_co_ but frame rate goes down to 10 per sec. with 150 colliding objects. Is that normal?? Is there a way to improve that? I_t_d happily trade in some accuracy for speed_co_ if there is a way. Somewhere I read about instances - could that maybe help? (The objects falling are all the same)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks again! Seems to be a great community here!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"dbawel","Date":"2016-10-16T02:23:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/23962-benji/?do_eq_hovercard_qt_ data-mentionid_eq__qt_23962_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/23962-benji/_qt_ rel_eq__qt__qt__gt_@Benji_lt_/a_gt_ -\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFirst - you_t_ll find that your fps should impove by at least 20% once you move your scene from the PG to your server due to the additional overhead in the Playground. Otherwise_co_ it_t_s simply your hardware as I_t_m on a Windows 10 laptop almost 3 years old which never drops below 40fps running your last PG scene. Also_co_ it_t_s not slowing your framerate_co_ but I_t_m not a fan of declaring variables for functions within the WebGL framework such as you_t_re declaring with your variable _qt_V3_qt_. In y opinion_co_ this can get messy and over complicate scenes - especially once you begin adding complexity. I would avoid this yet comtinue to declare literals when possible for both complexity as well as memory overhead you simply don_t_t need. But again_co_ that_t_s an opinion_co_ and if you see topics on vatiable declarations online_co_ they are usually shut down by administrators quickly as they generally lead to arguments between site users. So to any other users on this forum please take this as simply my own opinion - except for my recommendation to use literal declations for variable when possible to avoid the high potential to loose track of variable decllarations in your scripts.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAlso_co_ I highly recommend setting vectors for your physics engine (especially cannon.js) as I_t_ve personally experienced better compatability with both older and newer vrsions of WebGL and the babylon.js and other frameworks. This will also provide you with additional control over the physics in your scene. Check out the PG scene below_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1BKBBK%2320_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1BKBBK#20_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOtherwise_co_ I tried every _qt_trick_qt_ I know to improve your framerate and maintain similar behavior for your meshes_co_ and could only improve your framerate by perhaps 1 or 2 fps - but not consistantly throughout the simulation - so for me any other changes I made we_t_re irrelevant. The only _qt_tip_qt_ I might provide would be to play around with \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_scene.getPhysicsEngine().setTimeStep()  _lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tas this function comes in really handy for me quite often.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tGood luck_co_ and in my useless opinion you_t_re doing great for only 3 posts._lt_img alt_eq__qt__sm_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ title_eq__qt__sm_)_qt_ width_eq__qt_20_qt_ /_gt_ And no kidding... I_t_m certain you_t_ll be answering questions posted from me soon.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCheers_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDB\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-10-16T06:54:18Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1BKBBK%2321_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1BKBBK#21_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSpheres sure go faster_co_ huh?  hmm.  Even cylinders using sphere imposters... is lots faster.  Cylinders using box imposters _eq_ SOME speed increase_co_ but... spheres... phew.  LOTS faster.  Not sure why.  Possibly because of less _qt_laying atop each other_qt_.  hmm.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBoxes?  Ok. _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1BKBBK%2322_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1BKBBK#22_lt_/a_gt_  Slow again_co_ and it is a Brownian-jitter z-fighting festival.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  Makes me want to iterate thru all the imposters and see how many .isSleeping.  We have seen _lt_em_gt_some_lt_/em_gt_ issues with imposters sinking into the ground... in other playgrounds.  I think these box imposters have done that.  It is not normal to see z-fighting on the bottom of a .isSleeping imposter.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Benji","Date":"2016-10-16T12:04:17Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5733_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/_qt_ rel_eq__qt__qt__gt_@Wingnut_lt_/a_gt_ _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/11286-dbawel/?do_eq_hovercard_qt_ data-mentionid_eq__qt_11286_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/11286-dbawel/_qt_ rel_eq__qt__qt__gt_@dbawel_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tthanks for optimizing the code and checking out different imposters. I_t_m on mobile right now but will play around later on. I encountered boxes sinking into or falling through the ground in earlier versions of the code. Actually I haven_t_t yet figured out why that is now ok.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnyway_co_ my vision of seeing several k objects falling and colliding while keeping a decent frame rate is somewhat weakened right now. Is there a totally different approach maybe with massively reduced accuracy? I didn_t_t have the time to try out setTimeStep() yet though...\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Benji","Date":"2016-10-16T18:40:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tChecking back with Oimo_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#MCCDC%234_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#MCCDC#4_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPhww_co_ its fast!! The Vector3s apparently have to be divided by 10 to get proper results (like -0.98 instead of -9.8 for gravity_sm_ rotation likewise). As soon as velocity goes up_co_ those sticks start to smash through my impenetrable ground. I played al little with the values_co_ but couldn_t_t get it to work properly. It works better with box imposters_co_ but results in some strange looking stick-moves...  \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2016-10-16T18:50:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYes_co_ the default gravity for OIMO in BJS is set too high.  \n_lt_/p_gt_\n_lt_iframe data-embedcontent_eq__qt__qt_ frameborder_eq__qt_0_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/topic/24494-gravity-vector-in-meters-everything-else-in-inches/?do_eq_embed&amp_sm_comment_eq_140508&amp_sm_embedComment_eq_140508&amp_sm_embedDo_eq_findComment_qt__gt__lt_/iframe_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Benji","Date":"2016-10-16T18:59:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_147519_qt_ data-ipsquote-contentid_eq__qt_25753_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1476584616_qt_ data-ipsquote-userid_eq__qt_11286_qt_ data-ipsquote-username_eq__qt_dbawel_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t16 hours ago_co_ dbawel said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tFirst - you_t_ll find that your fps should impove by at least 20% once you move your scene from the PG to your server due to the additional overhead in the Playground.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tstrange - its massively slower on my local MAMP server than running it from within the playground?!!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"dbawel","Date":"2016-10-16T21:35:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/23962-benji/?do_eq_hovercard_qt_ data-mentionid_eq__qt_23962_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/23962-benji/_qt_ rel_eq__qt__qt__gt_@Benji_lt_/a_gt_ - I assume it_t_s an issue using your local MAMP server. If you host remorely on an optimized Apache or node.js server_co_ you should find an increase - as you loose all of the additional unused overhead associated with the Playground. At least this has been the case with every scene I_t_ve moved from the Playground to either my Apache or Node server which are both hosted remotely.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5733_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/_qt_ rel_eq__qt__qt__gt_@Wingnut_lt_/a_gt_ - I always clear my cache as a first step - especially using Chrome as it is a cache and memory monster. So I_t_m still trying to figure out why I cannot load any of the scenes associated with the subject on this post_co_ but will keep working at it. Also_co_ You found something that I have seen for a long time - that sphere imposters often perform better than any other - with the exception of box imposters. However the increse in fps using box imposters vs. sphere imposters is minimal_co_ so I use sphere imposters more than often. If you find that box imposters are slower than spere imposters at any time_co_ it is only scene dependant based upon the setting driving the simulation_sm_ as I find a slight improvement in fps using box imposters over 90% of the time. But again_co_ it_t_s such little improvement generally_co_ that I generally use sphere imposters by default. But it all depends on the target performance_co_ and sphere imposters don_t_t often provide the required result for animation of the object which the imposter is driving. \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4289_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/_qt_ rel_eq__qt__qt__gt_@adam_lt_/a_gt_ - Oimo does function_co_ however it has such little control currently available as so many of the settings don_t_t currently respond in any contrlable way except is very specific hysics simulations where detailed control is not necessary. So I highly advise everyone to avoid Oimo for now_co_ until it is working and controlable as expected. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tDB\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"fenomas","Date":"2016-10-17T04:32:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tLooks like it_t_s time again for me to post my three rules of performance optimization_dd_\n_lt_/p_gt_\n\n_lt_ol_gt__lt_li_gt_\n\t\tProfile\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\tProfile!\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\t_lt_em_gt__lt_strong_gt_Profile!_lt_/strong_gt__lt_/em_gt_\n\t_lt_/li_gt_\n_lt_/ol_gt__lt_p_gt_\n\tRemember folks_co_ your browser includes super-advanced tools that tell you exactly which part of your code is slow. (Unless you use Safari or something _lt_img alt_eq__qt__sm_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ title_eq__qt__sm_)_qt_ width_eq__qt_20_qt_ /_gt_). Trying to optimize a scene without profiling it is like sorting your laundry in the dark. Don_t_t do it.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn this case_co_ profiling the cannon example shows that it spends tons of time in narrowphase collision testing_co_ in a function that mentions _qt_convex polyhedrons_qt_. So it appears that the physics impostors are not being handled as cylinder primitives_co_ but as arbitrary meshes_co_ which are extremely slow. From peeking inside Cannon it looks like it doesn_t_t have a collision type for cylinders_co_ so there_t_s probably no easy fix for this.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAs for Oimo_co_ profiling there shows that time is spread out more evenly_co_ and there isn_t_t any huge spike in narrowphase collision tests. Also there are references to _qt_cylindercylinder_qt_ collision testing_co_ suggesting that here the cylinders are being handled as primitives.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_Takeaway_lt_/strong_gt__dd_ as things stand_co_ Oimo will run this scene much faster than Cannon. If you want to use Cannon and you need more performance_co_ I think your options are (1) don_t_t use cylinders_co_ (2) use fewer cylinders_co_ or (3) fork Cannon and add Cylinder collisions_co_ .\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tPS_dd_ Your server being MAMP/Apache/Node is not affecting your front-end code performance. If you want to know what is_co_ _lt_em_gt__lt_strong_gt_profile!_lt_/strong_gt__lt_/em_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Benji","Date":"2016-10-17T11:34:41Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/12925-fenomas/?do_eq_hovercard_qt_ data-mentionid_eq__qt_12925_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/12925-fenomas/_qt_ rel_eq__qt__qt__gt_@fenomas_lt_/a_gt_ Thanks! That is a great hint! Looks like I have to switch to a different browser then (Safari now... _lt_img alt_eq__qt__dd_P_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_tongue.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/tongue@2x.png 2x_qt_ title_eq__qt__dd_P_qt_ width_eq__qt_20_qt_ /_gt_). Strange that Cannon has Cylinder-Imposters defined by name but not implemented a function to tread them as primitives. So since I_t_d like to stick to Cylinders and rather want to increase their numbers_co_ there are two options for me right now_dd_ stay with Oimo or fork Cannon to add Cylinder collision. Even though _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/11286-dbawel/?do_eq_hovercard_qt_ data-mentionid_eq__qt_11286_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/11286-dbawel/_qt_ rel_eq__qt__qt__gt_@dbawel_lt_/a_gt_ spend some kind and encouraging words in the beginning_co_ I don_t_t see that second option at present - wouldn_t_t even know where to start...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo_co_ if I stick to Oimo_dd_ Somehow I have to get my ground impenetrable. Any ideas on that? I tried a box instead of a plane but it didn_t_t make a big difference. Maybe scaling everything up by factor 10 or 100 helps? I_t_ll give it a try...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNext step will be including air friction. I_t_ll see what you guys have already found out and written about. But in case someone can already tell that it will be (nearly) impossible with Oimo_co_ I_t_m happy for advise...!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBenji\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"fenomas","Date":"2016-10-17T13:24:04Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/23962-benji/?do_eq_hovercard_qt_ data-mentionid_eq__qt_23962_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/23962-benji/_qt_ rel_eq__qt__qt__gt_@Benji_lt_/a_gt_ Glad to help! Adding cylinders to Cannon would basically be a bunch of math. I know where you_t_d need to add it_co_ if you want to try_co_ but I wouldn_t_t fancy it for a bit of light entertainment.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFor impenetrable ground_co_ for a start I_t_d use a Box with some nonzero thickness_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#MCCDC%235_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#MCCDC#5_lt_/a_gt_ (Even then_co_ cylinders will still penetrate if they go fast enough. There are settings to tune if you need to but for normal sized objects and normal speeds it probably won_t_t be an issue.) \n_lt_/p_gt_\n\n_lt_p_gt_\n\tFor air friction_co_ there have been threads about it here before_co_ which should be searchable. My recollection is that neither engine has a built-in property for it_co_ but the easiest thing to do is loop through your objects once per frame and multiply their velocities by 0.99 or so.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAs for Safari - well_co_ it has a profiler of some kind_co_ but whenever I_t_ve tried it_co_ the browser either crashed or slowed down so much that measuring performance was meaningless. Chrome_t_s profiler is the best around right now. Edge is good too - as good as Chrome_t_s for general web development_co_ but not as good as Chrome_t_s for pure JS.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"dbawel","Date":"2016-10-17T18:06:18Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_m happy to hear that _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/12925-fenomas/?do_eq_hovercard_qt_ data-mentionid_eq__qt_12925_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/12925-fenomas/_qt_ rel_eq__qt__qt__gt_@fenomas_lt_/a_gt_ is having luck with Oimo_co_ however_co_ it only works for simple simulations currently and is not controllable - as restitution is entirely broken. So I highly advise against Oimo. Please read the post below_dd_\n_lt_/p_gt_\n_lt_iframe data-embedcontent_eq__qt__qt_ frameborder_eq__qt_0_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/topic/25705-oimojs-constant-impulse/?do_eq_embed_qt__gt__lt_/iframe_gt_\n\n_lt_p_gt_\n\tOtherwise_co_ if it does what you need it to do_co_ then I would still worry about future compatability and behaviors - as well as adding any other physics to your scene in the future - at least until Oimo is fixed.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCheers_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDB\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2016-10-17T19:55:17Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/11286-dbawel/?do_eq_hovercard_qt_ data-mentionid_eq__qt_11286_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/11286-dbawel/_qt_ rel_eq__qt__qt__gt_@dbawel_lt_/a_gt_ restitution seems to be working in this demo_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#2JY0P0%2324_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#2JY0P0#24_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_ve been trying to figure out what_t_s going on with that demo of yours where it is broken.  No luck yet.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tEdit_dd_  Sorry_co_ that demo is using Cannon. \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"fenomas","Date":"2016-10-18T05:56:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/11286-dbawel/?do_eq_hovercard_qt_ data-mentionid_eq__qt_11286_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/11286-dbawel/_qt_ rel_eq__qt__qt__gt_@dbawel_lt_/a_gt_ Just because a bug affected your project doesn_t_t mean Oimo _qt_only works for simple simulations_qt_. It_t_s a powerful_co_ fully-featured engine_co_ and for Benji_t_s content it appears to be technically superior to Cannon (by virtue of having the needed primitives).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWith that said_co_ I also don_t_t know why restitution isn_t_t working with it. It seems to work in Oimo_t_s non-Babylon demos_co_ so the bug may well be on the BJS side - or maybe somebody just needs to update a dependency somewhere. \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2016-10-18T11:57:34Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThe default world scale of 100 in oimojs seems to be the problem.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI set it back to 1 in the plugin_t_s constructor here_dd_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#2JY0P0%2328_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#2JY0P0#28_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Benji","Date":"2016-10-18T18:38:00Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t@_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4289_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/_qt_ rel_eq__qt__qt__gt_@adam_lt_/a_gt_ Awesome! Great that you found the culprit. I_t_m curious to see how much of Oimo_t_s sometimes erratic behaviors that will cure.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"dbawel","Date":"2016-10-18T20:40:38Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/12925-fenomas/?do_eq_hovercard_qt_ data-mentionid_eq__qt_12925_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/12925-fenomas/_qt_ rel_eq__qt__qt__gt_@fenomas_lt_/a_gt_ - As I mentioned in a previous post_co_ I am grateful to have Oimo and would prefer to use it over cannon. If _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4289_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/_qt_ rel_eq__qt__qt__gt_@adam_lt_/a_gt_ has truly fixed the restitution and other issues due to a default setting that has somehow changed because of new versioning of WebGL and/or BJS_co_ then I_t_ll be using Oimo again. But I feel justified in warning others not to spend several days as I did trying to solve what @adam hopefully figured out - as without a fix_co_ it truly is not currently usable other than with simple physics simulations - and this has been proven in several scenes on the playground as well as my time trying every possible simulation to discover that most all control is currently lost in Oimo - and just recently. I simply don_t_t want anyone else to discover this by losing time on a production. Please don_t_t take it personally.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tDB\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Benji","Date":"2016-10-23T19:58:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_147828_qt_ data-ipsquote-contentid_eq__qt_25753_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1476791854_qt_ data-ipsquote-userid_eq__qt_4289_qt_ data-ipsquote-username_eq__qt_adam_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tOn 18.10.2016 at 1_dd_57 PM_co_ adam said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tThe default world scale of 100 in oimojs seems to be the problem.\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tI set it back to 1 in the plugin_t_s constructor here_dd_ \n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#2JY0P0%2328_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#2JY0P0#28_lt_/a_gt_\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tHi Adam\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m really a newbie here and not sure whether I got things straight. My understanding is_co_ that the preview version of babylon.js on Github is the one that incorporates all the recent changes (also your plugin correction?) and that the online resource at babylonjs.com/babylon.js is that same version...?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI tried a new scene_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1XCJRB%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1XCJRB#1_lt_/a_gt_ which doesn_t_t look too good. The gravity seems to be to little now (98.1 seems ok) and the stick somehow prefers to stick around...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI don_t_t know whether my code is corrupted_co_ or the changes to the plugin haven_t_t been made yet_co_ or whether a new problem has surfaced??!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAny help is much appreciated!\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2016-10-23T21:10:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThis looks like an OIMO issue.  I just looked at the code for BoxCylinderCollision in Oimo and it could use some work.  I might take a stab at my own BoxCylinderCollider in the next few weeks.  I_t_ll let you know if I have any success.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Benji","Date":"2016-10-23T21:18:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4289_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/_qt_ rel_eq__qt__qt__gt_@adam_lt_/a_gt_ thank you. Do you happen to know anything about energy.js? I saw it beeing announced and I wonder whether it will be published anytime soon.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]