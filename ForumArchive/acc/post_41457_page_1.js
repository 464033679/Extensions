[{"Owner":"Ulfheden","Date":"2018-11-23T01:27:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThere have been numerous threads on this issue kind of_co_ but I just can_t_t find any answer to my problem. I_t_m using a PBRMaterial_co_ and an xNormal-rendered normal map in tangent space_co_ and I_t_ve tried all kind of swizzle coordinates but they all turn out the same it seems. It looks like the normal map causes the polygon shading to not be as smooth anymore. This can_t_t be seen at all in the normal map itself. I_t_ve also tried using a pre-triangulated mesh in Xnormal and using that mesh all the way through the pipeline from Blender to Babylon_co_ just in case the problem would be due to the normal map being rendered on a mesh triangulated differently from the way the Babylon-export did it_co_ leading to the normal map and the mesh being slightly incompatible_co_ but the problem persists. I_t_ve also tried 16-bit versions...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_ve attached an image of what it looks like_co_ from the left_dd_ Without normal_co_ with normal_co_ and with normal map and convertToFlatShadedMesh_co_ all at the exact same camera position etc.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAny clues as to what might be the problem? Has anyone successfully used normal maps in BabylonJS without these issues_co_ and_co_ if so_co_ how?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCheers!\n_lt_/p_gt_\n\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_11/2072357912_Namnls.png.2ccca278f7989e292b4efd6b393ffa8f.png_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_21155_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_11/1783281118_Namnls.thumb.png.61ff97d0e06f8b1251070f85afb608d4.png_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_Namnlös.png_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2018-11-23T13:06:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIt might be related to the space the normals are applied in. Did you try exporting the tanents as well in GLTF for instance ?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI bet _lt_span_gt__lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/32589-patrickryan/?do_eq_hovercard_qt_ data-mentionid_eq__qt_32589_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/32589-patrickryan/_qt_ rel_eq__qt__qt__gt_@PatrickRyan_lt_/a_gt_ can help on the pipeline he is using to prevent this ?_lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"PatrickRyan","Date":"2018-11-23T20:10:22Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/30129-ulfheden/?do_eq_hovercard_qt_ data-mentionid_eq__qt_30129_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/30129-ulfheden/_qt_ rel_eq__qt__qt__gt_@Ulfheden_lt_/a_gt__co_ would you be able to share your mesh and textures with us so we can take a look at what is happening. I have used XNormal in the past_co_ but it is not currently a part of my pipeline. I am usually baking normals either in Substance or ZBrush. But we can successfully use normal maps in Babylon.js as can be seen in this _lt_a href_eq__qt_https_dd_//www.babylonjs.com/demos/flighthelmet/_qt_ rel_eq__qt_external nofollow_qt__gt_demo asset I created_lt_/a_gt_. Happy to take a look at the files and debug what is going on. \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Ulfheden","Date":"2018-11-24T02:26:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tNope_co_ haven_t_t tried GLTF at all. So from Blender using the GLTF exporter instead_co_ and then using the same normal map on that in Babylon?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOh wow_co_ thanks! Here_t_s the mesh and the normal map used in those screenshots above. This normal map has some other artifact under the nose as well_co_ but ignore that for now - it doesn_t_t show up on new Xnormal-rendered normal maps so it might be because of some mistake on my part_co_ but those artifacts in the OP have been persistent for all renders.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe mesh_dd_ _lt_a href_eq__qt_https_dd_//drive.google.com/open?id_eq_11EFFKHfR85aTQzWwJOSHWHQHNqqpsNAp_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//drive.google.com/open?id_eq_11EFFKHfR85aTQzWwJOSHWHQHNqqpsNAp_lt_/a_gt__lt_br /_gt_\n\tThe normal map_dd_ _lt_a href_eq__qt_https_dd_//drive.google.com/open?id_eq_1miZZ8i6l30L5fQ2Q6LUlVbS1L26GKyyc_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//drive.google.com/open?id_eq_1miZZ8i6l30L5fQ2Q6LUlVbS1L26GKyyc_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCheers!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"PatrickRyan","Date":"2018-11-26T18:16:41Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/30129-ulfheden/?do_eq_hovercard_qt_ data-mentionid_eq__qt_30129_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/30129-ulfheden/_qt_ rel_eq__qt__qt__gt_@Ulfheden_lt_/a_gt_ would you be able to share the Blender file as well? I can_t_t debug the mesh as easily with a Babylon file as I have to convert back to a DCC format to be able to see what may be going on. Thanks!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Ulfheden","Date":"2018-11-26T19:00:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/32589-patrickryan/?do_eq_hovercard_qt_ data-mentionid_eq__qt_32589_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/32589-patrickryan/_qt_ rel_eq__qt__qt__gt_@PatrickRyan_lt_/a_gt__co_ sure thing!_lt_br /_gt_\n\t_lt_br /_gt_\n\t_lt_a href_eq__qt_https_dd_//drive.google.com/open?id_eq_1UkMj-BMo6ab4EaEhWGDVLA5IP2M1HYSB_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//drive.google.com/open?id_eq_1UkMj-BMo6ab4EaEhWGDVLA5IP2M1HYSB_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"PatrickRyan","Date":"2018-11-26T21:55:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/30129-ulfheden/?do_eq_hovercard_qt_ data-mentionid_eq__qt_30129_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/30129-ulfheden/_qt_ rel_eq__qt__qt__gt_@Ulfheden_lt_/a_gt_ I looked into your mesh and the only thing I saw missing was your mesh had hard vertex normals_co_ so when that exports you will see faceting in the mesh. The thing to do is select your mesh and soften your faces/edges_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_11/Blender_Smooth.PNG.90bd267cdaecb27a29dc0800111f1006.PNG_qt_ data-fileid_eq__qt_21209_qt_ rel_eq__qt__qt__gt__lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_21209_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_11/Blender_Smooth.thumb.PNG.c8d7e7d19c8c06db3de69062b5ee8995.PNG_qt_ alt_eq__qt_Blender_Smooth.thumb.PNG.c8d7e7d19c8c06db3de69062b5ee8995.PNG_qt_ /_gt__lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI also exported a glb (binary version of a glTF) from the Khronos glTF exporter and used that to test. You can drag/drop it right into the sandbox to see how it renders with Babylon_co_ and other apps can handle it like 3D Viewer for Windows or Sketchfab. You can get the plugin and docs at _lt_a href_eq__qt_https_dd_//github.com/KhronosGroup/glTF-Blender-Exporter_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/KhronosGroup/glTF-Blender-Exporter_lt_/a_gt_. You can see that smoothing the normals renders correctly... I did make the material metallic just so you could see the normal map easier without building a whole lighting rig to see it_dd_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_11/Babylon_glTF.PNG.fc7b7e600ca5c47c9123e0ad7bff8e84.PNG_qt_ data-fileid_eq__qt_21210_qt_ rel_eq__qt__qt__gt__lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_21210_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_11/Babylon_glTF.thumb.PNG.83e9f27efad336cef21fd25b1dd7d531.PNG_qt_ alt_eq__qt_Babylon_glTF.thumb.PNG.83e9f27efad336cef21fd25b1dd7d531.PNG_qt_ /_gt__lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI noticed that your rig breaks when exporting it_co_ so I would look into your skeleton creation and where the bone hierarchy paths because this looks like there is a bin pose rotation on the jaw that is causing it to rotate into the skull. Hope this helps!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Ulfheden","Date":"2018-11-27T10:50:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t@PatrickRyan_co_ thanks! I managed to replicate what you did and I get the same results as you do in the Sandbox with a glTF file exported from Blender. The issue with the export is weird_co_ I don_t_t get that myself_co_ so maybe we_t_re using different versions of the exporter. I don_t_t get this rotation of the jaw either?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHowever_co_ in my application_co_ no matter if I_t_m using StandardMaterial or PBRMaterial_co_ I get the same issue still even after smoothing out the normals.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut after some more testing_co_ I found that the issue was the rig. By unparenting the mesh from the rig_co_ the problem doesn_t_t show up anymore... I don_t_t see what the issue is with my rig - I_t_ve limited the number of weights per vertex to 4_co_ and normalized the weights and everything... Here_t_s a RAR with the full package_co_ from a very minimal website to the Babylon files and textures_dd_ _lt_a href_eq__qt_https_dd_//drive.google.com/open?id_eq_1S98dLumerNHDdQ3HOpNuzo1WoZb8j4ir_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//drive.google.com/open?id_eq_1S98dLumerNHDdQ3HOpNuzo1WoZb8j4ir_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"PatrickRyan","Date":"2018-11-27T19:33:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/30129-ulfheden/?do_eq_hovercard_qt_ data-mentionid_eq__qt_30129_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/30129-ulfheden/_qt_ rel_eq__qt__qt__gt_@Ulfheden_lt_/a_gt_ can you walk me through how you are creating your Babylon file of your mesh from Blender? I can_t_t figure out why the parenting of the mesh would affect the normals of the mesh since you have normals written into the file so there must be something else going on. What exporter are you using and how are you setting up the export? Also_co_ why aren_t_t you getting a materialId in your Babylon file? Are you exporting the mesh with no material? If so_co_ it makes it harder to debug with the sandbox inspector because I don_t_t have access to some of the normal display options when there isn_t_t a material in the file. I_t_d like to figure out if the issue lies in the file setup_co_ the exporter_co_ or the export process so that we can address any bugs or communicate broadly about the process. \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Ulfheden","Date":"2018-11-27T22:05:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/32589-patrickryan/?do_eq_hovercard_qt_ data-mentionid_eq__qt_32589_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/32589-patrickryan/_qt_ rel_eq__qt__qt__gt_@PatrickRyan_lt_/a_gt_ of course! I_t_m using the Babylon exporter _qt_Babylon.js ver 5.6.4_qt_ and export by simply going to File-&gt_sm_Export and clicking on that exporter. Not many options in there though. I_t_ve also tried increasing the precision from three decimals for the various parameters to five (maximum) (these options can be found in the Scene data tab in Blender IIRC)_co_ but to no avail.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tActually_co_ even without the rig_co_ the problem is still kind of there... it_t_s just much more difficult to spot and probably won_t_t be a problem when a diffuse texture is in place as well.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThat_t_s correct_co_ I don_t_t apply any materials or textures in Blender. All textures are applied in BabylonJS in the JavaScript file. Just for the sake of trying it out_co_ I tried applying the normal map in Blender now and then exporting_co_ and removed the commands importing/setting the textures and materials from the JavaScript code but the problem persists. Still_co_ I_t_ve uploaded another Blender file here with the normal map applied in Blender if you prefer that_dd_ _lt_a href_eq__qt_https_dd_//drive.google.com/open?id_eq_1tfxacZW5kMej1WYFry9Sq9DKbkMSNKx3_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//drive.google.com/open?id_eq_1tfxacZW5kMej1WYFry9Sq9DKbkMSNKx3_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI also tried exporting the mesh as OBJ and rendering a new normal map with it as the low poly and then importing it to Blender again and exporting to Babylon_co_ to make sure it_t_s the same normals as used when making the normal map_co_ but still got the same result.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"PatrickRyan","Date":"2018-11-28T18:21:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/30129-ulfheden/?do_eq_hovercard_qt_ data-mentionid_eq__qt_30129_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/30129-ulfheden/_qt_ rel_eq__qt__qt__gt_@Ulfheden_lt_/a_gt_ I dug into the exporters to the Babylon format for Blender and Maya and am finding some strange behavior that may be bugs. I don_t_t know if its directly related to the normals being sharpened because the normal data is present in the Babylon file. However_co_ I noticed that while the materials are exporting with the mesh coming out of Blender using the Babylon 5.6.4 exporter_co_ the textures aren_t_t being read correctly. I am pinging _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/30070-kcoley/?do_eq_hovercard_qt_ data-mentionid_eq__qt_30070_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/30070-kcoley/_qt_ rel_eq__qt__qt__gt_@kcoley_lt_/a_gt_ to take a look as he is the one working on our exporters. We_t_ve been focused on glTF export lately so neither of us are sure if all the new exporter features are pathing correctly to the Babylon format.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"kcoley","Date":"2018-12-03T19:18:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/?do_eq_hovercard_qt_ data-mentionid_eq__qt_8492_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/_qt_ rel_eq__qt__qt__gt_@JCPalmer_lt_/a_gt_ would you be able to take a look at this?  I spent some time looking at the Blender exporter_co_ though I am not sure how to generate normal maps from the tool.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2018-12-03T19:34:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThe current exporter is an exporter_co_ it is not for generating stuff.  It also does not do PBR.  If by normal map you mean a what the geo values for normals are_co_ then get those values assigned by whatever means you know of in Blender.  The exporter will push them out.  The only thing I have ever done is use the Split Edge modifier to give a flat shaded look.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf you require normals at a finer level than your geometry_co_ add a bump texture to the material.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"kcoley","Date":"2018-12-04T06:25:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/?do_eq_hovercard_qt_ data-mentionid_eq__qt_8492_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/_qt_ rel_eq__qt__qt__gt_@JCPalmer_lt_/a_gt_ thank you for the clarification. \n_lt_/p_gt_\n\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tQuote\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\t_lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_The current exporter is an exporter_co_ it is not for generating stuff_lt_/span_gt_\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tMy apologies_co_ when I mentioned generating normal maps_co_ I meant exporting a normal texture attached to a normal input of a material node.  But I see now that you must attach a bump texture to the normal input_co_ which I was able to verify with the Diffuse Material.  Also thanks for the clarification on PBR not being supported.  \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/30129-ulfheden/?do_eq_hovercard_qt_ data-mentionid_eq__qt_30129_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/30129-ulfheden/_qt_ rel_eq__qt__qt__gt_@Ulfheden_lt_/a_gt_ does this help clear things up for you?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"kcoley","Date":"2018-12-05T00:04:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/?do_eq_hovercard_qt_ data-mentionid_eq__qt_8492_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/_qt_ rel_eq__qt__qt__gt_@JCPalmer_lt_/a_gt_  btw_co_ do you have plans for supporting tangent space normal maps_co_ or adding support for PBR with Blender 2.8?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Ulfheden","Date":"2018-12-05T01:08:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_236901_qt_ data-ipsquote-contentid_eq__qt_41457_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1543904728_qt_ data-ipsquote-userid_eq__qt_30070_qt_ data-ipsquote-username_eq__qt_kcoley_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t18 hours ago_co_ kcoley said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/?do_eq_hovercard_qt_ data-mentionid_eq__qt_8492_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/_qt_ rel_eq__qt__qt__gt_@JCPalmer_lt_/a_gt_ thank you for the clarification. \n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tMy apologies_co_ when I mentioned generating normal maps_co_ I meant exporting a normal texture attached to a normal input of a material node.  But I see now that you must attach a bump texture to the normal input_co_ which I was able to verify with the Diffuse Material.  Also thanks for the clarification on PB_lt_span_gt_﻿_lt_/span_gt__lt_span_gt_﻿_lt_/span_gt_R not being supported.  \n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/30129-ulfheden/?do_eq_hovercard_qt_ data-mentionid_eq__qt_30129_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/30129-ulfheden/_qt_ rel_eq__qt__qt__gt_@Ulfheden_lt_/a_gt_ does this help clear things up for you?\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tWell_co_ the issue isn_t_t really solved. If I can_t_t get the normal map to render correctly when using a rig_co_ I_t_d be interested in knowing whether anybody else is able to use normal maps successfully with rigs or if this is specific to my rig (even though I_t_ve normalized and limited the number of influences etc.)?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf it has to do with my normal map itself_co_ should I render in Zbrush instead_co_ and using what settings etc.? A description of a working pipeline would be great_co_ because normal maps seem to be so poorly documented in BJS.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2018-12-05T16:15:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tDo not want to clog this topic with my plans.  Will put out a new topic later today on this.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/30129-ulfheden/?do_eq_hovercard_qt_ data-mentionid_eq__qt_30129_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/30129-ulfheden/_qt_ rel_eq__qt__qt__gt_@Ulfheden_lt_/a_gt__co_ I have little idea of what a _t_normal map_t_ is.  Unless it is something new_co_ this is NOT Babylonian terminology.  I tend to ignore people speaking Unity_co_ maya_co_ or whatever.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThat said_co_ I_t_ll give you one.  I do not think this has anything to do with exporting.  In general_co_ if a model looks like shit in Blender_co_ then exporting it is not going to improve it.  If you want a smooth mesh without increasing your vertex count_dd_\n_lt_/p_gt_\n\n_lt_ol_gt_\n\t_lt_li_gt_\n\t\tRight click your mesh.\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\tGoto edit mode (tab key).\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\tIf all the vertices are not selected_co_ then hit _t_A_t_ a couple of times till they are bright orange.\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\tSelect menu item Mesh-&gt_sm_Faces-&gt_sm_Shade Smooth.\n\t_lt_/li_gt_\n_lt_/ol_gt_\n\n_lt_p_gt_\n\tNow it is as smooth as a babies bottom without adding a single vertex.  Looks a little shiny hear_co_ but that where your material comes in.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_21362_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_12/smooth_faces.JPG.0c1f3e16a0c3d4a0e5aca9f24bb5f9b5.JPG_qt_ alt_eq__qt_smooth_faces.JPG.0c1f3e16a0c3d4a0e5aca9f24bb5f9b5.JPG_qt_ /_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf you are doing PBR_co_ currently you need to use the gltf exporter.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"PatrickRyan","Date":"2018-12-05T18:08:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/?do_eq_hovercard_qt_ data-mentionid_eq__qt_8492_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/_qt_ rel_eq__qt__qt__gt_@JCPalmer_lt_/a_gt_ a normal map isn_t_t a new concept_co_ nor is it something that does not apply to Babylon.js. We have support for normal maps as can be seen at _lt_a href_eq__qt_https_dd_//doc.babylonjs.com/how_to/more_materials_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//doc.babylonjs.com/how_to/more_materials_lt_/a_gt_. There isn_t_t a lot of information on creating them on this doc page_co_ mostly because the information can be easily found elsewhere and all mesh bakers will give you the option for baking them if you can supply a high-poly mesh to project to. The difference between a bump map_co_ which your exporter supports_co_ and a tangent space normal map is the amount of detail that the map contains. Bump maps are black and white images that convey the offset along the face normal for a texel from 0-1. This means that all texels from your texture have a normal parallel with the face normal and light will bounce in the same directions across the face. A normal texture stores a Vector3 per texel (R_co_ G_co_ and B values) so that you can calculate a vector at that texel rather than just an offset giving more realistic and detailed microsurface representation of your model. Due to the extra information you get from a tangent space normal_co_ you won_t_t find a lot of 3D artists opting for a bump map instead of a normal map anymore. \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2018-12-05T18:47:18Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSo_co_ would this be a bump texture or a normal texture?  FYI_co_ I am assigning it to a _t_bumpTexture_t_ in the JSON file_co_ and it loads fine?  I do not see the point of doing something special when the old way has worked for years. \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img alt_eq__qt_gus_Gus_NORMALS.jpg_qt_ class_eq__qt_ipsImage_qt_ height_eq__qt_750_qt_ src_eq__qt_https_dd_//palmer-jc.github.io/scenes/whoopstopia/images/gus_Gus_NORMALS.jpg_qt_ width_eq__qt_750_qt_ /_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]