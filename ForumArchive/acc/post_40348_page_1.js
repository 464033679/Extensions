[{"Owner":"Manhattan","Date":"2018-09-30T12:26:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_ I_t_m taking a rather big bite here since I haven_t_t really used TypeScript before_co_ and I have very limited experience with JS and node in general. So I_t_m not really sure where the fault lies_co_ but I_t_m pretty sure it_t_s something stupid easy.Â \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe problem I have is this_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_Uncaught TypeError_dd_ Cannot read property _t__environmentBRDFTexture_t_ of undefined\n    at Function.e.GetEnvironmentBRDFTexture (babylon.js_dd_1)\n    at t [as constructor] (babylon.js_dd_1)\n    at t [as constructor] (babylon.js_dd_1)\n    at new t (babylon.js_dd_1)\n    at t.Creation.createMaterial (Creation.ts_dd_28)_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tThis error appears any time I try to create a new PBR material - happens with any PBR material. Specific line from where the error originates is simply this_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_var material_dd_ PBRMetallicRoughnessMaterial _eq_ new PBRMetallicRoughnessMaterial(name_co_GLOBAL.scene)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tStandardMaterial works just fine.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am using webpack with ts-loader to bundle the JS_co_ as well as TypeScript Compiler_co_ for verification only. My webpack.config.js is pretty much copy-paste from the docs_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_const path _eq_ require(_t_path_t_)_sm_\n\nmodule.exports _eq_ {\n    entry_dd_ {\n        app_dd_ _t_./src/game.ts_t_\n    }_co_\n    output_dd_ {\n        path_dd_ path.resolve(__dirname_co_ _t_build_t_)_co_\n        filename_dd_ _t_game.js_t_\n    }_co_\n    resolve_dd_ {\n        extensions_dd_ [_t_.ts_t__co_ _t_.tsx_t__co_ _t_.js_t_]\n    }_co_\n    devtool_dd_ _t_source-map_t__co_\n    plugins_dd_ [\n\n    ]_co_\n    module_dd_ {\n        rules_dd_ [{\n            test_dd_ /\\.tsx?$/_co_\n            loader_dd_ _t_ts-loader_t__co_\n            exclude_dd_ /node_modules/\n        }]\n    }\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tAnd this is my tsconfig.json_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_{\n  _qt_compilerOptions_qt__dd_ {\n    /* Basic Options */\n    _qt_target_qt__dd_ _qt_es5_qt__co_\n    _qt_module_qt__dd_ _qt_commonjs_qt__co_\n    _qt_noResolve_qt__dd_ false_co_\n    _qt_noImplicitAny_qt__dd_ false_co_\n    _qt_removeComments_qt__dd_ true_co_\n    _qt_preserveConstEnums_qt__dd_ true_co_\n    _qt_sourceMap_qt__dd_ true_co_\n    _qt_experimentalDecorators_qt__dd_ true_co_\n    _qt_isolatedModules_qt__dd_ false_co_\n    _qt_lib_qt__dd_ [\n      _qt_dom_qt__co_\n      _qt_es2015.promise_qt__co_\n      _qt_es5_qt_\n    ]_co_\n    _qt_declaration_qt__dd_ true_co_\n    _qt_outDir_qt__dd_ _qt_./tscverify_qt__co_\n    _qt_strict_qt__dd_ true_co_\n    _qt_types_qt__dd_ [\n      _qt_babylonjs_qt__co_\n      _qt_babylonjs-gui_qt__co_\n      _qt_babylonjs-materials_qt_\n    ]_co_\n  }\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tHelp?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-10-01T16:53:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello!\n_lt_/p_gt_\n\n_lt_p_gt_\n\thow are you importing babylonjs?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Manhattan","Date":"2018-10-02T13:38:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_230141_qt_ data-ipsquote-contentid_eq__qt_40348_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1538412808_qt_ data-ipsquote-userid_eq__qt_4442_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t20 hours ago_co_ Deltakosh said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tHello!\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\thow are you importing babylonjs?\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tHi! _dd_)_lt_br /_gt_\n\t_lt_br /_gt_\n\tI have babylonjs installed via NPM_co_ and I import it like this_dd__lt_br /_gt_\n\tÂ \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_import {\n    Scene_co_\n    Vector3_co_\n    HemisphericLight_co_\n    Mesh_co_\n    MeshBuilder_co_\n    PBRMetallicRoughnessMaterial_co_\n    StandardMaterial_co_\n    Color3_co_\n    ArcFollowCamera\n    } from _t_babylonjs_t__sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tÂ \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-10-02T16:18:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSo this should work _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt_true_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt__gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_Can you share your project?_lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Manhattan","Date":"2018-10-02T18:41:50Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_230276_qt_ data-ipsquote-contentid_eq__qt_40348_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1538497117_qt_ data-ipsquote-userid_eq__qt_4442_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t1 hour ago_co_ Deltakosh said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tSo this should work _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt_\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t_lt_span_gt_Can you share your project?_lt_/span_gt_\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tOf course I could _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_Â I_t_m simply playing around_co_ trying to familiarize myself with both Babylon as well as TypeScript_co_ nothing confidential here._lt_br /_gt_\n\t_lt_br /_gt_\n\tAnd I would_co_ except..._lt_br /_gt_\n\tI tried all sorts of different bundlers_co_ thinking maybe my WebPack config messed something up. Since nothing worked_co_ I spent some time playing around with other stuff as well.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd now when I went pack to clean the project up a little bit from all the stuff I tried_co_ in order to share it here - PBR material now started to work..._lt_br /_gt_\n\t_lt_br /_gt_\n\tAs far as I_t_m awareÂ - everything is _lt_u_gt_exactly_lt_/u_gt_ the same. And it_t_s not like I tried to reverse something significant_co_Â it_t_s a really small _qt_demo_qt_ of a sphere and PBR material. Except now it works.Â _lt_br /_gt_\n\tI feel bad for having learned nothing of it_co_ and bothering others with a question about it.Â _lt_span class_eq__qt_ipsEmoji_qt__gt_ðŸ˜¶_lt_/span_gt__lt_br /_gt_\n\t_lt_br /_gt_\n\tI must say though_co_ simply looking at the forums_co_ your support is admirable _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt__co_ and I appreciate it.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt_\n\tI will add the source files_co_ still. Everything except the forest.hdr from the playground. If for nothing else_co_ then just to show how simple the project really is.\n_lt_/p_gt_\n\n_lt_p_gt__lt_a class_eq__qt_ipsAttachLink_qt_ href_eq__qt_//www.html5gamedevs.com/applications/core/interface/file/attachment.php?id_eq_20310_qt__gt_project.zip_lt_/a_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-10-03T17:19:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tNo worry as long as it works_co_ it is cool _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt_true_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt__gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ssaket","Date":"2018-10-03T17:42:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/32941-manhattan/?do_eq_hovercard_qt_ data-mentionid_eq__qt_32941_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/32941-manhattan/_qt_ rel_eq__qt__qt__gt_@Manhattan_lt_/a_gt__co_Â  Welcome to the forum.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI too was recently playing with babylonjs-webpack and had faced the same issue.Â  It is because you don_t_t haveÂ _lt_strong_gt_babylonjs-materialsÂ _lt_/strong_gt_in your node_modules.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMore details can be found on -Â _lt_a href_eq__qt_https_dd_//www.npmjs.com/package/babylonjs-materials_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.npmjs.com/package/babylonjs-materials_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAfter this_co_ when you do npm build_co_ you might see some warnings regarding external libs like cannon_co_ earcut_co_ omio.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTo resolve them_co_ refer to this awesome doc -Â _lt_a href_eq__qt_https_dd_//doc.babylonjs.com/features/npm_support_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//doc.babylonjs.com/features/npm_support_lt_/a_gt_Â _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_Â _lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ssaket","Date":"2018-10-03T17:52:04Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tposting the updated project as I don_t_t have anything betterÂ to do _lt_span_gt__lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tÂ \n_lt_/p_gt_\n\n_lt_p_gt__lt_a class_eq__qt_ipsAttachLink_qt_ href_eq__qt_//www.html5gamedevs.com/applications/core/interface/file/attachment.php?id_eq_20328_qt__gt_demoproject.zip_lt_/a_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-10-03T21:36:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tlol thanks _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt_true_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt__gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]