[{"Owner":"jerome","Date":"2015-03-20T08:47:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI just started working about giving to the developper the way to animate or morph a parametric mesh (as she/he can_t_t really know how the vertices are set).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBefore going in the higher logic of smartly dividing  the parametric mesh into subparts_co_ I_t_m just trying to animate it.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI get inspired by this Altreality_t_s former example _dd_ _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#1AVEYO%2313_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#1AVEYO#13_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWell_co_ I just create a wave ribbon here _dd_ _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#1UZIZC_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#1UZIZC_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tand animate then it with _lt_em_gt_updateVerticesData()_lt_/em_gt_ methods (line 62) _dd_ _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#1UZIZC%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#1UZIZC#1_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis works pretty well (60 fps) in my Chromium browser... for 2-3 minutes only.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThen the framerate suddenly falls down to 7/8 fps and _lt_em_gt_something_lt_/em_gt_ (don_t_t get what) seems to crumble (GC calls ? GPU calls ?).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFinally after 6-8 minutes_co_ Chromium (v41) crashes !\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAny idea about what and why (didn_t_t see anything pertinent with debugLayer) ?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-03-20T09:10:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_smells like a memory leak..._lt_/p_gt__lt_p_gt_something to do with array allocations maybe ? _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ alt_eq__qt__dd_(_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-03-20T09:18:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_and just can_t_t reproduce this behavior in FF sor far_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"iiceman","Date":"2015-03-20T09:51:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_That looks pretty cool already!!! But I have the same issue with the latest chrome. After a few minutes the frame rate drops dramatically. (didn_t_t wait for the crash here_co_ though)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Firefox seams to have a similar issue_co_ but a lot slower? The frame rate is changing often sometimes going up_co_ but most of the time going down. It crashed when it hit 22 frames per second_co_ but as I said_co_ it took a lot longer than chrome._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_(I don_t_t have a solution_co_ just confirming the issue _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_tongue.png_qt_ alt_eq__qt__dd_P_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/tongue@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ ) _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-03-20T10:02:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Thank you for reporting..._lt_/p_gt__lt_p_gt_So you crashed your FF too ? Well_co_ it_t_s not a browser bug then_co_ but a bug in my code (or in BJS)_lt_/p_gt__lt_p_gt_I just can_t_t crash FF v36 here for now._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Anyone can reproduce it with IE ?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_or a clue to debug ?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-03-20T10:08:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_In my code_co_ I don_t_t allocate array in the rendering loop._lt_/p_gt__lt_p_gt_I use the same _lt_em_gt_positions_lt_/em_gt_ array and the pre-created once _lt_em_gt_normals_lt_/em_gt_ array._lt_/p_gt__lt_p_gt_I read the code of _lt_em_gt_ComputeNormals()_lt_/em_gt__lt_em_gt_ _lt_/em_gt__dd_ there_t_s no push or array creation_co_ normals are set per array index (normals_lt_em_gt_ _eq_ value). So I guess this method doesn_t_t allocate any extra memory._lt_/em_gt__lt_/p_gt__lt_p_gt__lt_em_gt_ _lt_/em_gt__lt_/p_gt__lt_p_gt__lt_em_gt_Maybe are there temporary arrays created in the _lt_/em_gt__lt_em_gt__lt_em_gt_updateVertices()_lt_/em_gt__lt_/em_gt__lt_em_gt_ method ? don_t_t know_co_ need to check ..._lt_/em_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"iiceman","Date":"2015-03-20T10:11:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_It_t_s FF 36.0.1 here_co_ but on a PC with crappy graphics card (work pc). It didn_t_t crash totally but told me that the script doesn_t_t respond anymore and asked me if I want to wait or cancel the script._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-03-20T10:19:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_ok thanks_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_same example_co_ but normals handling commented _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1UZIZC%232_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1UZIZC#2_lt_/a_gt__lt_/p_gt__lt_p_gt_and same bug_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_something to do with _lt_em_gt_updateVerticesData_lt_/em_gt_ for positions ?_lt_/p_gt__lt_p_gt__lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/Babylon/Mesh/babylon.geometry.ts#L98_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/Babylon/Mesh/babylon.geometry.ts#L98_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_don_t_t get what ... _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ alt_eq__qt__dd_(_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-03-20T10:32:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Ok fixed _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1UZIZC%233_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1UZIZC#3_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The last parameter _lt_em_gt_makeItUnique_lt_/em_gt_ of _lt_em_gt_updateVerticesData()_lt_/em_gt_ was set to true in my code. Now_co_ set to false_co_ I_t_ve got FF and Chromium at 60 fps without crash... so far._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I definitly don_t_t know what this parameter is about and why it makes this memory leak in chrome..._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Temechon","Date":"2015-03-20T10:51:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt__lt_strike_gt_Same problem with my Chrome_co_ and with IE11_co_ although the framerate is descreasing a lot slower in IE._lt_/strike_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Hey guys calm down I don_t_t even have the time to report it_co_ you already fixed it. Damn it !_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-03-20T10:52:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Still with the last link ? _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1UZIZC%233_qt_ title_eq__qt_External link_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs...d.com/#1UZIZC#3_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_My chromium waves my mesh for 20_t_ now and still at 60 fps !_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-03-20T13:24:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_spherical fun _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1UZIZC%234_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1UZIZC#4_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_box fun _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1UZIZC%235_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1UZIZC#5_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-03-20T15:18:50Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Tube animation _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#29CXFN_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#29CXFN_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Well_co_ it_t_s quite more complex than for a simple shape or a flat ribbon because every coordinate has to be recomputed each frame. Indeed_co_ I want that the developer will just have to pass an animated path (the tube axis) - remember _dd_ simple for everyone _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  - or a radius and the tube should be then recomputed (no mesh re-creation_co_ the same mesh morphed)._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_For now_co_ it_t_s just a prototype _dd__lt_/p_gt__lt_p_gt_Mesh data don_t_t need extra memory allocation but_co_ as path_co_ radius_co_ tesselation aren_t_t tube mesh stored properties yet_co_ these values imply new small memory allocations each frame for coordinate computations (ex a new path3D object is created each frame)_co_ then garbage collected._lt_/p_gt__lt_p_gt_This little things could be optimized._lt_/p_gt__lt_p_gt_However runs at 60 fps in chromium and FF here _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I didn_t_t handle uvs either._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I need to have a discuss with DK about how to implement this in BJS _dd__lt_/p_gt__lt_p_gt_add new properties on certain parametric mesh types ?_lt_/p_gt__lt_p_gt_add a new dedicated method to certain parametric mesh types _dd_ tube.morph(path_co_ radius)_co_ tube.update(path_co_ radius)_co_ tube.animate(path_co_ radius) ?_lt_/p_gt__lt_p_gt_or_lt_/p_gt__lt_p_gt_add some static method and pass it the mesh _dd_ morphTube(tubeObject_co_ path_co_ radius) ?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-03-20T15:28:52Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_let_t_s give a z-twist also _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#29CXFN%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#29CXFN#1_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-03-20T15:39:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_LOVELY!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-03-20T16:00:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_not finished.._lt_/p_gt__lt_p_gt_Remember the tube had a radius function also_co_ well _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#29CXFN%233_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#29CXFN#3_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_a little closure line 136 to embed to the _lt_em_gt_k _lt_/em_gt_value in the radiusFunction _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_What I want to do ?_lt_/p_gt__lt_p_gt_See line 40 _dd_ the developer codes only his own updatePath() or updateRadius() function updating a path or a radius. That_t_s enough._lt_/p_gt__lt_p_gt_Then he calls some tube.animate() or MorphTube(tube) or whatever (to be decided according to BJS philosophy) in the render loop and that_t_s it._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Next_co_ I will do the same for ribbon and extrusion (quite same algo_co_ I will factorize it)_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-03-20T16:02:38Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_both together (radius + path) _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#29CXFN%234_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#29CXFN#4_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_gloupgloup_co_ remember_co_ iiceman_co_ the coyote and the roadrunner _dd_ _lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/topic/11772-tube-mesh/?p_eq_69198_qt__gt_http_dd_//www.html5gamedevs.com/topic/11772-tube-mesh/?p_eq_69198_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#29CXFN%235_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#29CXFN#5_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Temechon","Date":"2015-03-20T19:16:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_This ribbon implementation is really really cool ! I like it more and more each demo you do Jerome _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2015-03-21T00:58:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Way nice_co_ Jerome.  We knew this day was coming.  jMesh Industries - _qt_Proudly Making A Mesh Of Everything_qt_  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Remember me talking about how much I like cannons that _qt_pucker-up_qt_ before they fire?  (cartoon cannons). _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Well_co_ I think that little challenge is now solved.  Ol_t_ Jerome has _lt_u_gt_many_lt_/u_gt_ puckers happening in the cannon tube.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Jerome_co_ you haven_t_t fired a physics-active mesh through the air with applyImpulse_co_ tumbling it across a physics-active floor and into a physics-active pile of boxes_co_ have you?  Ever puckered a cannon?  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_It gets short and fat before firing (anticipation)_co_ and then gets long and thin just after the shot._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Yep_co_ we_t_ll need particle smoke from the end of the barrel_co_ too.  FUN!!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Remember the cartoons... when a character would have to travel through a pipe?  And the pipe would bulge to the shape of the character as it travels through the pipe.  FUN!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Snake skin.  Push a 4000 meter Torus Knot through a tiny jMesh tube... and watch the tube conform to the shape of the knot as it moves through the tube!  WOW! _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_But no.  Nothing THAT easy.  We need to shove a spiney spherical harmonic mesh thru a tiny jMesh tube.  Yeah!  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  _lt_u_gt_That_lt_/u_gt_ will test it_t_s snake skin_co_ eh?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_What_t_s that?  You can_t_t get a precise enough bounding box on a spherical harmonic mesh... to make your tube skin conform to its shape?  Well_co_ pft.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-03-21T09:57:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hey Wingy_lt_/p_gt__lt_p_gt_Nice idea_co_ this cartoon cannon  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_tongue.png_qt_ alt_eq__qt__dd_P_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/tongue@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ Love it !_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_There is no physics here_co_ only a vertex position update each frame without any vertex shader use._lt_/p_gt__lt_p_gt_My goal is just to provide to the developer a way to update an already created parametric mesh (as he can_t_t guess how many vertices there are and where they are) instead of disposing it and re-creating a new one slightly different_co_ what is a bad practice in a render loop._lt_/p_gt__lt_p_gt_Imagine a mesh rope swinging from the ceiling... or a puckering cartoon cannon  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The developer only gives a path (an axis) and a radius (or a radius function) to build a tube._lt_/p_gt__lt_p_gt_So I want him just to give another path and another radius (or the same) to update the tube._lt_/p_gt__lt_p_gt_Not to know anything about vertex positions_co_ which are quite complex to compute in the case of  a tube._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I will do the same for the ribbon (almost done actually_co_ I just need to achieve the DOUBLESIDE problem) and we will soon be able to update smoothly any kind of ribbon_co_ so ... a SH  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I will recode the SH demo so a given SH will smoothly (I hope) morph to the next random parameter values instead of creating and destroying intermediate SH on the fly._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2015-03-21T13:01:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_ _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  Yeah_co_ I know that there is no physics active in your demos.  I was trying to get you do a bunch of work for me... for a remake of a game called Artillery Duel.  I thought you might want to try a scene that uses cannon pucker... as a demo scene to showcase your new animation features.  The only physics necessary is to launch the cannonball into the air_co_ and have it bounce and impact things nicely.  No physics is involved in the tube itself._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_But I can make the cannon pucker test/demo_co_ too.  You_t_ve made it much easier for me to do.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  Thanks!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I don_t_t know if SH will see so easy to animate.  The _t_m_t_ values are creation-time variables_co_ I bet.  No simple cosine animating of the m-numbers without complete re-draw_co_ I suspect.  But it_t_s ok.  Morph-animating SH is really not very important or useful_co_ imho.  And a tube skin... whose bulges conform to the shapes of other mesh that get pushed through the too-small-diameter tube... well_co_ that would be quite difficult to accomplish_co_ I would think._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Yep_co_ I think I understand how this works.  One path and radius is for the initial draw.  The second potentially-different path with potentially-different radii... is the animation-influencer path/radii.  Thanks for the explanation... well done.  Good luck on the doubleside endeavor_co_ Captain J. _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-03-21T13:55:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt__lt_/p_gt__lt_div_gt__lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt__gt__lt_div_gt_  And a tube skin... whose bulges conform to the shapes of other mesh that get pushed through the too-small-diameter tube... well_co_ that would be quite difficult to accomplish_co_ I would think._lt_p_gt_ _lt_/p_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_imho_co_ the easiest solution for this would be extrusion _dd_ extrude a circle for a while (well it_t_s a tube)_co_ then change the shape to be extruded to the shape of the mesh you want to be pushed in the tube_co_ then continue with an extruded circle  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_or  just stick a tube_co_ an extruded shape along a short path and finally another tube_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Imagine _dd_ a tube part_co_ then a squared shape extruded (would fake a cube blocked in the tube_co_ for instance) and finally a last tube part._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I need to implement extruded mesh update too _dd_ path_co_ scale_co_ rotation. gasp ! So much to do  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_laugh.png_qt_ alt_eq__qt__dd_lol_dd__qt__gt__lt_/p_gt__lt_p_gt_Maybe actual extrusion (advanced mode) could have a new feature _dd_ shapeFunction ... the ability to change dynamically the shape along the path (keeping the same number of vertex though)_lt_/p_gt__lt_/div_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2015-03-22T13:06:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Interesting thinking_co_ J!  You are SO MUCH FUN to discuss mad-scientist ideas-with.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Jerome_co_ I_t_ve done more reading of your docs... than examining of your classes/code.  Do you do error/log reports when users do illegal things? _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_For example_co_ if the animation (2nd) path/radii has more or less path points than the initial path_co_ would the user be told that?  Have you been thinking about when/where to report things in the console?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I_t_m not trying to criticize anything.  I_t_m trying to learn _qt_best practices_qt_ and see how others do things._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_We sometimes see errors in playgrounds... like _qt_c is not defined_qt__co_ where _qt_c_qt_ could be a_co_ b_co_ c_co_ d_co_ e_co_ f_co_ you name it.  We pros know that means we don_t_t have the correct number of parameters in some framework function call.  But for youngsters_co_ that is a predominently information-less error report.  Even for us pros_co_ that error report doesn_t_t tell us WHICH framework function call is short on parameters.  It_t_s likely the one that we edited just before the RUN that produced the error.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_If you have a moment_co_ can you tell me YOUR thoughts on validity checking... and when it should be done... versus the speed-slowdowns that validity/datatype checking can cause? _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_In my opinion_co_ slowdowns caused by validity checking during scene _qt_assembly_qt_  is not such a big deal.  Slowness during that time... is not overly annoying.  But validity checking during functions that need to run fast... I tend to avoid.  You too_co_ probably._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The ribbon system is not an overly friendly system_co_ at least not until users get their brains in ribbon-mode.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  I_t_m curious if you struggle with when_co_ where_co_ and how-often... you report something to a user.  Thoughts?  (thx)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ANY programmer who has thoughts on _qt_when/what to report_qt__co_ I_t_d love to hear them.  Feel free to use _lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/topic/2571-the-wingnut-chronicles/?view_eq_getlastpost_qt__gt_The Wingnut Chronicles_lt_/a_gt_ to comment on this_co_ if you wish to avoid derailing Jerome_t_s initial topic.  I should have done the same.  But Jerome seems forgiving.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-03-22T14:53:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Well_lt_/p_gt__lt_p_gt_Really good question about logs upon illegal/wrong actions_lt_/p_gt__lt_p_gt_I was exactly wondering what to do about this topic._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_For now_co_ my thoughts are _dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_- there is no log in other BJS methods (in the very big majority of them) on wrong actions _dd_ just try to pass wrong parameter values to many mesh creation methods_co_ it just does nothing or bugs ..._lt_/p_gt__lt_p_gt_- wrong actions are potentially so numerous (wrong number of arguments_co_ wrong types of arguments_co_ wrong order_co_ wrong sign_co_ etc_co_ etc)_co_ I guess it_t_s quite heavy to test any case._lt_/p_gt__lt_p_gt_- I try to design my tools with the best mix I can in terms of adaptativity and efficiency (I hope)_co_ this means they should be as light and fast as possible but able to adjust to many different cases without crashing ... assuming some opinionated behaviors_co_ ex _dd_ ribbons stop at first of shortest paths_co_ priority is given on normals over uvs_co_ etc. These assumptions are then explained in the documentation._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_So_co_ _lt_em_gt_for now_lt_/em_gt__co_ I think I will rather focus on documentation (what should be passed_co_ why this value rather than this one_co_ how it is internally processed then_co_ etc) than implement a checking/logging system._lt_/p_gt__lt_p_gt_I_t_m aware it_t_s not as user-friendly as a console log message _dd_ _qt_the second value must be greater than the third one_qt__lt_/p_gt__lt_p_gt_In brief_co_ I will provide the way to understand and to use it... and then will appeal to the user_t_s intelligence._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_example_co_ for the tube update_co_ I will probably write a doc about this good path usage _dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_- have a single path array_co_ created once outside the render loop_co_ so you won_t_t allocate memory each frame_co__lt_/p_gt__lt_p_gt_- don_t_t create Vector3 objects either in this render loop... avoid any object there creation in general_co__lt_/p_gt__lt_p_gt_- so set Vector3 values into your path array with index array accesses _dd_ _lt_em_gt_path_lt_em_gt_.x _eq_ new_val_co_ path_lt_/em_gt__lt_em_gt__lt_em_gt_.y _eq_ new_val_co_ path_lt_/em_gt__lt_/em_gt__lt_em_gt__lt_em_gt__lt_em_gt_.z _eq_ new_val._lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_/p_gt__lt_p_gt__lt_em_gt__lt_em_gt__lt_em_gt_This way_co_ you are sure to keep the same array_co_ so the same array length and you don_t_t allocate any new memory._lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_/p_gt__lt_p_gt__lt_em_gt__lt_em_gt__lt_em_gt_ _lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_/p_gt__lt_p_gt__lt_em_gt__lt_em_gt__lt_em_gt_Etc._lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_/p_gt__lt_p_gt__lt_em_gt__lt_em_gt__lt_em_gt_ _lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_/p_gt__lt_p_gt__lt_em_gt__lt_em_gt__lt_em_gt_I would prefer to have a good reporting API_co_ but for the reasons mentionned above_co_ I will rather opt for a good documentation instead._lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_/p_gt__lt_p_gt__lt_em_gt__lt_em_gt__lt_em_gt_ _lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_/p_gt__lt_p_gt__lt_em_gt__lt_em_gt__lt_em_gt_BTW_co_ as the BJS API is not usually really verbose in console logging_co_ we could have a dedicated documentation part about how to code/debug with BJS _dd__lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_/p_gt__lt_div_gt__lt_em_gt__lt_em_gt__lt_em_gt_In the PG_co_ if you get a _lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_em_gt__lt_em_gt__lt_em_gt__lt_em_gt__qt_c is not defined_qt__lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_em_gt__lt_em_gt__lt_em_gt_ error_co_ it_t_s due a wrong number of parameters in a method call_co_ so comment all your method calls except one and retry_co_ you will find out which is the one causing the error_lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_/div_gt__lt_div_gt__lt_em_gt__lt_em_gt__lt_em_gt_etc _lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_/div_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Vousk-prod.","Date":"2015-03-23T10:37:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_BJS has a very usefull log tool _dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Tools.Log(message)_co_ Tools.Warn(message) and Tools.Error(message)_lt_/p_gt__lt_p_gt_Each of them will log the message to browser console and format it to keep history and send it to the DebugLayer console._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]