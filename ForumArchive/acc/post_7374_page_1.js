[{"Owner":"SolidCatuar","Date":"2014-06-24T10:21:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hello !_lt_/p_gt__lt_p_gt_I_t_m trying to set a mesh at the center of my canvas while using a free camera_co_ but I have _lt_span_gt__lt_span_gt_difficulties._lt_/span_gt__lt_/span_gt__lt_/p_gt__lt_p_gt_Considering that it_t_s a mandatory feature in fps games_co_ I thought that I may have a response using babylon js transformations classes_co_ and camera worldMatrix and viewMatrix._lt_/p_gt__lt_p_gt_Thank you in advance !_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Temechon","Date":"2014-06-24T10:52:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hello ! _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Check this out _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs.com/playground/#1SQ1UE_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs.com/playground/#1SQ1UE_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The solution is to attach your mesh to the camera (line 15 in my test)._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"SolidCatuar","Date":"2014-06-25T12:37:31Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Thanks !_lt_/p_gt__lt_p_gt_I used this for calculating the 3D position of a mesh placed at the center of the canvas. Knowing that_co_ I do a reference change for calculating the distance between the projection in the viewport of this two meshes _dd_ the central mesh and a picked mesh._lt_/p_gt__lt_p_gt_Now_co_ I_t_m trying to do that without this pointless mesh. So it would be nice if I only had the position of this mesh without this mesh._lt_/p_gt__lt_p_gt_I_t_ve thought of using a Ray but I don_t_t know how to do it_co_ and if it_t_s technically possible._lt_/p_gt__lt_p_gt_Is this a possible solution and is there a solution ?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2014-06-25T15:05:50Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi SC!  Welcome to the forum... good to have you with us.  Getting the distance between the active camera and the picked mesh... is actually SUPER easy.  Take a look at our picking tutorial_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/wiki/11---Picking-collisions_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/wiki/11---Picking-collisions_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt__gt__lt_div_gt__lt_p_gt_The pickResult object is mainly composed of 4 pieces of information_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_1 - hit (bool)_dd_ TRUE if your click hits an object in the scene._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_2 - distance (float)_dd_ the “distance” between the active camera and your hit (infinite if no mesh was hit)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_3 - pickedMesh (BABYLON.Mesh)_dd_ if you hit an object_co_ this is the selected mesh. If not_co_ it’s null._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_4 - pickedPoint (BABYLON.Vector3)_dd_ the point you have clicked_co_ transformed in 3D coordinates_co_ depending on the object you’ve clicked. Null if no hit._lt_/p_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_See #2?  So_co_ _lt_em_gt_pickResult.distance_lt_/em_gt_ contains the distance between the cam and the picked mesh.  Nice_co_ huh?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I made a playground scene to test it..._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs.com/playground/#NP1JN_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs.com/playground/#NP1JN_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Ignore all that _t_label_t_ stuff.  That_t_s just goofy me trying to avoid using an _t_alert_t_.  (Sometimes I think our playground needs a small text output field added to it.)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Way down near the bottom_co_ I use _lt_em_gt_pickResult.distance _lt_/em_gt_to set the text on that lower plane (the label).  But you don_t_t need all that label stuff.  There is a remarked-out alert just above that line_co_ so feel free to un-remark that line_co_ and hit the Run button again.  The playground is designed for making adjustments and hitting Run_co_ over and over... experimenting._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The main point_co_ _lt_em_gt_pickResult.distance_lt_/em_gt__co_ contains the value you need_co_ if I understand your need correctly.  Notice that when you click in the corners_co_ the distance is higher... than when you click in the center.  That makes logical sense_co_ right?  I hope this helps._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"SolidCatuar","Date":"2014-06-26T08:34:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Thanks for your detailed response Wingnut_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_But it doesn_t_t answer to my question. I already know these tools and they are not effective for resolving my problem. I_t_m not trying to calculate the distance between the camera and a picked mesh._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_What I_t_m trying to do is to know the position of a mesh which is placed on the axe of my camera_co_ regardless of the depth. I need to have this position without introducing an additional mesh or a plane._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I_t_ve already managed to do that with recovering the absolute position of a mesh whose parent is the camera and whose position relative to the camera is (0_co_0_co_10)._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_But now_co_ it would be nice to have this position without this mesh. Moreover_co_ is there a function who can get the vector whose direction is the sight direction of the camera ?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Moon","Date":"2014-06-26T12:24:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_44280_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_7374_qt_ data-ipsquote-username_eq__qt_SolidCatuar_qt_ data-cite_eq__qt_SolidCatuar_qt_ data-ipsquote-timestamp_eq__qt_1403771665_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt_is there a function who can get the vector whose direction is the sight direction of the camera ?_lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Hello SolidCatuar_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Try this_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var directionJoueur _eq_ function (rotation) {    var matriceRotation _eq_ BABYLON.Matrix.RotationYawPitchRoll(rotation.y_co_ rotation.x_co_ rotation.z)_sm_    return BABYLON.Vector3.TransformCoordinates(new BABYLON.Vector3(0_co_ 0_co_ 1)_co_ matriceRotation)_sm_}_sm__lt_/pre_gt__lt_p_gt_Cordially_co_ Mounir._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2014-06-26T13:16:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Sorry SC... I misunderstood your needs.  I edit the Playpen Series tutorials pretty often_co_ and after a person does that for a while_co_ a person starts over-explaining things_co_ and speaking like everyone is a beginner to 3D graphics.  It is a strange (and somewhat annoying) habit I have acquired. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_But the good thing about that... it has led to Moon giving us _lt_u_gt_both_lt_/u_gt_ some cool code.  Thanks Moon_co_ for the code_co_ and for cleaning up my mess.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  SC_co_ if you would_co_ make YOUR code/project available_co_ too_co_ at some _t_point_t_.  I love to learn... and I NEED to learn.  Thanks._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Remember a game called Battlezone?  Green vector graphics FPS tank game.  (Am I a geezer?)  Ever since Temechon put that mesh in front of the camera in that playground scene... I have been thinking about that game.  Hmm.  Anyway_co_ enough yapping about me me me.  Geez_co_ Wingy._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"SolidCatuar","Date":"2014-06-26T15:07:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt__lt_span_gt__lt_span_gt_No problems _lt_/span_gt__lt_/span_gt_Wingnut _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_I_t_m too young to have known this game_co_ but retro gaming _lt_span_gt__lt_span_gt_have always_lt_/span_gt_ _lt_span_gt_fascinated me so I will _lt_/span_gt__lt_/span_gt__lt_/p_gt__lt_p_gt_And thank you Moon for this code !_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_On my side I_t_ve solved my problem. _lt_span_gt__lt_span_gt_Here is a_lt_/span_gt_ _lt_span_gt_jsfiddle_lt_/span_gt_ _lt_span_gt_with my_lt_/span_gt_ _lt_span_gt_solution_lt_/span_gt__lt_/span_gt_ _dd_ _lt_a href_eq__qt_http_dd_//jsfiddle.net/BluePampa/J8Mq3/_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//jsfiddle.net/BluePampa/J8Mq3/_lt_/a_gt__lt_/p_gt__lt_p_gt_Here_co_ I_t_m working with a free camera. The results is the same as if I had attached my mesh to a camera but I can get the absolute position of this mesh without creating this mesh and it_t_s important for me !_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_span_gt__lt_span_gt_Thank you_lt_/span_gt_ _lt_span_gt_again_lt_/span_gt_ _lt_span_gt_to everyone ! _lt_/span_gt__lt_/span_gt__lt_span_gt__lt_span_gt_it_t_s really_lt_/span_gt_ _lt_span_gt_handy to be part of a such _lt_span_gt__lt_span_gt_reactive _lt_/span_gt__lt_/span_gt__lt_/span_gt__lt_span_gt_community_lt_/span_gt__lt_/span_gt_ _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]