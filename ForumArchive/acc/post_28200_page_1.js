[{"Owner":"nikokoneko","Date":"2017-02-03T19:45:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi all_co_ this is my first post after working with Babylon JS for a few months already_co_ and at first I would like to express gratitude to all contributors who made this great engine possible.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNow for the question. For a few days I have been trying without success to get good results using VRDeviceOrientationFreeCamera on a simple Google Cardboard._lt_br /_gt_\n\tIn the end_co_ I decided that I could go without barrel distortion effect (which pretty much doubles the frame rates)_co_ but now I am stuck with a camera which FOV is too large (too wide-angle)_co_ and it makes for a very disorienting experience. Apparently .fov property does nothing on VRDeviceOrientationFreeCamera ( correct me if I am wrong ?!)_co_ _lt_strong_gt_so how can I change the lens (fov) _lt_/strong_gt_?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI tried to use RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_CROSSEYED instead of VR rig_co_ which makes .fov property working again_co_ but it results on some strange scaling issue plus it doesn_t_t react to roll rotation. I also played with all VRCameraMetrics properties_co_ none made any effect on the field of view.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks for your help.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-02-04T21:29:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHiya Niko!  Welcome to the forum!\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1TT4LL%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1TT4LL#1_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI made a little scene.beforeRender animator (val -1 to +1)_co_ and tried making _qt_pokes_qt_ (sets)... on camera._rigCameras[*].fov  (lines 55 and 56).  hehe.  It was a deep demented attempt and didn_t_t work.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  Oh well.  Lines 53 and 54 work (need to activate line 57_co_ too).  They do _lt_em_gt_something_lt_/em_gt__co_ but you have already done tests on the metrics.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAw heck_co_ let_t_s activate line 53 and 57 and see what it looks like.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1TT4LL%232_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1TT4LL#2_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNot very exciting_co_ huh?  *nod*   hmmm.  Let_t_s keep playing/experimenting... and invite others to play_co_ too.  C_t_mon everyone_co_ play with our playground... make more saves_co_ see if we can get something that Niko can use.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI dunno why I couldn_t_t make settings to _lt_em_gt_camera._rigCameras[0].fov_lt_/em_gt_ and _lt_em_gt_camera._rigCameras[1].fov.  _lt_/em_gt_Not only did it fail_co_ but I got no smoke_co_ sparks or explosions.  How boring.  _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"nikokoneko","Date":"2017-02-05T20:50:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHey Wingnut! Thanks for your reply - that is a fun playground _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ !\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYeah_co_ some internal piece of code seems to be overriding the .fov values for camera. And what_t_s worse_co_ it seems to be a hard-coded value_co_ since I_t_ve found absolutely no property that would affect camera field of view in any possible way. Really looking forward to resolve this quickly_co_ otherwise I will have to switch to Google VR View + Three.js_co_ and I really prefer Babylon.js_co_ a lot!_lt_br /_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-02-05T21:33:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tNah_co_ you don_t_t want to deal with 3JS... they_t_re all a bunch of drunks over there.  _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tOh wait_co_ maybe I_t_m thinking about ME. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tTo be frank_co_ I don_t_t even know what _qt_field of view_qt_ IS... when dealing with stereoscopic rigs.  metrics.interpupillaryDistance and metrics.lensSeparationDistance are not what you are seeking_co_ though_co_ apparently.  Even if we DID get standard .fov working for both rig cameras... I don_t_t think THAT is what you are seeking_co_ either.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI would have thought .interpupillaryDistance _eq__eq_ fov (for stereo rigs).   But I guess that might be considered _qt_cross-eyed-ness_qt__co_ huh? \n_lt_/p_gt_\n\n_lt_p_gt_\n\tWait_co_ isn_t_t cross-eyed and wall-eyed... the FOV for stereo rigs?  err... no... I_t_m repeating myself.  I don_t_t have much experience in this new fancy stuff.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI probably should have left this one for _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5482-davrous/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5482_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5482-davrous/_qt_ rel_eq__qt__qt__gt_@davrous_lt_/a_gt_.  He gave you a LIKE_co_ but then he didn_t_t have an answer.  I hope your question didn_t_t give him a brain tumor.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  But_co_ don_t_t you worry at all about a BJS solution.  It_t_s all JS.  EVERYTHING is customize-able... if you have a little patience_co_ time_co_ and diligence... to learn about camera rigs.  Everything is here.  We just need to mix the correct dangerous chemicals together.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tMeantime_co_ what the heck do you mean by FOV_co_ Niko?  If you DID get individual control of standard .fov property on both rig cams... do you think THAT would fix your issue?  If you feel like talking some more... I would surely listen_co_ and perhaps others would_co_ too.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"nikokoneko","Date":"2017-02-06T09:59:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHaha_co_ then I_t_m in a good company here!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAs for the FOV_co_ changing field of view is basically analog to taking a real-life camera doing the zoom in/zoom out. So yes_co__lt_strong_gt_ I would like to be change FOV to stereoscopic rig the same way I would do with the normal camera_lt_/strong_gt_._lt_br /_gt_\n\tHere_t_s a quick playground that switches between the two fov values (for a _qt_normal_qt_ single camera).\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#VMQKL%230_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#VMQKL#0_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo by default_co_ with stereo rig I get a view similar to what I call _qt_BAD_qt_ view here. A very wide angle lens_co_ showing distractedly huge amount of scene. I would like to change FOV to get something similar to _qt_GOOD_qt_ condition here._lt_br /_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tNow _lt_strong_gt_here_t_s the reasoning_lt_/strong_gt_ behind why I think I need to change FOV manually.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am aware that to get a real immersive experience the best way to go is with the barrel distortion compensation_co_ but this is not applicable here because_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- Barrel distortion compensation post-render shader basically cuts the performance in half_co_ making it unusable on mobile.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- I find the VRCameraMetrics impossible to tweak to make barrel distortion work on a Cardboard (if anyone has good values_co_ or method to convert/calculate Carboard parameters into VRCameraMetrics  I_t_d be willing to hear). _lt_br /_gt_\n\tWhen wrong barrel distortion is applied_co_ the result is way worse than no barrel distortion at all - basically it_t_s impossible to focus your eyes on anything in the scene. You keep seeing two different scenes all the time.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhen distortion compensation is off_co_ things are not perfect_co_ but it looks way better than the compensation with the wrong parameters._lt_br /_gt_\n\tThe only distracting thing with the compensation off is that the scene has unnaturally wide field of view - hence my attempt to hack FOV to get slightly more natural results._lt_br /_gt_\n\tI am aware that in real life we are not able to _qt_zoom_qt_ with our eyes (yet!) but I am not looking for scientifically accurate simulation_co_ just something that looks fairly convincing.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI hope my explanation makes sense. Bottom line is - I just want to make this work with Cardboard_co_ one way or another... _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tThanks! _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"nikokoneko","Date":"2017-02-06T11:15:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOk_co_ I found the relevant value that affects the FOV!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt_t_s _lt_strong_gt_VRCameraMetrics.postProcessScaleFactor_lt_/strong_gt_._lt_br /_gt_\n\tWhen not using the distortion compensation_co_ changing this value basically zooms in / out. Let_t_s see if I can make this thing work now _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]