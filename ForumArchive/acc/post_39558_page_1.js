[{"Owner":"V!nc3r","Date":"2018-08-22T08:11:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi all!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI need to reproduce an effect _lt_a href_eq__qt_https_dd_//www.bing.com/images/search?q_eq_wall%20mapping%20projection_qt_ rel_eq__qt_external nofollow_qt__gt_360-wall-mapping_lt_/a_gt_ like. To do that_co_ a cubemap projection using SKYBOX_MODE is perfect.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img alt_eq__qt_ovfXjVq.gif_qt_ class_eq__qt_ipsImage_qt_ height_eq__qt_396_qt_ src_eq__qt_https_dd_//i.imgur.com/ovfXjVq.gif_qt_ width_eq__qt_572_qt_ /_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere my example playground_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#JCZIXE%237_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#JCZIXE#7_lt_/a_gt__dd_\n_lt_/p_gt_\n\n_lt_ul_gt_\n\t_lt_li_gt_\n\t\tclick on _lt_em_gt_Cubemap02_lt_/em_gt_ button (this assign a cubemap using SKYBOX_MODE)\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\tyou can see that the skybox projection use the object origin as projection origin (_lt_a href_eq__qt_https_dd_//i.imgur.com/Z0lwNd6.png_qt_ rel_eq__qt_external nofollow_qt__gt_screenshot from Blender_lt_/a_gt__co_ showing where is the object origin)\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\tclick on _lt_em_gt_switch cam_lt_/em_gt_ button_dd_ this teleport you on a FreeCam at the object origin (the orange sphere)_co_ and you can see that the cubemap isn_t_t deformed at all despite of its projection on the 3D mesh_dd_ that_t_s the result wanted.\n\t_lt_/li_gt_\n_lt_/ul_gt_\n\n_lt_p_gt_\n\tBUT_dd_ click on the _lt_em_gt_Cubemap01_lt_/em_gt_ button_dd_ this applied another cubemap on the mesh_co_ using the same object origin... Except I want to project this lightmap from the green sphere point of view.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOnly for reference_co_ if you unzoom you will see the same object duplicate twice but with different origins_co_ showing cubemap projected from other coordinates.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t(you can download _lt_a href_eq__qt_https_dd_//nothing-is-3d.com/tmp/skybox-projection-point/skybox-projection-point.zip_qt_ rel_eq__qt_external nofollow_qt__gt_test scene sources here_lt_/a_gt_).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo my question is_dd_ is it possible to dynamically change the center of a skyxbox cubemap projection?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPotential bonus_dd_ couldn_t_t this projection technique leads us to point light cubemap shadowing?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2018-08-22T12:41:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWe do not support changing the center as by default cubemap are considered at infinite distance so would look the same.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou could try to use local cubemap for this section Using local cubemap mode ofÂ _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/how_to/reflect#cubetexture_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/how_to/reflect#cubetexture_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"V!nc3r","Date":"2018-08-22T13:07:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYes but it seems local cubemap mode doesn_t_t work with SKYBOX_MODE _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#JCZIXE%238_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#JCZIXE#8 _lt_/a_gt_(line 74)_co_ and unfortunatly the SKYBOX_MODE is the only way to get the texture projection I want.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2018-08-22T14:04:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYup this would be interesting to add indeed_co_ I ll check what I can do.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"sharp","Date":"2018-08-22T14:31:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_225773_qt_ data-ipsquote-contentid_eq__qt_39558_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1534941714_qt_ data-ipsquote-userid_eq__qt_20193_qt_ data-ipsquote-username_eq__qt_Sebavan_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t1 hour ago_co_ Sebavan said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tWe do not support changing the center as by default cubemap are considered at infinite distance so would look the same.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tCan_t_t we fake the center ? We triedÂ to change pivot point &amp_sm_Â Â matrix / reflectionTextureMatrix_co_ _eq_Â without successÂ _lt_span class_eq__qt_ipsEmoji_qt__gt_ðŸ˜…_lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2018-08-22T23:12:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOk I got something allowing adding a reflection texture matrix for skybox mode.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBasically the matrix will fit with your translations from origin to new origin.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI will make a PR and new release ASAP.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2018-08-22T23:20:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThe pull request is out _dd_Â _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/pull/4982_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/pull/4982_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe result once deployed will be testable on_dd_Â _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#JCZIXE%239_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#JCZIXE#9_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBasically you can add this on the texture to offset it_dd_\n_lt_/p_gt_\n\n_lt_div style_eq__qt_background-color_dd_#fffffe_sm_color_dd_#000000_sm_font-size_dd_14px_sm__qt__gt_\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#008000_sm__qt__gt_// Offset the skybox center._lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#0000ff_sm__qt__gt_var_lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_ point1ToPoint2 _eq_ cameraPoint02.position.subtract(cameraPoint01.position)_sm__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#0000ff_sm__qt__gt_var_lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_ reflectionMatrix _eq_ BABYLON.Matrix.Translation(point1ToPoint2.x_co_ point1ToPoint2.y_co_ point1ToPoint2.z)_sm__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_otherOriginRefMat.reflectionTexture.setReflectionTextureMatrix(reflectionMatrix)_sm__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\tÂ \n\t_lt_/div_gt_\n_lt_/div_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"V!nc3r","Date":"2018-08-23T08:03:46Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYou roxx! _t_can_t_t wait to test that _lt_span_gt__lt_span class_eq__qt_ipsEmoji_qt__gt_ðŸ¤˜_lt_/span_gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"V!nc3r","Date":"2018-08-23T15:58:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIt works \\o/\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks _dd_)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-08-23T16:11:52Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tExcellent! Flagging as solved!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"V!nc3r","Date":"2018-08-24T07:10:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tAnd is this new functionnality can help to get point light cubemap shadows?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"V!nc3r","Date":"2018-08-24T07:51:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYay! Updating skybox position on each render _lt_span_gt__dd_ _lt_/span_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#JCZIXE%2312_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#JCZIXE#12_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNice job _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/20193-sebavan/?do_eq_hovercard_qt_ data-mentionid_eq__qt_20193_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/20193-sebavan/_qt_ rel_eq__qt__qt__gt_@Sebavan_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-08-24T16:07:57Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tExcellent!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]