[{"Owner":"mise","Date":"2018-11-20T16:43:03Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi! I am very new to Babylon. I am hoping to switch to Babylon for a game that_t_s already well underway after trying two other engines._lt_br /_gt_\n\tI am really liking it so far!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFor now my game is a lot of 2D and one of my requirements is nice text rendering (which I haven_t_t found in the other engines).\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#O4OXG%2316_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//playground.babylonjs.com/#O4OXG#16_lt_/a_gt_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI want to render text on Planes like that_co_ with dynamic backgrounds. This is how for I got with what I want (my camera will be straight facing and stationary) but as you can see if you zoom in_co_ the canvas text_t_s alpha values are mixed with black. The orange part is how I want it to look_co_ but of course that is not a dynamic background.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHow can I preserve those alpha values coming from the Canvas?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks a lot!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"trevordev","Date":"2018-11-20T20:02:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tTry this_dd_ _lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#O4OXG%2324_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//playground.babylonjs.com/#O4OXG#24_lt_/a_gt_ _co_ I think you were missing setting the opacityTexture\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"mise","Date":"2018-11-20T23:04:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tNice one. With your help I figured it out_dd_ _lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#O4OXG%2325_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//playground.babylonjs.com/#O4OXG#25_lt_/a_gt__lt_br /_gt_\n\twe paint the diffuse texture completely text color_co_ which gets rid of the left over black pixels in your version.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI don_t_t think you can get the orange rectangle in there without making more textures_co_ but I think that is fine.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks mate!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"mise","Date":"2018-11-21T10:04:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI still think it_t_s strange that you can_t_t directly use the alpha values_co_ at least not without also taking the black background pixels that have no business being there _lt_span_gt__dd_)._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI think you now need a texture layer for each color you want to draw on the canvas (at least if you want anti aliasing_co_ which seems wise if you want any image quality).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tEdit_dd_ Am I correct that hasAlpha doesn_t_t work as expected? it seems to round alpha values to 1 or 0_co_ that is why my original example looks so weird. Can someone explain why that is? That would also make it hard to display regular non-square sprites.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2018-11-21T15:06:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\thasAlpha determines if alpha TEST is on not alpha Blend_co_ alpha blend is defined by the presence of vertex alpha_co_ opacity texture_co_ alpha &lt_sm_ 1 or the flag use alphaFromDiffuseTexture being true in the material. Hope that helps.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"brianzinn","Date":"2018-11-21T15:54:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_235662_qt_ data-ipsquote-contentid_eq__qt_41404_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1542794673_qt_ data-ipsquote-userid_eq__qt_32560_qt_ data-ipsquote-username_eq__qt_mise_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t5 hours ago_co_ mise said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tAm I correct that hasAlpha doesn_t_t work as expected?\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tIn addition to what Sebavan has said_co_ have a look at assigning an AdvancedDynamicTexture to a mesh 4th parameter_dd__lt_br /_gt_\n\t_lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/gui/src/2D/advancedDynamicTexture.ts#L867_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/gui/src/2D/advancedDynamicTexture.ts#L867_lt_/a_gt__lt_br /_gt_\n\tYou will see from the comment that on the variable _t_onlyAlphaTesting_t_ that  alpha testing will be used_co_ but not alpha blending.  Also note how different textures are assigned to the material (ie_dd_ hasAlpha _eq_ true doesn_t_t assign opacityTexture_co_ but does assign diffuseTexture). HTH.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"mise","Date":"2018-11-21T22:24:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_235681_qt_ data-ipsquote-contentid_eq__qt_41404_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1542812813_qt_ data-ipsquote-userid_eq__qt_20193_qt_ data-ipsquote-username_eq__qt_Sebavan_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t7 hours ago_co_ Sebavan said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\thasAlpha determines if alpha TEST is on not alpha Blend_co_ alpha blend is defined by the presence of vertex alpha_co_ opacity texture_co_ alpha &lt_sm_ 1 or the flag use alphaFromDiffuseTexture _lt_span_gt_﻿_lt_/span_gt_being true in the material. Hope that helps.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tthat is clear_co_ thank you. useAlphaFromDiffuseTexture works well to create nice half alpha pixels_co_ I definitely missed that.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am still wondering where these part-black pixels are coming from then_co_ now that the alpha is working._lt_br /_gt_\n\tupdated example with useAlphaFromDiffuseTexture_dd_ _lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#O4OXG%2326_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//playground.babylonjs.com/#O4OXG#26_lt_/a_gt_ (orange square is just there to make the black pixels more clear)\n_lt_/p_gt_\n\n_lt_p_gt_\n\thow I would like it to look_co_ but without using opacityTexture (if this is possible of course!)_dd_ _lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#O4OXG%2325_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//playground.babylonjs.com/#O4OXG#25_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m seriously loving Babylon so far and thanks for the quick responses.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"mise","Date":"2018-11-27T10:08:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI am finding more reasons to figure out a way to do this_co_ can anyone help?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSummary of what I want_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- draw to Canvas context_co_ text and shapes of varying colors_lt_br /_gt_\n\t- use texture in such a way that both color info and partial alpha values are preserved_lt_br /_gt_\n\t- without having leftover color values that don_t_t belong (like black values in above example)_lt_br /_gt_\n\t- without using multiple Planes (this is how I do it now_co_ but if you stack them too close strange things happen)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThank you so much for helping.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2018-11-27T13:38:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tMain issue is it is not only partial alpha you are getting but color information from the antialiasing technique used in canvas 2D so either the background needs to be the color of the drawn objects or you need to use only the alpha info without the color.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLast possibilities would be to try disabling anti aliasing for the text in the canvas 2D (if it is possible  ???) and use your own AA technique when you are drawing the text.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"mise","Date":"2018-11-27T14:07:34Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_236284_qt_ data-ipsquote-contentid_eq__qt_41404_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1543325922_qt_ data-ipsquote-userid_eq__qt_20193_qt_ data-ipsquote-username_eq__qt_Sebavan_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t23 minutes ago_co_ Sebavan said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tMain issue is it is not only partial alpha you are getting but color information from the antialiasing technique used in canvas 2D so either the background needs to be the color of the drawn objects or you need to use only the alpha info without the color.\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tLast possibilities would be to try disabling anti aliasing for the text in the canvas 2D (if it is possible  ???) and use your own AA technique when you are drawing the text.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tThe Canvas is transparent by default (_lt_a href_eq__qt_https_dd_//stackoverflow.com/questions/4815166/how-do-i-make-a-transparent-canvas-in-html5_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//stackoverflow.com/questions/4815166/how-do-i-make-a-transparent-canvas-in-html5_lt_/a_gt_)_co_ I confirmed this by right click saving and I got a transparent png. So I still don_t_t understand where this extra color information comes from (my guess would be from the code that creates the texture from the Canvas). The way I see it_co_ the canvas has alpha and color info and I want both of those values_co_ so I_t_m not sure what you mean by _t_you need to use only the alpha info without the color_t_.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMaybe that is the solution though. Create a canvas_co_ save it to a image element_co_ and then use that to create a texture. quite messy_co_ but it just might work.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2018-11-27T14:22:41Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThe thing is the black colors are coming from interolation due to texture sampling. As the neighbors pixels are black even if transparent. while sampling the texture black will be interpolated in.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDisabling it works but you ll need to adjust your texture to fit with the desired screen size.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#O4OXG%2329_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//playground.babylonjs.com/#O4OXG#29_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"mise","Date":"2018-11-28T12:26:34Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOk_co_ I get now where the blacks are coming from.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI think I will start a new topic with a broader question of how to approach my goal_co_ thanks so far _lt_span_gt__dd_))_lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]