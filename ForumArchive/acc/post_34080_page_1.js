[{"Owner":"AshishS321","Date":"2017-11-18T05:58:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI am using Blender 2.79 version and Blender2Babylon-5.4 exporter. I am getting error while exporting it to .babylon scene\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAttaching the blend file as well as the log file. Please help. \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t-Ashish\n_lt_/p_gt_\n\n_lt_p_gt__lt_a class_eq__qt_ipsAttachLink_qt_ href_eq__qt_//www.html5gamedevs.com/applications/core/interface/file/attachment.php?id_eq_15770_qt__gt_pump_oil_blendswap.blend_lt_/a_gt__lt_/p_gt_\n_lt_p_gt__lt_a class_eq__qt_ipsAttachLink_qt_ href_eq__qt_//www.html5gamedevs.com/applications/core/interface/file/attachment.php?id_eq_15771_qt__gt_pump_oil_blendswap.log_lt_/a_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"AshishS321","Date":"2017-11-18T06:03:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tGetting following error\n_lt_/p_gt_\n\n_lt_p_gt_\n\tERROR_dd_  _t_NoneType_t_ object has no attribute _t_get_index_of_bone_t_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2017-11-19T16:12:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThe exporter requires that all armatures of an exported mesh be on a Blender Layer that is currently visible.  Your armature is on Layer 11.  Though I ran this on the JS exporter_co_ first pass results are nearly identical.  With layers 1 &amp_sm_ 11 selected (since this is not your .blend_co_ I would select them all &amp_sm_ delete any unwanted stuff)_co_ I get this log file below.  Notice it is now processing a skeleton.  With the skeleton now being included_co_ you now encounter a problem with the mesh named _t_BezierCurve.005_t_.  You will also need to apply tranforms on that mesh_co_ since it is using the skeleton.\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt__eq__eq__eq__eq__eq__eq__eq__eq__eq_ Conversion from Blender to Babylon.js _eq__eq__eq__eq__eq__eq__eq__eq__eq_\nScene settings used_dd_\nselected layers only_dd_  false\nflat shading entire scene_dd_  false\ninline textures_dd_  false\ntexture directory_dd_  C_dd_\\Users\\JEFFPA~1\\AppData\\Local\\Temp\\\nPython World class constructor completed\nprocessing begun of skeleton_dd_  Armature_co_ id_dd_  0\nprocessing begun of bone_dd_  ik.L_co_ index_dd_  0\nprocessing begun of bone_dd_  sigue_ik.L_co_ index_dd_  1\nprocessing begun of bone_dd_  rot.L_co_ index_dd_  2\nprocessing begun of bone_dd_  Bone.001_co_ index_dd_  3\nprocessing begun of bone_dd_  Bone.002_co_ index_dd_  4\nprocessing begun of bone_dd_  mueve_guia_co_ index_dd_  5\nprocessing begun of bone_dd_  ik_pozo_co_ index_dd_  6\nprocessing begun of bone_dd_  soga1_co_ index_dd_  7\nprocessing begun of bone_dd_  soga2_co_ index_dd_  8\nprocessing begun of bone_dd_  soga3_co_ index_dd_  9\nprocessing begun of bone_dd_  soga4_co_ index_dd_  10\nprocessing begun of bone_dd_  soga5_co_ index_dd_  11\nprocessing begun of bone_dd_  soga_ik_co_ index_dd_  12\nprocessing action Action_dd_  in[0 - 1]_co_ out[0 - 1]\nprocessing action Action.044_dd_  in[0 - 1]_co_ out[10 - 11]\nprocessing action ArmatureAction_dd_  in[0 - 100]_co_ out[20 - 120]\nprocessing action Cylinder.042Action_dd_  in[0 - 100]_co_ out[130 - 230]\nprocessing action Cylinder.043Action_dd_  in[0 - 100]_co_ out[240 - 340]\nprocessing begun of mesh_dd_  Plane.015\nprocessing begun of Standard material_dd_  Material\nnum positions      _dd_  81\nnum normals        _dd_  81\nnum uvs            _dd_  0\nnum uvs2           _dd_  0\nnum colors         _dd_  0\nnum indices        _dd_  384\nWARNING_dd_ The following object (type - CURVE) is not currently exportable thus ignored_dd_ BezierCurve.006\nprocessing begun of mesh_dd_  Cylinder.095\nprocessing begun of baked material_dd_  Cylinder.095\nSmart Projection time_dd_ 0.06\nCycles baking texture_co_ type_dd_ NORMAL_co_ mapped using_dd_ BakingUV\nInfo_dd_ Baking map saved to internal image_co_ save it externally or pack it\nnum positions      _dd_  1185\nnum normals        _dd_  1185\nnum uvs            _dd_  2370\nnum uvs2           _dd_  0\nnum colors         _dd_  0\nnum indices        _dd_  3816\nprocessing begun of mesh_dd_  Plane.008\nprocessing begun of baked material_dd_  Plane.008\nSmart Projection time_dd_ 0.00\nCycles baking texture_co_ type_dd_ NORMAL_co_ mapped using_dd_ BakingUV\nInfo_dd_ Baking map saved to internal image_co_ save it externally or pack it\nnum positions      _dd_  2049\nnum normals        _dd_  2049\nnum uvs            _dd_  4098\nnum uvs2           _dd_  0\nnum colors         _dd_  0\nnum indices        _dd_  4788\nprocessing begun of mesh_dd_  Cube.012\nprocessing begun of Standard material_dd_  naraja\nnum positions      _dd_  96\nnum normals        _dd_  96\nnum uvs            _dd_  0\nnum uvs2           _dd_  0\nnum colors         _dd_  0\nnum indices        _dd_  528\nprocessing begun of mesh_dd_  Cube.011\nprocessing begun of baked material_dd_  Cube.011\nSmart Projection time_dd_ 0.00\nCycles baking texture_co_ type_dd_ NORMAL_co_ mapped using_dd_ BakingUV\nInfo_dd_ Baking map saved to internal image_co_ save it externally or pack it\nnum positions      _dd_  2546\nnum normals        _dd_  2546\nnum uvs            _dd_  5092\nnum uvs2           _dd_  0\nnum colors         _dd_  0\nnum indices        _dd_  7296\nprocessing begun of mesh_dd_  Cube.010\nregistered as also a user of material_dd_  naraja\nnum positions      _dd_  8636\nnum normals        _dd_  8636\nnum uvs            _dd_  0\nnum uvs2           _dd_  0\nnum colors         _dd_  0\nnum indices        _dd_  51840\nprocessing begun of mesh_dd_  Cube.018\nprocessing begun of baked material_dd_  Cube.018\nSmart Projection time_dd_ 0.00\nCycles baking texture_co_ type_dd_ NORMAL_co_ mapped using_dd_ BakingUV\nInfo_dd_ Baking map saved to internal image_co_ save it externally or pack it\nnum positions      _dd_  380\nnum normals        _dd_  380\nnum uvs            _dd_  760\nnum uvs2           _dd_  0\nnum colors         _dd_  0\nnum indices        _dd_  552\nprocessing begun of mesh_dd_  Cube.017\nprocessing begun of baked material_dd_  Cube.017\nSmart Projection time_dd_ 0.00\nCycles baking texture_co_ type_dd_ NORMAL_co_ mapped using_dd_ BakingUV\nInfo_dd_ Baking map saved to internal image_co_ save it externally or pack it\nnum positions      _dd_  278\nnum normals        _dd_  278\nnum uvs            _dd_  556\nnum uvs2           _dd_  0\nnum colors         _dd_  0\nnum indices        _dd_  684\nprocessing begun of mesh_dd_  Cube.016\nprocessing begun of baked material_dd_  Cube.016\nSmart Projection time_dd_ 0.00\nCycles baking texture_co_ type_dd_ NORMAL_co_ mapped using_dd_ BakingUV\nInfo_dd_ Baking map saved to internal image_co_ save it externally or pack it\nnum positions      _dd_  978\nnum normals        _dd_  978\nnum uvs            _dd_  1956\nnum uvs2           _dd_  0\nnum colors         _dd_  0\nnum indices        _dd_  1788\nprocessing begun of mesh_dd_  Cube.015\nmesh is an instance of _dd_  Cube.017.  Processing halted.\nprocessing begun of mesh_dd_  Plane.002\nprocessing begun of baked material_dd_  Plane.002\nSmart Projection time_dd_ 0.00\nCycles baking texture_co_ type_dd_ NORMAL_co_ mapped using_dd_ BakingUV\nInfo_dd_ Baking map saved to internal image_co_ save it externally or pack it\nnum positions      _dd_  307\nnum normals        _dd_  307\nnum uvs            _dd_  614\nnum uvs2           _dd_  0\nnum colors         _dd_  0\nnum indices        _dd_  552\nprocessing begun of mesh_dd_  Plane.001\nmesh is an instance of _dd_  Plane.002.  Processing halted.\nprocessing begun of mesh_dd_  Cylinder.061\nprocessing begun of baked material_dd_  Cylinder.061\nSmart Projection time_dd_ 0.02\nCycles baking texture_co_ type_dd_ NORMAL_co_ mapped using_dd_ BakingUV\nInfo_dd_ Baking map saved to internal image_co_ save it externally or pack it\nnum positions      _dd_  890\nnum normals        _dd_  890\nnum uvs            _dd_  1780\nnum uvs2           _dd_  0\nnum colors         _dd_  0\nnum indices        _dd_  2496\nprocessing begun of mesh_dd_  Cylinder.057\nmesh is an instance of _dd_  Cylinder.061.  Processing halted.\nprocessing begun of mesh_dd_  Cylinder.102\nprocessing begun of baked material_dd_  Cylinder.102\nSmart Projection time_dd_ 0.01\nCycles baking texture_co_ type_dd_ NORMAL_co_ mapped using_dd_ BakingUV\nInfo_dd_ Baking map saved to internal image_co_ save it externally or pack it\nnum positions      _dd_  620\nnum normals        _dd_  620\nnum uvs            _dd_  1240\nnum uvs2           _dd_  0\nnum colors         _dd_  0\nnum indices        _dd_  1536\nprocessing begun of mesh_dd_  Cylinder.104\nprocessing begun of Standard material_dd_  Base Node VU\nnum positions      _dd_  161\nnum normals        _dd_  161\nnum uvs            _dd_  0\nnum uvs2           _dd_  0\nnum colors         _dd_  0\nnum indices        _dd_  480\nprocessing begun of mesh_dd_  Cylinder.103\nprocessing begun of baked material_dd_  Cylinder.103\nSmart Projection time_dd_ 0.00\nCycles baking texture_co_ type_dd_ NORMAL_co_ mapped using_dd_ BakingUV\nInfo_dd_ Baking map saved to internal image_co_ save it externally or pack it\nnum positions      _dd_  332\nnum normals        _dd_  332\nnum uvs            _dd_  664\nnum uvs2           _dd_  0\nnum colors         _dd_  0\nnum indices        _dd_  912\nprocessing begun of mesh_dd_  BezierCurve.005\nregistered as also a user of material_dd_  Base Node VU\nnum positions      _dd_  1400\nnum normals        _dd_  1400\nnum uvs            _dd_  0\nnum uvs2           _dd_  0\nnum colors         _dd_  0\nnum indices        _dd_  8232\nSkeleton stats_dd_\nTotal Influencers_dd_  7392\nAvg # of influencers per vertex_dd_  5.28\nHighest # of influencers observed_dd_  7_co_ num vertices with this_dd_  196\nexported as 7 influencers\nnum skeletonWeights and skeletonIndices_dd_  11200\nMesh_dd_ BezierCurve.005 has un-applied transformations.  This will never work for a mesh with an armature.  Export cancelled\n_eq__eq__eq__eq__eq__eq__eq__eq__eq_ end of processing _eq__eq__eq__eq__eq__eq__eq__eq__eq_\nelapsed time_dd_  0 min_co_ 11.1391 secs_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JackFalcon","Date":"2017-11-19T16:20:17Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tFor apply transforms_co_ in Blender_co_ it is good to get into the habit (before every export) of selecting Armature and Mesh then going to the menu Object -&gt_sm_ Apply -&gt_sm_ Location &amp_sm_ Rotation &amp_sm_ Scale.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tRTS (rotation_co_ translation_co_ scale) apply_co_ taught by JCP. Thx.  If that is not done_co_ the symptom is_dd_  bones are not in the same position as the mesh_co_ etc. _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2017-11-19T16:36:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_195684_qt_ data-ipsquote-contentid_eq__qt_34080_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1511108417_qt_ data-ipsquote-userid_eq__qt_25131_qt_ data-ipsquote-username_eq__qt_aFalcon_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t13 minutes ago_co_ aFalcon said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tFor apply transforms_co_ in Blender_co_ it is good to get into the habit (before every export) of selecting Armature and Mesh then going to the menu Object -&gt_sm_ Apply -&gt_sm_ Location &amp_sm_ Rotation &amp_sm_ Scale.\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tRTS (rotation_co_ translation_co_ scale) apply_co_ taught by JCP. Thx.  If that is not done_co_ the symptom is_dd_  bones are not in the same position as the mesh_co_ etc. _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t \n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tActually for the .JS &amp_sm_ .BABYLON exporters_co_ I got tired of dealing with the same symptoms. I now just flat out say what the problem is an cancel the export.  Too much time was being wasted.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JackFalcon","Date":"2017-11-27T07:13:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tAh_co_ that is the message in Blender_dd_ _qt_This would never work! Export Canceled._qt_ Saw that a time or two working on another thread... thanks for that. _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/?do_eq_hovercard_qt_ data-mentionid_eq__qt_8492_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/_qt_ rel_eq__qt__qt__gt_@JCPalmer_lt_/a_gt_ - if I wasn_t_t mistaken -&gt_sm_ an IK bone has no children on .babylon import (ver 5.4.2)?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tReason being_co_ _lt_em_gt_animating_lt_/em_gt_ a child bone of an IK bone_co_ _lt_em_gt_works in blender_co_ _lt_/em_gt_but then does nothing after export/import!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAmazingly_co_ solution was -&gt_sm_ attach to Kinesthetic bone... child animation exports.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCan only deduce that .babylon export does not export IK children / or animations not picked up on IK bones?\n_lt_/p_gt_\n_lt_iframe allowfullscreen_eq__qt__qt_ data-controller_eq__qt_core.front.core.autosizeiframe_qt_ data-embedcontent_eq__qt__qt_ data-embedid_eq__qt_embed8600403052_qt_ scrolling_eq__qt_no_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/topic/34226-solved-ik-blender-attach-item-not-animating-after-export/?do_eq_embed_qt_ style_eq__qt_height_dd_205px_sm_max-width_dd_502px_sm__qt__gt__lt_/iframe_gt_\n\n_lt_p_gt_\n\tAny insights? Curious...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThx.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2017-11-27T16:31:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThere is a custom switch in the scene level properties to ignore the bones on export.  The trigger I use to detect is finding either _t_.ik_t_ or _t_ik._t_ in the name of the bone.  IK bones themselves do not_co_ probably should not_co_ deform vertices.  Cannot use the _t_Deforms_t_ checkbox property to detect however.  Many rigs have root bones which do not have any verts they deform.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe purpose of this is to reduce overhead in the BJS environment ditching unneeded bone during export (critical for iOS).  All the tutorials I have seen is where people add bones to otherwise complete rigs.  For arms / legs they add a bone to steer the knee / elbow.  The IK constraint is put on the lower arm / leg bone_co_ but the sub-target bone gets the IK name_co_ so it does not come through.  See below. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tFYI_co_ _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4289_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/_qt_ rel_eq__qt__qt__gt_@adam_lt_/a_gt_ the reason I had so much problem with pole target in the BJS implementation (beyond bendaxis) is as long as the 2 bones in the chain are not completely straight with each other_co_ there is no need for a pole target.  Blender just figures it out.  The sub-target just gives a little more control.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_15962_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_11/ikArm.jpg.0c4da299a72fdff3ad2c8137ea64d374.jpg_qt_ alt_eq__qt_ikArm.jpg.0c4da299a72fdff3ad2c8137ea64d374.jpg_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tThe problem you may be having sounds like foot / wrist.  For that another bone is added_co_ with IK name_co_ which is connected to lower arm.  In b-bone appearance it surrounds the original foot / wrist bone.  You move this bone around_co_ and put a copy rotation constraint on the foot wrist.  Cannot remember what this fixes_co_ other than the real wrist has location locked.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_15963_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_11/ikHand.jpg.3036072597f21a94bde7ebe07721ce1b.jpg_qt_ alt_eq__qt_ikHand.jpg.3036072597f21a94bde7ebe07721ce1b.jpg_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]