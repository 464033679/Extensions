[{"Owner":"JackFalcon","Date":"2017-10-26T17:22:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello_co_ Raycast TerrainMap and get MixMap %_t_s?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t   CONTEXT_dd_ Raycast over a Terrain Map... and determine the type of terrain (floor_co_ rock_co_ grass_co_ etc) where the Ray Intersects mesh.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t    Looking at Mixed-Map-Materials and Facet-Data... \n_lt_/p_gt_\n\n_lt_p_gt_\n\t     QUESTION_dd_  _lt_em_gt_is there a_lt_/em_gt__lt_em_gt_ way_co_ to get the MixMap through a Raycast  Intersection?_lt_/em_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t      Or any suggestions on detecting floor_co_ rock_co_ grass... thx.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tKind regards_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tUPDATE_dd_ using this playground_co_ stepping into raycast... _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#7CPS7_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#7CPS7_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFound_dd_ results[0].pickedMesh_co_ pickedPoint_co_ collisionGroup_co_   looking around... _dd_ )\n_lt_/p_gt_\n\n_lt_p_gt_\n\t.subMeshes.materialIndex?...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDEMO-TEST_dd_ fork Multi-Map playground and add the touch raycast. _dd_ )\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWorked perfectly - Clickable Multi Map playground (debugger on cast)_dd_ _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#E6OZX%237_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#E6OZX#7_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tlooking around... \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_AbstactMesh.collisionGroup?_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_faceId?_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_UPDATE_dd_ idea of how to do this_co_ need to get the mixmap.png rgb at the location of the getTextureCoordinates()...greatest intensity wins._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_And... looks like Context2D can do that... (perhaps) _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#1UCP5L%235_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#1UCP5L#5_lt_/a_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JackFalcon","Date":"2017-10-26T20:31:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSOLVED_dd_ _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#PGIYP3_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#PGIYP3_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSolution involves some pixel-trickery (with Canvas2D)_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- pick\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- pickResult.getTextureCoordinates()\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- MixMap.png initialized into Canvas2D to calculate the RGB at coordinate\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- calculate coordinate _eq_ RGB\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBy evaluating the RGB it can be determined what surface we are on.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t Anyone know a better way?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-10-26T23:07:41Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThis is how I would have done it _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JackFalcon","Date":"2017-11-07T03:34:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThank you _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_  the solution is cool!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFor others googlers_co_ here is the way to get (inferrred) rgb meta data from mix map pixel luminosity!\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_        if (pickInfo.hit) {\n            let uv _eq_ pickInfo.getTextureCoordinates()_sm_\n            let pixel _eq_ getImageDataPixelAtUV(impactImageData_co_ uv.x_co_ uv.y)_sm_\n            //THIS PIXEL gives you color of the Point on the MixMap_co_ so greatest of RGB numbers is the material on the map.\n        }\n_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]