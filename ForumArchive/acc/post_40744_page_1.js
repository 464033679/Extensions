[{"Owner":"hcmetal","Date":"2018-10-19T12:13:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello_co_ everyone_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am trying to make a custom loading screen without using the built-in loading UI.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo I set up an assetsManager_dd_\n_lt_/p_gt_\n\n_lt_div style_eq__qt_background-color_dd_#1e1e1e_sm_color_dd_#d4d4d4_sm_font-size_dd_14px_sm__qt__gt_\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#569cd6_sm__qt__gt_const_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#9cdcfe_sm__qt__gt_assetsManager_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt__eq__lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#569cd6_sm__qt__gt_new_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#4ec9b0_sm__qt__gt_BABYLON_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_._lt_/span_gt__lt_span style_eq__qt_color_dd_#4ec9b0_sm__qt__gt_AssetsManager_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_(_lt_/span_gt__lt_span style_eq__qt_color_dd_#9cdcfe_sm__qt__gt_scene_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_)_sm__lt_/span_gt_\n\t_lt_/div_gt_\n\t \n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#9cdcfe_sm__qt__gt_assetsManager_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_._lt_/span_gt__lt_span style_eq__qt_color_dd_#9cdcfe_sm__qt__gt_useDefaultLoadingScreen_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt__eq__lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#569cd6_sm__qt__gt_false_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt__sm__lt_/span_gt_\n\t_lt_/div_gt_\n\t \n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#569cd6_sm__qt__gt_const_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#9cdcfe_sm__qt__gt_meshTask_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt__eq__lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#9cdcfe_sm__qt__gt_assetsManager_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_._lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcaa_sm__qt__gt_addMeshTask_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_(_lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#ce9178_sm__qt__gt__qt_load meshes_qt__lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt__co__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#ce9178_sm__qt__gt__qt__qt__lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt__co__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#ce9178_sm__qt__gt__qt_/assets/_qt__lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt__co__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#ce9178_sm__qt__gt__qt_hotel.babylon_qt__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_)_sm__lt_/span_gt_\n\t_lt_/div_gt_\n_lt_/div_gt_\n\n_lt_p_gt_\n\tand try to use_dd_\n_lt_/p_gt_\n\n_lt_div style_eq__qt_background-color_dd_rgb(30_co_30_co_30)_sm_font-size_dd_14px_sm__qt__gt_\n\t_lt_div style_eq__qt_color_dd_rgb(212_co_212_co_212)_sm__qt__gt_\n\t\t_lt_span style_eq__qt_color_dd_#9cdcfe_sm__qt__gt_assetsManager_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_._lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcaa_sm__qt__gt_onProgress_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt__eq__lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#569cd6_sm__qt__gt_function_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_(_lt_/span_gt__lt_span style_eq__qt_color_dd_#9cdcfe_sm__qt__gt_remainingCount_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt__co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#9cdcfe_sm__qt__gt_totalCount_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_) {_lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_font color_eq__qt_#dcdcaa_qt__gt_// Some calculation logic and sent the result to other UI components..._lt_/font_gt_\n\t_lt_/div_gt_\n\n\t_lt_div style_eq__qt_color_dd_rgb(212_co_212_co_212)_sm__qt__gt_\n\t\t_lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_}_sm__lt_/span_gt_\n\t_lt_/div_gt_\n_lt_/div_gt_\n\n_lt_p_gt_\n\tIt works but there are two problems_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t1. The counting does not take the texture (related to the exported materials in the .babylon file) loading into consideration_co_ so the loading process is not fully covered.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDo I need to set up textureTask for every single texture and re-assign them to the respective materials? I cannot wrap my mind around it...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe built-in loading UI seems to take texture loading into account and disappears after all the textures are loaded.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t2. The counting is based on file number rather than file size.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI know in SceneLoader call back function there is an eval object that can calculate file size.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIs it possible to do something similar with assetsManager? \n_lt_/p_gt_\n\n_lt_p_gt_\n\tHope someone can point me to the right direction.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks alot!\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"kcoley","Date":"2018-10-19T17:33:47Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/32476-hcmetal/?do_eq_hovercard_qt_ data-mentionid_eq__qt_32476_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/32476-hcmetal/_qt_ rel_eq__qt__qt__gt_@hcmetal_lt_/a_gt_.  The assetsManager updates _lt_em_gt_onProgress _lt_/em_gt_based on the number of remaining tasks_co_ not necessarily on all the assets associated with a mesh.  When loading multiple meshes_co_ it may not know how many textures or submeshes are associated with it until it gets to the task.  Though you may be able to query the number of meshes and materials present and use that in calculating your update_co_ this wouldn_t_t really handle file size_co_ number of textures_co_ etc. unless you already know how many textures and files you are expecting to load and can compare against that number.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"hcmetal","Date":"2018-10-19T23:29:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/30070-kcoley/?do_eq_hovercard_qt_ data-mentionid_eq__qt_30070_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/30070-kcoley/_qt_ rel_eq__qt__qt__gt_@kcoley_lt_/a_gt__co_ thanks for making it clear.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am wondering_co_ assetsManager aside_co_ is there a more _qt_wholesome_qt_ way to cover all the various loading scenarios?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFor example_co_ we need to load multiple .babylon files and additional texture files (not included in the .babylon files but later used in the scene_co_ such as ao and lightmaps).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIs creating tasks for every single asset and counting the number of tasks the best we can do_co_ or with some combination of techniques_co_ a more idea way of calculating loading progress can be achieved.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBy _qt_idea_qt_ I mean evaluate loaded file size and show progress based on it. (for the sake of convenience let_t_s suppose the total file size is known before hand)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFrom the users_t_ perspective_co_ most of the loading time is spent on networking (downloading various files from a remote-server).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMaybe this is an issue beyond Babylon and should be solved with some network magic (code) _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-10-22T16:58:57Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_232331_qt_ data-ipsquote-contentid_eq__qt_40744_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1539991796_qt_ data-ipsquote-userid_eq__qt_32476_qt_ data-ipsquote-username_eq__qt_hcmetal_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tOn 10/19/2018 at 4_dd_29 PM_co_ hcmetal said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents ipsClearfix_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tIs creating tasks for every single asset and counting the number of tasks the best we can do\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tThis is probably the best way to get an accurate number\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]