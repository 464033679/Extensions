[{"Owner":"Flake","Date":"2016-07-07T05:32:52Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tMe again.. still messing around with colour correction.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIs it possible to bind a Colour Curve to a non-PBM Material? When I attempt the following I get errors_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_let mat _eq_ new BABYLON.ShaderMaterial(_qt_mat_qt__co_ scene_co_ _qt_./assets/shaders/blub_qt__co_ \n{\nattributes_dd_ [_qt_position_qt__co_ _qt_uv_qt_]_co_\nuniforms_dd_ [_qt_worldViewProjection_qt__co_ _qt_globalScale_qt__co_ _qt_globalOffset_qt__co_ _qt_vCameraColorCurvePositive_qt__co_ _qt_vCameraColorCurveNeutral_qt__co_ _qt_vCameraColorCurveNegative_qt_]_co_\nneedAlphaBlending_dd_ true\n})_sm_\n\nvar curve _eq_ new BABYLON.ColorCurves()_sm_\ncurve.GlobalHue _eq_ 200_sm_\ncurve.GlobalDensity _eq_ 100_sm_\nBABYLON.ColorCurves.Bind(curve_co_ mat._effect)_sm_ \n// throws Uncaught TypeError_dd_ Cannot read property _t_setFloat4_t_ of undefined_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2016-07-07T16:17:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tit should normally be pretty reusable _dd_-)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou can use includes in your shader_dd_ \n_lt_/p_gt_\n\n_lt_div_gt_\n\t_lt_pre_gt_\n_lt_code_gt_// Include the uniform definition\n#include&lt_sm_colorCurvesDefinition&gt_sm_\n\n// include the functions\n#include&lt_sm_colorCurves&gt_sm__lt_/code_gt__lt_/pre_gt_\n\t_lt_span style_eq__qt_background_dd_url(&quot_sm_//www.html5gamedevs.com/applications/core/interface/ckeditor/ckeditor/plugins/widget/images/handle.png&quot_sm_)_sm__qt__gt__lt_/span_gt_\n_lt_/div_gt_\n\n_lt_p_gt_\n\t  and at the end of your shader_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_// Apply the curves\nfinalColor.rgb _eq_ applyColorCurves(finalColor.rgb)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tThen_co_ in your material code you can add a new property for it_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_/**\n * The color grading curves provide additional color adjustmnent that is applied after any color grading transform (3D LUT). \n * They allow basic adjustment of saturation and small exposure adjustments_co_ along with color filter tinting to provide white balance adjustment or more stylistic effects.\n * These are similar to controls found in many professional imaging or colorist software. The global controls are applied to the entire image. For advanced tuning_co_ extra controls are provided to adjust the shadow_co_ midtone and highlight areas of the image_sm_ \n * corresponding to low luminance_co_ medium luminance_co_ and high luminance areas respectively.\n */\n@serializeAsColorCurves()\npublic cameraColorCurves_dd_ ColorCurves _eq_ null_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tand use the helper method to define the required uniforms_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_ColorCurves.PrepareUniforms(uniforms)_sm_ _lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tand bind them_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_if (this.cameraColorCurves) {\n    ColorCurves.Bind(this.cameraColorCurves_co_ this._effect)_sm_\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tThis should be it _dd_-) \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Flake","Date":"2016-07-08T01:37:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThank you for you_t_re detailed explanation Sebavan\n_lt_/p_gt_\n\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_135294_qt_ data-ipsquote-contentid_eq__qt_23665_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1467908230_qt_ data-ipsquote-userid_eq__qt_20193_qt_ data-ipsquote-username_eq__qt_Sebavan_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t9 hours ago_co_ Sebavan said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tThen_co_ in your material code you can add a new property for it_dd_\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\thehe.. I have no _t_material code_t_. I_t_m using a vanilla BABYLON.ShaderMaterial. I guess I_t_ll try grab the class off github and add a colour curve into it.. \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Flake","Date":"2016-07-08T05:40:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIt worked ^^\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m not particularly proud of_co_ nor do I fully understand it.. By I copied the relevant ColourCurve code lines out of PBRMaterial and spliced them into the _lt_span style_eq__qt_color_dd_rgb(39_co_42_co_52)_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-variant_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_line-height_dd_22.4px_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_float_dd_none_sm_background-color_dd_rgb(255_co_255_co_255)_sm__qt__gt_ShaderMaterial. The result is functional_co_ but not elegant. _lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_ll add the .js file. Maybe It_t_s a useful starting point for someone or it can be used of an example of how NOT to do it _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tThanks again Sebavan\n_lt_/p_gt_\n\n_lt_p_gt__lt_a class_eq__qt_ipsAttachLink_qt_ href_eq__qt_//www.html5gamedevs.com/applications/core/interface/file/attachment.php?id_eq_8517_qt__gt_ShaderMatWithCC.js_lt_/a_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2016-07-08T12:52:41Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi we are on the point to add it in the standard material if that can helps_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/pull/1253_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/pull/1253_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBR_co_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-07-08T16:07:47Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tDone!\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Flake","Date":"2016-07-18T23:38:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThanks @Sebavan  &amp_sm_ @Deltakosh _co_ I_t_ll think I_t_ll use the official version and put my Frankenstein material to rest.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]