[{"Owner":"logunov","Date":"2018-10-25T20:10:50Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tGood day everyone. I am now works on my own huge project_co_ which uses a lot of mathematical models._lt_br /_gt_\n\tSo_co_ the problem is _co_I have mathematical model of hexasphere from there _lt_a href_eq__qt_https_dd_//github.com/arscan/hexasphere.js/blob/master/src/face.js_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/arscan/hexasphere.js/blob/master/src/face.js_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd I need to create meshes from vertex data of this model. _lt_br /_gt_\n\tI_t_m using this_dd__lt_br /_gt_\n\t \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_//hexaSphere - is object_co_ created with library upper \nfor (let i _eq_ 0_sm_ i &lt_sm_ hexaSphere.tiles.length_sm_ i++) {\n        let centerpoint _eq_ data.centerPoint_sm_\n        let x _eq_ centerpoint.x_sm_\n        let y _eq_ centerpoint.y_sm_\n        let z _eq_ centerpoint.z_sm_\n        let spawnVec _eq_ new BABYLON.Vector3(x_co_ y_co_ z)_sm_ //here I should instantiace center of vector\n\n\n        let buildPoints _eq_ []_sm_\n        for (let j _eq_ 0_sm_ j&lt_sm_data.boundary.length_sm_ j++){\n            let x _eq_ data.boundary[j].x_sm_\n            let y _eq_ data.boundary[j].y_sm_\n            let z _eq_ data.boundary[j].z_sm_\n            let point _eq_ new BABYLON.Vector3(parseFloat(x)_co_ parseFloat(y)_co_ parseFloat(z))_sm_\n          buildPoints.push(point)_sm_\n        }\n        let polygonalMesh _eq_ new BABYLON.MeshBuilder.CreatePolygon(_qt__qt_+i_co_ {shape_dd_buildPoints}_co_ scene)_sm_\n      \n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tSo_co_ the result of this is (please_co_ do not look on colored spheres and sticks_co_ It was hard to remove from my project because of bad architecture_co_ they are do not touching this part of code_co_ it is isolated)_dd__lt_br /_gt_\n\t_lt_img alt_eq__qt_HvHuz5L.png_qt_ src_eq__qt_https_dd_//i.imgur.com/HvHuz5L.png_qt_ /_gt__lt_br /_gt_\n\tIt is not 3D_co_ but 2D projections of each hexagon or pentagon to the XoZ BABYLON plane._lt_br /_gt_\n\tI started to think about position_co_ as _qt_How to_qt_ said_co_ but\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_polygonalMesh.position _eq_ spawnVec_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tgive me that result_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img alt_eq__qt_Uzd8otM.png_qt_ class_eq__qt_ipsImage_qt_ height_eq__qt_422_qt_ src_eq__qt_https_dd_//i.imgur.com/Uzd8otM.png_qt_ width_eq__qt_1000_qt_ /_gt__lt_br /_gt_\n\t_lt_br /_gt_\n\tHow can I create meshes from vertices data in 3D space?_lt_br /_gt_\n\tI just can not test rotation_co_ because if it_t_s correct_co_ it can be visible to match each other borders of morphed meshes._lt_br /_gt_\n\t_lt_br /_gt_\n\tThere is no way to use loaded mesh_co_ because each of hexagon is different. This mathematical model do not use right hexagons_co_ because it is hard co connect (mathematical theorem)._lt_br /_gt_\n\t_lt_br /_gt_\n\tAnd I am sure this library is correct_co_ because I tested it with right hexagon (imported mesh with babylon-loaders.js_co_ created it on blender) and tried to match each other rotation_co_ so I got next result (green dots is rotation co-surface normales_co_ do not look on them)_dd__lt_br /_gt_\n\t_lt_img alt_eq__qt_VKDSsH3.png_qt_ src_eq__qt_https_dd_//i.imgur.com/VKDSsH3.png_qt_ /_gt_And everything with math was fine_dd_ blue dots is 2 of 6 or 5 border points_co_ red is centerPoints. _lt_br /_gt_\n\tI do not have right now screen of whole sphere_co_ but it was sphere_co_ not was MeshBuilder created. I just putted a copy of IMPORTED model on each center and rotated it with some linear algebra to check everything_co_ before post here._lt_br /_gt_\n\t_lt_br /_gt_\n\tSo_co_ my question is_dd_ how can I create polygonal mesh in 3D space_co_ not his 2D projection_co_ using BABYLON.MeshBuilder (or other BABYLON solution)_co_ because displacement of right hexagons and this mathematical model is too huge  for acceptance (impossible to play_co_ looks ugle and other)_co_ so I need dynamical creation.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tp.s There is impossible to create lovely playground example_co_ because of library_co_ but _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#4G18GY%2367_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#4G18GY#67_lt_/a_gt_ have the same problem. In arguments of array have all 3D spaces_co_ but it is creating just 2D projection.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JohnK","Date":"2018-10-25T23:00:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/33182-logunov/?do_eq_hovercard_qt_ data-mentionid_eq__qt_33182_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/33182-logunov/_qt_ rel_eq__qt__qt__gt_@logunov_lt_/a_gt_ and welcome to the forum. Strictly speaking a polygon is always 2D and so if passing data to create a polygon using a 3D vector then x_co_ y and z must be in the same plane. As it states in the docs for createPolygon _lt_a href_eq__qt_https_dd_//doc.babylonjs.com/how_to/parametric_shapes#non-regular-polygon_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//doc.babylonjs.com/how_to/parametric_shapes#non-regular-polygon_lt_/a_gt_ _lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#000000_sm_font-size_dd_medium_sm__qt__gt_All vectors for shape and holes are Vector3 and should be in the XoZ plane_co_ ie of the form BABYLON.Vector3(x_co_ 0_co_ z) and in counter clockwise order_sm__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe 3D equivalent is a polyhedron (plural polyhedra). You may find this page of the docs useful _lt_a href_eq__qt_https_dd_//doc.babylonjs.com/how_to/polyhedra_shapes_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//doc.babylonjs.com/how_to/polyhedra_shapes_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tor if you are working from a particular data set this page _lt_a href_eq__qt_https_dd_//doc.babylonjs.com/how_to/custom_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//doc.babylonjs.com/how_to/custom_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2018-10-26T04:44:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\ta double sided hexa builf from the disc shape in one line _dd_ _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#4G18GY%2368_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#4G18GY#68_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JohnK","Date":"2018-10-26T07:58:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_232849_qt_ data-ipsquote-contentid_eq__qt_40868_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1540529055_qt_ data-ipsquote-userid_eq__qt_5453_qt_ data-ipsquote-username_eq__qt_jerome_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t4 hours ago_co_ jerome said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\ta double sided hexa builf from the disc shape\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tI believe that logunov wants this 3D shape  _lt_a href_eq__qt_http_dd_//geek-mag.com/posts/248214/_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//geek-mag.com/posts/248214/_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tEDIT from the site lugonuv mentions it is built from an _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/how_to/polyhedra_shapes#icosphere_qt_ rel_eq__qt_external nofollow_qt__gt_icosphere_lt_/a_gt_ unfortunately I am too busy at the moment to do any more with it.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"logunov","Date":"2018-10-26T16:22:38Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThx for the help_co_ I am trying to test solution presented by _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/14282-johnk/?do_eq_hovercard_qt_ data-mentionid_eq__qt_14282_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/14282-johnk/_qt_ rel_eq__qt__qt__gt_@JohnK_lt_/a_gt_  (create custom Polyhedra) He is right_co_ I need exactly the same sphere (but with pentagons_co_ ofcourse_co_ and with independed pentagons and meshes_co_ not as single object)_co_ but arscan hexasphere library produce not regular hexagons_co_ but irregular. It is not visible by eye_co_ but if I trying to use this with regular (right) hexagon imported model_co_ it is making huge displacement_co_ so I need to dynamically create meshes from array of points_co_ because there is 77 variants of  irregular displaced hexagons_co_ which creating hexasphere in arscan hexasphere library_co_ so that is the reason why _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5453-jerome/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5453_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5453-jerome/_qt_ rel_eq__qt__qt__gt_@jerome_lt_/a_gt_ method not works for me (it is creating right (regular) hexagon_co_ but I need irregular one_co_ but if it is irregular one_co_ it is not guarantee to me_co_ that it will match mathematical)._lt_br /_gt_\n\t_lt_br /_gt_\n\tNow_co_ I am trying something like this (part from my code)_dd__lt_br /_gt_\n\t_lt_br /_gt_\n\t \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_ for (let i _eq_ 0_sm_ i &lt_sm_ hexaSphere.tiles.length_sm_ i++) {\n        let data _eq_ hexaSphere.tiles[i]_sm_\n        let centerpoint _eq_ data.centerPoint_sm_\n        let x _eq_ centerpoint.x_sm_\n        let y _eq_ centerpoint.y_sm_\n        let z _eq_ centerpoint.z_sm_\n        let spawnVec _eq_ new BABYLON.Vector3(x_co_ y_co_ z)_sm_\n\n\n        let buildPoints _eq_ []_sm_\n        for (let j _eq_ 0_sm_ j&lt_sm_data.boundary.length_sm_ j++){\n            let x _eq_ data.boundary[j].x_sm_\n            let y _eq_ data.boundary[j].y_sm_\n            let z _eq_ data.boundary[j].z_sm_\n            let point _eq_ new BABYLON.Vector3(parseFloat(x)_co_ parseFloat(y)_co_ parseFloat(z))_sm_\n          buildPoints.push(point)_sm_\n        }\n        let faceIndexPoints _eq_ []_sm_\n        for (let k _eq_ 0_sm_ k&lt_sm_hexaSphere.tiles[i].faces.length_sm_ k++){\n          faceIndexPoints.push(k)_sm_\n        }\n        let irregularHexagon _eq_ {\n          _qt_name_qt__dd_ _qt_irregularHexagon_qt__co_\n          _qt_category_qt__dd_ [_qt_Hexagon_qt_]_co_\n          _qt_vertex_qt__dd_ buildPoints_co_ //aray of points_co_ which represent like [x_co_y_co_z] array\n          _qt_face_qt__dd_ faceIndexPoints_co_ //array of indices of vertex vector_co_ each of array in array represent face_sm_\n        }_sm_\n        let customHex _eq_ BABYLON.MeshBuilder.CreatePolyhedron(_qt__qt__co_ {custom_dd_ irregularHexagon}_co_ scene)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tbut for now it have no result (nothing created). Now it_t_s time to check is the points of face object in hexasphere object sorted or not_co_ to push them counter-clockwise_co_ like _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/14282-johnk/?do_eq_hovercard_qt_ data-mentionid_eq__qt_14282_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/14282-johnk/_qt_ rel_eq__qt__qt__gt_@JohnK_lt_/a_gt_ and _qt_How to_qt_ said. (Ofcourse I will do it by my own_co_ I just talks my ideas).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI do not need this hexaSphere as monoObject (single mesh)_co_ but independent hexes_co_ which forms the sphere_co_ there is a reason_co_ why I am trying to morph it from mathematical data_co_ and the reason_co_ why I do not used imported model is written upper by me. In other words I need to create 77 irregular hexagons_co_ different from each other_co_ as independent meshes and put them on hexaSphere surface from mathematical library (not builded with MeshBuilder_co_ because this is not what I need_co_ it will create huge displacement and wrong rotations). _lt_br /_gt_\n\t_lt_br /_gt_\n\tThe whole idea is put mathematical hexasphere surface net of dots in BABYLON space_co_ create meshes_co_ which will match the mathematical model_co_ and works with mathematical model in whole code. _lt_br /_gt_\n\t_lt_br /_gt_\n\tMy big thanks for advices and notes_co_ I will try to create my idea and will post any result_co_ if it will succeed. I will be grateful for any other notes and tips. _lt_br /_gt_\n\t_lt_br /_gt_\n\t_lt_br /_gt_\n\t_lt_span style_eq__qt_color_dd_#c0392b_sm__qt__gt__lt_strong_gt_btw_co_ I forget to say_dd__lt_/strong_gt__lt_/span_gt_ on the third screen of first post you can see white and grey hexagons. The grey ones is imported regular (right) hexagons from blender_co_ the white ones is rendered object from arscan library &gt_sm_whole&lt_sm_ hexasphere (it can_t_t render each hexagon independent)_co_ so you can see the displacement between imported and mathematical objects visually. Ofcourse_co_ that is the third reason_co_ why I need morph function of BABYLON_co_ because it is impossible to create 77 irregular types of hexagons (I calculated that by surface formula and sorted by set in javascript to know that amount in 6 level of subdivision)_co_ and impossible to find and match each other easily to match this. And the problem not in the size_co_ but in the rotation displacement between borders and planes_co_ created with dots of hexagon_co_ it is impossible to match grey ones for white ones_co_ cuz they are much more different. _lt_br /_gt_\n\t_lt_br /_gt_\n\t_lt_br /_gt_\n\tupd_dd_ In examples of create custom polyhedra I saw that vertices is array of arrays_co_ am I correct if I need only one face_co_ so I need just make one array in array which contains points? I checked both_dd__lt_br /_gt_\n\t \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt__qt_face_qt__dd_ [faceIndexPoints]\n_qt_face_qt__dd_ faceIndexPoints_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tAnd everything gave me empty scene as result.I will post news_co_ when I will done my tests. \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ssaket","Date":"2018-10-26T17:20:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tFew weeks back_co_ I was trying to do something similar but slightly different_co_ I  was trying to delete a vertex and then re-calculate the indices using delaunay_t_s 3d triangulation but none of the available js algorithms give the correct result (whether mapbox or any other)_co_ This one gives a 3d tetrahedron (_lt_a href_eq__qt_https_dd_//github.com/mikolalysenko/delaunay-triangulate_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/mikolalysenko/delaunay-triangulate_lt_/a_gt_)... Moreover_co_ now I think my problem can be solved by hole filling algorithm..... have to work on the implementation..... _lt_br /_gt_\n\t_lt_br /_gt_\n\tComing back to generating the indices from the verdata_co_ you can check CGAL_t_s 3d triangulation algorithm.(_lt_a href_eq__qt_https_dd_//doc.cgal.org/latest/Triangulation_3/index.html_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//doc.cgal.org/latest/Triangulation_3/index.html_lt_/a_gt_). and can use it as a REST API using crow (_lt_a href_eq__qt_https_dd_//github.com/ssaket/cgal-crow_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/ssaket/cgal-crow_lt_/a_gt_) _co_ but again not sure whether this will work !\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"logunov","Date":"2018-10-27T00:06:38Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tPosting news of my tries here_co_ so_co_ after tests I got this result (do not look at any grey sphere_co_ it is from isolated part of code)_dd_ _lt_br /_gt_\n\t_lt_img alt_eq__qt_yWMOnEr.jpg_qt_ src_eq__qt_https_dd_//i.imgur.com/yWMOnEr.jpg_qt_ /_gt__lt_br /_gt_\n\t_lt_br /_gt_\n\tThe code_co_ to reproduce this is_dd_ _lt_br /_gt_\n\t \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_for (let i _eq_ 0_sm_ i &lt_sm_ hexaSphere.tiles.length_sm_ i++) {\n        let data _eq_ hexaSphere.tiles[i]_sm_\n        let centerpoint _eq_ data.centerPoint_sm_\n        let x _eq_ centerpoint.x_sm_\n        let y _eq_ centerpoint.y_sm_\n        let z _eq_ centerpoint.z_sm_\n        let spawnVec _eq_ new BABYLON.Vector3(x_co_ y_co_ z)_sm_\n\n        let createIrregularHexagon _eq_ function(name_co_scene_co_ vertices_co_ indices_co_ normals){\n            let verData _eq_ new BABYLON.VertexData()_sm_\n            BABYLON.VertexData.ComputeNormals(vertices_co_ indices_co_ normals)_sm_\n            verData.positions _eq_ vertices_sm_\n            verData.indices _eq_ indices_sm_\n            verData.normals _eq_ normals_sm_\n\n            let polygon _eq_ new BABYLON.Mesh(name_co_scene)_sm_\n            verData.applyToMesh(polygon)_sm_\n            polygon.convertToFlatShadedMesh()_sm_ //what is it doing?\n\n            return polygon_sm_\n        }_sm_\n        let positions _eq_ []_sm_\n        let indices _eq_ []_sm_\n        let normals _eq_ []_sm_\n        console.log(hexaSphere.tiles[i].faces.length)_sm_\n        for (let j _eq_ 0_sm_ j&lt_sm_hexaSphere.tiles[i].faces.length_sm_ j++){\n          for(let k _eq_ 0_sm_ k&lt_sm_hexaSphere.tiles[i].faces[j].points.length_sm_ k++){\n                let x _eq_ hexaSphere.tiles[i].faces[j].points[k].x_sm_\n                let y _eq_ hexaSphere.tiles[i].faces[j].points[k].y_sm_\n                let z _eq_ hexaSphere.tiles[i].faces[j].points[k].z_sm_\n                positions.push(x_co_y_co_z)_sm_\n                indices.push(indices.length)_sm_\n          }\n        }\n        let u _eq_ 0_sm_\n        while (u&lt_sm_positions.length){\n          let x1 _eq_ positions[u]_sm_\n          let y1 _eq_ positions[u+1]_sm_\n          let z1 _eq_ positions[u+2]_sm_\n          let x2 _eq_ positions[u+3]_sm_\n          let y2 _eq_ positions[u+4]_sm_\n          let z2 _eq_ positions[u+5]_sm_\n          u+_eq_6_sm_\n          let v1 _eq_ new BABYLON.Vector3(x1_co_y1_co_z1)_sm_\n          let v2 _eq_ new BABYLON.Vector3(x2_co_y2_co_z2)_sm_\n          let result _eq_ BABYLON.Vector3.Cross(v1_co_v2)_sm_\n          normals.push(result.x_co_ result.y_co_ result.z)_sm_\n        }\n        let poly _eq_ createIrregularHexagon(_qt_1_qt__co_scene_co_positions_co_indices_co_normals)_sm_\n        let myMaterial _eq_ new BABYLON.StandardMaterial(_qt_myMaterial_qt__co_ scene)_sm_\n\n        myMaterial.diffuseColor _eq_ new BABYLON.Color3(1_co_ 0_co_ 1)_sm_\n        myMaterial.specularColor _eq_ new BABYLON.Color3(0.5_co_ 0.6_co_ 0.87)_sm_\n        myMaterial.emissiveColor _eq_ new BABYLON.Color3(1_co_ 1_co_ 1)_sm_\n        myMaterial.ambientColor _eq_ new BABYLON.Color3(0.23_co_ 0.98_co_ 0.53)_sm_\n        poly.material _eq_ myMaterial_sm_\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt_\n\tAs you can see on the screen upper_co_ the red sphere on the background is object_co_ placed in the mathematical center of the hexagon. _lt_br /_gt_\n\tNow I am thinking_co_ why vertex data connecting it like triangles_co_ but it should look not like this_co_ because faces in the hexasphere object is triangles_co_ so in my cycle I am pushing 5 to 6 triangles (15 to 18 points or 45 to 54 coordinates by triples) in my points array_co_ and for each dot I am adding one new index_co_ so_co_ each duplicate point in faces will be indexed correct_co_ but as you can see_co_ result shows me it like wrong_co_ so it_t_s connecting absolutely wrong points_co_ which do not represent hexagons individually. \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_s_gt__lt_u_gt__lt_strong_gt_But for some reasons all 12 pentagons created correct. I am showing one of them_co_ but I checked them all (again repeating_co_ please_co_ do not look at grey sphere)._lt_/strong_gt__lt_/u_gt__lt_/s_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis may confuse_co_ but this pentagon created incorrect_co_ because grey mesh must be in center of pentagon or hexagon._lt_br /_gt_\n\t_lt_img alt_eq__qt_895KmCN.jpg_qt_ src_eq__qt_https_dd_//i.imgur.com/895KmCN.jpg_qt_ /_gt__lt_br /_gt_\n\t_lt_u_gt__lt_strong_gt_Short in other words_co_ this algorithm for some reason not rendering nor creating 3 of 6 faces of each hexagon_co_ I do not have any idea_co_ why he is doing this._lt_/strong_gt__lt_/u_gt__lt_br /_gt_\n\t_lt_br /_gt_\n\tHave any one ideas or explanations_co_ what I am doing wrong? I will be glad to hear any ideas. _lt_br /_gt_\n\tFor now I will try to create not irregular hexagons_co_ but triangles (faces) of each as independent object and will use mesh grouping to create hexagons from them_co_ but it will take some time._lt_br /_gt_\n\t_lt_br /_gt_\n\tp.s  I got this idea while I was writing the message.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"logunov","Date":"2018-10-27T13:26:52Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWell_co_ after all tests I got the problem_co_ there is the look from outside_dd_ _lt_br /_gt_\n\t_lt_img src_eq__qt_https_dd_//i.imgur.com/t7n1EwU.jpg_qt_ alt_eq__qt_t7n1EwU.jpg_qt_ /_gt__lt_br /_gt_\n\tAnd there is the look from inside on the same pentagon_dd__lt_br /_gt_\n\t_lt_img src_eq__qt_https_dd_//i.imgur.com/YuEDheh.png_qt_ alt_eq__qt_YuEDheh.png_qt_ /_gt__lt_br /_gt_\n\t_lt_br /_gt_\n\tFirst_co_ as you can see_co_ triangle method give me needed result_co_ BUT not for all meshes. The problem is some of faces are inverted_co_ because of... because of what? I have no idea why it_t_s happens._lt_br /_gt_\n\tSecond_co_ is any one know_co_ how to solve that problem? Maybe is there a way to change direction of all normals like scale by -1? If it possible_co_ I just can get for each new created mesh one leading face_co_ and inverse all other normals if their direction locally negative to leading one. _lt_br /_gt_\n\t_lt_br /_gt_\n\tI think_co_ I isolate problem right now_co_ but I have no ideas which instruments BABYLON gives to me for fix something like that. I will be glad to hear any ideas_co_ maybe there is no need to change normals_co_ but inverse rotation of some meshes_co_ created by face points_co_ but again I have no idea_co_ how to do this in BABYLON._lt_br /_gt_\n\t_lt_br /_gt_\n\t_lt_br /_gt_\n\tOfcourse_co_ code to reproduce_dd__lt_br /_gt_\n\t \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_for (let i _eq_ 0_sm_ i &lt_sm_ hexaSphere.tiles.length_sm_ i++) {\n      \n      let myMaterial _eq_ new BABYLON.StandardMaterial(_qt_myMaterial_qt__co_ scene)_sm_\n\n      myMaterial.diffuseColor _eq_ new BABYLON.Color3(1_co_ 0_co_ 1)_sm_\n      myMaterial.specularColor _eq_ new BABYLON.Color3(0.5_co_ 0.6_co_ 0.87)_sm_\n      myMaterial.emissiveColor _eq_ new BABYLON.Color3(1_co_ 1_co_ 1)_sm_\n      myMaterial.ambientColor _eq_ new BABYLON.Color3(0.23_co_ 0.98_co_ 0.53)_sm_\n      //I have no idea is material do something or not here_co_ but I am using this\n      let createIrregularFace _eq_ function(name_co_scene_co_ vertices_co_ indices){\n            let verData _eq_ new BABYLON.VertexData()_sm_\n            //BABYLON.VertexData.ComputeNormals(vertices_co_ indices_co_ normals)_sm_\n            verData.positions _eq_ vertices_sm_\n            verData.indices _eq_ indices_sm_\n            //verData.normals _eq_ normals_sm_\n\n            let polygon _eq_ new BABYLON.Mesh(name_co_scene)_sm_\n            verData.applyToMesh(polygon)_sm_\n            //polygon.convertToFlatShadedMesh()_sm_ //what is it doing?\n\n            return polygon_sm_\n        }_sm_\n        let faces _eq_ []_sm_ //meshes array_sm_\n        hexaSphere.tiles[i].faces.forEach( (face) _eq_&gt_sm_ {\n          let positions _eq_ []_sm_\n          let indices _eq_ []_sm_\n          face.points.forEach( (point) _eq_&gt_sm_ {\n            let x _eq_ parseFloat(point.x)_sm_\n            let y _eq_ parseFloat(point.y)_sm_\n            let z _eq_ parseFloat(point.z)_sm_\n            positions.push(x_co_y_co_z)_sm_\n            indices.push(indices.length)_sm_\n          })\n          indices.reverse()_sm_\n          let result _eq_ createIrregularFace(_qt__qt__co_scene_co_ positions_co_ indices)_sm_\n          result.material _eq_ myMaterial_sm_\n          faces.push(result)_sm_\n        })_sm_\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ssaket","Date":"2018-10-27T15:45:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tLOL... happens most of the time ! _lt_br /_gt_\n\t_lt_br /_gt_\n\t_lt_span style_eq__qt_background-color_dd_#23241f_sm_color_dd_#ae81ff_sm_font-size_dd_14px_sm__qt__gt_//_lt_/span_gt__lt_span style_eq__qt_background-color_dd_#23241f_sm_color_dd_#f8f8f2_sm_font-size_dd_14px_sm__qt__gt_polygon.convertToFlatShadedMesh()_sm__lt_/span_gt__lt_span style_eq__qt_background-color_dd_#23241f_sm_color_dd_#f8f8f2_sm_font-size_dd_14px_sm__qt__gt_﻿_lt_/span_gt__lt_span style_eq__qt_background-color_dd_#23241f_sm_color_dd_#f8f8f2_sm_font-size_dd_14px_sm__qt__gt_ _lt_/span_gt__lt_span style_eq__qt_background-color_dd_#23241f_sm_color_dd_#ae81ff_sm_font-size_dd_14px_sm__qt__gt_//_lt_/span_gt__lt_span style_eq__qt_background-color_dd_#23241f_sm_color_dd_#f8f8f2_sm_font-size_dd_14px_sm__qt__gt_what _lt_/span_gt__lt_span style_eq__qt_background-color_dd_#23241f_sm_color_dd_#f92672_sm_font-size_dd_14px_sm__qt__gt_is_lt_/span_gt__lt_span style_eq__qt_background-color_dd_#23241f_sm_color_dd_#f8f8f2_sm_font-size_dd_14px_sm__qt__gt_ it doing?_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLet_t_s take a cube as an example. \n_lt_/p_gt_\n\n_lt_div style_eq__qt_background-color_dd_#1e1e1e_sm_color_dd_#d4d4d4_sm_font-size_dd_14px_sm__qt__gt_\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#569cd6_sm__qt__gt_let_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_ verData _lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt__eq__lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_ box_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_._lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_getVerticesData_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_(_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_BABYLON_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_._lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_VertexBuffer_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_._lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_PositionKind_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_)_sm__lt_/span_gt_\n\t_lt_/div_gt_\n_lt_/div_gt_\n\n_lt_p_gt_\n\tQ_dd_ How many facets it has ?? _lt_br /_gt_\n\tAns_dd_ 6 faces -&gt_sm_ 6*2 facets (there are the triangles)_lt_br /_gt_\n\tQ_dd_ How many indices ??_lt_br /_gt_\n\tAns_dd_ [0_co_ 1_co_ 2_co_ 0_co_ 2_co_ 3_co_ 4_co_ 5_co_ 6_co_ 4_co_ 6_co_ 7_co_ 8_co_ 9_co_ 10_co_ 8_co_ 10_co_ 11_co_ 12_co_ 13_co_ 14_co_ 12_co_ 14_co_ 15_co_ 16_co_ 17_co_ 18_co_ 16_co_ 18_co_ 19_co_ 20_co_ 21_co_ 22_co_ 20_co_ 22_co_ 23] -&gt_sm_ 36\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis each of them as Position array index. Now total positions -&gt_sm_ 24 _eq_&gt_sm_ Array Len _eq_24*3 _eq_ 72_co_ Now here each vertex is shared by 3 facets triangle_co_ so if we are using any shader  on that vertex_co_ others might as well get affected. (012_co_ 023_co_ ....)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt_\n\tLet_t_s do convertToFlatShadedMesh. Again_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tQ_dd_ How many indices ??_lt_br /_gt_\n\tAns_dd_ [0_co_ 1_co_ 2_co_ 3_co_ 4_co_ 5_co_ 6_co_ 7_co_ 8_co_ 9_co_ 10_co_ 11_co_ 12_co_ 13_co_ 14_co_ 15_co_ 16_co_ 17_co_ 18_co_ 19_co_ 20_co_ 21_co_ 22_co_ 23_co_ 24_co_ 25_co_ 26_co_ 27_co_ 28_co_ 29_co_ 30_co_ 31_co_ 32_co_ 33_co_ 34_co_ 35] -&gt_sm_ 36\n_lt_/p_gt_\n\n_lt_p_gt_\n\tbut wait.. something is different !! now positions are not being shared like before (012_co_ 345_co_ ....)_lt_br /_gt_\n\tpositions len_dd_ 36 (from 24) who are these new (36-24_eq_12 members ?? jumping to the q1 we had 12 triangles_co_ looks like they are repeated again but why.. so that each triangle can have it_t_s own shader.. (maybe I am not putting it correctly ) blah.. blah_co_ have a look here _lt_a href_eq__qt_https_dd_//www.eternalcoding.com/?p_eq_113_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.eternalcoding.com/?p_eq_113_lt_/a_gt_ ) In short it give sharpness..maybe \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tEDIT_dd_ just now found one awesome doc - explains very clearly  _lt_a href_eq__qt_https_dd_//doc.babylonjs.com/resources/facets_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//doc.babylonjs.com/resources/facets_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JohnK","Date":"2018-10-27T15:51:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSome more info about convertToFlatShadedMesh _lt_a href_eq__qt_https_dd_//doc.babylonjs.com/resources/normals_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//doc.babylonjs.com/resources/normals_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNote that the CreateBox method produces a flat shaded mesh\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"logunov","Date":"2018-10-29T13:57:34Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWell_co_ I still stuck in that. I read all topics you gave to me_co_ but the problem is I do not find any clear explanation_dd_ is facet front determined by normals or there is another parameter? I found example in JohnK resource_dd_ _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#VKBJN%2319_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#VKBJN#19_lt_/a_gt_ and there is the same problem_dd_ normals will not change backside visibility_co_ so the answer on my question is to make every mesh double sided_co_ but I can not find any way to make custom mesh doublesided orientated. \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2018-10-29T16:24:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWhen creating your geometry (vertexData)_co_ create your indices array_co_ your positions array_co_ your normal array and then_co_ before applying it to the vertexData object_co_ just call this private static function _lt_span_gt__dd_ _lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt__lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Mesh/babylon.mesh.vertexData.ts#L2828_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Mesh/babylon.mesh.vertexData.ts#L2828_lt_/a_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_It will modify your created arrays to add the backsides as requested._lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JohnK","Date":"2018-10-29T18:51:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#000000_sm_font-size_dd_medium_sm__qt__gt_\n\tWhen creating your own custom mesh to make it updatable you need to add a second parameter with value true when applying the mesh to the vertex data.\n_lt_/p_gt_\n\n_lt_pre style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#000000_sm_font-size_dd_medium_sm__qt__gt_\n_lt_code style_eq__qt_border-left_dd_5px solid #00aeef_sm_color_dd_#444444_sm_font-size_dd_1em_sm_padding_dd_.5em_sm__qt__gt_vertexData.applyToMesh(customMesh_co_ true)_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tPlease do not keep changing the topic title as it makes it very difficult to return to. Please ask a new question.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"logunov","Date":"2018-10-31T14:55:04Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThx a lot_co_ the first problem about two surfaces solved_co_ but it produce new kind of problem. I think_co_ I will create new post later about it_co_ because it is not about surfaces._lt_br /_gt_\n\tAgain_co_ thank you all very much_co_ I am very grateful to you and appreciate all your help._lt_br /_gt_\n\t_lt_br /_gt_\n\t_lt_br /_gt_\n\tp.s About names of topic. I thought it better to change name to not spam themes about new problems. I will no more do this.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]