[{"Owner":"JonathanRev","Date":"2017-10-20T19:29:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello good day team from babylon _co_ i am really glad to have known babylon as well_co_ it is a great tool _co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\ti am currently having some issues when using _dd_ ground.getHeightAtCoordinates(x_co_ z) _co_ i am currently using the export Toolkit that exports from Unity to Babylon js .  i have imported the meshes to my scene using the _qt_assetsManager_qt_ this way _dd_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\t                                                                                     _lt_strong_gt_var stones _eq_ assetsManager.addMeshTask(_qt_stones_qt__co_ _qt__qt__co_ _qt_assets/stones/_qt__co_ _qt_stones.babylon_qt_)_sm__lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_                                                                                     stones.onSuccess _eq_ function(task) {_lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_                                                                                            task.loadedMeshes.forEach(function(mesh) {_lt_br /_gt_\n\t                                                                                                     mesh.isVisible _eq_ false_sm__lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_                                                                                                     var range _eq_ 1024_sm__lt_br /_gt_\n\t                                                                                                     var count _eq_ 40_sm__lt_br /_gt_\n\t                                                                                                     for (var index _eq_ 0_sm_ index &lt_sm_ count_sm_ index++) {_lt_br /_gt_\n\t                                                                                                              var newInstance _eq_ mesh.createInstance(_qt_j_qt_ + index)_sm__lt_br /_gt_\n\t                                                                                                              var x _eq_ range / 2 - Math.random() * range_sm__lt_br /_gt_\n\t                                                                                                              var z _eq_ range / 2 - Math.random() * range_sm__lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_                                                                                                              var y _eq_ ground.getHeightAtCoordinates(x_co_ z) _sm_ // Getting height from ground object_lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_                                                                                                              newInstance.position _eq_ new BABYLON.Vector3(x_co_ y_co_ z)_sm__lt_br /_gt_\n\t                                                                                                      }_lt_br /_gt_\n\t                                                                                            })_sm__lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_                                                                                        }_lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe idea of using _dd__lt_strong_gt_ ground.getHeightAtCoordinates(x_co_ z)_lt_/strong_gt_ was to set each of my meshes in this case _qt_stones_qt_ to the ground level on a random location on my scene . The problem starts when i import 1 or more meshes for example a _qt_Palm.babylon or Plant.babylon_qt_ that i want to set it in random locations on my scene as well on ground level_co_ then i instanciate and use _qt_var y _eq_ ground.getHeightAtCoordinates(x_co_ z) _sm__qt_ the same way as the stones _co_ but when i load the scene all the meshes doesn_t_t load and i have to reload multiple times so it can appear all the meshes _co_ and sometimes all the meshes never appear .\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSurprisingly when  i replace _dd_ _lt_strong_gt_ground.getHeightAtCoordinates(x_co_ z)_lt_/strong_gt_ to another high for example _dd_ 40 or another number _co_ all the meshes appears correctly _co_ that_t_s why i suspect of getHeightAtCoordinates(x_co_ z) function _co_ Not sure if i am doing the correct importing ? _co_ or it has to be something to Unity exporter? or getHeightAtCoordinates() ? _co_ Anyone have an idea of what could be ocurring ?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_em_gt__lt_strong_gt_I wanted to add that if i increment the range of the meshes to be on the scene for example my ground is 1024*1024 and the range of my sheshes is 2048*2048 _co_ all the meshes that are outside the ground appears correctly and the meshes inside the ground doesn_t_t appear _co_ any ideas? maybe it has to be something about memory?_lt_/strong_gt__lt_/em_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2017-10-21T03:42:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIn your snippet we don_t_t know anything about how you built your ground. If your ground is created from a heightmap for instance_co_ you must be sure it_t_s already initialized after the heightmap image download by using the callback function parameter of the groundFromHeighMap constructor static method (this is a common error).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe best way to solve your problem would be _dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- to isolate the issue _dd_ ex first_co_ not importing anything and using getHeightAtCoordinates()_co_ then if ok_co_ adding the import_co_ etc\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- to reproduce it in a PG so we could check the code\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"BitOfGold","Date":"2017-10-22T13:52:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tI think the issue is_co_ when x and z is over the edge of the ground._lt_br /_gt_\n\tgetHeightAtCoordinates does not give you 0 result or something but an error._lt_br /_gt_\n\tDoes it give an error on the console?\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JonathanRev","Date":"2017-10-23T00:54:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tGood day / night guys _co_ i think i solved it !\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5453-jerome/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5453_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5453-jerome/_qt_ rel_eq__qt__qt__gt_@jerome_lt_/a_gt_ you were totally right _co_ i noticed some of the meshes were loading before the heighmap load completely _co_ that_t_s why i needed to reload many times so all items appears on the scene _dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis was the way i was creating the ground _dd_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\t                               _lt_strong_gt_ var ground _eq_ BABYLON.Mesh.CreateGroundFromHeightMap(_qt_groundterrain_qt__co_ _qt_img/heightmap.png_qt__co_ 1024_co_ 1024_co_ 100_co_ 5_co_ 80_co_ scene_co_ true)_sm_ _lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI solved it this way _co_ _lt_strong_gt_correct me if i am wrong please _lt_/strong_gt__co_ first of all i used the _dd_ onReady method _co_ as i told you before _co_ i am using the _lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt__qt_assetsManager_qt_ _co_ at the beginning _co_ i was doing this _dd_ _lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_                              _lt_strong_gt_ _lt_/strong_gt__lt_/span_gt__lt_strong_gt_ground.onReady _eq_ function () {   _lt_/strong_gt_                                    \n_lt_/p_gt_\n\n_lt_p style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_\n\t_lt_strong_gt_                                                                      var stones _eq_ assetsManager.addMeshTask(_qt_stones_qt__co_ _qt__qt__co_ _qt_assets/stones/_qt__co_ _qt_stones.babylon_qt_)_sm__lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_\n\t_lt_strong_gt_                                                                                     stones.onSuccess _eq_ function(task) {_lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_\n\t_lt_strong_gt_                                                                                            task.loadedMeshes.forEach(function(mesh) {_lt_br /_gt_\n\t                                                                                                     mesh.isVisible _eq_ false_sm__lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_\n\t_lt_strong_gt_                                                                                                     var range _eq_ 1024_sm__lt_br /_gt_\n\t                                                                                                     var count _eq_ 40_sm__lt_br /_gt_\n\t                                                                                                     for (var index _eq_ 0_sm_ index &lt_sm_ count_sm_ index++) {_lt_br /_gt_\n\t                                                                                                              var newInstance _eq_ mesh.createInstance(_qt_j_qt_ + index)_sm__lt_br /_gt_\n\t                                                                                                              var x _eq_ range / 2 - Math.random() * range_sm__lt_br /_gt_\n\t                                                                                                              var z _eq_ range / 2 - Math.random() * range_sm__lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_\n\t_lt_strong_gt_                                                                                                              var y _eq_ ground.getHeightAtCoordinates(x_co_ z) _sm_ // Getting height from ground object_lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_\n\t_lt_strong_gt_                                                                                                              newInstance.position _eq_ new BABYLON.Vector3(x_co_ y_co_ z)_sm__lt_br /_gt_\n\t                                                                                                      }_lt_br /_gt_\n\t                                                                                            })_sm__lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_\n\t_lt_strong_gt_                                                                                        }_lt_/strong_gt__lt_br /_gt_\n\t                                _lt_strong_gt_ }_lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_\n\tBut i noticed the meshes were not appearing with that way_co_ any ideas why ? So _co_ ... i solved it this way instead _co_ adding the _lt_strong_gt_assetsManager.load() _lt_/strong_gt_inside onReady method_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t                                _lt_strong_gt_ground.onReady _eq_ function () {_lt_br /_gt_\n\t                                           assetsManager.load()_sm__lt_br /_gt_\n\t                                 }_lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNow everything loads completely without issues or delay.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBtw as you can see i am using the _lt_strong_gt_assetsManager _lt_/strong_gt__co_ but i also tried using the _lt_strong_gt_SceneLoader.ImportMesh_lt_/strong_gt_ this way_dd_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\t                                _lt_strong_gt_ground.onReady _eq_ function () {_lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_                                         BABYLON.SceneLoader.ImportMesh(_qt_SmallTree1_qt__co_ _qt_assets/SmallTree1/_qt__co_ _qt_SmallTree1.babylon_qt__co_ scene_co_ function (newMeshes) {_lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_                                     })_sm__lt_br /_gt_\n\t                                }_lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis method also load perfect too _co_ as you can see in the code above i can include the _lt_strong_gt_BABYLON.SceneLoader.ImportMesh _lt_/strong_gt_inside the onReady method _co_ and in this case it works perfect not like the _lt_strong_gt_assetsManager.addMeshTask_lt_/strong_gt_ that were not loaded.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t what do you think guys about this methods ? _co_ i don_t_t think it will impact on performance . don_t_t it ? _co_ and sorry if this question is noob but which method on importing objects is the best _lt_strong_gt_assetsManager or SceneLoader.ImportMesh ? _co_ _lt_/strong_gt_in which case do you think is the best on using each? _co_ thanks for your support guys ! i am really grateful to have a great comunity on babylon !\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]