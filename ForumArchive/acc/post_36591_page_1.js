[{"Owner":"Topper","Date":"2018-03-23T15:44:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi Babylonians_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI´m coming up with with a new question.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhat is (for the described purpose) the most elegant way of loading meshes into an existing scene?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMy application will use something like a ressource (product) configurator for forklifts_co_ pallet trucks_co_ etc.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTo display a vehicle i want to use a BJS scene. The user will be able to scroll through the vehicles (data grid) and\n_lt_/p_gt_\n\n_lt_p_gt_\n\tthe scene has to change_co_ accordingly.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSince the vehicle models are very complex I will buy them online at turbosquid and other places.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI don´t need complex textures but I want to keep (and change) colors. There will be like 3 to 7 different colors per model.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWe use Blender_co_ but we still don´t kno which way to go_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t1) obj and mtl\n_lt_/p_gt_\n\n_lt_p_gt_\n\t2) loading meshes from .babylon\n_lt_/p_gt_\n\n_lt_p_gt_\n\t3) gltf\n_lt_/p_gt_\n\n_lt_p_gt_\n\t4) stl\n_lt_/p_gt_\n\n_lt_p_gt_\n\t5) AsstesManager\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhen I merge the everything to one single mesh in Blender_co_ I can´t work with different materials (colors)_co_ right?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tShould I create single meshes in Blender that will share the same material in BJS?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tUsing multi materials and submeshes i need to know the vertices number ranges. How do i get this done with complex models like forklift?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere´s an example of what our models look like_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhat is the most elegant way to get this accomplished?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBR_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTopper\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_03/maxresdefault.jpg.9277fbbaafd735e71dd9227e136abcfd.jpg_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_17621_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_03/maxresdefault.thumb.jpg.12b8592343a3a5d1c40dccdc0cdd2f71.jpg_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_maxresdefault.jpg_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2018-03-23T16:25:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI can only speak for .babylon_co_ but merging meshes will result in a _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Materials/babylon.multiMaterial.ts_qt_ rel_eq__qt_external nofollow_qt__gt_BABYLON.MultiMaterial_lt_/a_gt_ for the mesh.  This is really an aggregate of StandardMaterials.  You can still get an individual using mat. subMaterials_lt_em_gt_ &amp_sm__lt_/em_gt_ make changes.  Probably need to iterate through each sub material &amp_sm_ match name to get the value for _t_i_t_ though.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSince a .babylon is very closely integrated_co_ this might not be available for all the formats_co_ but I do not know.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"V!nc3r","Date":"2018-03-23T16:45:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIf you_t_re in _lt_strong_gt_standard _lt_/strong_gt_workflow_co_ _lt_em_gt_.babylon_lt_/em_gt_ file is probably the best option. As JCPalmer said_co_ you can easily point a material then.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tExample_dd_\n_lt_/p_gt_\n\n_lt_ul_gt_\n\t_lt_li_gt_\n\t\ton Blender_co_ these materials are applied on your object _lt_em_gt_myObject_lt_/em_gt_\n\t_lt_/li_gt_\n_lt_/ul_gt_\n\n_lt_p_gt_\n\t_lt_img alt_eq__qt_header.png_qt_ class_eq__qt_ipsImage_qt_ height_eq__qt_116_qt_ src_eq__qt_https_dd_//d33wubrfki0l68.cloudfront.net/3a52c7c191a7f672c54dbebb161966a112f63d2f/27e46/img/exporters/blender/materials/header.png_qt_ width_eq__qt_297_qt_ /_gt_\n_lt_/p_gt_\n\n_lt_ul_gt_\n\t_lt_li_gt_\n\t\tonce append in your BJS scene_co_ you can acceed to _lt_em_gt_Material.001_lt_/em_gt_ like this_dd_\n\t_lt_/li_gt_\n_lt_/ul_gt_\n\n_lt_pre_gt_\n_lt_code_gt_var myObject _eq_ scene.getMeshByName(_qt_myObject_qt_)_sm_\nvar myMaterial _eq_ myObject.material.subMaterial[1]_sm_\nmyMaterial.ambientColor _eq_ new BABYLON.Color3.Magenta()_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tIf you_t_re in _lt_strong_gt_PBR _lt_/strong_gt_workflow the GLTF exporter will split one object into one mesh per subMaterial. Here a _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#J5E230%2311_qt_ rel_eq__qt_external nofollow_qt__gt_playground example_lt_/a_gt_ (_lt_a href_eq__qt_https_dd_//github.com/Vinc3r/cornellBox_qt_ rel_eq__qt_external nofollow_qt__gt_sources_lt_/a_gt_) with some material parsing (line 79 to 88).\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Topper","Date":"2018-03-23T21:01:31Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks so far.\n_lt_/p_gt_\n\n_lt_p_gt_\n\ti think i will go the .babylon way.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo if i don_t_t wanna use multi materials and this pbr thing_co_ what are the prelimineries in Blender?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t1) one mesh per different material (wheels_co_ chassis_co_ cabin_co_ etc.)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t2) parenting in Blender or in BJS?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tdo you use the words object and mesh interchangeably?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"V!nc3r","Date":"2018-03-24T07:48:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIn case of your model_co_ I wil try to detach only potentially animatable parts if needed. If not_co_ one object is fine (so with multimaterials on it obviously).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut if you want_co_ for example_co_ yellow color at the bottom part of the model_co_ but red color at the body_co_ In Blender you need to assign each parts to its own material.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn fact you can also split your model into multiple meshes if you think it_t_s easier_co_ it_t_s not a big deal. It_t_s on you_co_ depending of which type of interactions you want to code.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Topper","Date":"2018-03-28T07:04:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tthanks V!nc3r_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tthat did the trick. Works as expected and needed.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis one can be closed.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBR_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMarkus\n_lt_/p_gt_\n\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_03/HiLo_yellow.JPG.8adc9954d099ea065fc08311e1943c01.JPG_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_17665_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_03/HiLo_yellow.thumb.JPG.cdcee01d364b4f5348f9eaa19b8bdff7.JPG_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_HiLo_yellow.JPG_qt__gt__lt_/a_gt__lt_/p_gt_\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_03/HiLo_blue.JPG.ed90c6fb31d5e88b780d8e4b21386912.JPG_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_17663_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_03/HiLo_blue.JPG.ed90c6fb31d5e88b780d8e4b21386912.JPG_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_HiLo_blue.JPG_qt__gt__lt_/a_gt__lt_/p_gt_\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_03/HiLo_red.JPG.ed4a46c1ac4bc2c31981a7afbcd6cc4e.JPG_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_17664_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_03/HiLo_red.JPG.ed4a46c1ac4bc2c31981a7afbcd6cc4e.JPG_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_HiLo_red.JPG_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"V!nc3r","Date":"2018-03-28T08:04:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tJust an observation_dd_ when using the .babylon exporter_co_ don_t_t forget to assign Edge split modifiers on your objects to preserve smooth and sharp shadings.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Topper","Date":"2018-03-28T12:01:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI know. Thank´s for the tip. Already implemented.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]