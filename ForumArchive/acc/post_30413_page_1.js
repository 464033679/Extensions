[{"Owner":"ozRocker","Date":"2017-05-14T02:24:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHas anyone ever re-created a MapBox (or other mapping api) camera in Babylon.js?  \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_ve found a project in Three.js that recreates the MapBox camera by updating the camera projection matrix and world matrix_dd_ _lt_a href_eq__qt_https_dd_//github.com/peterqliu/threebox/blob/master/src/Camera/CameraSync.js_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/peterqliu/threebox/blob/master/src/Camera/CameraSync.js_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThere is this kind of code that access the camera world matrix but I_t_m not sure how to do that in Babylon.js_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_this.camera.projectionMatrix _eq_ utils.makePerspectiveMatrix(fov_co_ this.map.transform.width / this.map.transform.height_co_ 1_co_ farZ)_sm_\n        \n\n        var cameraWorldMatrix _eq_ new THREE.Matrix4()_sm_\n        var cameraTranslateZ _eq_ new THREE.Matrix4().makeTranslation(0_co_0_co_cameraToCenterDistance)_sm_\n        var cameraRotateX _eq_ new THREE.Matrix4().makeRotationX(this.map.transform._pitch)_sm_\n        var cameraRotateZ _eq_ new THREE.Matrix4().makeRotationZ(this.map.transform.angle)_sm_\n\n        // Unlike the Mapbox GL JS camera_co_ separate camera translation and rotation out into its world matrix\n        // If this is applied directly to the projection matrix_co_ it will work OK but break raycasting\n        cameraWorldMatrix\n            .premultiply(cameraTranslateZ)\n            .premultiply(cameraRotateX)\n            .premultiply(cameraRotateZ)_sm_            \n\n        this.camera.matrixWorld.copy(cameraWorldMatrix)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ozRocker","Date":"2017-05-14T08:51:17Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIn particular_co_ I_t_m trying to find out the Babylon.js equivalent of these methods/properties_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tthis.camera.matrixAutoUpdate _eq_ false_sm_   // We_t_re in charge of the camera now!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tthis.world.matrixAutoUpdate _eq_ false_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tthis.camera.projectionMatrix _eq_ projMatrix_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tthis.camera.matrixWorld _eq_ cameraWorldMatrix_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tthis.world.matrix _eq_ worldMatrix_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tthis.world is a group of meshes and can be transformed so it applies those transformations to all child meshes as a whole_co_  so I_t_d say its the same as a node which is used as a parent of multiple meshes\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-05-29T15:41:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tyou can override camera.getViewMatrix and camera.getProjectionMatrix to do it manually \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ozRocker","Date":"2017-05-30T23:35:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_176085_qt_ data-ipsquote-contentid_eq__qt_30413_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1496072489_qt_ data-ipsquote-userid_eq__qt_4442_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tOn 2017-5-30 at 1_dd_41 AM_co_ Deltakosh said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tHello!\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tyou can override camera.getViewMatrix and camera.getProjectionMatrix to do it manually \n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tThanks for the tip!  Also_co_ I_t_m wondering if its possible to do a smooth transition between a perspective camera and ortho camera\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-05-31T02:30:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tNot out of the box but this is something that I would like to add if you have time to do it\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]