[{"Owner":"Calsa","Date":"2018-11-11T20:42:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi all_co_ I have not coded in a while but have been doing some playing lately. I have been working on a simple control class for assetmanager for a multi level type game. I have run into a bit of an issue inside the .onSucess. as soon as the engine hits the this.library[task.name] line Babylon skips that line and everything else inside onSucess. I can add in statements inside the { above that line and it works fine_co_ but something right at that line is wonky which has had me stumped for a good hour. Advice?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOh_co_ and yes_co_ I know I am way to addicted to using _sm_ and they are not necessary. Just still feels weird. Find and replace at the end I guess _lt_span_gt__lt_span_gt__dd_\\ _lt_/span_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_class Assets{\n    constructor(destiny){\n        this.destiny _eq_ destiny_sm_\n        this.scene _eq_ destiny.scene_sm_\n        this.initalized _eq_ false_sm_\n        this.assetsManager _eq_ new BABYLON.AssetsManager(this.scene)_sm_\n        this.library _eq_ {}_sm_ // loaded template model library object\n    }_sm_\n    \n    queMeshTask(meshURL_co_ meshName){\n        var meshPath _eq_ meshURL + meshName + _qt_/_qt__sm_\n        var meshFullName _eq_ meshName + _qt_.obj_qt__sm_\n        if(debugModeOn_eq__eq_1){dm(_qt_Queue Mesh_dd_ _qt_ + meshPath + meshFullName_co_ 1)}_sm_\n        var meshTask _eq_ this.assetsManager.addMeshTask(meshName_co_ _qt__qt__co_ meshPath_co_ meshFullName)_sm_\n        meshTask.onSuccess _eq_ function(task){\n            this.library[task.name] _eq_ task.loadedMeshes_sm_ // &lt_sm_-- This and anything after it within the onSuccess {} will not execute. HELP!\n            if(debugModeOn_eq__eq_1){ dm(task.name + _qt_ has been initialized._qt__co_ 1)}_sm_ // dm _eq_ in game console debugger\n            for(i_eq_0_sm_ i &lt_sm_ task.loadedMeshes.length_sm_ i++){\n                task.loadedMeshes[i].isVisible _eq_ false_sm_ // hide the library meshes\n            }_sm_\n            this.scene.getObjectByName(meshName).initNode(this.library[task.name])_sm_\n        }_sm_\n    }_sm_\n    \n    initLoading(engine){\n        this.assetsManager.onProgress _eq_ function(remainingCount_co_ totalCount_co_ lastFinishedTask) {\n            engine.loadingUIText _eq_ _t_Please stand by. Items Remaining _t_ + remainingCount + _t_ out of _t_ + totalCount + _t_..._t__sm_\n        }_sm_\n\n        this.assetsManager.onFinish _eq_ function (tasks) {\n            dm(_qt_Success_co_ All Assets Loaded_qt__co_ 1)_sm_\n            this.initalized _eq_ true_sm_\n        }_sm_\n        this.assetsManager.load()_sm_\n    }_sm_\n}_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-11-12T15:58:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tUnfortunately _qt_this_qt_ in your function context is NOT the object but the function itself (I know this is weird but this is how JS works _lt_span_gt__dd_))_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_So you could easily fix it with arrow functions that capture the host context_dd__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code class_eq__qt_language-javascript_qt__gt_meshTask.onSuccess _eq_ (task)_eq_&gt_sm_ {\n            this.library[task.name] _eq_ task.loadedMeshes_sm_ // &lt_sm_-- This and anything after it within the onSuccess {} will not execute. HELP!\n            if(debugModeOn_eq__eq_1){ dm(task.name + _qt_ has been initialized._qt__co_ 1)}_sm_ // dm _eq_ in game console debugger\n            for(i_eq_0_sm_ i &lt_sm_ task.loadedMeshes.length_sm_ i++){\n                task.loadedMeshes[i].isVisible _eq_ false_sm_ // hide the library meshes\n            }_sm_\n            this.scene.getObjectByName(meshName).initNode(this.library[task.name])_sm_\n        }_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t_qt_this_qt_ inside an arrow function is the host object so this.library will exist\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Calsa","Date":"2018-11-12T16:46:03Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThat did the trick. Much appreciated.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]