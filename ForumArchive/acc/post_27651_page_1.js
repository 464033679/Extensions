[{"Owner":"Numa","Date":"2017-01-13T03:45:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi guys_co_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tsomething weird is happening. I load a model (using the glTF loader)_co_ it_t_s showing up fine_co_ but as soon as I rotate the arcRotateCamera_co_ it disappears. If I resize my window_co_ it comes back.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tEdit_dd_ an additional clue_co_ the model comes up with flipped normals so I flipped them back once the model is loaded_co_ but the new normals only show up after I have resized the window_co_ you can see that in the gif below.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tEdit2_dd_ this doesn_t_t happen with the OBJ loader\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img alt_eq__qt_2f10445e29.gif_qt_ class_eq__qt_ipsImage_qt_ height_eq__qt_460_qt_ src_eq__qt_http_dd_//puu.sh/tkvZ2/2f10445e29.gif_qt_ width_eq__qt_1000_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAny ideas?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-01-13T19:41:18Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tInteresting.  Sorry for slow replies. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tHave you got the latest gfx drivers for your _qt_stuff_qt_?  \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd_co_ are you seeing this same symptom in all the major browsers?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhich version of BJS_co_ and are you running any _qt_extra_qt_ scripts?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCan you publish_co_ so others can browse it?  hmm.  (beard scratch)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHey_co_ you asked for ideas.  No mention of needing GOOD ideas.  _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2017-01-13T20:06:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tmaybe its bounding box isn_t_t right ?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tjust try mesh.refreshBoundingInfo() after your mesh is downloaded\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Numa","Date":"2017-01-15T22:58:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks for the suggestions! it_t_s the same in other browsers_co_ and refreshing the bounding box didn_t_t fix it _lt_img alt_eq__qt__dd_(_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ title_eq__qt__dd_(_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m using the latest 2.5 version and the latest gltf loader.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have a ton of other scripts_co_ it_t_s a pretty big project _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ It might be pretty hard to isolate it into a playground example.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAny other ideas? Why would resizing the window refresh the model? Could it have something to do with the gltf loader creating a different camera_co_ maybe?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-01-16T12:12:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//cgit.drupalcode.org/sandbox-ideogram_nl-2504447/tree/examples/webgl_loader_gltf.html?id_eq_e5902b1ddb397cea8764732fca7ac411e67303ea_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//cgit.drupalcode.org/sandbox-ideogram_nl-2504447/tree/examples/webgl_loader_gltf.html?id_eq_e5902b1ddb397cea8764732fca7ac411e67303ea_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThere sure is a ton of camera stuff... happening in that loader.  hmm.  You might be on the right track_co_ Petaluma Numa.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Numa","Date":"2017-01-16T23:28:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOk so I_t_m half way there I think. Thanks _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5733_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/_qt_ rel_eq__qt__qt__gt_@Wingnut_lt_/a_gt_ that code helped_dd_)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t To get the model to show_co_ I need to do 2 things_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t1. resize the window\n_lt_/p_gt_\n\n_lt_p_gt_\n\t2. rotate the camera (I guess it refreshes the view somehow?)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tcalling engine.setSize(x_co_y) after loading the file takes care of 1.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNow how do I fake a camera rotate? Is there any secret function to re-render everything? or just the camera?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Numa","Date":"2017-01-17T00:14:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOk_co_ I _qt_fixed_qt_ it_co_ more like horrible hacked it.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI resize the engine to fake a window resize_co_ and I use camera.setTarget to a slightly different position to fake a camera movement. Now it gets refreshed and everything looks fine.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI wonder however_co_ what the hell is going on?! And is there a quicker way to refresh the scene maybe?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf I get a moment I_t_ll try to make a playground for it.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-01-17T19:11:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tDo you mind testing with the latest v2.6 alpha and the very latest gltf loader? (just in case)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPing _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/11802-luaacro/?do_eq_hovercard_qt_ data-mentionid_eq__qt_11802_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/11802-luaacro/_qt_ rel_eq__qt__qt__gt_@Luaacro_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Luaacro","Date":"2017-01-17T19:16:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi @Numa_co_ Happy that you use the gltf loader _eq_D\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWould be perfect if you can create a playground for it or_co_ to go faster_co_ share your gltf file as I can determine if the problem comes from the loader or not\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Numa","Date":"2017-01-28T05:40:57Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSorry for the late response. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI tested with all new versions and the problem was still there.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_u_gt__lt_strong_gt_HOWEVER here is what I discovered_dd__lt_/strong_gt__lt_/u_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMy scene creation code is quite big so I moved it to a separate script called sceneManager.js_co_ there I do all my things_co_ instantiating the engine_co_ creating the scene_co_ camera etc etc.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt seems to be a bad idea. I found out that removing\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_var canvas _eq_ document.getElementById(_qt_renderCanvas_qt_)_sm_\nvar engine _eq_ new BABYLON.Engine(canvas_co_ true_co_ { stencil_dd_ true })_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tfrom the file and putting it directly in the html page fixed the problem. This works fine_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_&lt_sm_body&gt_sm_\n    &lt_sm_canvas id_eq__qt_renderCanvas_qt_&gt_sm_&lt_sm_/canvas&gt_sm_\n\n    &lt_sm_!-- Babylon Files --&gt_sm_\n    &lt_sm_script src_eq__qt_http_dd_//cdn.babylonjs.com/2-5/babylon.js_qt_&gt_sm_&lt_sm_/script&gt_sm_\n    &lt_sm_script src_eq__qt_js/babylon.objFileLoader.js_qt_&gt_sm_&lt_sm_/script&gt_sm_\n    &lt_sm_script src_eq__qt_js/babylon.glTFFileLoader.js_qt_&gt_sm_&lt_sm_/script&gt_sm_\n    &lt_sm_script src_eq__qt_js/babylon.canvas2d.js_qt_&gt_sm_&lt_sm_/script&gt_sm_\n\n    &lt_sm_!-- Init engine --&gt_sm_\n    &lt_sm_script&gt_sm_\n    var canvas _eq_ document.getElementById(_qt_renderCanvas_qt_)_sm_\n    var engine _eq_ new BABYLON.Engine(canvas_co_ true_co_ { stencil_dd_ true })_sm_\n    &lt_sm_/script&gt_sm_\n\n    &lt_sm_!-- Create scene --&gt_sm_\n    &lt_sm_script src_eq__qt_sceneManager.js_qt_&gt_sm_&lt_sm_/script&gt_sm_ \n\n    &lt_sm_!-- plenty of other things --&gt_sm_\n\n&lt_sm_/body&gt_sm_ _lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tis that... expected? Can someone explain? \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_br /_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-01-30T17:50:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThis is expected because the script is executed BEFORE the canvas was created.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]