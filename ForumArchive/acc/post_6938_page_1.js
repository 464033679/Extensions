[{"Owner":"Kilombo","Date":"2014-06-04T16:55:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hello everyone_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I_t_ve been trying for the past few hours to put out a lens flare that would fade away if the camera was more then at certain distance from the light. When I check the babylon.lensFlare.js it appears that the solution is on the borderlimit variable. Although_co_ somehow if i put the borderlimit bigger then one the lensflare never disapear from the screen. And if i put him negative or zero_co_ it doesn_t_t appear at all. Anyone worked around with this already ?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_(Delta_co_ I_t_ll test the mipmap in this evening no worry_co_ I promise you _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ )_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-06-04T19:00:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Did you have a look at this demo_dd__lt_/p_gt__lt_p_gt__lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Samples/blob/master/Scenes/Customs/lensFlares.js_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Samples/blob/master/Scenes/Customs/lensFlares.js_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Kilombo","Date":"2014-06-04T19:43:44Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Indeed mate. You see_co_ it happens the same in the demo_co_ you can zoom out of the skybox but the lens flare are still visible. I need somehow to limit that to a view distance limit or else fade out._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-06-04T20:20:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Sounds simple to do._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_In render function_co_ the intensity could be multiplied by the range to the light (Same for the isVisible. If light.pos - cam.pos&gt_sm_ range_co_ then return false)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thoughts?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Kilombo","Date":"2014-06-05T12:29:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hello Delta_co_ I thought about it_co_ and almost implemented something like that_co_ although when I checked the babylon.lensflare.js file_co_ I saw a this method (LensFlareSystem.prototype.render _eq_ function ())_co_ it has one intensity property that works with two away vars (awayX and awayY)_co_ but this doesn_t_t seem to be working properly. And I want to understand if i_t_m doing something wrong or if this is not supposed to work the way I_t_m thinking._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-06-05T16:54:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I think you should just have to set intensity to a lower value to reduce intensity? Am I wrong? Do you have your experiment somewhere I can see it?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Kilombo","Date":"2014-06-13T17:05:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Sorry to reactivet DK_co_ but I come back to this today. The problem is the same. I think you are talking about the light. But I_t_m talking about the particleSystem._lt_/p_gt__lt_p_gt_In particleSystem.js I don_t_t see any reference to distance. Anyway_co_ I tried do do dispose if distance from emitter or bigger then the light range_co_ and if not it would render again. It happens that this doesn_t_t work has visible or not visible_co_ it has to be instanciated again._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Is it possible to had a setVisible(true/false) that would change the private visible var in the class_co_ and that would rather turn visible or not the particleSystem ?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-06-13T17:17:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_You were talking about lensflares _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ alt_eq__qt__dd_(_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ I_t_m not sure to understand what do you want then _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Kilombo","Date":"2014-06-13T17:23:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I want to turn the lens flare not visible when the distance from the emitter is bigger then the light range. This could be solved with a turn visible/not visible method _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ or private var._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-06-13T17:26:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Yes but why do you speak about particleSystem then ?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-06-13T17:29:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_BTW I_t_ve just added a LensFlareSystem.isEnabled property _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Kilombo","Date":"2014-06-13T18:00:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_42597_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_6938_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt_ data-cite_eq__qt_Deltakosh_qt_ data-ipsquote-timestamp_eq__qt_1402680368_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt_Yes but why do you speak about particleSystem then ?_lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_Well..... What can I say.... My brain just burned out or something. Lol...... _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_laugh.png_qt_ alt_eq__qt__dd_lol_dd__qt__gt_  Thanks for the feature._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-06-13T18:11:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_My pleasure _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Kilombo","Date":"2014-06-13T18:22:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Sorry to bother again DK. But it_t_s not working._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_In the example in the URL the lensflare should be _enabled _eq_ false (has it is)_co_ although it still draws._lt_/p_gt__lt_p_gt_The distance is bigger then 18000 (has i defined) so it runs the method disposeParticle() (and in the console.log returns false)._lt_/p_gt__lt_p_gt_There_t_s the class and in the end is the function. Do you find anything wrong or weird ?_lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_function system(posx_co_posz_co_planet1_co_planet2_co_planet3){    //luzes    this.planet1 _eq_ planet1_sm_    this.planet2 _eq_ planet2_sm_    this.planet3 _eq_ planet3_sm_    this.posx _eq_ posx_sm_    this.posz _eq_ posz_sm_    this.light0 _eq_ new BABYLON.PointLight(_qt_Omni_qt__co_ new BABYLON.Vector3(this.posx_co_ 0_co_ this.posz)_co_ scene)_sm_    this.lightSphere0 _eq_ BABYLON.Mesh.CreateSphere(_qt_Sphere0_qt__co_ 64_co_ 40_co_ scene)_sm_    this.lensFlareSystem1 _eq_ new BABYLON.LensFlareSystem(_qt_lensFlareSystem_qt__co_ this.light0_co_ scene)_sm_    this.lightSphere0.position _eq_ this.light0.position_sm_    this.flare00 _eq_ new BABYLON.LensFlare(0.1_co_ 0_co_ new BABYLON.Color3(1_co_ 1_co_ 1)_co_ _qt_Assets/lens5.png_qt__co_ this.lensFlareSystem1)_sm_    this.flare01 _eq_ new BABYLON.LensFlare(0.3_co_ 0.1_co_ new BABYLON.Color3(0.5_co_ 0.5_co_ 1)_co_ _qt_Assets/lens4.png_qt__co_ this.lensFlareSystem1)_sm_    this.flare02 _eq_ new BABYLON.LensFlare(0.1_co_ 0.5_co_ new BABYLON.Color3(1_co_ 1_co_ 1)_co_ _qt_Assets/lens4.png_qt__co_ this.lensFlareSystem1)_sm_    this.flare03 _eq_ new BABYLON.LensFlare(0.2_co_ 0.2_co_ new BABYLON.Color3(1_co_ 0.5_co_ 1)_co_ _qt_Assets/Flare.png_qt__co_ this.lensFlareSystem1)_sm_    this.flare04 _eq_ new BABYLON.LensFlare(0.05_co_ 0.3_co_ new BABYLON.Color3(1_co_ 1_co_ 1)_co_ _qt_Assets/lens5.png_qt__co_ this.lensFlareSystem1)_sm_    this.flare05 _eq_ new BABYLON.LensFlare(0.2_co_ 0.4_co_ new BABYLON.Color3(1_co_ 1_co_ 1)_co_ _qt_Assets/lens4.png_qt__co_ this.lensFlareSystem1)_sm_    this.light0.range_sm_    this.light0.intensity_sm_}system.prototype.activateLens _eq_ function(){    this.lensFlareSystem1._isEnabled _eq_ true_sm_}_sm_system.prototype.disposeLens _eq_ function(){    console.log(_qt_entra no desligador_qt_)_sm_    this.lensFlareSystem1._isEnabled _eq_ false_sm_    console.log(this.lensFlareSystem1._isEnabled)_sm_}_sm_system.prototype.setSun _eq_ function(range_co_intensity){         this.lightSphere0.material _eq_ new BABYLON.StandardMaterial(_qt_white_qt__co_ scene)_sm_    this.lightSphere0.material.diffuseColor _eq_ new BABYLON.Color3(1_co_ 1_co_ 1)_sm_    this.lightSphere0.material.specularColor _eq_ new BABYLON.Color3(1_co_ 1_co_ 1)_sm_    this.lightSphere0.material.emissiveColor _eq_ new BABYLON.Color3(1_co_ 1_co_ 1)_sm_            this.lensFlareSystem1.borderLimit _eq_ 10_sm_    this.lensFlareSystem1.render_sm_        this.light0.range _eq_ range_sm_    this.light0.intensity _eq_ intensity_sm_}_sm_system.prototype.getSunRange _eq_ function(){    return this.light0.range_sm_}_sm_system.prototype.getSunIntensity _eq_ function(){    return this.light0.intensity_sm_}_sm_system.prototype.getSunPositionX _eq_ function(){    return this.lightSphere0.position.x_sm_}_sm_system.prototype.getSunPositionZ _eq_ function(){    return this.lightSphere0.position.z_sm_}_sm_system.prototype.setPlanets _eq_ function (){    var temp _eq_ this_sm_    BABYLON.SceneLoader.ImportMesh(this.planet1_co_ _qt_Assets/babylonreadyfiles/_qt__co_ _qt_planets.babylon_qt__co_ scene_co_ function(newMeshes) {                       newMeshes[0].scaling.x _eq_ 500_sm_            newMeshes[0].scaling.y _eq_ 500_sm_            newMeshes[0].scaling.z _eq_ 500_sm_            newMeshes[0].position.x _eq_ (temp.posx)/2_sm_            newMeshes[0].position.y _eq_ 0_sm_            newMeshes[0].position.z _eq_ temp.posz/2_sm_            newMeshes[0].rotate(BABYLON.Axis.X_co_ Math.PI/4_co_ BABYLON.Space.LOCAL)_sm_             newMeshes[0].actionManager _eq_ new BABYLON.ActionManager(scene)_sm_            newMeshes[0].checkCollisions _eq_ true_sm_            newMeshes[0].setPhysicsState({ impostor_dd_ BABYLON.PhysicsEngine.SphereImpostor_co_ mass_dd_ 0 })_sm_            makeOverOut(newMeshes[0])_sm_                })_sm_    BABYLON.SceneLoader.ImportMesh(this.planet2_co_ _qt_Assets/babylonreadyfiles/_qt__co_ _qt_planets.babylon_qt__co_ scene_co_ function(newMeshes) {                       newMeshes[0].scaling.x _eq_ 300_sm_            newMeshes[0].scaling.y _eq_ 300_sm_            newMeshes[0].scaling.z _eq_ 300_sm_            newMeshes[0].position.x _eq_ (temp.posx/2)+(temp.posx)_sm_            newMeshes[0].position.y _eq_ 0_sm_            newMeshes[0].position.z _eq_ temp.posz/2_sm_            newMeshes[0].rotate(BABYLON.Axis.X_co_ Math.PI/4_co_ BABYLON.Space.LOCAL)_sm_             newMeshes[0].actionManager _eq_ new BABYLON.ActionManager(scene)_sm_            newMeshes[0].checkCollisions _eq_ true_sm_            newMeshes[0].setPhysicsState({ impostor_dd_ BABYLON.PhysicsEngine.SphereImpostor_co_ mass_dd_ 0 })_sm_            makeOverOut(newMeshes[0])_sm_                })_sm_    BABYLON.SceneLoader.ImportMesh(this.planet3_co_ _qt_Assets/babylonreadyfiles/_qt__co_ _qt_planets.babylon_qt__co_ scene_co_ function(newMeshes) {                       newMeshes[0].scaling.x _eq_ 750_sm_            newMeshes[0].scaling.y _eq_ 750_sm_            newMeshes[0].scaling.z _eq_ 750_sm_            newMeshes[0].position.x _eq_ temp.posx_sm_            newMeshes[0].position.y _eq_ 0_sm_            newMeshes[0].position.z _eq_ temp.posz/2_sm_            newMeshes[0].rotate(BABYLON.Axis.X_co_ Math.PI/4_co_ BABYLON.Space.LOCAL)_sm_             newMeshes[0].actionManager _eq_ new BABYLON.ActionManager(scene)_sm_            newMeshes[0].checkCollisions _eq_ true_sm_            newMeshes[0].setPhysicsState({ impostor_dd_ BABYLON.PhysicsEngine.SphereImpostor_co_ mass_dd_ 0 })_sm_            makeOverOut(newMeshes[0])_sm_                })_sm_}_sm_function calculateSunDistance(system_co_camera){    distancex _eq_ Math.abs((camera.target.x)-(system.getSunPositionX()))_sm_    distancez _eq_ Math.abs((camera.target.z)-(system.getSunPositionZ()))_sm_    console.log(distancex_co_ _qt_ _qt__co_distancez)_sm_    if ((distancex &gt_sm_ system.getSunRange())||(distancez &gt_sm_ system.getSunRange())){        system.setSun(system.getSunRange()_co_0)_sm_        system.disposeLens()_sm_        console.log(_qt_desligou_qt_)_sm_    }    else{        system.setSun(system.getSunRange()_co_1)_sm_        system.activateLens()_sm_        console.log(_qt_ligou_qt_)_sm_    }    }_sm__lt_/pre_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-06-13T19:05:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I created a property isEnabled so you can just call lensFlareSystem.isEnabled _eq_ false _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_It should work btw_co_ could you confirm that you are using the right version?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Kilombo","Date":"2014-06-14T01:01:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Yap it works_co_ I didn_t_t had my forked babylon sincronized. Thanks DK _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]