[{"Owner":"Dad72","Date":"2015-05-15T21:38:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hello_co_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_div_gt_I have just seen that when one adds water (just with a small water level) with refractionTexture and reflectionTexture I lose 11 FPS. I pass from 60 FPS to 49 FPS._lt_/div_gt__lt_div_gt_I desactivate by the debugLayer _qt_Render Target_qt__co_ I return has 60 FPS. I think that there is a problem on the optimization of _qt_render target_qt_ or on the _qt_refractions_qt_ and _qt_reflexions._qt__lt_/div_gt__lt_div_gt_ _lt_/div_gt__lt_div_gt_I can not reproduce it in the playground_co_ because I use the shader available on the blog. Here_dd__lt_/div_gt__lt_div_gt__lt_a href_eq__qt_http_dd_//blogs.msdn.com/b/eternalcoding/archive/2013/08/06/babylon-js-creating-a-convincing-world-for-your-game-with-custom-shaders-height-maps-and-skyboxes.aspx_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//blogs.msdn.com/b/eternalcoding/archive/2013/08/06/babylon-js-creating-a-convincing-world-for-your-game-with-custom-shaders-height-maps-and-skyboxes.aspx_lt_/a_gt__lt_/div_gt__lt_div_gt_ _lt_/div_gt__lt_div_gt_Thank you_lt_/div_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-05-15T23:46:47Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_This is perfetly expected as the water shader uses  a render target (meaning it renders meshes inside a texture to use it for the refraction)_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-05-16T00:02:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_In previous versions (&lt_sm_  2.0) when I used the water with the same Shader I did not lose FPS. at present -10 FPS_co_ which is a lot. You tell me that this is normal now_co_ but before I did not lose FPS (or 2_co_ 3)_co_ so I do not understand if you tell me that this is normal. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Why not before that consumed as much ? Me and this regressive huge difference told me that there definitely is a problem. No ?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-05-17T16:16:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I have no way to define if this is a problem or not. If you can publish the same scene with 2.0 and 2.1 then we can compare _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2015-05-17T20:37:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_My 2 cents.  I do not trust the FPS on Debug Layer.  At first I thought it was being on Ubuntu with display drivers that are just not as good._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Then I started profiling.  For the exact same scene_co_ Firefox would say after a profiling session that I was averaging 30fps_co_ but I show 17 in Debug Layer._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The other problem with using debug layers #_t_s across versions BJS versions_co_ is Debug Layer is in BJS_co_ so it is not a neutral_co_ observer._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_dad72_co_ I would run 2 profiling sessions where the only difference is the BJS version.  What does it say?  The really good part is_co_ you can drill down into the cpu side of each performance_co_ at least_co_ and see where it might be coming from._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-05-17T20:58:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Thank you for this advice JCP_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-05-17T22:07:34Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_div_gt_I find where does the problem exactly_co_ is my field that uses a big subdivisions_dd_ 190 so I have more than 21_co_000 vertices. when I hide the ground_co_ I returned 60 FPS even with water._lt_/div_gt__lt_br_gt__lt_div_gt_ _lt_/div_gt__lt_br_gt__lt_div_gt_I look forward to the LOD on ground_co_ it would make large lot with retail for heigthmap._lt_/div_gt__lt_br_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]