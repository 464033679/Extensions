[{"Owner":"RyanONeill1970","Date":"2018-12-01T15:19:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI have an arc camera attached and have removed the mousewheel zooming from it.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tInstead I_t_ve intercepted the mousewheel event and I_t_m trying to scale all of the particles via the parent mesh so that the scene stays the same_co_ but the particles all zoom in / out.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBefore sps.setParticles is called I update the mesh property _lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_scalingDeterminant to try and zoom it_co_ but I_t_m not seeing any effect. I may be doing this completely the wrong way but can_t_t find anyone else scaling the mesh after initialisation (I_t_m doing it this way to avoid enumerating the particles as I thought it might be more efficient)._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_ve modded a project in the playground so you can see what I_t_m trying  -&gt_sm_ _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#ML2LR9%234_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#ML2LR9#4_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAny advice for a noob?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks in advance\n_lt_/p_gt_\n\n_lt_p_gt_\n\tRyan\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2018-12-01T15:23:47Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tsps.mesh.scaling _eq_ some_lt_strong_gt_Vector3_lt_/strong_gt_ is the right way to go\n_lt_/p_gt_\n\n_lt_p_gt_\n\tin your example_co_ it seems also that mouseWheelDeterminant is always undefined _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#ML2LR9%235_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#ML2LR9#5_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RyanONeill1970","Date":"2018-12-01T15:33:22Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThank you Jerome_co_ that looks like I can work with that.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI was trying to cheat by bypassing vector creation before.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOne more question_co_ I_t_d like to cull the particles that are on the outside of an invisible box in the centre of the screen.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFor example_co_ zooming in / out with the mousewheel makes them grow or shrink (by scaling them) and also does not draw the particles outside the central box.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIs there a preferred method for doing this? Just a few keywords to read up on would be very helpful.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tRegards\n_lt_/p_gt_\n\n_lt_p_gt_\n\tRyan\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2018-12-01T15:57:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tyou can also set simply the particles invisible _lt_span_gt__dd_ _lt_/span_gt_particle.isVisible _eq_ false\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2018-12-01T17:44:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi R... welcome to the forum.  I_t_m certainly no pro at SPS_co_ but I have some experience in standard particles.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOne of the settings on particles... is emitBox.  Essentially_co_ the two values define a box.  The numbers are DISTANCES.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSO_co_ picture this.  Set particle _lt_strong_gt_emitter location to center of box_lt_/strong_gt_.... probably a vector3.  ParticleSystem emitters are allowed to be actual mesh_co_ mesh-shape_co_ or simple vector3.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNow set your particle emitBox values... to define an emitBox that is somewhat smaller than the box you are hiding the particles-within.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBe sure to set your directions... _qt_wide open_qt_... usually dir1 _eq_ -1_co_ -1_co_ -1... and dir2 _eq_ 1_co_ 1_co_ 1.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNow... set your particle max-lifeTime LOW_co_ and emitPower/speed... low_co_ too.  Likely_co_ gravity off.  Demo_dd_  _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#1NXKLI%2318_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#1NXKLI#18_lt_/a_gt_  See how it maintains a box shape_co_ easily hidden inside another box.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhen you get everything just right_co_ you should see particles flying very short distances from a box-shape inside the other box... and they don_t_t live long enough (low max-lifeTime) to protrude outside-of the hiding box. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tGive it a spin_co_ play with emitBox sizes and particle max lifeTime_co_ etc.  Might be some useful things found.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPS_dd_  Somebody once made _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#2A4NUR%2316_qt_ rel_eq__qt_external nofollow_qt__gt_particles emit from vertices_lt_/a_gt_... but I_t_m pretty sure they were really drunk at the time.  _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  That PG link might be a memory leaker... probably due-to negative scaling of a sphere or something.  It seems to operate slower and slower_co_ over time.  hmm.  Might be asking too much of my girlie-man CPU._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_ALSO_dd_ _lt_/span_gt__lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#1NXKLI%2313_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#1NXKLI#13_lt_/a_gt__lt_span_gt_ - that_t_s a 6-plane box with long particle maxLifeTime... but maxEmitPower is low low low.  Plus it has a custom updater - sparkler.  _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  Sparticles.  _lt_/span_gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RyanONeill1970","Date":"2018-12-01T18:39:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5733_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/_qt_ rel_eq__qt__qt__gt_@Wingnut_lt_/a_gt__co_ there_t_s a lot of new techniques there I_t_ll need to read up on. It sounds like it might move the culling from the CPU to the GPU.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RyanONeill1970","Date":"2018-12-01T18:42:46Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI will of course post my work when finished_co_ hopefully before Christmas.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2018-12-02T12:01:47Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tCool! \n_lt_/p_gt_\n\n_lt_p_gt_\n\tHey_co_ there_t_s a new feature for standard particles... called _lt_a href_eq__qt_https_dd_//doc.babylonjs.com/babylon101/particles#shape-emitters_qt_ rel_eq__qt_external nofollow_qt__gt_shape emitters_lt_/a_gt_.  I forgot to mention them.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere_t_s a little _qt_box-shape_qt_ demo... a modification of the box-emitter demo from the docs.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#MRRGXL%2314_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#MRRGXL#14_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThat causes the particles to hold a fairly rigid shape... without the use of emitBox settings.  It seems emitBox settings are ignored... when using these _qt_shape emitters_qt_.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOk bye again.  _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ _lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]