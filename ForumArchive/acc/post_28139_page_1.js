[{"Owner":"Hartha","Date":"2017-02-01T17:02:18Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAfter I update the mesh positions I faced some problems_co__lt_br /_gt_\n\t1- All actions I registered to the mesh no longer work\n_lt_/p_gt_\n\n_lt_p_gt_\n\t2- I can_t_t click on the mesh\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_\nscene.onPointerDown _eq_ (event_co_ pick) _eq_&gt_sm_{\n  console.log(pick.pickedMesh)\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\talways returns null._lt_br /_gt__lt_br /_gt__lt_br /_gt_\n\tmy code\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_var canvas _eq_ document.querySelector(_qt_#renderCanvas_qt_)_sm_\nvar engine _eq_ new BABYLON.Engine(canvas_co_ true)_sm_\nvar createScene _eq_ function () {\n   var scene _eq_ new BABYLON.Scene(engine)_sm_\n   scene.clearColor _eq_ BABYLON.Color3.Gray()_sm_\n   var camera _eq_ new BABYLON.FreeCamera(_qt_camera1_qt__co_ new BABYLON.Vector3(0_co_ 5_co_ -20)_co_ scene)_sm_\n   camera.setTarget(BABYLON.Vector3.Zero())_sm_\n   camera.attachControl(canvas_co_ false)_sm_\n   var light _eq_ new BABYLON.HemisphericLight(_qt_light1_qt__co_ new BABYLON.Vector3(0_co_ 1_co_ 0)_co_ scene)_sm_\n   light.intensity _eq_ .5_sm_\n   return scene_sm_\n}_sm_\nvar scene _eq_ createScene()_sm_\n\nengine.runRenderLoop(function () {\n   scene.render()_sm_\n})_sm_\n\n\nvar mesh _eq_ new BABYLON.Mesh(_t_mesh_t__co_ scene)_sm_\nvar vrtxData _eq_ new BABYLON.VertexData()_sm_\nvar pos _eq_ [0_co_ 0_co_ 0_co_ 5_co_ 0_co_ 0_co_ 5_co_ 0_co_ 5]_sm_\nvar indices _eq_ [0_co_ 1_co_ 2]_sm_\nvrtxData.positions _eq_ pos_sm_\nvrtxData.indices _eq_ indices_sm_\nvrtxData.applyToMesh(mesh_co_ true)_sm_\n\n\nvar material _eq_ new BABYLON.StandardMaterial(_t_m_t__co_ scene)_sm_\nmesh.material _eq_ material_sm_\nmaterial.diffuseColor _eq_ BABYLON.Color3.Red()_sm_\nmesh.actionManager _eq_ new BABYLON.ActionManager(scene)_sm_\nmesh.actionManager.registerAction(\n    new BABYLON.SetValueAction(BABYLON.ActionManager.OnPointerOverTrigger_co_ mesh.material_co_ _qt_diffuseColor_qt__co_ BABYLON.Color3.Green())\n)\n\nmesh.actionManager.registerAction(\n    new BABYLON.SetValueAction(BABYLON.ActionManager.OnPointerOutTrigger_co_ mesh.material_co_ _qt_diffuseColor_qt__co_ BABYLON.Color3.Red())\n)\n\n// move mesh to the right\nfor (var i _eq_ 0_sm_ i &lt_sm_ pos.length_sm_ i +_eq_ 3) {\n    pos[i] +_eq_ 5_sm_\n}\n\nmesh.updateVerticesData(BABYLON.VertexBuffer.PositionKind_co_ pos)_sm_\n\n\nscene.onPointerDown _eq_ (event_co_ pick) _eq_&gt_sm_{\n  console.log(pick.pickedMesh.name)\n}\n_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"georage","Date":"2017-02-01T17:42:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tare you throwing an error? your console.log line does not end in a semi-colon. Not sure that will help but give it a shot.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2017-02-01T17:47:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_s_gt_scene.onPointerDown _eq_ (event_co_ pick)_lt_span style_eq__qt_color_dd_#c0392b_sm__qt__gt_ _eq_&gt_sm__lt_/span_gt_{_lt_/s_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis should work better\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_scene.onPointerDown _eq_ function(event_co_ pick)\n{\n  console.log(pick.pickedMesh.name)\n}_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"georage","Date":"2017-02-01T17:52:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\there is how i pick a mesh. maybe try that instead? feel free to change the _qt_change position_qt_ bit of course.\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_scene.onPointerDown _eq_ function (evt_co_ pickResult) {\n            if (pickResult.hit) {\n                console.log(pickResult.pickedPoint.x)_sm_\n                console.log(pickResult.pickedPoint.y)_sm_\n                console.log(pickResult.pickedPoint.z)_sm_            \n                \n                var pickInfo _eq_ scene.pick(scene.pointerX_co_ scene.pointerY_co_ function (mesh) { return mesh_sm_ })_sm_\n                \n                var star _eq_ pickInfo.pickedMesh_sm_\n                \n                //change position\n                star.position.x _eq_ pickResult.pickedPoint.x +1_sm_    \n            }\n        }_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Hartha","Date":"2017-02-01T17:59:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/22750-georage/?do_eq_hovercard_qt_ data-mentionid_eq__qt_22750_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/22750-georage/_qt_ rel_eq__qt__qt__gt_@georage_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tpickResult.hit always returns false when i click on the mesh_co_ babylon raycast didn_t_t hit the mesh!\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5292-dad72/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5292_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5292-dad72/_qt_ rel_eq__qt__qt__gt_@Dad72_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tnothing changed _lt_img alt_eq__qt__dd_(_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ title_eq__qt__dd_(_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2017-02-01T18:01:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYou must also set isPickable to true so that it can be selectable\n_lt_/p_gt_\n\n_lt_p_gt_\n\tmesh.isPickable _eq_ true_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tExemple here _dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#Q7PIC_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#Q7PIC_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Hartha","Date":"2017-02-01T18:07:18Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\twithout updating the positions i can pick the mesh and everything is normal_co_ all problems appear after the update_lt_br /_gt_\n\tI tried to set mesh.isPickable to true after updating but nothing changed\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jpdev","Date":"2017-02-01T18:20:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI think the solution to the picking problem should be to move the mesh by modifying mesh.position instead of changing the vertex data.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t(shown in the code georage posted)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am pretty sure that will fix your picking issues. (Because that_t_s the way I move my meshes and picking works fine.)\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_mesh.position.x +_eq_ 1_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2017-02-01T18:41:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIndeed. JPdev is right. Otherwise_co_ you must update the vertex data. updateMeshPositions()_sm_ updateVerticesData()_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOr move your object with mesh.position _eq_ BABYLON.Vector3\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Hartha","Date":"2017-02-07T09:20:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSorry for the late reply_co_ I was sick for a week_co_ and thank you all for helping._lt_br /_gt__lt_br /_gt_\n\tI know that \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_mesh.position.x +_eq_ 1_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tmove the mesh without problems but it doesn_t_t update or change the value of the vertices_co_ later i need to retrieve the vertices and do some calculations on it so i need it to be accurate_co_ I can use mesh.positoin with some workaround but it seems better to use updateVertices.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JohnK","Date":"2017-02-07T19:04:18Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tJust curious as to why you need the vertex positions. Anyway you can use mesh.getWorldMatrix() and then apply the Matrix to the vertices using v _eq_ BABYLON.Vector3.TransformCoordinates(vector_co_ matrix) when mesh in correct position.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Hartha","Date":"2017-02-08T20:47:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI am working on a simple 3D Editor using babylon.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThank you for helping.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]