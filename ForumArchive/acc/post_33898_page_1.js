[{"Owner":"Hersir","Date":"2017-11-09T12:01:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHave somebody managed to use light maps with PBR materials?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMeshes have UV2 for light map and they reuse 1 lightmapTexture _co_ but somehow it works only for Standard materials_co_ and not PBR_co_ if I remove PBR shadows appear.\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_material.lightmapTexture _eq_ // Texture\nmaterial.lightmapTexture.coordinatesIndex _eq_ 1_sm_\nmaterial.useLightmapAsShadowmap _eq_ true_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tIs that by design? Or I am doing something wrong?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThank you.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"MackeyK24","Date":"2017-11-09T13:59:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_194467_qt_ data-ipsquote-contentid_eq__qt_33898_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1510228869_qt_ data-ipsquote-userid_eq__qt_26231_qt_ data-ipsquote-username_eq__qt_Hersir_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t2 hours ago_co_ Hersir said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tHi_co_\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tHave somebody managed to use light maps with PBR materials?\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tMeshes have UV2 for light map and they reuse 1 lightmapTexture _co_ but somehow it works only for Standard materials_co_ and not PBR_co_ if I remove PBR shadows appear.\n\t\t_lt_/p_gt_\n\n\t\t_lt_pre_gt_\n\n_lt_code_gt_material.lightmapTexture _eq_ _lt_span_gt_// Texture_lt_/span_gt_\nmaterial.lightmapTexture.coordinatesIndex _eq_ _lt_span_gt_1_lt_/span_gt__sm_\nmaterial.useLightmapAsShadowmap _eq_ _lt_span_gt_true_lt_/span_gt__sm__lt_/code_gt__lt_/pre_gt_\n\n\t\t_lt_p_gt_\n\t\t\tIs that by design? Or I am doing something wrong?\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tThank you.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tI use lightmaps on PBR materials all the time... The scene in the thread is using all Standard Materials (so that uses PBR Materials)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNote_dd_ PBR Materials and SHADOWS DO NOT WORK IF USING AMBIENT OCCLUSION TEXTURE (Ping _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_ For That Issue)\n_lt_/p_gt_\n_lt_iframe allowfullscreen_eq__qt__qt_ data-controller_eq__qt_core.front.core.autosizeiframe_qt_ data-embedcontent_eq__qt__qt_ data-embedid_eq__qt_embed4112208038_qt_ scrolling_eq__qt_no_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/topic/33462-lightmap-with-occlusionmap-support/?do_eq_embed_qt_ style_eq__qt_height_dd_327px_sm_max-width_dd_502px_sm__qt__gt__lt_/iframe_gt_\n\n_lt_p_gt_\n\tFYI.... This is how I set Lightmap Texture Info in C# Toolkit Code_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_// Lightmapping Texture\n            if (hasLightmap)\n            {\n                var lightmap _eq_ LightmapSettings.lightmaps[lightmapIndex].lightmapColor_sm_\n                var texturePath _eq_ AssetDatabase.GetAssetPath(lightmap)_sm_\n                if (!String.IsNullOrEmpty(texturePath))\n                {\n                    ExporterWindow.ReportProgress(1_co_ _qt_Dumping physical material shadow mask_dd_ _qt_ + lightmap.name)_sm_\n                    babylonPbrMaterial.lightmapTexture _eq_ DumpTexture(lightmap_co_ isLightmap_dd_ true)_sm_\n                    babylonPbrMaterial.lightmapTexture.coordinatesIndex _eq_ (lightmapCoordIndex &gt_sm__eq_ 0) ? lightmapCoordIndex _dd_ exportationOptions.DefaultCoordinatesIndex_sm_\n                    babylonPbrMaterial.useLightmapAsShadowmap _eq_ true_sm_\n\n                    babylonPbrMaterial.lightmapTexture.uScale _eq_ Tools.GetTextureScale(lightmapScaleOffset.x)_sm_\n                    babylonPbrMaterial.lightmapTexture.vScale _eq_ Tools.GetTextureScale(lightmapScaleOffset.y)_sm_\n\n                    babylonPbrMaterial.lightmapTexture.uOffset _eq_ lightmapScaleOffset.z_sm_\n                    babylonPbrMaterial.lightmapTexture.vOffset _eq_ lightmapScaleOffset.w_sm_\n\n                    babylonPbrMaterial.lightmapTexture.level *_eq_ lightmapScale_sm_\n                }\n            }_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Hersir","Date":"2017-11-09T14:05:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tOk weird_co_ looks the same setup_co_ but somehow for me it doesn_t_t show up for objects that have PBRMetallicRoughnessMaterial_co_  will investigate further.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"MackeyK24","Date":"2017-11-09T14:18:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_194486_qt_ data-ipsquote-contentid_eq__qt_33898_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1510236349_qt_ data-ipsquote-userid_eq__qt_26231_qt_ data-ipsquote-username_eq__qt_Hersir_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t11 minutes ago_co_ Hersir said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tOk weird_co_ looks the same setup_co_ but somehow for me it doesn_t_t show up for objects that have PBRMetallicRoughnessMaterial_co_  will investigate further.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tI don_t_t use PBRMetallicRoughnessMaterial... I use the Low Level PBR.Material and setup a metallic/roughness workflow...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNote if metallic and or roughness _eq_ NULL or Undefined... PBR Material will be default use a Specular Workflow... hope that helps some _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Hersir","Date":"2017-11-09T14:21:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tI get it in PBRMetallicRoughnessMaterial because its exported from 3d max in this form_co_ but I can try to  make it manual with just plain PBR to compare if that helps\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-11-09T16:22:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tPing _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/20193-sebavan/?do_eq_hovercard_qt_ data-mentionid_eq__qt_20193_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/20193-sebavan/_qt_ rel_eq__qt__qt__gt_@Sebavan_lt_/a_gt_ for this_dd_\n_lt_/p_gt_\n\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tQuote\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\t_lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_PBR Materials and SHADOWS DO NOT WORK IF USING AMBIENT OCCLUSION TEXTURE_lt_span_gt_ _lt_/span_gt__lt_/span_gt_\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2017-11-09T17:35:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo just to be sure_co_ you want lightmap in the simple pbr materials ???\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"MackeyK24","Date":"2017-11-10T03:18:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_194524_qt_ data-ipsquote-contentid_eq__qt_33898_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1510248928_qt_ data-ipsquote-userid_eq__qt_20193_qt_ data-ipsquote-username_eq__qt_Sebavan_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t9 hours ago_co_ Sebavan said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tHello_co_\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tSo just to be sure_co_ you want lightmap in the simple pbr materials ???\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tHey _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/20193-sebavan/?do_eq_hovercard_qt_ data-mentionid_eq__qt_20193_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/20193-sebavan/_qt_ rel_eq__qt__qt__gt_@Sebavan_lt_/a_gt_ Dunno about Simple PBR... But using the normal Babylon.PBRMaterial either with the metallic/roughness or specular workflow_co_ if your material is using an ambient texture (In Unity_co_ We Map the OcclusionMap to this texture if specified) then the lightmap texture DOES NOT show. Its ONLY when trying to use BOTH ambient and lightmap textures that the shadows from the lightmap seem to get ignored (they dont show). If you simply remove the ambient texture the shadows show perfect.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTake a look at this thread for details_dd_\n_lt_/p_gt_\n_lt_iframe allowfullscreen_eq__qt__qt_ data-controller_eq__qt_core.front.core.autosizeiframe_qt_ data-embedcontent_eq__qt__qt_ data-embedid_eq__qt_embed9952290407_qt_ scrolling_eq__qt_no_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/topic/33462-lightmap-with-occlusionmap-support/?do_eq_embed_qt_ style_eq__qt_height_dd_327px_sm_max-width_dd_502px_sm__qt__gt__lt_/iframe_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2017-11-10T04:19:41Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tOk got it _co_ let me check.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2017-11-10T04:38:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tNothing is obvious looking at the code_co_ could you create a small PG to repro it ?\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"MackeyK24","Date":"2017-11-11T11:02:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI actual RE-VAMPED Unity Lighting Export Settings (Unity Changed Lightmap Modes For Mixed Lights)...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNote_dd_ Unity Mixed Light Mode Must Be Set To The New _t_Subtractive_t_ Mode (_lt_u_gt__lt_strong_gt_NOT_lt_/strong_gt__lt_/u_gt_ Baked Indirect or Shadow Mask)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe new Toolkit 3.1.044 (Alpha) will have the lighting fixes.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo to recap... All Lightmap Baking working Great...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe Toolkit now supports_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tRealtime Lights - (For Realtime Shadows Only) - Light will be exported to scene\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMixed Lights - (For Realtime And Baked Shadows) - Light will be exported to scene\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBaked Lights (For Baked Shadows Only - Including Area Lights) - Light will not be exported to scene\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis will all the use of as many BAKING AND/OR AREA lights to get great shadows_co_ while only Realtime and Mixed lights are exported to scene _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tJust like baking lightmaps for a native unity game. You dont do ANYTHING different (Just make sure _t_Mixed Lighting Mode_t_ is set to_dd_ Subtractive on Lighting Panel)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tExample_dd_ (With Ambient Occlusion Maps As Well)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_11/5a06dab28bdd3_ScreenShot2017-11-11at1_09_09AM.png.d9c9089d45d32edd8934be13a89d4dad.png_qt_ data-fileid_eq__qt_15633_qt_ rel_eq__qt__qt__gt__lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_15633_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_11/5a06dab449b9d_ScreenShot2017-11-11at1_09_09AM.thumb.png.57e3f87623103bf162b5a8a79a27cba5.png_qt_ alt_eq__qt_5a06dab449b9d_ScreenShot2017-11-11at1_09_09AM.thumb.png.57e3f87623103bf162b5a8a79a27cba5.png_qt_ /_gt__lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]