[{"Owner":"Boz","Date":"2014-05-26T20:25:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hello !_lt_/p_gt__lt_p_gt_I know question has been answered several times_co_ but I still have a problem when I try to apply impostor on loaded meshes._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Here is part of my code _dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_// Scenevar scene _eq_ new BABYLON.Scene(engine)_sm_scene.enablePhysics()_sm_scene.setGravity(new BABYLON.Vector3(0_co_ -9.81_co_ 0))_sm_// Groundvar ground _eq_ BABYLON.Mesh.CreateGround(_qt_ground_qt__co_ 1000_co_ 1000_co_ 1_co_ scene_co_ false)_sm_var groundMaterial _eq_ new BABYLON.StandardMaterial(_qt_ground_qt__co_ scene)_sm_ground.setPhysicsState({ impostor_dd_ BABYLON.PhysicsEngine.BoxImpostor_co_ mass_dd_ 0_co_ friction_dd_ 0.5_co_ restitution_dd_ 0.7 })_sm_ground.checkCollisions _eq_ true_sm_groundMaterial.diffuseTexture _eq_ new BABYLON.Texture(_qt_textures/ground.jpg_qt__co_ scene)_sm_groundMaterial.diffuseTexture.uScale _eq_ 60_sm_groundMaterial.diffuseTexture.vScale _eq_ 60_sm_ground.position.y _eq_ -2.05_sm_ground.receiveShadows _eq_ true_sm_ground.material _eq_ groundMaterial_sm_// Spherevar sphere _eq_ BABYLON.Mesh.CreateSphere(_qt_sphere_qt__co_ 10.0_co_ 3.0_co_ scene)_sm_sphere.position _eq_ new BABYLON.Vector3(10_co_ 6_co_ 0)_sm_sphere.setPhysicsState({ impostor_dd_ BABYLON.PhysicsEngine.SphereImpostor_co_ mass_dd_ 1 })_sm_sphere.checkCollisions _eq_ false_sm_// MeshBABYLON.SceneLoader.ImportMesh(_qt_him_qt__co_ _qt_models/Dude/_qt__co_ _qt_Dude.babylon_qt__co_ scene_co_ function (newMeshes_co_ particleSystems_co_ skeletons) {        player.mesh _eq_ newMeshes[0]_sm_        player.mesh.scaling _eq_ new BABYLON.Vector3(0.05_co_ 0.05_co_ 0.05)_sm_        player.mesh.rotation.y _eq_ Math.PI_sm_        player.mesh.position _eq_ new BABYLON.Vector3(0_co_ 10_co_ 0)_sm_        player.mesh.setPhysicsState({ impostor_dd_ BABYLON.PhysicsEngine.SphereImpostor_co_ mass_dd_ 1 })_sm_})_sm__lt_/pre_gt__lt_p_gt_My scene has physics enabled and sphere succesfully falls and bounces on the ground._lt_/p_gt__lt_p_gt_But the mesh falls and goes over the ground._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I have tried putting it very high on Y axis_co_ but same result._lt_/p_gt__lt_p_gt_I also tried with BoxImpostor._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I understand the more complex way using a compound impostor but for now I just want a SphereImpostor effect_co_ and it does not even work _dd_/_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thank you in advance for your answers !_lt_/p_gt__lt_p_gt_Cheers_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Pouet--_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-05-26T21:37:46Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Could you create a jsfiddle?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Boz","Date":"2014-05-26T22:48:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I tried_co_ but with no good success_co_ I have a CORS error preventing my mesh from loading _dd_ _lt_a href_eq__qt_http_dd_//jsfiddle.net/Pouet/3WBKY_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//jsfiddle.net/Pouet/3WBKY_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-05-26T23:18:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_In this case you are not using the right mesh (newMeshes[0] for dude is an invisible not renderable object used as parent for body parts)_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_BABYLON.SceneLoader.ImportMesh(null_co_ _qt_/scenes/dude/_qt__co_ _qt_dude.babylon_qt__co_ scene_co_ function (newMeshes_co_ particleSystems_co_ skeletons) {                var dude _eq_ newMeshes[1]_sm_                //dude.scaling _eq_ new BABYLON.Vector3(0.05_co_ 0.05_co_ 0.05)_sm_                dude.position _eq_ new BABYLON.Vector3(0_co_ 20_co_ 0)_sm_                dude.setPhysicsState({ impostor_dd_ BABYLON.PhysicsEngine.SphereImpostor_co_ mass_dd_ 1 })_sm_            })_sm__lt_/pre_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Boz","Date":"2014-05-27T17:50:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hm_co_ I tried several cases._lt_/p_gt__lt_p_gt_newMeshes[0] makes an entire mesh appearing_co_ but not sensible to physics_co_ indeed._lt_/p_gt__lt_p_gt_I tried with assigning to dude newMeshes[1] to newMeshes[5]_co_ physics works_co_ but there are only parts of the model (1 _eq_ head_co_ 2 _eq_ top body_co_ 3 _eq_ legs..)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Is there a way to get all theses parts in one go ?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Boz","Date":"2014-05-27T17:55:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_And when I use these parts of my mesh_co_ a big mesh (the entire and unscaled newMeshes[0]) appears in addition of the body part._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-05-28T22:44:34Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_You have to create a compound object like in this demo_dd__lt_/p_gt__lt_p_gt__lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Samples/blob/master/Scenes/Customs/physics.js_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Samples/blob/master/Scenes/Customs/physics.js_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The compound object will then include all parts of Dude_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"dnlek","Date":"2016-06-29T16:25:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi - I have similar question.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI was trying to put _t_dude_t_ inside sphere impostor and found this post.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHow should I create this compound object? Is there a way to sum all meshes into empty mesh? Or do I need to calculate position of each mesh in the parent mesh and put all elements into invisible sphere..\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo far I_t_ve tried to_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t1. assign meshes 1 - end to mesh number 0 - didn_t_t work\n_lt_/p_gt_\n\n_lt_p_gt_\n\t2. tried BABYLON.Mesh.createInstance(_t_player_t_) and assign all meshes to this mesh - didn_t_t work\n_lt_/p_gt_\n\n_lt_p_gt_\n\t3. created box and assigned all meshes to this box - however sphere impostor doesn_t_t make any sense in this case\n_lt_/p_gt_\n\n_lt_p_gt_\n\t4. created sphere and assigned all meshes to this sphere - however dude is behaving as sphere now - not as dude\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAny suggestions?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tEDIT - I managed to make it work this way_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_  const ground _eq_ BABYLON.Mesh.CreateGroundFromHeightMap(_t_ground_t__co_ _t_../assets/heightMap.png_t__co_ 1000_co_ 1000_co_ 100_co_ 0_co_ 10_co_ scene_co_ false_co_ () _eq_&gt_sm_ {\n    ground.setPhysicsState(BABYLON.PhysicsEngine.HeightmapImpostor_co_ { mass_dd_ 0 })_sm_\n    \nBABYLON.SceneLoader.ImportMesh(_t_him_t__co_ _t_../assets/Dude/_t__co_ _t_dude.babylon_t__co_ scene_co_ function (newMeshes_co_ particleSystems_co_ skeletons) {\n      player _eq_ newMeshes[0]_sm_\n      player.physicsImpostor _eq_ new BABYLON.PhysicsImpostor(player_co_ BABYLON.PhysicsEngine.SphereImpostor_co_ { mass_dd_ 100_co_ friction_dd_ 0.5_co_ restitution_dd_ 1 }_co_ scene)_sm_\n      for (var i _eq_ 1_co_ len _eq_ newMeshes.length_sm_ i &lt_sm_ len_sm_ i++) {\n        newMeshes[i].parent _eq_ player_sm_\n        newMeshes[i].physicsImpostor _eq_ new BABYLON.PhysicsImpostor(newMeshes[i]_co_ BABYLON.PhysicsEngine.SphereImpostor_co_ { mass_dd_ 10_co_ friction_dd_ 0.5_co_ restitution_dd_ 1 }_co_ scene)_sm_\n        newMeshes[i].showBoundingBox _eq_ true_sm_\n      }\n\n      player.showBoundingBox _eq_ true_sm_\n      player.position _eq_ new BABYLON.Vector3(0_co_ 40_co_ 0)_sm_\n      player.physicsImpostor.forceUpdate()_sm_\n      scene.beginAnimation(skeletons[0]_co_ 0_co_ 120_co_ 1.0_co_ true)_sm_\n    })_sm_\n})_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tHowever now it behaves funny sometimes and what is worse - dude falls on his face _lt_img alt_eq__qt__sm_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ title_eq__qt__sm_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Boz","Date":"2016-06-30T15:09:41Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tAs I suggested to you in the chat_co_ try to use moveWithCollisions to move your character along the heightmap _lt_img alt_eq__qt__sm_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ title_eq__qt__sm_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tThe heightmap needs an heightmap impostor but your character does not need any impostor if you use this function\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"dnlek","Date":"2016-06-30T18:39:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks Pouet! _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ moveWithCollisions worked great.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis post was under review all this time - this is why it was posted after our chat discussion.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]