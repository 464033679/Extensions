[{"Owner":"port9001","Date":"2018-02-06T16:13:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tProbably a good question for _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/?do_eq_hovercard_qt_ data-mentionid_eq__qt_8492_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/_qt_ rel_eq__qt__qt__gt_@JCPalmer_lt_/a_gt__dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am looking for some advice regarding rotations of exported Blender models. During the creation of the two models below I used the Blender alignments_co_ i.e. I used front view when editing the front of the model_co_ right view to edit what I considered the right side_co_ etc. However_co_ when I export them they have different alignments than expected. \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img alt_eq__qt_ns2TFzw.png_qt_ class_eq__qt_ipsImage_qt_ height_eq__qt_333_qt_ src_eq__qt_https_dd_//imgur.com/ns2TFzw.png_qt_ width_eq__qt_675_qt_ /_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe box model is just a simple test cube. It does not have an armature. The _qt_dude_qt_ model does have an armature. Still_co_ it is aligned with the same axes as the box. Neither model has any rotation (all 0_t_s). Both are using the default XYZ Euler rotation mode. The dude is slightly elevated (y axis) but is otherwise at 0_co_ 0. I would not expect the red dot to be visible in the Babylon shot. I have not rotated either mesh in Blender_co_ only imported them with SceneLoader.ImportMesh.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-02-06T19:00:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tPerhaps _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/20526-vnc3r/?do_eq_hovercard_qt_ data-mentionid_eq__qt_20526_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/20526-vnc3r/_qt_ rel_eq__qt__qt__gt_@V!nc3r_lt_/a_gt_ can help as well?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2018-02-06T19:00:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSince both are at zero_co_ you must have multiple blends.  BTW_co_ if a mesh with an armature is attempted to be exported with rotation or scaling un-applied_co_ the export terminates with a message to apply it.\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_self.fatalError _eq_ _t_Mesh_dd_ _t_ + mesh.name + _t_ has un-applied transformations.  This will never work for a mesh with an armature.  Export cancelled_t__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tMake sure you armature in rest pose is all I can think of.  Change to _t_POSE_t_ mode_co_ select all bone &lt_sm_A&gt_sm_ toggle. Clear rotations &lt_sm_Alt R&gt_sm__co_ Clear Locations &lt_sm_Alt G&gt_sm__co_  clear Scale&lt_sm_Alt S&gt_sm_.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"port9001","Date":"2018-02-06T19:21:34Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYes_co_ I am working with multiple blends. Perhaps that is not ideal? I_t_m still working out what the right workflow would be Blender -&gt_sm_ Babylon so open to changing things up if it makes it easier.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tUnfortunately switching to a rest mode didn_t_t change anything. Strangely I noticed whenever I export it always switches to the last action after the export is complete. I had to create an action with the name _qt_zrest_qt_ to prevent this from happening.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPerhaps I_t_ll try recreating my models into one blend file and seeing if that helps.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"port9001","Date":"2018-02-06T20:43:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/?do_eq_hovercard_qt_ data-mentionid_eq__qt_8492_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/_qt_ rel_eq__qt__qt__gt_@JCPalmer_lt_/a_gt_ _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tEnded up being something silly I was doing. Not sure if it_t_s appropriate to delete this topic (doesn_t_t appear I have the ability to do so) but thanks for taking a look.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-02-06T21:34:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tNo problem _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt_1_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt__gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JackFalcon","Date":"2018-04-24T22:38:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/30189-port9001/?do_eq_hovercard_qt_ data-mentionid_eq__qt_30189_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/30189-port9001/_qt_ rel_eq__qt__qt__gt_@port9001_lt_/a_gt_ and _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/?do_eq_hovercard_qt_ data-mentionid_eq__qt_8492_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/_qt_ rel_eq__qt__qt__gt_@JCPalmer_lt_/a_gt_. I think I_t_ve reproduced this (exactly backwards) result a few times_co_ and starting to understand it better. Here are my notes and potential workaround. And potential insight for a solution. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tJust recently experienced a _qt_backwards_qt_ export from blender to .babylon. So got meticulous to try and figure it out as much as possible.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe mesh was in a state of_dd_ rotated_co_ _lt_strong_gt_applied_lt_/strong_gt__co_  _lt_strong_gt_reverted origin to center mass_co__lt_/strong_gt_  then rotated again (so as to export the rotation) RESULT _eq_ backward export.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhy? This could reasonably happen in the case where a mesh export -  need not Apply.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHOW TO TEST THIS_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t1) confirmed normals in blender vs. local showAxis() in babylon.  2) Y+ moves it Y- (in localspace). \n_lt_/p_gt_\n\n_lt_p_gt_\n\t WORK-AROUND -SOLUTION_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t      SPECIFIC CASE(again)_dd_ a plane was rotated then applied_co_ then origin to center to get origin location for translation and exported _eq_ backwards.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t       Had to re-create the planes to avoid export pretzel - and it worked.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t       1) Re-created the planes.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t       2) transformed_co_ scaled_co_ and rotated.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t       3) DID NOT apply Translation in blender. (Instead use cursor center plane to maintain localspace placements to parent object)_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t       4) DID NOT apply Rotation in blender. (to allow parent to pass rotation to child objects. check the mesh.rotation in debugger).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tUPDATE_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t       5) DID need to apply scale. What a tightrope.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t       AND I see no way around this. The specificity is required. AND I think the problem is that it isn_t_t very obvious in Blender. \n_lt_/p_gt_\n\n_lt_p_gt_\n\t       ... of HOW APPLY effect BABYLON WORLDSPACE/LOCALSPACE.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t       What is a clear cut rule_co_ of when to APPLY and when NOT to APPLY.... (is the question). So here goes_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t       Emerging rule of Thumb_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t                  1) APPLY RTS to remove localspace offsets (if you do not want them).\n_lt_/p_gt_\n\n_lt_p_gt_\n\t                  2) Do NOT APPLY if you wish to keep localspace offsets.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t                  3) Depending on what you are building - Sometimes it is a MIX of what should be applied and what should not be applied in RTS.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t                  4) If you get it wrong and apply something that should not be applied - if you go back - (reset origin) you might experience _t_backward export rotation_t_ (above).\n_lt_/p_gt_\n\n_lt_p_gt_\n\t                             a) if that happens - follow the solution (above) of re-creating the mesh - without applying one or all of RTS (rotation_co_ translation_co_ scale).\n_lt_/p_gt_\n\n_lt_p_gt_\n\t... welcome to the jungle...  _dd_ ) \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]