[{"Owner":"Raitch","Date":"2017-01-01T14:59:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOkay_co_ so I_t_ve been trying to solve this on my own for a while without getting much wiser_sm_ I have an island that_t_s higher in the center and I have units that can move around that have a decal arrow in front of them. This decal arrow is supposed to be visible as much as possible_co_ however from a lot of different positions and angles_co_ a lot of the decal is _qt_cut away_qt_. It_t_s like it goes under the island it_t_s supposed be above. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo far I_t_ve simply changed the texture angle and decal position every time I move it. The decal is based on `pickInfo    _eq_    scene.pickWithRay` on the cirlce mesh. I still haven_t_t fully grasped what this does_co_ just that it works. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tMy question is this_sm_ am I missing something somewhere that makes part of my decal get stuck under the mesh or should I recreate the decal every time with new `pickWithRay` that is it positioned_co_ and would that take a lot more resources to do? Remember people saying that decals can be heavy_co_ but I_t_m not sure which part of the process that is.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_ve so far tried increasing/decreasing `decal.position.y` and test `decalSize _eq_ new BABYLON.Vector(6_co_ 6_co_ 6)` with different Y values.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks for hints at the right direction!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-01-03T00:48:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi Raitch!  Decals_co_ by their nature... work like crap on bumpy surfaces.  You can play with the decal material_t_s .zOffset property (line 21)... like in _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1XZ7G5%232_qt_ rel_eq__qt_external nofollow_qt__gt_this playground_lt_/a_gt_ that uses click-to-decal.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAs you can see (after testing)_co_ nothing really works well to clean-up the decals (when applied-to super-bumpy surfaces).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAre you ready to hate me?  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  THE BEST terrain-following decal... is likely a small piece of heightMapped ground that matches Y-heights with the REAL heightMap terrain just below it.  Then put another material on the little moveable piece of heightMap decal... probably with some transparency.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLet_t_s give this thing a name.  Let_t_s call it HMD... height map decal.  Every time the HMD is moved_co_ it needs to have all the vertexData.positions.y (heights)... copied from the terrain beneath it... into the Y-heights of the HMD (contour matching_co_ vertex-for-vertex).  It is exactly like a copy of a tiny section of the real terrain... but raised a small amount (so it lays atop the real terrain).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI think this HMD (height map decal) will be used SO OFTEN_co_ that it should become a main-line BabylonJS feature.  It will be a sister-feature to the non-heightMap decal... and likely much easier to code.  The _lt_em_gt_other_lt_/em_gt_ (current) decal system is quite complex_co_ and again_co_ is not really designed for bumpy surfaces.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDragging this new HMD... will be easier_co_ too... and will maintain terrain-following contours the whole time... IF done correctly_co_ and IF the HMD is not overly-high resolution. The lower the resolution of the dragged/moved height map decal (HMD)... the smoother the moving/dragging of it.  Less heightMap elevation (Y) data needs to be copied from real terrain to the HM decal... per movement step.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWith me?  God_co_ I hope so.  Perhaps we can convince one of the forum_t_s _qt_I love pain_qt_ programmers... to code it for us.  Perhaps YOU are well-qualified to build such a thing_co_ too.  I_t_m not so_co_ but I could probably pull it off... in about a week.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  I think there are other coders that could make it happen in about an hour.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThoughts?  Anyone?  If I remember right_co_ _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5453-jerome/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5453_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5453-jerome/_qt_ rel_eq__qt__qt__gt_@jerome_lt_/a_gt_ invented a... getTerrainHeightHere(X/Z point) function_co_ which I can_t_t find anymore_co_ mainly because I can_t_t remember its name.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  That could be the beginning of a... _lt_em_gt_cloneHeightMapSection(startingPoint_co_ width_co_ depth) _lt_/em_gt_function.  If you had THAT_co_ you_t_d be fartin_t_ thru silk (in good shape)_co_ right?  Sure_co_ it will be a square area_co_ but just like the standard decal_co_ it can be made round_co_ or be an arrow_co_ as wanted_co_ by using an alpha-enabled decal texture.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWow_co_ huh?  Like you REALLY wanted to hear THIS bad news_co_ eh?  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_   Sorry.  But_co_ if you want a GREAT terrain-following decal... I  _lt_strong_gt_think_lt_/strong_gt_ that might be the best way.  Comments?  Code?  Anyone?  thx!\n_lt_/p_gt_\n\n_lt_p_gt_\n\t-------- Addenda --------\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI want to show you one more playground... _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#UCORW_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#UCORW_lt_/a_gt_  It is from _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/12925-fenomas/?do_eq_hovercard_qt_ data-mentionid_eq__qt_12925_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/12925-fenomas/_qt_ rel_eq__qt__qt__gt_@fenomas_lt_/a_gt__co_ and... it is _qt_techie_qt_.  I don_t_t understand what is happening in there_co_ but I DID replace the grassy plane with a heightMap ground mesh (during an un-saved test).  After I did that_co_ the white circle turned into a white _qt_bar_qt_ all the way across the terrain width.  (like the white circle was z-stretched extremely).  But_co_ just the same_co_ I thought you should see this playground and possibly test it for heightMap smoothness. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThat playground was introduced in the post AFTER _lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/topic/12974-decals/?do_eq_findComment&amp_sm_comment_eq_75654_qt_ rel_eq__qt__qt__gt_this one_lt_/a_gt_. But notice what Deltakosh is saying_co_ there.  Is he saying... that a reflection texture could be moved-around on a heightMap_co_ perhaps with reflectionTexture.uOffset and .vOffset... and perhaps... that _lt_em_gt_could be_lt_/em_gt_ a reflection of an arrow?  Reflections are automatically terrain-hugging_co_ right?  hmm.  Double hmmmm!  Boost the .level on the arrow reflectionTexture_co_ and we should easily be able to see it... super-imposed (composited) atop the terrain texture.  TRIPLE hmmmmmm!  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tBye again.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2017-01-03T05:19:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//doc.babylonjs.com/classes/2.5/GroundMesh#getheightatcoordinates-x-z-rarr-number_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/classes/2.5/GroundMesh#getheightatcoordinates-x-z-rarr-number_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tand his sister _dd_ _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/classes/2.5/GroundMesh#getnormalatcoordinates-x-z-rarr-vector3-classes-2-5-vector3-_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/classes/2.5/GroundMesh#getnormalatcoordinates-x-z-rarr-vector3-classes-2-5-vector3-_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tdemo _dd_ _lt_a href_eq__qt_http_dd_//jerome.bousquie.fr/BJS/demos/getHeightAtCoordinates.html_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//jerome.bousquie.fr/BJS/demos/getHeightAtCoordinates.html_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"fenomas","Date":"2017-01-03T08:04:34Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_157307_qt_ data-ipsquote-contentid_eq__qt_27385_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1483404519_qt_ data-ipsquote-userid_eq__qt_5733_qt_ data-ipsquote-username_eq__qt_Wingnut_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t7 hours ago_co_ Wingnut said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tI want to show you one more playground... _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#UCORW_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#UCORW_lt_/a_gt_  It is from _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/12925-fenomas/?do_eq_hovercard_qt_ data-mentionid_eq__qt_12925_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/12925-fenomas/_qt_ rel_eq__qt__qt__gt_@fenomas_lt_/a_gt__co_ and... it is _qt_techie_qt_.  I don_t_t understand what is happening in there\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tFair warning_co_ I don_t_t think anyone understands what_t_s going on there (unless perhaps deltakosh). It uses some undocumented feature that DK suggested could be used to implement decals (but as far as I can tell it can_t_t).\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Raitch","Date":"2017-01-03T12:04:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tI_t_m not sure I follow all of this. Perhaps it would just be easier if I recreated the decal each frame or would that be resource heavy?\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-01-03T15:03:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  That_t_s worth a test... watch your FPS... or profile the project in browser dev-tools... for best performance watching.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#11JINV%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#11JINV#1_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThat_t_s a first-test version of an arrow on a heightMap... using material.reflectionTexture.  The blue arrow is huge_co_ and I haven_t_t learned how to shrink it_co_ yet.  Perhaps line 41_t_s projection_mode won_t_t allow it.  Still testing.  But you must admit_co_ THAT decal isn_t_t sliding under the landscape and becoming partially obstructed.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tThe first method I FIRST mentioned... where a little piece of ground with the arrow texture on it... is moved around just above the normal ground (and matches height with the normal ground)... I haven_t_t tested that_co_ yet_co_ or ever.  I_t_m a bit overloaded at the moment.  But I think the piece-of-ground decal system... would LOOK the coolest of all... especially close-up.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut_co_ I_t_d like to first see if I can shrink this reflectionTexture somehow_co_ and then... you can move it around with material.reflectionTexture.uOffset (and vOffset)_co_ and rotate it with .wAng.  It will be easy and fast to move... using the reflectionTexture_co_ maybe.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI had another thought.  What if... we used emissiveTexture instead.  _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#11JINV%232_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#11JINV#2_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLooks pretty cool.  Good ground hugging_co_ but_co_ there_t_s some artifacts_co_ possibly caused by lines 47-48 CLAMP_ADDRESSMODE.  Change to WRAP_ADDRESSMODE for an interesting and useless adjustment.  I DO like the way the arrow(s) is following terrain contours.  Looks clean.  But_co_ still not perfect.  They can be _qt_brightened_qt_ a bit... with something like groundMaterial.emissiveTexture.level _eq_ 3_sm_ .  Those offset and scale settings... look totally retarded to me_co_ but I am no expert in texturing.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tRaitch_co_ what do you think about the _qt_look_qt_ of these arrows?  Are they good enough quality... to replace your decal method?  I_t_m not saying you SHOULD do that_co_ but... just wondering what ya think of this method.  Talk soon_co_ party on.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Raitch","Date":"2017-01-03T15:07:46Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tMy goal is to have several quite small arrows generated through DynamicTexture on a wide sphere that can be rotated and repositioned. Not sure if that_t_s possible with reflectionTexture and so on. \n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-01-03T15:14:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tIt will be a bumpy sphere_co_ yes?  Mountains and valleys?  A planet?\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Raitch","Date":"2017-01-03T15:17:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tCurrently not planned for any bumpyness. It is a very simple island _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ however that seems to be enough for the decal to get _qt_trapped_qt_ up the slopes if the sphere. \n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-01-03T15:52:18Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tAhhh_co_ sorry... I somehow got the impression that a heightMap was involved.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere_t_s a modification of a _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/10310-raananw/?do_eq_hovercard_qt_ data-mentionid_eq__qt_10310_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/10310-raananw/_qt_ rel_eq__qt__qt__gt_@RaananW_lt_/a_gt_-made demo... where the arrow texture is placed on a plane_co_ and as it is moved-around on the sphere (with mouse pointer)_co_ it rotates to match the _qt_normals_qt_ of the sphere.  _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#2C8LVE%2313_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#2C8LVE#13_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSOME jaggy artifacts seen... when mousing near the left edge of the sphere.  *shrug*.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tJust thinkin_t_.  This same method COULD be used to rotate your decal to match sphere contours_co_ I suppose.  Fancy coding... pretty much over my head.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Raitch","Date":"2017-01-03T16:00:31Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tSo this is basically a box with a texture that_t_s positioned and rotated above the sphere depending on pickInfo? Could do the trick. Will try to break it down and do as I_t_ve intended soon enough.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-01-03T16:10:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYep.  Well_co_ its NAMED _qt_box_qt_ but it_t_s really a plane... because I was too lazy to adjust the name... when I changed it from box to plane.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tI wish some more forum folks would get involved_co_ because_co_ we have some excellent thinkers and idea-people nearby.  But... not many are participating at the moment.  Don_t_t count on my ideas to be good ones... because... I haven_t_t learned the _qt_pro tricks_qt__co_ yet.  Notice that I_t_m simply finding/borrowing playgrounds from smart people_co_ and showing them to you.  If you can afford a bit more time_co_ better ideas are likely to come.  (maybe)  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-01-04T18:53:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tA decal is a mesh so moving it with .position.x/y/z should work. The problem then will be that it will not fit perfectly.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo you may need to recreate the decal (not on every frame as it will kill your frame rate)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-01-04T18:54:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tcan you reproduce what you are working on using the PG? It could be easier for us to think about alternatives then\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Raitch","Date":"2017-01-04T19:36:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#2JABA%230_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#2JABA#0_lt_/a_gt_ I guess this is something similar to my issue. How could I make the arrow stay on the sphere at all times?\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-01-04T19:45:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSomething along these lines?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#2JABA%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#2JABA#1_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Raitch","Date":"2017-01-04T19:50:47Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tInteresting. It looks like it disappears/gets cut at the end of the sphere though. Do you know why?\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-01-04T19:52:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tbecause you need to update it a bit to be at the center of your mesh. You can also think about doing multiple picks and then deduce a rotation for your object\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Raitch","Date":"2017-01-04T19:56:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tI_t_m not sure I follow. The mesh as in the sphere or the decal? And by rotation to you mean the direction the arrow is angle or through similar means like Wingnut_t_s _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#2C8LVE%2313_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#2C8LVE%2313_lt_/a_gt_?\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-01-05T00:21:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tI meant the arrow. So far it stays flat but it could be interesting to follow the slope of the sphere\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Raitch","Date":"2017-01-12T21:53:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI really don_t_t get how to make this work. I tried using pivotMatrix on decal to center the decal arrow_co_ but that didn_t_t seem to do much of the trick either. I really feels like I don_t_t grasp something important regarding the decals to make it work. Just changing x/y/z positions doesn_t_t seem to cut it. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhat makes a decal get stuck on a surface? I don_t_t understand that logic since sometimes it looks like it_t_s on the surface and sometimes soaring in the air.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-01-13T22:46:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tA decal is built by extraction a portion of the original mesh. So it is by essence designed to stay static. \n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-01-14T09:04:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi guys.  Raitch_co_ do you REALLY want to know why decals act the way they do?  _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Mesh/babylon.meshBuilder.ts#L911_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Mesh/babylon.meshBuilder.ts#L911_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTake a moment to look at that thing... and its _qt_inspired by three js_qt_ clipping engine.  Possibly grab the JS version of that code_co_ and install it into a playground or home scene.  Then load it up with console.log() reports and watch it work.  It_t_s amazing.  I_t_m pretty sure the whole feature was coded by a robot. _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tDecals are magical and _qt_different_qt_.  They won_t_t act like you expect_co_ yet they_t_ll work wonderfully in certain situations.  To understand WHY the decal behaves like it does_co_ you_t_ll need to understand what is happening... in that source code.  AND... IF you learn the decal_t_s source code_co_ and become _qt_hot_qt_ with it_co_ then you can write a custom decal system (modify the BJS version).  But more likely_co_ you_t_ll abandon the idea of using a decal... for your needs_co_ this time_co_ this project.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI can try another analogy_co_ here.  Picture yourself inside a box... looking into one of its corners.  You want to place a decal in that corner_co_ so its texture will cross-onto all three walls_co_ equally.  Perfectly centered on the corner of the box... so 3 surfaces to deal-with.  But the decal constructor _qt_samples the angle_qt_ of only one surface (to set its decal orientation angles).  It can_t_t take all three surfaces into consideration.  So_co_ the decal looks fine on ONE of the three flat surfaces of the box corner_co_ but looks like crap as it crosses onto the other two flat surfaces.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOh_co_ I have a PG demo that shows this.  _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1BAPRM%2325_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1BAPRM#25_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tClick-around in the corner of the box... to paste some decals.  Notice that it takes 3 clicks (3 decals) to create a decent corner-centered decal-look.  A single decal could not do a _qt_flare in the corner_qt_.  It takes three.  The _qt_sampled surface_qt_ (extracted portion) used to _qt_grow_qt_ the decal_t_s orientation... is very position-oriented_co_ yes?  The angle of the decal... depends upon where we click.  The angle/orientation of all decals... is dependent upon what surface it is constructed-for.  So_co_ after-construction angle-adjusting... is not going to help.  The decal was angled to match a surface... when it was constructed.  (what Deltakosh said)  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tHmm_co_ I wonder what would happen if I mesh-merged the three walls.  I should try that someday.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tHave you thought about _qt_projecting_qt_ your arrows onto a surface... lighting-wise?  hmm.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  Seems like there should be an easier way to get your task done.  But don_t_t let us stand in the way... if you have a Raitch vs. Decals war declared.  If you are bound and determined to battle with decals until your head explodes_co_ then who am I to get in your way.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Raitch","Date":"2017-01-28T11:07:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tMaybe this is what I was after all along_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#2C8LVE%2313_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#2C8LVE#13_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI tried to use Decal for something it wasn_t_t really intended for. How would I however angle the arrow to be pointy towards desired angle? Looking at the code and how the triangle behaves from the center_co_ I_t_m not really sure how to achieve this. \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-01-29T08:08:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tHi Raitch.  Perhaps boxMaterial.diffuseTexture.wAng ?   Ever hear the story-of how u v w came to be?  Somebody needed x y z for textures_co_ and simply used the 3 alphabet letters that come before x y z.  Goofy_co_ huh?  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  So_co_ wAng is rotation around z.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]