[{"Owner":"shrimpwagon","Date":"2015-01-13T17:00:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Need some serious guidance with SceneOptimizer._lt_br_gt_ _lt_br_gt_I promise I have thoroughly read through the wiki page _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/wiki/How-to-use-SceneOptimizer-tool_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/wiki/How-to-use-SceneOptimizer-tool_lt_/a_gt__lt_br_gt_ _lt_br_gt_I believe I have included the scene optimizer javascript correctly._lt_br_gt_ _lt_br_gt_Not sure if I am implementing the code correctly._lt_br_gt_ _lt_br_gt_Basically_co_ I_t_m trying to downgrade rendering on slower devices (eg Samsung Galaxy S4)._lt_br_gt_ _lt_br_gt_Using this code below_co_ I never see anything coming through on the console.log when testing on my Linux Debian laptop in Chrome 38._lt_br_gt__lt_br_gt_Javascript include_dd__lt_br_gt_ _lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint lang-html_qt__gt_&lt_sm_script src_eq__qt_/libs/babylon/babylon.1.14.js_qt_&gt_sm_&lt_sm_/script&gt_sm_&lt_sm_script src_eq__qt_/libs/babylon/babylon.sceneOptimizer.js_qt_&gt_sm_&lt_sm_/script&gt_sm__lt_/pre_gt__lt_p_gt_Code_dd__lt_br_gt_ _lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var _canvas _eq_ document.getElementById(_qt_renderCanvas_qt_)_sm_var _engine _eq_ new BABYLON.Engine(_canvas_co_ true)_sm_BABYLON.SceneLoader.Load(_qt__qt__co_ _qt_babylon/room.babylon_qt__co_ _engine_co_ function (scene) {\t// Wait for textures and shaders to be ready\tscene.executeWhenReady(function () {\t\t// Optimize scene rendering\t\tBABYLON.SceneOptimizer.OptimizeAsync(scene_co_ BABYLON.SceneOptimizerOptions.HighDegradationAllowed()_co_\t\t\tfunction() {\t\t\t\tconsole.log(_t_FPS target reached_t_)_sm_\t\t\t}_co_ function() {\t\t\t\tconsole.log(_t_FPS target NOT reached_t_)_sm_\t\t\t}\t\t)_sm_            // ..._lt_/pre_gt__lt_p_gt_I_t_ve tried changing out High to Low and Medium but I_t_m never seeing the log. Leading me to believe I_t_m not implementing right. Also not sure_co_ even if I get a log from it that it is degrading._lt_br_gt__lt_br_gt_I_t_m unable to find any other examples from a Google search._lt_br_gt__lt_br_gt_Can someone provide a very very simple working example where it will just auto degrade whenever the frame-rate starts dropping below 30?_lt_br_gt__lt_br_gt_Thank you so much. And thank you for such a brilliant library. I_t_ll share my project when it_t_s done._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-01-13T18:57:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Your code seems correct. Do you wait enough time? Process could be long because by default SceneOptimizer waits 2s between passes._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_You can define tracking duration like this_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var options _eq_ BABYLON.SceneOptimizerOptions.HighDegradationAllowed()_sm_options.trackerDuration _eq_ 2000_sm_ // ms_lt_/pre_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"shrimpwagon","Date":"2015-01-13T19:20:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hmmm.... I definitely waiting the 2 seconds._lt_br_gt_ _lt_br_gt_Changed the code but I still don_t_t see anything in the console.log._lt_br_gt_ _lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_// Optimize scene renderingvar scene_optimizer_options _eq_ BABYLON.SceneOptimizerOptions.HighDegradationAllowed()_sm_scene_optimizer_options.trackerDuration _eq_ 2000_sm_BABYLON.SceneOptimizer.OptimizeAsync(scene_co_ scene_optimizer_options_co_\tfunction() {\t\tconsole.log(_t_FPS target reached_t_)_sm_\t}_co_ function() {\t\tconsole.log(_t_FPS target NOT reached_t_)_sm_\t})_sm__lt_/pre_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"shrimpwagon","Date":"2015-01-13T20:36:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Ok_co_ pinpointed a few things._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Looks like the above code needs to be before scene.executeWhenReady._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_When I did this it was trying to fire however I was still getting an undefined function error._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_In babylon.sceneOptimizer.js line 316. The scene variable does not have the getEngine function as I did a console.log on it._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_// Scene optimizer toolvar SceneOptimizer _eq_ (function () {    function SceneOptimizer() {    }    SceneOptimizer._CheckCurrentState _eq_ function (scene_co_ options_co_ currentPriorityLevel_co_ onSuccess_co_ onFailure) {        // TODO_dd_ add an epsilon        if (scene.getEngine().getFps() &gt_sm__eq_ options.targetFrameRate) { // throws error here because the scene var doesn_t_t have a getEngine function            if (onSuccess) {                onSuccess()_sm_            }             return_sm_        }_lt_/pre_gt_So I just changed it to use BABYLON.Tools_lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_// Scene optimizer toolvar SceneOptimizer _eq_ (function () {    function SceneOptimizer() {    }    SceneOptimizer._CheckCurrentState _eq_ function (scene_co_ options_co_ currentPriorityLevel_co_ onSuccess_co_ onFailure) {        // TODO_dd_ add an epsilon        if (BABYLON.Tools.GetFps() &gt_sm__eq_ options.targetFrameRate) {            if (onSuccess) {                onSuccess()_sm_            }            return_sm_        }_lt_/pre_gt_But still very slow on my Galaxy S3 in chrome. Getting only 7 FPS. I_t_ve tried High_co_ Medium and Low degradation. Is my phone just that old and slow?_lt_p_gt_I only have 1 camera_co_ 1 light source and 4 planes. One plane has a texture._lt_/p_gt__lt_p_gt_On my Galaxy S3 on Firefox I_t_m getting somewhere between 20 and 30 FPS. Better. But the arc camera is all jacked up. Most the time only half the camera shows up and when I pinch or unpinch the scene flys away. It like over zooms really quickly._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"dbawel","Date":"2015-01-13T21:46:52Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hey SW_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_It sounds as though it might be your scene objects.  Although they may appear as simple objects and elements_co_ it_t_s hard to say whether there is an issue with the geometry_co_ your light_co_ texture_co_ and/or camera.  Without knowing the properties of these elements_co_ it_t_s impossible to pinpoint the problem.  If you post the files_co_ I_t_m certain someone could quickly solve this.  Otherwise_co_ everything posted here thus far appears to be in order.  Are your scene elements all declared using JavaScript_co_ or was an external application used to generate them?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Cheers_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_DBawel_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_My bad - it_t_s obvious you are loading a .babylon scene file.  But what program and exporter did you use?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-01-14T00:17:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_If you have to use BABYLON.Tools.GetFPS that means you are not on the latest version_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"shrimpwagon","Date":"2015-01-14T13:55:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I_t_m pretty sure it_t_s not a version problem. I literally JUST downloaded both Babylonjs v1.14 and whatever is in the Tools folder for scene optimizer._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-01-14T14:34:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt__lt_span style_eq__qt_color_dd_rgb(40_co_40_co_40)_sm_font-family_dd_helvetica_co_ arial_co_ sans-serif_sm__qt__gt_scene optimizer is for the version 2.0_co_ no 1.14_lt_/span_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Look good in the wiki index _eq_&gt_sm_ _lt_span_gt_How to use SceneOptimizer tool_lt_/span_gt_ _lt_strong_gt_(_lt_em_gt_From version 2.0_lt_/em_gt_)_lt_/strong_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_This should solve your problem._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"shrimpwagon","Date":"2015-01-15T19:47:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Great. Making progress. I_t_m using babylon.2.0-alpha.js and the scene optimizer seems to be working ... sort of._lt_/p_gt__lt_p_gt_\nMy console.log is firing in Chrome on my Linux. But when I_t_m on my Galaxy 3 I_t_m still having weird issues._lt_/p_gt__lt_p_gt_\nI_t_m getting the engine.getFps() and just updating a span tag to show it._lt_/p_gt__lt_p_gt_\nFor about 8 secs it shows 60 fps which can_t_t be right because it is slow as molasses._lt_/p_gt__lt_p_gt_\nWhen I don_t_t set the trackerDuration (default 2000) it reads_co_ _qt_Reached target FPS._qt_ So it IS firing. And I guess is true because it_t_s showing 60 fps_co_ but again_co_ it_t_s super slow. Then after about 3 or 4 more seconds tanks to 6 fps._lt_/p_gt__lt_p_gt_\nIf I set trackerDuration to 10000_co_ I never see a message at all. It_t_s doesn_t_t say it_t_s reached or not reached. It starts out showing 60 fps_co_ which isn_t_t true_co_ then drops to 7 fps and the scene never downgrades nor does it alert me that either of the callbacks fired for the target fps._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-01-15T20:30:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Perhaps you should wait for the scene to load and run during like 4s  before launching it_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"shrimpwagon","Date":"2015-01-15T21:41:50Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_After using the newest versions._lt_/p_gt__lt_p_gt_\nWhen I put all that inside of scene.executeWhenReady it doesn_t_t fire at all ever._lt_/p_gt__lt_p_gt_\nI think the scene optimizer has its own scene ready method._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"shrimpwagon","Date":"2015-01-15T22:03:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Oh. Haha! I get your avatar now deltakosh. It_t_s Kosh Naranek from Babylon 5. Hence Babylon. I always thought of Babylon from ancient times._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-01-15T22:47:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Yep _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_could you share your scene somewhere?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"larsiii23","Date":"2015-06-01T16:34:52Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I have tried to apply the SceneOptimizer which results in a great part of the meshes in the scene become invisible. They are still there as collision still are being handled_co_ but they are not visible. Doesn_t_t matter if the degradation level is low_co_ moderate or high. The meshes that _qt_disappear_qt_ are for the most part bigger simple structures like walls_co_ floors and ceiling with no textures assigned. Do anyone know why this is happening?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Screenshots before and after the SceneOptimizer is called_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//postimg.org/image/j64ohhn0v/_qt_ rel_eq__qt_external nofollow_qt__gt_Before_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//postimg.org/image/wi98890en/_qt_ rel_eq__qt_external nofollow_qt__gt_After_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-06-01T17:29:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Pictures are missing _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ alt_eq__qt__dd_(_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"larsiii23","Date":"2015-06-01T21:31:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Ok. The links I added now should work at least_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-06-01T22:11:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_You must create your own optimizer option and adjust the max FPS (here 40) trigger the optimizer if the minimum limit._lt_/p_gt__lt_p_gt_default limit is 60 FPS_co_ if your FPS go below 60_co_ the optimizer starts optimize your scene._lt_/p_gt__lt_p_gt_To see what happens_co_ look in the debugLayer. you can see what is deactivated when the sceneOptimiser started optimize your scene._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Here is what I use as a custom option that works very well_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint lang-auto_qt__gt_function YourOptimizer() {var result _eq_ new BABYLON.SceneOptimizerOptions(40_co_ 3000)_sm_result.optimizations.push(new BABYLON.TextureOptimization(0_co_ 256))_sm_result.optimizations.push(new BABYLON.PostProcessesOptimization(1))_sm_result.optimizations.push(new BABYLON.LensFlaresOptimization(2))_sm_result.optimizations.push(new BABYLON.ShadowsOptimization(3))_sm_result.optimizations.push(new BABYLON.RenderTargetsOptimization(4))_sm_result.optimizations.push(new BABYLON.ParticlesOptimization(5))_sm_ result.optimizations.push(new BABYLON.RenderTargetsOptimization(6))_sm_    result.optimizations.push(new BABYLON.HardwareScalingOptimization(7_co_ 4))_sm_return result_sm_}_lt_/pre_gt_ _lt_p_gt_Use_dd__lt_/p_gt__lt_p_gt__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint lang-auto_qt__gt_BABYLON.SceneOptimizer.OptimizeAsync(scene_co_ YourOptimizer())_sm__lt_/pre_gt_ \n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Tableuraz","Date":"2015-08-03T23:11:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_67889_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_11693_qt_ data-ipsquote-username_eq__qt_shrimpwagon_qt_ data-cite_eq__qt_shrimpwagon_qt_ data-ipsquote-timestamp_eq__qt_1421358110_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt_After using the newest versions._lt_/p_gt__lt_p_gt_When I put all that inside of scene.executeWhenReady it doesn_t_t fire at all ever._lt_/p_gt__lt_p_gt_I think the scene optimizer has its own scene ready method._lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I know it has been very long_co_ but I am having the same issue and I would like to know if there is a way to fixe it._lt_/p_gt__lt_p_gt_Here is a part of my code._lt_/p_gt__lt_p_gt_When running this code_co_ I only get the _qt_success !_qt__co_ but the framerate is not reached_co_ and when I initiate the SceneOptimizer inside scene.executeWhenReady()_co_ I never get anything inside the console.log..._lt_/p_gt__lt_p_gt_I also tried putting the SceneOptimizer inside runRenderLoop()_co_ it looks like it_t_s working_co_ but it seems wrong (it keeps sending dozens of messages of success/fails)... _lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_BABYLON.SceneLoader.Load(_qt_somePath_qt__co_ _qt_SomeName_qt__co_ engine_co_ function(scene){\tBABYLON.SceneOptimizer.OptimizeAsync(scene_co_ BABYLON.SceneOptimizerOptions.LowDegradationAllowed(30_co_ 2000)_co_\t\tfunction(){\t\t\tconsole.log(_qt_success !_qt_)_sm_\t\t\t}_co_ function(){\t\t\tconsole.log(_qt_failed !_qt_)_sm_\t\t\t})_sm_\tscene.executeWhenReady(function(){\t\t//setting my scene properties\t\t})_sm_\t    }_co_ function (progress){                //Do stuff            })_sm_}_lt_/pre_gt__lt_p_gt_Yeah_co_ I know the identation is messed up... Oh_co_ and BTW_co_ I am using BabylonJS v2.2.0-alpha._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Tableuraz","Date":"2015-08-04T14:27:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Well_co_ after a lot if trials and errors_co_ sounds like I found the solution by using defered and promises._lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_$.when(SomeSceneLoadingFunctionReturningPromise()).done(function(){\tscene.createOrUpdateSelectionOctree(engine)_sm_\tBABYLON.SceneOptimizer.OptimizeAsync(scene_co_ BABYLON.SceneOptimizerOptions.LowDegradationAllowed(30_co_ 10000)_co_\t\tfunction(){\t\t\t\t\t//Optimization successful\t\t\t\t}_co_\t\tfunction(){\t\t\t\t\t//Optimization failed\t\t\t\t})_sm_\tengine.runRenderLoop(function(){\t\tif (scene.isReady()){\t\t\tscene.render()_sm_\t\t}\t})_sm_})_sm__lt_/pre_gt__lt_div_gt__lt_div_gt__lt_p_gt_It could be nice to include in the doc or the tutorial that the SceneOptimizer or the Octree should be run/updated once the scene is loaded and before it_t_s rendered_co_ because I couldn_t_t find anything telling that anywhere... (apart from the source code of the OCTREE demo)_lt_br_gt_Also_co_ scene.executeWhenReady doesn_t_t work for the SceneOptimizer_co_ as it looks like it never fires up_co_ and specifying the SceneOptimizer before the scene has fully loaded seems to induce a _qt_premature optimization_qt_ meaning that the failed/success is returned too soon (even before the scene has started rendering some times)..._lt_/p_gt__lt_p_gt_I hope this can answer some questions._lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Also_co_ I found out why  larsiii23 was getting _qt_invisible_qt_ mesh. It_t_s because new meshes created by the SceneOptimizer when calling MergeMeshesOptimization are not added to the octree_co_ thuse are ignored when rendering the scene._lt_/p_gt__lt_p_gt_When running a SceneOptimizer_co_ you should remember to run createOrUpdateSelectionOctree() while doing it._lt_br_gt_It should be added into the MergeMeshesOptimization source code when meshes are merged. I am gonna create an issue on github to see if they could add it._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-08-04T17:44:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Great findings. It could be great if you could improve the doc _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ We will soon post a tuto to explain how _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_SceneOptimizer and octree can be run even AFTER the scene is rendered. This should not be a problem. Not before loading obviously _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Tableuraz","Date":"2015-08-04T18:09:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Oh yeah_co_ it can be run once the first frame has been rendered._lt_/p_gt__lt_p_gt_However_co_ waiting for the scene to be fully loaded seems mandatory. As the SceneOptimizer starts _qt_optimizing_qt_ as soon as it_t_s said to_co_ even if there is no real scene to optimize yet (as it is still loading)._lt_/p_gt__lt_p_gt_The fact that trying to run the SceneOptimizer inside ExecuteWhenReady does not work is good to know though._lt_/p_gt__lt_p_gt_I am glad to help_co_ I would be happy to improve the doc  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_happy.png_qt_ alt_eq__qt_^_^_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/happy@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Tableuraz","Date":"2015-08-05T07:04:03Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Perhaps I misunderstood the way it_t_s supposed to be used_co_ but apparently setting UpdateSelectionTree with something like this _dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var mergeMeshOpti _eq_ new BABYLON.MergeMeshesOptimization(priority)_sm_mergeMeshOpti.UpdateSelectionTree _eq_ true_sm__lt_/pre_gt__lt_p_gt_Does not seem to be working_co_ I tried looking at the source code but it does not seem to be going into get or set when defining the new property. The only way I found to set it to true is to set it manually in the source code. I am looking into it as I am writting this._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_[EDIT] Nevermind_co_ I am a bit slow this morning_co_ it should be set as a _qt_general_qt_ Babylon option like this _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_rolleyes.gif_qt_ alt_eq__qt__dd_rolleyes_dd__qt__gt_  _dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_BABYLON.MergeMeshesOptimization.UpdateSelectionTree _eq_ true_sm__lt_/pre_gt__lt_p_gt_It could be cool to be able to set it up like so though _dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_new BABYLON.MergeMeshesOptimization(priority_co_ true)_sm__lt_/pre_gt__lt_p_gt_Thuse_co_ changing the prototype to _dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_BABYLON.MergeMeshesOptimization(priority (number)_co_ UpdateSelectionTree (boolean))_lt_/pre_gt__lt_p_gt_In case someone would want to handle octree update manually on some MergeMeshesOptimization_co_ and automatically on some others_co_ dunno why someone would want to do that_co_ but you never know what twisted schemes can come out of a dev_t_s tormented mind..._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Tableuraz","Date":"2015-08-05T07:54:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Well_co_ it_t_s done_co_ I am using babylon.max.js_co_ and I modified the line 29627 to _dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint lang-auto_qt__gt_function MergeMeshesOptimization(priority_co_ updateSelectionTree) {_lt_/pre_gt_And the line 29680 to _dd__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_[EDIT]Edited out_co_ my code was bad_co_ I was tired and had a brainfart_co_ please download the latest build (currently in alpha) if you want this to work. _sm_-)_lt_/pre_gt_If you want to add it natively or if someone wants to customize his Babylon version  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_happy.png_qt_ alt_eq__qt_^_^_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/happy@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_p_gt_Of course_co_ the _qt_specific_qt_ setting has the priority over the _qt_global_qt_ one._lt_/p_gt__lt_p_gt_So_co_ now if someone wants all the MergeMeshesOptimization to behave the same and update octree_co_ he can set UpdateSelectionTree with _dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_BABYLON.MergeMeshesOptimization.UpdateSelectionTree _eq_ true_sm__lt_/pre_gt_And if he wants the optimizer to behave differently on a specific MergeMeshesOptimization pass_co_ he can set up his MergeMeshesOptimization like so _dd__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_myOptimizer.optimizations.push(new BABYLON.MergeMeshesOptimization(priority_co_ true/false))_sm__lt_/pre_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"al404","Date":"2016-06-28T14:23:31Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\thave some issue too with OptimizeAsync\n_lt_/p_gt_\n\n_lt_p_gt_\n\tif i set it be outside render loop is not triggered if i set it inside render loop it is_co_ is that correct?\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_// not working\n\nBABYLON.SceneOptimizer.OptimizeAsync(scene_co_ BABYLON.SceneOptimizerOptions.ModerateDegradationAllowed(25_co_ 2000)_co_\tfunction(){\t\n\t\tif ( mydebug ) {\n\t\t\tconsole.log(_qt_Optimization successful_qt_)_sm_\n\t\t}\n\t}_co_ function(){ \n\t\t//Optimization failed\n\t})_sm_\n\nengine.runRenderLoop(function () {\n\n\tscene.render()_sm_\n    engineFps.innerHTML _eq_ engine.getFps().toFixed() + _qt_ fps_qt__sm_\n    \n})_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_pre_gt_\n_lt_code_gt_engine.runRenderLoop(function () {\n\n\tBABYLON.SceneOptimizer.OptimizeAsync(scene_co_ BABYLON.SceneOptimizerOptions.ModerateDegradationAllowed(25_co_ 2000)_co_\tfunction(){\t\n\t\tif ( mydebug ) {\n\t\t\tconsole.log(_qt_Optimization successful_qt_)_sm_\n\t\t}\n\t}_co_ function(){ \n\t\t//Optimization failed\n\t})_sm_\n\t\n\n    scene.render()_sm_\n    engineFps.innerHTML _eq_ engine.getFps().toFixed() + _qt_ fps_qt__sm_\n    \n})_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-06-28T15:21:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tNope it is not correct _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tYou cannot call optimize on every frame _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]