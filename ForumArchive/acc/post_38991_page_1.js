[{"Owner":"Pryme8","Date":"2018-07-20T17:24:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHow would one go about completing this logic_dd__lt_br /_gt_\n\tI need to do elseif statments for the defines.\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_float n0_sm_\n    #ifdef STONEFLOOR\n        n0 _eq_ 1.0_sm_\n    #elseif WOOD\n\n    #else\n        //Base Stone\n        n0 _eq_ abs(noise2((nUV*16.0)+fbm2((vUV-vec2(23333.222_co_3333.22))*32.0)*2.0-1.0))_sm_\n    #endif\n\n\n    vec3 color_sm_\n\n    #ifdef SPECULAR\n        color _eq_ mix(vec3(0.1)_co_ vec3(0.72)_co_ n0)_sm_\n    #elseif BUMP\n        color _eq_ mix(vec3(0.0)_co_ vec3(0.7)_co_ n0)_sm_  \n    #else\n        #ifdef STONEFLOOR\n            color _eq_ vec3(1.0)_sm_\n        #elseif WOOD\n\n        #else\n            //Base Stone\n            color _eq_ mix(vec3(0.4_co_ 0.4_co_ 0.42)_co_ vec3(0.6_co_ 0.65_co_ 0.65)_co_ n0)_sm_\n        #endif        \n    #endif\n\n    gl_FragColor _eq_ vec4(color_co_ 1.0)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tI was going off of _lt_span_gt__dd__lt_a href_eq__qt_http_dd_//www.people.vcu.edu/~jsiebers/mcnpinfo/dcomment/manual/node9.html_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.people.vcu.edu/~jsiebers/mcnpinfo/dcomment/manual/node9.html_lt_/a_gt__lt_br /_gt_\n\t&amp_sm_ _lt_a href_eq__qt_https_dd_//www.khronos.org/registry/OpenGL/specs/gl/GLSLangSpec.4.50.pdf_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.khronos.org/registry/OpenGL/specs/gl/GLSLangSpec.4.50.pdf_lt_/a_gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"brianzinn","Date":"2018-07-20T17:46:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t#ifdef VAR1_lt_br /_gt_\n\t  ..._lt_br /_gt_\n\t#endif\n_lt_/p_gt_\n\n_lt_p_gt_\n\t#ifndef VAR1_lt_br /_gt_\n\t#endif_lt_br /_gt_\n\tNot very pretty_co_ but I haven_t_t seen else...  you can nest those as well._lt_br /_gt_\n\t_lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Shaders/pbr.vertex.fx#L149_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Shaders/pbr.vertex.fx#L149_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"brianzinn","Date":"2018-07-20T17:50:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tactually_co_ I see that you have #elseif and then #else preprocessors.  I think you need to use defined() function and boolean logic.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2018-07-20T17:52:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tfunny part is I just figured that out right before I read your post and was gonna try that._lt_br /_gt_\n\t_lt_br /_gt_\n\tYou just reinforced that I should give that a shot_co_ THANKS!_lt_br /_gt_\n\t_lt_br /_gt_\n\t_lt_br /_gt_\n\t#if defined(BLAH)_lt_br /_gt_\n\t#elif defined(BLAH2)_lt_br /_gt_\n\t#endif _lt_br /_gt_\n\t_lt_br /_gt_\n\tright?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"brianzinn","Date":"2018-07-20T17:56:22Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tDid you try elif?_lt_br /_gt_\n\t#if #ifdef #ifndef #else #elif #endif_lt_br /_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.khronos.org/registry/OpenGL/specs/gl/GLSLangSpec.1.20.pdf_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.khronos.org/registry/OpenGL/specs/gl/GLSLangSpec.1.20.pdf_lt_/a_gt__lt_br /_gt_\n\tthink they just copied c (_lt_a href_eq__qt_https_dd_//en.wikipedia.org/wiki/C_preprocessor_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//en.wikipedia.org/wiki/C_preprocessor_lt_/a_gt_)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2018-07-20T18:01:52Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_span class_eq__qt_ipsEmoji_qt__gt_❤️_lt_/span_gt__lt_br /_gt_\n\t_lt_br /_gt_\n\t \n_lt_/p_gt_\n\n_lt_div style_eq__qt_background-color_dd_#fffffe_sm_color_dd_#000000_sm_font-size_dd_14px_sm__qt__gt_\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_float n0_sm__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_#if defined(STONEFLOOR)_lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_n0 _eq_ 1.0_sm__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_#elif defined(WOOD)_lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_n0 _eq_ 1.0_sm__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_#else_lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_//Base Stone_lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_n0 _eq_ abs(noise2((nUV*16.0)+fbm2((vUV-vec2(23333.222_co_3333.22))*32.0)*2.0-1.0))_sm__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_#endif_lt_/span_gt_\n\t_lt_/div_gt_\n\t \n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_vec3 color _eq_ vec3(0.)_sm__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_#if defined(SPECULAR)_lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_color _eq_ mix(vec3(0.1)_co_ vec3(0.72)_co_ n0)_sm__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_#elif defined(BUMP)_lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_color _eq_ mix(vec3(0.0)_co_ vec3(0.7)_co_ n0)_sm_ _lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_#else_lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_#if defined(STONEFLOOR)_lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_color _eq_ vec3(1.0)_sm__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_#elif defined(WOOD)_lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_color _eq_ vec3(1.0)_sm__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_#else_lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_//Base Stone_lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_color _eq_ mix(vec3(0.4_co_ 0.4_co_ 0.42)_co_ vec3(0.6_co_ 0.65_co_ 0.65)_co_ n0)_sm__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_#endif _lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_#endif_lt_/span_gt_\n\t_lt_/div_gt_\n\t \n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_gl_FragColor _eq_ vec4(color_co_ 1.0)_sm_ _lt_/span_gt_\n\t_lt_/div_gt_\n_lt_/div_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nabroski","Date":"2018-07-20T19:13:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThis is called a shader permutation hell. Babylonjs is master of this technique and it has understandable reasons (more or less)_co_ that_t_s not the point. Think over it. Are you really winning something ? The compiler still needs to hold the hole damn thing in his register in order to throw and error exception. In worst case you end with something like _lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/topic/38473-shadowgenerator-usepercentagecloserfiltering-breaks-android/?tab_eq_comments#comment-219591_qt_ rel_eq__qt__qt__gt_this_lt_/a_gt__co_ scroll down_co_ yes a bit longer_co_ do you notice something. It_t_s 2018 we not in C/C++ DX Engine_co_ WebGL relies on Javascript_co_ when you look closer at you shader_co_ it is just a simple string_co_ - manipulate the s t r i n g not the shader. \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2018-07-20T19:43:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tthat is an interesting concept _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/21965-nabroski/?do_eq_hovercard_qt_ data-mentionid_eq__qt_21965_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/21965-nabroski/_qt_ rel_eq__qt__qt__gt_@Nabroski_lt_/a_gt_ I like where your head is going._lt_br /_gt_\n\t_lt_br /_gt_\n\tI had a similar concept as what you are talking about that was trying to make a raymarching engine that edited the shader string like you are mentioning.  _lt_br /_gt_\n\t_lt_br /_gt_\n\tI see pro_t_s and con_t_s to both and definitively see each as a valid method givin certain problems\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]