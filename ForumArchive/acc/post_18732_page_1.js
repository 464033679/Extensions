[{"Owner":"Stalker","Date":"2015-11-19T14:29:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_In my scene I have multiple instanced robots with single skeleton. When two of them get near enough each they should start shooting lasers._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Skeleton has a bone named _qt_Arm.Gun L_qt__co_ its position and orientation already define the origin from where the laser is shot and its direction vector_co_ the problem is that I can_t_t find a way how to access the data. It need to be accessed and copied only once._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Find the bone_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_this._bone _eq_ skeletons[0].bones.filter((b_dd_ BABYLON.Bone) _eq_&gt_sm_ {\treturn b.name _eq__eq__eq_ _qt_Arm.Gun L_qt__sm_})[0]_sm__lt_/pre_gt__lt_p_gt_And when firing_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var l _eq_ this._laser.createInstance(_qt_l_qt_)_sm_l.position _eq_ ? // this._bone.?l.rotation _eq_ ? // this._bone.?_lt_/pre_gt__lt_p_gt_After looking through the docs for _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/classes/2.2/Bone_qt_ rel_eq__qt_external nofollow_qt__gt_Bone_lt_/a_gt_ and _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/classes/2.2/InstancedMesh_qt_ rel_eq__qt_external nofollow_qt__gt_InstancedMesh_lt_/a_gt_ (together with its base classes Mesh and Node) the only useful thing I found are local and globalMatrix methods on bones (if I could apply localMatrix to laser would probably do what I want with some minor fixes)_co_ but haven_t_t found any efficient way of applying to a laser._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2015-11-19T17:13:44Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Look at the matrix.decompose() method_co_ for translation_co_ rotation_co_ &amp_sm_ scale breakout._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Stalker","Date":"2015-11-19T18:16:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Didn_t_t really thought using it like this. Smart!_lt_/p_gt__lt_p_gt_Thanks_co_ it works _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Stalker","Date":"2015-11-19T23:33:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_If I may bug you for one more thing regarding this..._lt_/p_gt__lt_p_gt_After searching through the forum (problem about rotation)_co_ I found out that Bone is presented like a point_co_ so there isn_t_t really any direction in which is facing._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I used the code bellow to get rotation_co_ scale and translation._lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var l _eq_ this._laser.clone(_qt_l_qt_)_sm_var s _eq_ BABYLON.Vector3.Zero()_sm_var r _eq_ new BABYLON.Quaternion()_sm_var t _eq_ BABYLON.Vector3.Zero()_sm_this._bone.getWorldMatrix().decompose(s_co_ r_co_ t)_sm_l.position.copyFrom(e.position.add(t))_sm_l.rotationQuaternion _eq_ r.clone()_sm__lt_/pre_gt__lt_p_gt_Right is the result in BJS (red thing is added)_co_ and left how bone looks like in Blender. In BJS it should be rotated ~90deg by Y axis_co_ so that it_t_s parallel to the gun barrel._lt_/p_gt__lt_p_gt_That bone is the last one_co_ so I can_t_t use next descendant to calculate direction vector._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_11_2015/post-17157-0-93419300-1447975680.png_qt_ rel_eq__qt_external nofollow_qt__gt__lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_11_2015/post-17157-0-93419300-1447975680_thumb.png_qt_ data-fileid_eq__qt_5621_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_post-17157-0-93419300-1447975680_thumb.p_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]