[{"Owner":"_ElementoZerO_","Date":"2016-07-15T10:46:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi! i_t_m trying to add some grass mesh on a height map_co_ but the getHeightAtCoordinates return sometimes a wrong value ( and the grass is up in the sky..) i using the same code of the instances example_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_ BABYLON.SceneLoader.ImportMesh(_qt__qt__co_ _qt_./assets/mesh/world/_qt__co_ _qt_grass.babylon_qt__co_ this.GameKernel.scene_co_ function (grass) {\n            var x1 _eq_ 0_sm_\n            var z1 _eq_ 0_sm_\n            grass[0].material.opacityTexture _eq_ null_sm_\n            grass[0].material.backFaceCulling _eq_ false_sm_\n            grass[0].isVisible _eq_ true_sm_\n            grass[0].position.y _eq_ ground.getHeightAtCoordinates(x1_co_ z1)_sm_ // Getting height from ground object\n            grass[0].position.x _eq_ x1_sm_\n            grass[0].position.z _eq_ z1_sm_\n            grass[0].material.specularColor _eq_ new BABYLON.Color3(0_co_ 0_co_ 0)_sm_\n            grass[0].material.ambientColor _eq_ new BABYLON.Color3(1_co_ 1_co_ 1)_sm_\n            //newMeshes[0].scale _eq_ 0.5\n            //shadowGenerator.getShadowMap().renderList.push(newMeshes[0])_sm_\n\n            var range _eq_ 200_sm_\n            var count _eq_ 100_sm_\n            var x_co_y_co_z_sm_\n            var newGrassInstance_sm_\n            for(var j _eq_ 0_sm_ j &lt_sm_ count_sm_ j++)\n            {\n                x _eq_(grass[0].position.x)-((range / 2) - (Math.random() * range))_sm_    \n\n                for (var i _eq_ 0_sm_ i &lt_sm_ count_sm_ i++) \n                {\n                    newGrassInstance _eq_ grass[0].createInstance(_qt_x_qt_ + x +_qt_y_qt_ + y+ _qt_z_qt_ + z )_sm_\n                    z _eq_ (grass[0].position.z)-((range / 2) - (Math.random() * range))_sm_\n                    y _eq_ ground.getHeightAtCoordinates(x_co_ z)_sm_ // Getting height from ground object\n                    //console.log(_qt_y_dd_ _qt_ + y )_sm_\n                    newGrassInstance.position _eq_ new BABYLON.Vector3(x_co_ y_co_ z)_sm_\n                    /*\n                    if(ground.intersectsMesh(newGrassInstance_co_ true))\n                        console.log(_qt_x_qt_ + x +_qt_y_qt_ + y+ _qt_z_qt_ + z +_qt_is on ground_qt_)_sm_\n                    else\n                        console.log(_qt_x_qt_ + x +_qt_y_qt_ + y+ _qt_z_qt_ + z + _qt_ not on ground_qt_)_sm_*/\n                    newGrassInstance.rotate(BABYLON.Axis.Y_co_ Math.random() * Math.PI * 2_co_ BABYLON.Space.WORLD)_sm_\n                    var scale _eq_ 0.5 + Math.random() * 2_sm_\n                    newGrassInstance.scaling.addInPlace(new BABYLON.Vector3(scale_co_ scale_co_ scale))_sm_\n                } \n            }\n        })_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tthe attach image show the result..\n_lt_/p_gt_\n\n_lt_p_gt_\n\twhere i_t_m wrong?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tps the ground is not rotate i_t_m read in the source code that the function return non consistent value in this case\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_07/5788be207eaaa_grassissue.png.6be06530017700940dc3913ec328ae3a.png_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_8607_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_07/5788be2180807_grassissue.thumb.png.e36f32975c384c4e6ad6f56509545a8f.png_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_grass issue.png_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2016-07-15T12:03:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIs your ground using the same coordinate system as your grass instances?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tedit_dd_  In other words_co_ do they have the same parents?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2016-07-15T12:03:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tquite difficult to answer without a repro case showing the same issue\n_lt_/p_gt_\n\n_lt_p_gt_\n\tcould you please provide a simple PG with the same problem ?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"_ElementoZerO_","Date":"2016-07-15T12:34:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_136163_qt_ data-ipsquote-contentid_eq__qt_23838_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1468584220_qt_ data-ipsquote-userid_eq__qt_4289_qt_ data-ipsquote-username_eq__qt_adam_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t28 minutes ago_co_ adam said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tIs your ground using the same coordinate system as your grass instances?\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tI_t_m using the tree mesh take from instance demo and i have the same problem...i take this grass mesh from a free site...how i can check?\n_lt_/p_gt_\n\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_136164_qt_ data-ipsquote-contentid_eq__qt_23838_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1468584234_qt_ data-ipsquote-userid_eq__qt_5453_qt_ data-ipsquote-username_eq__qt_jerome_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t28 minutes ago_co_ jerome said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tquite difficult to answer without a repro case showing the same issue\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tcould you please provide a simple PG with the same problem ?\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tThe project is very big..if you want i can send you a link in private.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2016-07-15T12:37:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tnope_co_ please do the same error in something simpler and shorter\n_lt_/p_gt_\n\n_lt_p_gt_\n\tsometimes_co_ making PG helps to discover one_t_s own error _sm_-)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2016-07-15T13:57:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tCan you provide us with a link to the grass model?\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"_ElementoZerO_","Date":"2016-07-15T14:16:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_136179_qt_ data-ipsquote-contentid_eq__qt_23838_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1468591053_qt_ data-ipsquote-userid_eq__qt_4289_qt_ data-ipsquote-username_eq__qt_adam_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t15 minutes ago_co_ adam said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tCan you provide us with a link to the grass model?\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\t.blender of grass and .babylon exported and i_t_m try to create a PG how can upload file in PG?\n_lt_/p_gt_\n\n_lt_p_gt__lt_a class_eq__qt_ipsAttachLink_qt_ href_eq__qt_//www.html5gamedevs.com/applications/core/interface/file/attachment.php?id_eq_8610_qt__gt_grass.babylon_lt_/a_gt__lt_/p_gt_\n_lt_p_gt__lt_a class_eq__qt_ipsAttachLink_qt_ href_eq__qt_//www.html5gamedevs.com/applications/core/interface/file/attachment.php?id_eq_8611_qt__gt_grass.babylon.manifest_lt_/a_gt__lt_/p_gt_\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_07/grass_diff.png.d1766fd53ec149b9dcfa0dcd950d37bb.png_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_8612_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_07/grass_diff.png.d1766fd53ec149b9dcfa0dcd950d37bb.png_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_grass_diff.png_qt__gt__lt_/a_gt__lt_/p_gt_\n_lt_p_gt__lt_a class_eq__qt_ipsAttachLink_qt_ href_eq__qt_//www.html5gamedevs.com/applications/core/interface/file/attachment.php?id_eq_8613_qt__gt_grass_c.blend_lt_/a_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2016-07-15T14:40:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHere is your grass in the PG_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#XB7FW_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#XB7FW_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"_ElementoZerO_","Date":"2016-07-15T14:50:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tok as i imagined thank you_co_ now i work on this pg and try to reproduce the issue_co_ i_t_ll post the updated PlayGround \n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"_ElementoZerO_","Date":"2016-07-16T18:49:34Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\ti can not reproduce the issue in the playground i copy and past my code and all work... _lt_img alt_eq__qt__dd_(_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ title_eq__qt__dd_(_qt_ width_eq__qt_20_qt_ /_gt_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\t _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#XB7FW%2310_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#XB7FW#10_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\twhat i can try to do??\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2016-07-16T19:15:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSo the error is probably somewhere else ...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tin the values x_co_ z that you pass to getHeightAtCoordinates() maybe in your code or the way your ground is built\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThat_t_s why I said that making a PG often helps to find where the error is (or where it_t_s not) _lt_img alt_eq__qt__sm_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ title_eq__qt__sm_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2016-07-16T20:42:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tIf your ground is parented to another mesh_co_ you should make sure your plants have the same parent.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"_ElementoZerO_","Date":"2016-07-16T21:20:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_136328_qt_ data-ipsquote-contentid_eq__qt_23838_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1468701736_qt_ data-ipsquote-userid_eq__qt_4289_qt_ data-ipsquote-username_eq__qt_adam_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t36 minutes ago_co_ adam said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tIf your ground is parented to another mesh_co_ you should make sure your plants have the same parent.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tground parent is undefined_co_ i check this with console.log(ground)_sm_ \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"dbawel","Date":"2016-07-17T03:12:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tDo you really need the physical geometry for the grass? That_t_s allot of computation as I don_t_t see the Geometry built for simulating wind dynamics or other dynamics - so might you simply use sprites? Otherwise_co_ your framerate will crawl on mobile - as it_t_s quite slow now. Just a thought...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDB\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"_ElementoZerO_","Date":"2016-07-17T11:06:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_136344_qt_ data-ipsquote-contentid_eq__qt_23838_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1468725162_qt_ data-ipsquote-userid_eq__qt_11286_qt_ data-ipsquote-username_eq__qt_dbawel_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t9 hours ago_co_ dbawel said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tDo you really need the physical geometry for the grass? That_t_s allot of computation as I don_t_t see the Geometry built for simulating wind dynamics or other dynamics - so might you simply use sprites? Otherwise_co_ your framerate will crawl on mobile - as it_t_s quite slow now. Just a thought...\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tDB\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tYou_t_re right but this little game is for an exams _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ and i promised to my prof grass mesh...but i still not resolve the issue..\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe framerate that you see in the image is from my old notebook....with desktop computer with gtx 260 (old too..) i have about 30-40 fps\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2016-07-17T13:10:18Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\timho_co_ if I were you_co_ I would restart to reimplement the code from the working PG step by step and I would test at each step if something is then getting wrong in order to localize the error\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"_ElementoZerO_","Date":"2016-07-17T21:11:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_136373_qt_ data-ipsquote-contentid_eq__qt_23838_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1468761018_qt_ data-ipsquote-userid_eq__qt_5453_qt_ data-ipsquote-username_eq__qt_jerome_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t7 hours ago_co_ jerome said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\timho_co_ if I were you_co_ I would restart to reimplement the code from the working PG step by step and I would test at each step if something is then getting wrong in order to localize the error\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tmaybe is the only way.. i tried with sprite and same issue...\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Boz","Date":"2016-07-17T23:14:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHey ! I don_t_t know why but I got a problem with this same function.. Maybe a problem with v2.4 ?_lt_br /_gt_\n\tI go inside the babylonjs code but it should work.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo I created my own function_co_ which works well _dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_var groundHeightAt _eq_ function(x_co_ z)\n{\n\t// Create ray from position x_co_z at the maximum altitude and launch it vertically to hit the ground\n\tvar maxHeight _eq_ // define your max height\n                        // mine is skybox.getBoundingInfo().boundingBox.maximum.y\n\tvar ray _eq_ new BABYLON.Ray(new BABYLON.Vector3(x_co_ maxHeight_co_ z)_co_\t// Origin\n\t\t\t\t  new BABYLON.Vector3(0_co_ -1_co_ 0)_co_\t// Direction\n\t\t\t\t  2*maxHeight)_sm_\t\t\t\t// Length\n\n\tvar res _eq_ ground.intersects(ray_co_ true)_sm_\n\treturn res.pickedPoint.y_sm_\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tWhere is the difference ?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"dbawel","Date":"2016-07-17T23:37:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_m finding broken features in 2.4 - and will report right now outlining one of the bugs. I switched our server back to Version 2.2 - although_co_ this probably isn_t_t part of your issue. I am however finding bugs with videoTexture playback in 2.4 though. As I mentioned_co_ I_t_ll post a bug report now.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDB\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2016-07-18T07:28:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t@_ElementoZero_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnother approach could be to reduce your ground size and number sprite number and to try to isolate some cases where the grass is not at the right altitude in your code_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tthen to log the x z values that you are apssing to the function and what y is returned\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWithout any log/data or any issue repro PG we can hardly imagine what/how you_t_re doing and what values are handled in the code. You don_t_t tell us either how is your ground designed in your code _dd_ size_co_ subdivisions_co_ max/min height_co_ position_co_ etc\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"_ElementoZerO_","Date":"2016-07-18T07:48:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_136429_qt_ data-ipsquote-contentid_eq__qt_23838_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1468797295_qt_ data-ipsquote-userid_eq__qt_8472_qt_ data-ipsquote-username_eq__qt_Pouet_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t8 hours ago_co_ Pouet said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tHey ! I don_t_t know why but I got a problem with this same function.. Maybe a problem with v2.4 ?_lt_br /_gt_\n\t\t\tI go inside the babylonjs code but it should work.\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tSo I created my own function_co_ which works well _dd_\n\t\t_lt_/p_gt_\n\n\t\t_lt_pre_gt_\n\n_lt_code_gt__lt_span_gt_var_lt_/span_gt_ groundHeightAt _eq_ _lt_span_gt__lt_span_gt_function_lt_/span_gt__lt_span_gt_(x_co_ z)_lt_/span_gt_\n{_lt_/span_gt_\n\t_lt_span_gt_// Create ray from position x_co_z at the maximum altitude and launch it vertically to hit the ground_lt_/span_gt_\n\t_lt_span_gt_var_lt_/span_gt_ maxHeight _eq_ _lt_span_gt_// define your max height_lt_/span_gt_\n                        _lt_span_gt_// mine is skybox.getBoundingInfo().boundingBox.maximum.y_lt_/span_gt_\n\t_lt_span_gt_var_lt_/span_gt_ ray _eq_ _lt_span_gt_new_lt_/span_gt_ BABYLON.Ray(_lt_span_gt_new_lt_/span_gt_ BABYLON.Vector3(x_co_ maxHeight_co_ z)_co_\t_lt_span_gt_// Origin_lt_/span_gt_\n\t\t\t\t  _lt_span_gt_new_lt_/span_gt_ BABYLON.Vector3(_lt_span_gt_0_lt_/span_gt__co_ -_lt_span_gt_1_lt_/span_gt__co_ _lt_span_gt_0_lt_/span_gt_)_co_\t_lt_span_gt_// Direction_lt_/span_gt_\n\t\t\t\t  _lt_span_gt_2_lt_/span_gt_*maxHeight)_sm_\t\t\t\t_lt_span_gt_// Length_lt_/span_gt_\n\n\t_lt_span_gt_var_lt_/span_gt_ res _eq_ ground.intersects(ray_co_ _lt_span_gt_true_lt_/span_gt_)_sm_\n\t_lt_span_gt_return_lt_/span_gt_ res.pickedPoint.y_sm_\n}_lt_/code_gt__lt_/pre_gt_\n\n\t\t_lt_p_gt_\n\t\t\tWhere is the difference ?\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_136453_qt_ data-ipsquote-contentid_eq__qt_23838_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1468826885_qt_ data-ipsquote-userid_eq__qt_5453_qt_ data-ipsquote-username_eq__qt_jerome_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t33 minutes ago_co_ jerome said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\t@_ElementoZero_\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tAnother approach could be to reduce your ground size and number sprite number and to try to isolate some cases where the grass is not at the right altitude in your code_co_\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tthen to log the x z values that you are apssing to the function and what y is returned\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tWithout any log/data or any issue repro PG we can hardly imagine what/how you_t_re doing and what values are handled in the code. You don_t_t tell us either how is your ground designed in your code _dd_ size_co_ subdivisions_co_ max/min height_co_ position_co_ etc\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tI_t_ll try ! thank you guys !\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_this.sizeX _eq_ 2600_sm_//2600_sm_//2608_sm_\nthis.sizeY _eq_ 2032_sm_//2000_sm_//2032_sm_\n\nvar ground _eq_ BABYLON.Mesh.CreateGroundFromHeightMap(_qt_ground_qt__co_ _qt_./textures/heightMap.png_qt__co_ this.sizeX_co_ this.sizeY_co_ 300_co_ 0_co_ 255_co_ this.GameKernel.scene_co_ false)_sm_\n    ground.position.y _eq_ 0_sm_\n    var groundMaterial _eq_ new BABYLON.StandardMaterial(_qt_groundMaterial_qt__co_ this.GameKernel.scene)_sm_\n\t\n\tgroundMaterial.diffuseTexture _eq_ new BABYLON.Texture(_qt_./textures/sand.jpg_qt__co_ this.GameKernel.scene)_sm_\n\tgroundMaterial.diffuseTexture.uScale _eq_ 60_sm_\n\tgroundMaterial.diffuseTexture.vScale _eq_ 60_sm_\n\tgroundMaterial.specularColor _eq_ new BABYLON.Color3(0_co_ 0_co_ 0)_sm_\n\tground.material _eq_ groundMaterial_sm_\n    \n    ground.receiveShadows _eq_ true_sm_\n    //this._deactivateSpecular(ground)_sm_    \n\tground.checkCollisions  _eq_ true_sm_\n    ground.applyGravity _eq_ true_sm_\n\tthis.ground _eq_ ground_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tAnother think my code is based on this tutorial_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//pixelcodr.com/tutos/shooter/shooter.html_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//pixelcodr.com/tutos/shooter/shooter.html_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"_ElementoZerO_","Date":"2016-07-18T09:07:31Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tMAYBE I RESOLVE_co_ guys i simply use the preview version (2.5) and now seems work i_t_ll update you..\n_lt_/p_gt_\n\n_lt_p_gt_\n\tUPDATE_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tnow that i think the PlayGround use the 2.5 ....\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_07/grass.png.05a11d11431ce1cc93823fffa3dd83ac.png_qt_ data-fileid_eq__qt_8652_qt_ rel_eq__qt_external nofollow_qt__gt__lt_img alt_eq__qt_grass.png_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_8652_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_07/grass.thumb.png.262d405c6c3f4899ced38919a54a84f7.png_qt_ /_gt__lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2016-07-18T11:16:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tyep_co_ the PG uses the latest built\n_lt_/p_gt_\n\n_lt_p_gt_\n\tand you are right_co_ a bug (fixed in 2.5) was introduced just before the 2.4 relase in the cross product use in computeHeightQuads() _co_ that affected getHeightAtEtc() _dd_ a simple conflict in the use of temporary pre-allocated vector3s_co_ somethng we use under the hood to not reuse the memory and to not trigger the GC.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHave a look a the bug fixes here please _dd_ _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/dist/preview%20release/what_t_s%20new.md_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/dist/preview release/what_t_s new.md_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI didn_t_t know you were using the 2.4 version_co_ sorry.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"_ElementoZerO_","Date":"2016-07-18T11:27:38Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tis my fault i don_t_t write that i use 2.4 ver..\n_lt_/p_gt_\n\n_lt_p_gt_\n\tA question how i can put the mesh on all ground surface and use incremental load? with my function is very slow..and limited to a given zone..\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"dbawel","Date":"2016-07-18T20:17:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/22350-_elementozero_/?do_eq_hovercard_qt_ data-mentionid_eq__qt_22350_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/22350-_elementozero_/_qt_ rel_eq__qt__qt__gt_@_ElementoZerO__lt_/a_gt_ - I don_t_t know if this is affecting your scene - however when we removed incremental loading from our latest scene just a few days ago_co_ our performance increased considerably. So it is certainly worth a test_co_ and to share your results with the community. As previously mentioned_co_ we_t_re still using Version 2.2 as for us it has proven to be stable for all elements we are using for our current app (and for _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/15320-mastersplinter/?do_eq_hovercard_qt_ data-mentionid_eq__qt_15320_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/15320-mastersplinter/_qt_ rel_eq__qt__qt__gt_@MasterSplinter_lt_/a_gt__co_ this means applications loaded through a link in WebGL). However_co_ I will be working with v2.4 again later this week as soon as I receive confirmation that the bug with videoTextures as well as others reported on the forum are fixed. And as I always mention_co_ babylon.js is a very new framework_co_ and I am always impressed by how stable each release is - even though I_t_m currently having issues with v2.4. Compared to past experience with new release software_co_ babylon.js is by far the most stable and thoroughly tested for each release due to the unique group of developers building this framework - as well as the very enthusiastic group of developers and users on this forum testing and posting daily_co_ not to mention that the builders are enguaged daily with this community. I_t_m quite proud to be considered a part of the history we are all building here. And I know that soon babylon.js will be in the media spotlight_co_ as I_t_m aware of what others are developing_co_ as well as a few major players in the film industry which are already in process of providing high praise for what this framework is able to accomplish and how they are making amazing use of this - across all platforms_co_ which for the film and other industries is beyond belief.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo thank you for posting and keeping us all informed on your progress. We_t_re all in this together_co_ and are all benefiting greatly from it. By the way_co_ if DK or Davrous get this far in the post_co_ is it possible to add a spell-check to the text editor on this forum? This would help allot of users_co_ especially those whose first language is not English. Just thought I_t_d ask_co_ as I thought I remember having this feature in early 2014. But I_t_m probably mistaken.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCheers_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDB\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]