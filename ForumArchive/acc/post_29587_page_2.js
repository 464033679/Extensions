[{"Owner":"arek3D","Date":"2018-05-21T16:03:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_ I have a problem with export an .obj file using custom mesh. Should it work with this kind of mesh? I created a geometry which is displayed correctly in canvas and after console.log the list of vertexes is empty. I tested that with a standard cube and it worked correctly._lt_br /_gt_\n\tHere is how I am doing it (more or less)_dd__lt_br /_gt_\n\t¬†\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_this.customMesh _eq_ new BABYLON.Mesh(_qt_custom_qt__co_ this.scene)_sm_   \n\n//... a lot of _qt_positions.push_qt_\n   \nvar normals _eq_ []_sm_\nvar vertexData _eq_ new BABYLON.VertexData()_sm_\nBABYLON.VertexData.ComputeNormals(positions_co_ indices_co_ normals)_sm_\nvertexData.positions _eq_ positions_sm_\nvertexData.indices _eq_ indices_sm_\nvertexData.normals _eq_ normals_sm_\nvertexData.applyToMesh(this.customMesh)_sm_\n\nvar mat _eq_ new BABYLON.StandardMaterial(_qt_mat_qt__co_ scene)_sm_\nthis.customMesh.material _eq_ mat_sm_\n\nvar obj _eq_ BABYLON.OBJExport.OBJ([this.customMesh]_co_true_co__t_birdie_t_)_sm_\nvar objlink _eq_ BABYLON.Tools.FileAsURL(obj)_sm_\nvar mtl _eq_ BABYLON.OBJExport.MTL(this.customMesh_co_true)_sm_\nvar mtllink _eq_ BABYLON.Tools.FileAsURL(mtl)_sm_\n\nconsole.log(_qt_obj _eq_ _qt__co_ obj)_sm_\nconsole.log(_qt_objlink _eq_ _qt__co_ objlink)_sm_\n\nconsole.log(_qt_mtl _eq_ _qt__co_ mtl)_sm_\nconsole.log(_qt_mtllink _eq_ _qt__co_ mtllink)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t¬†\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"arek3D","Date":"2018-05-22T14:30:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOk_co_ I have found why my string was empty when I console.log my custom mesh. I do not have UV data in my model and in OBJExport.OBJ() method there is a condition which _lt_span lang_eq__qt_en_qt_ xml_dd_lang_eq__qt_en_qt__gt__lt_span_gt_skips_lt_/span_gt__lt_/span_gt_ such meshes_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_if (!trunkVerts || !trunkNormals || !trunkUV || !trunkFaces) {\n    continue_sm_\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t¬†\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-05-22T15:24:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tGood catch!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"3D for mortals","Date":"2018-05-27T23:00:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tgood hour. english not my native.\n_lt_/p_gt_\n\n_lt_p_gt_\n\ti have not a good result use\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_//some code before\n\ndownload(BABYLON.OBJExport.OBJ(exportobjects_co_true_co__qt_wheelmaterials_qt__co_false)_co__qt_scene.obj_qt__co__qt_text/plain_qt_)_sm_\n\nfunction download(text_co_ name_co_ type) {\n\tvar a _eq_ document.getElementById(_qt_a_qt_)_sm_\n\tvar file _eq_ new Blob([text]_co_ {type_dd_ type})_sm_\n\ta.href _eq_ URL.createObjectURL(file)_sm_\n\ta.download _eq_ name_sm_\n  }_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tsyntax. After this i try to open-&gt_sm_export (scene.obj) file uses freecad and meshlab under linux(not think this is major)_co_ and as you can see the model exported wrong way.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHope i can solve this_co_ with your help.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ data-fileid_eq__qt_18437_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_05/objexportbug.png.97fa85dbad8dd8e387f2578c332f5b5b.png_qt_ rel_eq__qt__qt__gt__lt_img alt_eq__qt_objexportbug.png_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_18437_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_05/objexportbug.thumb.png.bf99e23e067391c50d9a2ebce9b993e3.png_qt_ /_gt__lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"3D for mortals","Date":"2018-05-28T02:40:18Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tsolved _co_ by using\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_mesh.bakeCurrentTransformIntoVertices()_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tbut now some parts of exported model need to set two side lighting_co_ or parts always black. And way to create these parts(meshes) is similar_co_ but different only final angle of rotation around axis. Little insane feeling inside...not perfect result _dd_ |\n_lt_/p_gt_\n\n_lt_p_gt_\n\t¬†\n_lt_/p_gt_\n\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_05/onetwo.png.b34eda7e7d3f84a9de71bf40bd0b3826.png_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_18439_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_05/onetwo.thumb.png.8433609f86548a7446074179182e998a.png_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_onetwo.png_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-05-29T04:15:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tFeel free to open an issue on the repo. We will try to fix the OBJ exporter if you can provide a repro case\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"3D for mortals","Date":"2018-05-30T13:25:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_216405_qt_ data-ipsquote-contentid_eq__qt_29587_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1527567333_qt_ data-ipsquote-userid_eq__qt_4442_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tOn 5/29/2018 at 7_dd_15 AM_co_ Deltakosh said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tFeel free to open an issue on the repo. We will try to fix the OBJ exporter if you can provide a repro case\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\twhat should i do to provide a repro case?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tis link on repository on github with program _co_ which include this _co_ is enough ? Because the result exported file is close to 100mb size wavefront obj\n_lt_/p_gt_\n\n_lt_p_gt_\n\t¬†\n_lt_/p_gt_\n\n_lt_p_gt_\n\t... insane behavior... my email place forum answer notification mail into spam_co_ but before i create the filter especially for this forum and place it first in order... _lt_span_gt__lt_span class_eq__qt_ipsEmoji_qt__gt_üòê_lt_/span_gt_ _lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-05-30T15:33:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIt would be great to have a simpler scene (perhaps just a part of the initial mesh) that can highlight the problem\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"3D for mortals","Date":"2018-05-30T19:36:50Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_216532_qt_ data-ipsquote-contentid_eq__qt_29587_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1527694405_qt_ data-ipsquote-userid_eq__qt_4442_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t4 hours ago_co_ Deltakosh said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tIt would be great to have a simpler scene (perhaps just a part of the initial mesh) that can highlight the problem\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\ti create this folder in repo. Hope this will be enough.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//github.com/3dformortals/data/tree/master/trash/objexportissue_qt_ rel_eq__qt_external nofollow_qt__gt_github repo folder with issue description_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tcan you create the issue ? i can try but don_t_t know the right form of this_co_ and english is not my native.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-05-30T20:12:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tMe neither_co_ I_t_m french _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt_true_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt__gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_I need you to create a repro in the Playground and I can take care of it from there_lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"3D for mortals","Date":"2018-05-30T22:18:22Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_216560_qt_ data-ipsquote-contentid_eq__qt_29587_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1527711136_qt_ data-ipsquote-userid_eq__qt_4442_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t2 hours ago_co_ Deltakosh said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tMe neither_co_ I_t_m french _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt_\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t_lt_span_gt_I need you to create a repro in the Playground and I can take care of it from there_lt_/span_gt_\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tinside my app i use my own handmaded lib written in haxe_co_ and then exported to javascript\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//github.com/3dformortals/data/blob/master/trash/objexportissue/web/js/geo.js_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/3dformortals/data/blob/master/trash/objexportissue/web/js/geo.js_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t4426 lines. And looks like i need to create playground in one file... plus my app depend from gui html(but it possible to cut off all except few numbers). copy all libs to giant js file looks very insane for me. Are you sure this is good idea?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"3D for mortals","Date":"2018-05-31T00:22:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tnot good... i try export scene to glTF format _co_ then import into blender_co_ and result is similar. Some meshes is broked _co_ not coloring and look different when i rotate the view. Looks like something bad with exporters mathematics_co_ or both exporters have same coding way. Because all my meshes created uses for loop_co_ and later some of thier only moved + rotated into new scene position.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFeels like _lt_span lang_eq__qt_en_qt_ xml_dd_lang_eq__qt_en_qt__gt__lt_span_gt_some of meshes stay turned inside out_co_ after exporting. I detect something similar when i try use threejs earlier_co_ but threejs show this on scene. But babylonjs only do this in time of export. Is it possible when you recode or use part of threejs algorithm (part of code base)... I hope you don_t_t do this_co_ because threejs is terrible in compare with babylon js_lt_/span_gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"3D for mortals","Date":"2018-05-31T02:14:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\ti found the way how manually fix this issue inside freecad. Need reverse normals inside mesh designer for every black part and then it stay normal colored etc. this can be math hole inside exporter algorithm_co_ or mesh rotation algorithm (but on screen it look normal _co_ and this direct to exporter as potentially reason of issue)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-05-31T15:37:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tok this is a really good news then _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt_true_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt__gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]