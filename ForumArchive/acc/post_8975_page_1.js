[{"Owner":"Zimbofly","Date":"2014-09-03T15:53:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I_t_m learning lots about Babylon with my little project to make yellow stickies on the wall of my 3D room...._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_so far I can display the stickies fine and edit the text by double clicking on a sticky and typing in text._lt_/p_gt__lt_p_gt_On hitting submit button - saves fine to the database..._lt_/p_gt__lt_p_gt_BUT -  how to refresh the text in the yellow sticky after popup closes?_lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_ var CreateSticky _eq_ function (pos_co_ farWall_co_ stkyContent_co_ stkyID) {    \tvar sign _eq_ pos.x ? pos.x &lt_sm_ 0 ? -1 _dd_ 1 _dd_ 0    \t//if (width &amp_sm_&amp_sm_ height) {    \t//\tratio _eq_ width / height_sm_    \t//}    \t//use this to resize sticky    \tvar sticky _eq_ new BABYLON.Mesh.CreateBox(_qt_sticky_qt__co_ 0.5_co_ scene)_sm_    \tif (farWall) {    \t\tsticky.rotation.x _eq_ sign * (Math.PI)_sm_    \t\tsticky.scaling _eq_ new BABYLON.Vector3(1_co_ 1_co_ 0.01)_sm_    \t} else {    \t\tsticky.scaling _eq_ new BABYLON.Vector3(0.01_co_ 1_co_ 1)_sm_    \t\tsticky.rotation.x _eq_ sign * (-Math.PI / 2)_sm_    \t}    \tsticky.position _eq_ new BABYLON.Vector3(pos.x_co_ pos.y_co_ pos.z)_sm_    \tsticky.material _eq_ new BABYLON.StandardMaterial(_qt_matPaint_qt__co_ scene)_sm_    \tsticky.material.diffuseTexture _eq_ new BABYLON.Texture(_qt_./GalleryAssets/sticky1_tmp.png_qt__co_ scene)_sm_    \tsticky.material.specularColor _eq_ new BABYLON.Color3(0_co_ 0_co_ 0)_sm_    \tsticky.material.diffuseColor _eq_ new BABYLON.Color3(0_co_ 0_co_ 0)_sm_    \tsticky.material.emissiveColor _eq_ new BABYLON.Color3(0.6_co_ 0.6_co_ 0.6)_sm_    \tvar content _eq_ new BABYLON.Mesh.CreateBox(_qt_content_qt__co_ 0.5_co_ scene)_sm_    \tif (farWall) {    \t\t//sticky.rotation.x _eq_ sign * (Math.PI)_sm_    \t\tcontent.scaling _eq_ new BABYLON.Vector3(1_co_ 1_co_ 0.01)_sm_    \t} else {    \t\tcontent.scaling _eq_ new BABYLON.Vector3(0.01_co_ 1_co_ 1)_sm_    \t\tcontent.rotation.x _eq_ sign * (-Math.PI / 2)_sm_    \t}    \tcontent.position _eq_ new BABYLON.Vector3(pos.x_co_ pos.y_co_ pos.z)_sm_    \tcontent.material _eq_ new BABYLON.StandardMaterial(_qt_matPaint_qt__co_ scene)_sm_    \tcontent.material.specularColor _eq_ new BABYLON.Color3(0_co_ 0_co_ 0)_sm_    \tcontent.material.diffuseColor _eq_ new BABYLON.Color3(0_co_ 0_co_ 0)_sm_    \tcontent.material.emissiveColor _eq_ new BABYLON.Color3(0.6_co_ 0.6_co_ 0.6)_sm_    \tvar backgroundTexture _eq_ new BABYLON.DynamicTexture(_qt_dynamic texture_qt__co_ 512_co_ scene_co_ true)_sm_    \tcontent.material.diffuseTexture _eq_ backgroundTexture_sm_    \t    \tbackgroundTexture.drawText(stkyContent_co_ null_co_ 80_co_ _qt_40px Arial_qt__co_ _qt_black_qt__co_ _qt_#F7FAA9_qt_)_sm_    \t//hover over image    \tsticky.actionManager _eq_ new BABYLON.ActionManager(scene)_sm_    \tsticky.actionManager.registerAction(new BABYLON.InterpolateValueAction(BABYLON.ActionManager.OnPointerOutTrigger_co_ sticky_co_ _qt_visibility_qt__co_ 1_co_ 100))_sm_    \tsticky.actionManager.registerAction(new BABYLON.InterpolateValueAction(BABYLON.ActionManager.OnPointerOverTrigger_co_ sticky_co_ _qt_visibility_qt__co_ 0.6_co_ 100))_sm_    \t/**         * Register a babylon event to watch out for a pointer over trigger. When this happens set selectedPic to the ID of the ele we_t_ve hovered over         * so that when a dblclick event happens_co_ we know what pic we_t_re meant to show.         * Additionally_co_ when there is a pointer out trigger_co_ set selectedPic to null_co_ so we don_t_t do anything on dblclick         */    \tsticky.actionManager.registerAction(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnPointerOverTrigger_co_ function (ele) {    \t\tselectedPic _eq_ ele.source_sm_    \t\ttext _eq_ stkyContent_sm_    \t\tstickyID _eq_ stkyID_sm_    \t\tisSticky _eq_ true_sm_    \t}))_sm_    \tsticky.actionManager.registerAction(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnPointerOutTrigger_co_ function () {    \t\tselectedPic _eq_ null_sm_    \t\tisSticky _eq_ false_sm_    \t}))_sm_\t\t//attempted zoom    \t//if ($ &amp_sm_&amp_sm_ $.fn.zoom) {    \t//\t$(_t_backgroundTexture_t_).zoom({ on_dd_ _t_grab_t_ })_sm_    \t//}    \t//$(_t_backgroundTexture img_t_)    \t//\t.wrap(_t_&lt_sm_span style_eq__qt__qt_&gt_sm_&lt_sm_/span&gt_sm__t_)    \t//\t.css(_t_display_t__co_ _t_block_t_)    \t//\t.parent()    \t//\t.zoom()_sm_    \t//sticky.actionManager.registerAction(action)_sm_    \t//sticky.actionManager.registerAction(action2)_sm_    \tallC.push(sticky)_sm_    }_lt_/pre_gt__lt_p_gt_ brings in sticky text (from DB) - places it over an image_lt_/p_gt__lt_p_gt_on double click - opens popup for editing_lt_/p_gt__lt_p_gt_which then allows edit and submit to DB of text..._lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_    var LoadForegroundStky _eq_ function () {    \thotkeys _eq_ false_sm_    \t$(_qt_#BabylonDiv_qt_).prepend(_qt_&lt_sm_div id_eq__t_Babylon_loading_t_&gt_sm_&lt_sm_div id_eq__t_posterContainer_t_&gt_sm_&lt_sm_/div&gt_sm_&lt_sm_/div&gt_sm__qt_)_sm_    \t$(_qt_#posterContainer_qt_).append(_qt_&lt_sm_div id_eq__t_stickyContainer_t_&gt_sm_&lt_sm_div id_eq__t_stickyHeader_t_&gt_sm_&lt_sm_img src_eq__t_./GalleryAssets/close_BtnSmall.png_t_ alt_eq__t_close_t_ width_eq__t_28_t_ id_eq__t_stickyClose_t_ onClick_eq__t_babylonPopupClose()_sm__t_ /&gt_sm_&lt_sm_/div&gt_sm_&lt_sm_div id_eq__t_stickyPanel_t_&gt_sm_&lt_sm_textarea id_eq__t_stkyEdit_t_&gt_sm_&lt_sm_/textarea&gt_sm_&lt_sm_/div&gt_sm_&lt_sm_div id_eq__t_stickyFooter_t_&gt_sm_&lt_sm_input type_eq__t_submit_t_ id_eq__t_submit_t_ class_eq__t_submit_t_ value_eq__t_submit_t_ /&gt_sm_&lt_sm_/div&gt_sm_&lt_sm_/div&gt_sm__qt_)_sm_\t\t$(_t_textarea_t_).val(text)_sm_    \tvar posterContainer _eq_ document.getElementById(_t_posterContainer_t_)_sm_    \tposterContainer.style.display _eq_ _qt_block_qt__sm_    \t$(_qt_#submit_qt_).click(function () {    \t\tupdateSticky(stickyID_co_ stkyEdit.value)_sm_    \t\tbabylonPopupClose()_sm_    \t})_sm_    \t//get img from 3DGallery    \t//var firstChild _eq_ true_sm_    \t$(_qt_#3DGallery_qt_).children(_t_img_t_).each(function (i_co_ element) {    \t\tbabylonPopup2Close _eq_ function () {    \t\t\t$(_t_#posterContainer_t_).remove()_sm_    \t\t\thotkeys _eq_ true_sm_    \t\t}    \t})_sm_    \t//adding image to HTML    \tvar img _eq_ $(_t_&lt_sm_img class_eq__qt_posterImg_qt_ /&gt_sm__t_)_sm_ //Equivalent_dd_ $(document.createElement(_t_img_t_))    \t//Changed selectedPic to only hold the URL(id) of the image we are trying to load.     \timg.attr(_t_src_t__co_ selectedPic.material.diffuseTexture.url)_sm_    \t//img.attr(_t_src_t__co_ selectedPic)_sm_    \timg.appendTo(_t_#poster_t_)_sm_    \t//backgroundResize()_sm_    }_lt_/pre_gt__lt_p_gt_do I need to send the text BACK to the CreateSticky() function before it refreshes?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_attached - a few screen shots - might help_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_apologies for the long post - so close to making this work...._lt_/p_gt__lt_p_gt__lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_09_2014/post-9224-0-90122000-1409759535.png_qt_ rel_eq__qt_external nofollow_qt__gt__lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_09_2014/post-9224-0-90122000-1409759535.png_qt_ data-fileid_eq__qt_2613_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_post-9224-0-90122000-1409759535.png_qt__gt__lt_/a_gt__lt_/p_gt__lt_p_gt__lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_09_2014/post-9224-0-87742100-1409759545.png_qt_ rel_eq__qt_external nofollow_qt__gt__lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_09_2014/post-9224-0-87742100-1409759545.png_qt_ data-fileid_eq__qt_2614_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_post-9224-0-87742100-1409759545.png_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-09-03T20:14:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Could you give us a link where we can see it live?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]