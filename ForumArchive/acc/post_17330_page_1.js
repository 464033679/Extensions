[{"Owner":"altreality","Date":"2015-09-22T06:40:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I am trying to build a CAD system in Babylon.js that allows the detailed construction of large and complex objects. Objects like the space shuttle or the International Space Station. Since these objects have a lot of intricate parts that require accurate positioning I was thinking of an interface like blender._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The user can have a 3D view which can be used to switch to 2D as needed. There is the standard panel of objects to the right that can be placed along with their properties._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I was wondering about data structures that help manage such hierarchical collections of parts. Has anyone done large scale management of parts that could easily go into thousands. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Also I was wondering how to manage their display. Would I need to use something like an Octree and cull objects according to the view frustum? Or can Babylon.js manage it._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Of course I am planning on starting out small by designing small buildings first along with all the plumbing_co_ wiring etc. Then move on to larger systems._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Also is the performance of Babylon.js better if running as a standalone node webkit app?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thanks._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2015-09-23T12:31:03Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi AltReality... good to see you again!  Did you continue work on your vintage trains project?  I_t_d love to hear about it._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I have some comments on the CAD subject_co_ but please keep in mind my newbie-ness.  Expect bad opinions and extreme wrongness in my response.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt__gt__lt_div_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I am trying to build a CAD system in Babylon.js that allows the detailed construction of large and complex objects._lt_/p_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I_t_d like to reword that line_co_ and you can tell me if it has the same meaning afterwards._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_You want to build a CAD-like modeler in Javascript_co_ using webGL as the display layer_co_ and using BJS as the interface tool... to the webGL display layer._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_How_t_s that sound?  The point being... webGL is your point of limitation and not BJS.  It is my guess that BJS exposes about 85% of the official webGL API_co_ and you can certainly _qt_go into the cellar_qt_ and talk directly to the webGL interface_co_ from JS... whenever you wish.  That_t_s exactly what the BabylonJS _qt_engine_qt_ does.  It takes care of _qt_basement/cellar duty_qt_ for us.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Whip into _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/babylon.engine.js_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/babylon.engine.js_lt_/a_gt_ and search that page for _qt_gl_qt_.  Lots of hits_co_ huh?  The engine is the sweetest part of BabylonJS (imho).  These guys who wrote the engine... they are performance-enhancing junkies_co_ so you will have to work REAL HARD to make a faster interface to webGL.  (opinion_co_ but probably truth_co_ too).  If you are motivated enough to take-on a CAD system in JS_co_ then you may wish to write your own engine to talk directly from JS to webGL. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt__gt__lt_div_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Since these objects have a lot of intricate parts that require accurate positioning I was thinking of an interface like blender._lt_/p_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Why not use Blender?  How many years_co_ how many team members... did it take to dev Blender?  Got resources?  Got team?  Got 10 years?  Got things in your CAD editor that Blender cannot do?  My advice here is to hack Blender and make a personal/special version of it for _lt_u_gt_your_lt_/u_gt_ project.  Blender even allows you to re-brand it as YOUR modeller... with certain minor stipulations.  Also_co_ WebGL and JS  (and thus BJS) is _lt_u_gt_as accurate_lt_/u_gt_ as Blender.  It all depends on your camera views/zooms and your grid-snap accuracies and quantizings.  Zoom in close-enough_co_ and make your snap grids precise-enough_co_ and you will be working in microns... at molecular and sub-atomic granularity... if you really want to go there.  I_t_m quite sure that all of the BJS cameras have macro lenses for viewing the hairs on mosquito legs.   _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  Think about it.  Tiny_co_ high-detail things... are just big fat things... scaled small.  WebGL is a scaling professional.  It will take good care of you_co_ monstrous or microscopic._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt__gt__lt_div_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I was wondering about data structures that help manage such hierarchical collections of parts_lt_/p_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_This is a JS issue and not a BJS issue_co_ but_co_ what the heck.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  _lt_u_gt_I am THE WORST_lt_/u_gt_ topic-derailer on the entire forum_co_ so I have no right to whine about this.   hehe. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_BabylonJS only deals-with the _qt_scene graph_qt__co_ as far as I know.  And_co_ the scene graph is really a WebGL thing... and BJS interfaces with it... like honey-butter on a steaming country biscuit.  (the ones from the oven_co_ not the ones found in the woodlands)  heh._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_FindByTags (full matching)_co_ findByName_co_ findByID... textures_co_ mesh_co_ lights_co_ cams... Babylon has an EXCELLENT interface to the scene graph... via its _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/babylon.scene.js_qt_ rel_eq__qt_external nofollow_qt__gt_Scene object_lt_/a_gt_.  But_co_ just like _lt_u_gt_any_lt_/u_gt_ other part of BJS_co_ use it or over-ride it.  You can certainly write your own Scene object and use that instead_co_ along with the BJS engine object_co_ but you must follow the rules of the API_t_s between the two._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt__gt__lt_div_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Would I need to use something like an Octree and cull objects according to the view frustum? Or can Babylon.js manage it._lt_/p_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_yes_co_ yes_co_ yes_co_ yes_co_ yes_co_ and... yes.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  You CAN use octrees with BJS_co_ and you might _qt_need_qt_ to use them.  Or not.  _lt_u_gt_All options_lt_/u_gt_ for octrees (and LOD)... are available and addressed in BJS_co_ I believe._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt__gt__lt_div_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Also is the performance of Babylon.js better if running as a standalone node webkit app?_lt_/p_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_NW.js (the new name for node-webkit) uses a core sub-section of the Chromium browser... which is the open-source version of Google_t_s Chrome browser (commercial).  Re-worded_co_ Google Chrome uses Chromium as its core.  So_co_ with NW_co_ you can expect BJS performance to match Google Chrome (loosely stated)._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Ok_co_ sorry for all the wrong things I_t_ve surely said here_co_ but I hope I was able to say something useful_co_ somewhere in my mess.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  Hopefully_co_ others will follow with wiser opinions and will help clean-up the wrong things I_t_ve said.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Feel free to PM to me about your trains project... if you don_t_t want to mess-up this thread topic.  Or heck_co_ just go find _lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/topic/9640-microsoft-train-simulator-using-babylon-5/_qt__gt_your old train forum topic_lt_/a_gt__co_ and give us an update on it_co_ if you want.  (thx!)   Be well_co_ party on!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"altreality","Date":"2015-09-24T13:03:04Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hey Wingnut _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ Good to see you too. Thanks for the detailed reply. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_As for the train project_co_ it continues here_dd_ _lt_a href_eq__qt_http_dd_//synth2014.github.io/Age-of-Steam/babylon/rk4.html_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//synth2014.github.io/Age-of-Steam/babylon/rk4.html_lt_/a_gt__lt_/p_gt__lt_p_gt_It looks funny right now. Took me quite a while for me to work out the movement using vectors in 3D. Today I am trying to attach the wheels to the chassis of the box shaped locomotive by parenting them. Will post about it soon if I have any issues with it. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt__gt__lt_div_gt_You want to build a CAD-like modeler in Javascript_co_ using webGL as the display layer_co_ and using BJS as the interface tool... to the webGL display layer._lt_p_gt_ _lt_/p_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Yep thats pretty much what I want to do. The reason I wanted to do it in BabylonJS is because i wanted it to be easy to share. Its very easy for people to just go to a website and start building like in minecraft._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I will probably have performance issues much later on with really large scenes but I guess careful LOD and Octree usage could take us far. I guess the ease of using BabylonJS is just too much_co_ to jump into WebGL directly just yet. I_t_ll give it a shot with BabylonJS that being the easiest option and see how far we get._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_By the way CastorEngine seems to have a nice UI. Is there any english version of the UI that I can try out. I could probably reuse some of its code._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Its great to know that _lt_span_gt_WebGL and JS  (and thus BJS) is very accurate._lt_/span_gt_ _lt_span_gt_Seems with proper management of zoom levels and snapping points I can give a pretty nifty build tool to users._lt_/span_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt__gt__lt_div_gt_Babylon has an EXCELLENT interface to the scene graph._lt_p_gt_ _lt_/p_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_That_t_s wonderful to know. I think there is also a test scene somewhere with thousands of objects. That should be more than enough for my needs._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Formatter","Date":"2016-12-26T06:27:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_98016_qt_ data-ipsquote-contentid_eq__qt_17330_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1443099784_qt_ data-ipsquote-userid_eq__qt_10968_qt_ data-ipsquote-username_eq__qt_altreality_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tOn 9/24/2015 at 6_dd_33 PM_co_ altreality said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tHey Wingnut _lt_img alt_eq__qt__dd_)_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ /_gt_ Good to see you too. Thanks for the detailed reply. \n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t \n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tAs for the train project_co_ it continues here_dd_ _lt_a href_eq__qt_http_dd_//synth2014.github.io/Age-of-Steam/babylon/rk4.html_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//synth2014.github.io/Age-of-Steam/babylon/rk4.html_lt_/a_gt_\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tIt looks funny right now. Took me quite a while for me to work out the movement using vectors in 3D. Today I am trying to attach the wheels to the chassis of the box shaped locomotive by parenting them. Will post about it soon if I have any issues with it. \n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t \n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t \n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t \n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tYep thats pretty much what I want to do. The reason I wanted to do it in BabylonJS is because i wanted it to be easy to share. Its very easy for people to just go to a website and start building like in minecraft.\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t \n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tI will probably have performance issues much later on with really large scenes but I guess careful LOD and Octree usage could take us far. I guess the ease of using BabylonJS is just too much_co_ to jump into WebGL directly just yet. I_t_ll give it a shot with BabylonJS that being the easiest option and see how far we get.\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t \n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tBy the way CastorEngine seems to have a nice UI. Is there any english version of the UI that I can try out. I could probably reuse some of its code.\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t \n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tIts great to know that _lt_span_gt_WebGL and JS  (and thus BJS) is very accurate._lt_/span_gt_ _lt_span_gt_Seems with proper management of zoom levels and snapping points I can give a pretty nifty build tool to users._lt_/span_gt_\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t \n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t \n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tThat_t_s wonderful to know. I think there is also a test scene somewhere with thousands of objects. That should be more than enough for my needs.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tHey _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/10968-altreality/?do_eq_hovercard_qt_ data-mentionid_eq__qt_10968_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/10968-altreality/_qt_ rel_eq__qt__qt__gt_@altreality_lt_/a_gt_ _co_ how is this project coming along? Are you still working on it? Because I am working on the exact same thing. However_co_ I went with three.js instead of Babylon initially_co_ simply because I_t_m dealing with JT files. I_t_m using JNetCAD to convert the JT files (_lt_a href_eq__qt_http_dd_//www.johannes-raida.de/jnetcad.htm_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.johannes-raida.de/jnetcad.htm_lt_/a_gt_ ) Initially_co_ we were looking to work with Babylon and could convert JTs to obj but were unable to generate the associated .mtl files. So anyway_co_ we have built a JT viewer as a widget for our webapp. We have restricted the user manipulation to rotate_co_ scale_co_ translate and selection of parts and show the associated data for that part in other widgets. The viewer works fine for smaller assemblies and light JSONs. But when trying to load anything like say a car with 1000s of parts (each with a JT to JSON converted file)_co_ the performance degrades a lot. We are using a modified z buffer along with bounding box_co_ to get the outer most parts and few of the inner ones_co_ but sadly its not good enough. We are looking for a dynamic solution something like Babylon_t_s sceneOptimizer or LoD along with incremental loading. So my questions are_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t1) What CAD formats are you dealing with?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t2) Can you generate a mtl file\n_lt_/p_gt_\n\n_lt_p_gt_\n\t3) Are you using sceneOptimizer_co_ LoD and/or incremental loading?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2016-12-27T16:42:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tJack my script from_dd_ _lt_a href_eq__qt_http_dd_//pryme8.github.io/TOWER/_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//pryme8.github.io/TOWER/_lt_/a_gt__lt_br /_gt__lt_br /_gt_\n\tIm not sure if I have the geometry kernel on that version yet_co_ if you don_t_t see anything about vertex manipulation and things let me know.  And Ill have to send you a different file.  but that one you will have to sign a non disclosure for._lt_br /_gt__lt_br /_gt_\n\tI just looked at the version I have online yeah to get the stuff you want you will have to sign a non disclosure with me.   The example I just posted is widget management and no modeling yet.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]