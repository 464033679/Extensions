[{"Owner":"JCPalmer","Date":"2018-02-21T16:16:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI think I have enough to do a small update to the Blender exporters.  Am thinking about dropping a couple of kind of obsolete features.  Both of these are used in the very _qt_involved_qt_ loop of reading a meshes geometry.  Pulling these out would simplify this area.  They are gone for sure in the source code generator_co_ but input with regard to the JSON generator would be good.\n_lt_/p_gt_\n\n_lt_ol_gt_\n\t_lt_li_gt_\n\t\tRemove the checking for_co_ and splitting up of meshes with more than 64k vertices.  This seems like an option which is becoming irrelevant.  The code complexity involved actually spills into the caller too.\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\tFlat shading both for the mesh and the entire scene.  It seems this can be replaced with SplitEdges modifier.  This causes exports of fewer vertices.  It is _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/resources/blender_tips_qt_ rel_eq__qt_external nofollow_qt__gt_documented_lt_/a_gt_.  Using as many features that Blender already has sounds advisable.\n\t_lt_/li_gt_\n_lt_/ol_gt_\n\n_lt_p_gt_\n\tAs far as new stuff_dd_\n_lt_/p_gt_\n\n_lt_ul_gt_\n\t_lt_li_gt_\n\t\tSeparate scene level control of # of decimals of scalable (positions)  &amp_sm_ non-scalable(everything else) geometry.  Currently 4 decimals for all_co_ but do you really need 4 decimals if your model is scaled in inches (micro-inches)?  Hundredths of inches are probably not even going to be visible with an extremely close camera. 9999 possibilities in each dimension for a normal seems like overkill.  My calculation blew out with 9999_lt_sup_gt_3_lt_/sup_gt_.  Default for each would still be 4.\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\tES3 / ES6 switch for source code generation.\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\tBetter checking for un-applied transforms when using an armature.\n\t_lt_/li_gt_\n_lt_/ul_gt_\n\n_lt_p_gt_\n\tThoughts?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-02-21T16:24:57Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t1. Can_t_t agree more. We now have 32 bits indices everywhere\n_lt_/p_gt_\n\n_lt_p_gt_\n\t2. Ok!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAll good for all changes\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks a lot for taking care of that. It saves me so much time\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2018-02-22T21:18:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tAs per my _lt_a href_eq__qt_https_dd_//palmer-jc.github.io/scenes/es6_test/index.html_qt_ rel_eq__qt_external nofollow_qt__gt_test _lt_/a_gt_of using ES6 classes which are sub-classes ES3 simulations of classes.  It is safe to just change to ES6 without a switch for ES3.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"V!nc3r","Date":"2018-02-23T08:48:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tMay I suggest an option to add? Be able to disable automatic baking!\n_lt_/p_gt_\n\n_lt_ul_gt_\n\t_lt_li_gt_\n\t\ton Blender Render_dd_ on huge scene_co_ you just have to make a mistake and assign on the same materials two textures sharing the same influence_co_ and you_t_re ready to overflow your CPU and try to kill Blender process.\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\ton Cycles_dd_ if no automatic baking_co_ then how to _qt_translate_qt_ the materials? I think this could be a great feature to using Cycles as a PBR exporter instead of Standard_co_ and to _qt_force_qt_ the user to use the Principled BSDF shader for that (in the same way of GLTF exporter_co_ but by using directly the default Cycles shader)\n\t_lt_/li_gt_\n_lt_/ul_gt_\n\n_lt_p_gt_\n\tIt seems that for the Blender Render part this could be done without difficulties? But maybe my suggestion for Cycles lead to a huge code rewrite _lt_img alt_eq__qt__dd_ph34r_dd__qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_ph34r.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/ph34r@2x.png 2x_qt_ title_eq__qt__dd_ph34r_dd__qt_ width_eq__qt_20_qt_ /_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"babbleon","Date":"2018-02-23T10:47:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_d definitely benefit from being able to disable automatic baking when in Cycles.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t4 decimal places enables me to model things to 0.1 millimetres (I model in metres).. anything less than 4 decimal places would be a problem.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2018-02-23T17:02:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOn precision_co_ it is going to be even more flexible_co_ not just positions &amp_sm_ others.  The values will range from 1 to 5 (0 to 5 for positions).  As before_co_ this is the max value_co_ trailing 0_t_s are removed.  In ToB_co_ even leading 0_t_s are removed (JSON does not allow this).  Here is UI for ToB (with defaults set).  JSON exporter will be similar.  This part is implemented &amp_sm_ in debug.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_17171_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_02/tobScene.jpg.3601b61a047a08d74e7f70cf069a3647.jpg_qt_ alt_eq__qt_tobScene.jpg.3601b61a047a08d74e7f70cf069a3647.jpg_qt_ /_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAs far as not baking_co_ I will look into shutting off_co_ and exporting without material.  You could then hand write any material on the BJS side.  Kind of doubt there will be time to add PBR via cycles.  I need to move on by next week.  If you post an example .blend &amp_sm_ maybe what _co_ I will at least load it.  I do not have 4 days just to study what to do.  I screen capture of Blender UI mapping to BJS values would definitely help as well.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"V!nc3r","Date":"2018-02-23T17:48:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIf you want_co_ here a scene using Principled Cycles shader_dd_ _lt_a href_eq__qt_https_dd_//github.com/Vinc3r/cornellBox/tree/master/3D_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/Vinc3r/cornellBox/tree/master/3D_lt_/a_gt_ (cornellBox-Cycles.blend)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI don_t_t know if you have already play with nodes and python_co_ as for me not too much but maybe this _lt_a href_eq__qt_https_dd_//github.com/Vinc3r/BlenderScripts/blob/master/src/snippets/cycles-detect-principled.py_qt_ rel_eq__qt_external nofollow_qt__gt_snippet can help you_lt_/a_gt_.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAs for exporting without material I don_t_t think this will be convienient. At least having a default PBRMaterial with default options but named as in the 3D scene could be a nice step _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAs for the expecting result_co_ it can probably tend _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#J5E230%2314_qt_ rel_eq__qt_external nofollow_qt__gt_to this playground_lt_/a_gt_.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t[edit] of course you need last version of Blender (2.79) to get Principled sharder\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_table style_eq__qt_height_dd_1px_sm__qt_ width_eq__qt_188_qt__gt_\n\t_lt_tbody_gt_\n\t\t_lt_tr_gt_\n\t\t\t_lt_td_gt_\n\t\t\t\t \n\t\t\t_lt_/td_gt_\n\t\t\t_lt_td_gt_\n\t\t\t\t_lt_p_gt_\n\t\t\t\t\t \n\t\t\t\t_lt_/p_gt_\n\t\t\t_lt_/td_gt_\n\t\t_lt_/tr_gt_\n\t_lt_/tbody_gt_\n_lt_/table_gt_\n\n\n\t\t\t\n\t\t\t\t\n\n_lt_span class_eq__t_ipsType_reset ipsType_medium ipsType_light_t_ data-excludequote_gt_\n\t_lt_strong_gt_Edited _lt_time datetime_eq__t_2018-02-23T20_dd_33_dd_26Z_t_ title_eq__t_02/23/2018 08_dd_33  PM_t_ data-short_eq__t_Feb 23_t__gt_February 23_lt_/time_gt_ by V!nc3r_lt_/strong_gt_\n\t\n\t\n_lt_/span_gt_\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2018-03-02T17:37:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/20526-vnc3r/?do_eq_hovercard_qt_ data-mentionid_eq__qt_20526_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/20526-vnc3r/_qt_ rel_eq__qt__qt__gt_@V!nc3r_lt_/a_gt__co_  _lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/topic/36076-blender-exporter-version-56/_qt_ rel_eq__qt__qt__gt_5.6 is commited_lt_/a_gt_.  I did not touch materials.  With Blender 2.80_co_ I have the feeling materials are going to need a lot of changes.  Not going to do it twice.  Use the other exporter if PBR is needed_co_ or code it on the BJS side.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"babbleon","Date":"2018-03-02T20:44:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/?do_eq_hovercard_qt_ data-mentionid_eq__qt_8492_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/_qt_ rel_eq__qt__qt__gt_@JCPalmer_lt_/a_gt_ &amp_sm_ _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/20526-vnc3r/?do_eq_hovercard_qt_ data-mentionid_eq__qt_20526_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/20526-vnc3r/_qt_ rel_eq__qt__qt__gt_@V!nc3r_lt_/a_gt_ - if you add this_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_        write_string(file_handler_co_ _t_customType_t__co_ _t_BABYLON.PBRMaterial_t_)_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Exporters/blob/master/Blender/src/babylon-js/material.py_qt_ rel_eq__qt_external nofollow_qt__gt_to this file_lt_/a_gt_ (I put in between lines 325 &amp_sm_ 326)_co_  it exports _lt_em_gt_all _lt_/em_gt_the materials as PBR albeit a basic ones (when using Blender Internal_co_ not tried with Cycles).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis is a post more for my benefit than anyone else_co_ but would be good to have a checkbox on the materials tab on Blender along the lines of _t_Export as PBR (simple)_t__t_ so we can chose which are PBR and which not.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2018-03-04T16:59:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_206808_qt_ data-ipsquote-contentid_eq__qt_35847_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1520023459_qt_ data-ipsquote-userid_eq__qt_29929_qt_ data-ipsquote-username_eq__qt_babbleon_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tOn 3/2/2018 at 3_dd_44 PM_co_ babbleon said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/?do_eq_hovercard_qt_ data-mentionid_eq__qt_8492_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/_qt_ rel_eq__qt__qt__gt_@JCPalmer_lt_/a_gt_ &amp_sm_ _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/20526-vnc3r/?do_eq_hovercard_qt_ data-mentionid_eq__qt_20526_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/20526-vnc3r/_qt_ rel_eq__qt__qt__gt_@V!nc3r_lt_/a_gt_ - if you add this_dd_\n\t\t_lt_/p_gt_\n\n\t\t_lt_pre_gt_\n\n_lt_code_gt_        write_string(file_handler_co_ _lt_span_gt__t_customType_t__lt_/span_gt__co_ _lt_span_gt__t_BABYLON.PBRMaterial_t__lt_/span_gt_)_lt_/code_gt__lt_/pre_gt_\n\n\t\t_lt_p_gt_\n\t\t\t_lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Exporters/blob/master/Blender/src/babylon-js/material.py_qt_ rel_eq__qt_external nofollow_qt__gt_to this file_lt_/a_gt_ (I put in between lines 325 &amp_sm_ 326)_co_  it exports _lt_em_gt_all _lt_/em_gt_the materials as PBR albeit a basic ones (when using Blender Internal_co_ not tried with Cycles).\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tThis is a post more for my benefit than anyone else_co_ but would be good to have a checkbox on the materials tab on Blender along the lines of _t_Export as PBR (simple)_t__t_ so we can chose which are PBR and which not.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tThis solution is fine as a work around.  Think as a _qt_supported_qt_ option_co_ better to leave it as it is &amp_sm_ let people add the line themselves.  I am not willing to do anymore work on the exporter until Blender 2.80 beta is out.  There is supposed to be a new render &amp_sm_ lots of changes.  I also do not know what I_t_ll do then_co_ just that I am not going to waste my time now.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"V!nc3r","Date":"2018-03-05T08:37:46Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tGreat! You_t_re right about 2.8_co_ a lot of changes is coming _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]