[{"Owner":"ceedee","Date":"2017-02-05T15:10:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_lt_br /_gt_\n\tI was experimenting with RenderTargetTexture and have some problems._lt_br /_gt_\n\tHere is playground _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1OJL6I%237_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1OJL6I#7_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tScene is rendered on texture using camera txcam._lt_br /_gt_\n\tAnd then same objects are rendered on main screen buffer._lt_br /_gt_\n\tHere are problems_dd__lt_br /_gt__lt_br /_gt_\n\t1) Aspect ratio and camera for RenderTargetTexture_lt_br /_gt_\n\tWhen you drag the splitting line (the one betwean editor and scene) or just disable editor using _qt_-Editor_qt_ button_co_ the image on texture changes its aspect ratio_co_ which is not good in my case._lt_br /_gt__lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ data-fileid_eq__qt_11508_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_02/1.jpg.943a2d7dbecfb1aaf043c133659892a6.jpg_qt_ rel_eq__qt__qt__gt__lt_img alt_eq__qt_1.jpg_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_11508_qt_ height_eq__qt_349_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_02/1.thumb.jpg.2e264f0a563915df8ad719b6e36307c4.jpg_qt_ width_eq__qt_680_qt_ /_gt__lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo i added false ( true actually does nothing there)   for parameter doNotChangeAspectRatio in RenderTargetTexture constructor  ( line 38 in playground )_lt_br /_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1OJL6I%238_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1OJL6I#8_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNow the texture indeed do not changes aspect ratio but  texture completely ignores the camera which i chosen for it (txcam)  and uses the main camera used in scene.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ data-fileid_eq__qt_11507_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_02/1a.jpg.13404062e473addea1458ea7f1f822ed.jpg_qt_ rel_eq__qt__qt__gt__lt_img alt_eq__qt_1a.jpg_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_11507_qt_ height_eq__qt_359_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_02/1a.jpg.13404062e473addea1458ea7f1f822ed.jpg_qt_ width_eq__qt_330_qt_ /_gt__lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt__lt_br /_gt_\n\t2) When you look back on first playground ( _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1OJL6I%237_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1OJL6I#7_lt_/a_gt_ )_lt_br /_gt_\n\t    and you move the camera around with mouse_co_ specular light on rendered texture moves_co_  but should not move at all. That black ball is actually a light source ( it appears in main render as well) _co_ its position is not moving so specular should not too.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ data-fileid_eq__qt_11506_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_02/2.jpg.8920420301d0e5b188937aaadbab6d9c.jpg_qt_ rel_eq__qt__qt__gt__lt_img alt_eq__qt_2.jpg_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_11506_qt_ height_eq__qt_377_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_02/2.thumb.jpg.181cb0e3686b646370b793e00105c071.jpg_qt_ width_eq__qt_697_qt_ /_gt__lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI will appreciate if someone helps.  Maybe those are bugs_co_ or I am do something in wrong way ?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tregards_lt_br /_gt_\n\tceedee\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nabroski","Date":"2017-02-05T17:20:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tchrome vs firefox\n_lt_/p_gt_\n\n_lt_p_gt_\n\tEDIT_dd__lt_br /_gt_\n\tOh im sorry it stooped working after 1-2 hours.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ceedee","Date":"2017-02-06T21:25:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_162246_qt_ data-ipsquote-contentid_eq__qt_28229_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1486315256_qt_ data-ipsquote-userid_eq__qt_21965_qt_ data-ipsquote-username_eq__qt_Nabroski_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tOn 5.02.2017 at 6_dd_20 PM_co_ Nabroski said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tchrome vs firefox\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tEDIT_dd__lt_br /_gt_\n\t\t\tOh im sorry it stooped working after 1-2 hours.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tYour reply was confusing_co_  but the edit even more confusing. Could you explain?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nabroski","Date":"2017-02-06T21:49:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello _lt_br /_gt__lt_br /_gt_\n\tYes_co_ i also know that the playground is always a bit buggy for an inexperience user_co_ you got a default renderloop with predef engine options (best quality) _lt_br /_gt_\n\tIt looks like a bug_co_ something wrog with the the call hierarchy  _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/classes/2.5/engine_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/classes/2.5/engine_lt_/a_gt_ and (FrameBuffer-&gt_sm_Texture)  will be ignored for some reason. _lt_br /_gt_\n\tSo when you simple overload the RenderTextureAspectRatio_eq_Engine.AspectRatio it should fix it probably. \n_lt_/p_gt_\n\n_lt_p style_eq__qt_color_dd_rgb(39_co_42_co_52)_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_background-color_dd_rgb(251_co_251_co_251)_sm__qt__gt_\n\t \n_lt_/p_gt_\n\n_lt_p style_eq__qt_color_dd_rgb(39_co_42_co_52)_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_background-color_dd_rgb(251_co_251_co_251)_sm__qt__gt_\n\t_qt_chrome vs firefox\n_lt_/p_gt_\n\n_lt_p style_eq__qt_color_dd_rgb(39_co_42_co_52)_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_background-color_dd_rgb(251_co_251_co_251)_sm__qt__gt_\n\tEDIT_dd__lt_br /_gt_\n\tOh i_t_m sorry it stooped working after 1-2 hours._qt_\n_lt_/p_gt_\n\n_lt_p style_eq__qt_color_dd_rgb(39_co_42_co_52)_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_background-color_dd_rgb(251_co_251_co_251)_sm__qt__gt_\n\t_lt_br /_gt_\n\tI just opened a window and start to rescale the window_co_ - i was tired_co_ it was late_co_ i was hungry. And somehow it works. Later i return to this post and i stop working._lt_br /_gt_\n\tI know hacking the playground that firefox vs chrome has a slightly different layout management_co_ when you push a layer to z-index_dd_[1_co_2...n] they not behave the same. _lt_br /_gt_\n\tIf i recall right_co_ the split box is pushing the renderCanvas -webgl on a different z-index. But this is a long time ago. Maybe I am also wrong. _lt_br /_gt__lt_br /_gt__lt_br /_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"nikokoneko","Date":"2017-02-07T09:01:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI was dealing with the similar problem_co_ and found this post on how to handle PostProcess when resizing windows_co_ this  may help you_dd_\n_lt_/p_gt_\n_lt_iframe data-embedcontent_eq__qt__qt_ frameborder_eq__qt_0_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/topic/9609-how-to-update-a-postprocess-aspect-ratio-when-the-window-is-resized/?do_eq_embed&amp_sm_comment_eq_56763&amp_sm_embedComment_eq_56763&amp_sm_embedDo_eq_findComment#comment-56763_qt__gt__lt_/iframe_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nabroski","Date":"2017-02-07T18:42:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHere is a resize function. I was experimenting. And as i already mention_dd_ a playground has a predefined environment_co_ i would move my project do a _qt_localhost_qt_ -server_co_ whatever_co_ and do some test_co_ (what 3th party lib you are using ? bootstrap_co_ default css style etc.) if it fails_co_ i would report a bug.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//babylonjs-playground.com/#IDNAD%230_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//babylonjs-playground.com/#IDNAD#0_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tdoNotChangeAspectRatio_eq_true_sm__lt_br /_gt__lt_a href_eq__qt_http_dd_//babylonjs-playground.com/#IDNAD%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//babylonjs-playground.com/#IDNAD#1_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ceedee","Date":"2017-02-09T22:52:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_162514_qt_ data-ipsquote-contentid_eq__qt_28229_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1486492933_qt_ data-ipsquote-userid_eq__qt_21965_qt_ data-ipsquote-username_eq__qt_Nabroski_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tOn 7.02.2017 at 7_dd_42 PM_co_ Nabroski said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tHere is a resize function. I was experimenting. And as i already mention_dd_ a playground has a predefined environment_co_ i would move my project do a _qt_localhost_qt_ -server_co_ whatever_co_ and do some test_co_ (what 3th party lib you are using ? bootstrap_co_ default css style etc.) if it fails_co_ i would report a bug.\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t_lt_a href_eq__qt_http_dd_//babylonjs-playground.com/#IDNAD%230_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//babylonjs-playground.com/#IDNAD#0_lt_/a_gt_\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tdoNotChangeAspectRatio_eq_true_sm__lt_br /_gt__lt_a href_eq__qt_http_dd_//babylonjs-playground.com/#IDNAD%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//babylonjs-playground.com/#IDNAD#1_lt_/a_gt_\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tThanks_co_ but unfortunately this does not help_co_ image on the texture still changes its ratio._lt_br /_gt_\n\tAnswering your question_co_ i don_t_t use any libs in my tests_co_ only playground_co_  and files saved from playground using _qt_Get .zip_qt_ button run locally.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI suppose the problem has something to do with this file_dd_ _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Materials/Textures/babylon.renderTargetTexture.ts_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Materials/Textures/babylon.renderTargetTexture.ts_lt_/a_gt_ in line 333 and 344_lt_br /_gt_\n\twhich both are_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_if (!this._doNotChangeAspectRatio) {\n   scene.updateTransformMatrix(true)_sm_\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tWhy i think that._lt_br /_gt_\n\tAs far as i know those matrices have encoded both aspect ratio and camera position.  So when parameter doNotChangeAspectRatio_eq_true it does not update the matrix so position of camera assigned to texture is completely ignored ( in my PG i linked earlier_co_  there are 2 cameras_co_ one for scene and one for texture) and texture uses same camera position as main screen exactly like on screenshots I posted._lt_br /_gt_\n\tI think matrices should be updated in both cases of doNotChangeAspectRatio  parameter_co_  but in different way depending on its value ( updating both aspect ratio and camera position or only camera position )_lt_br /_gt_\n\tMatrices may have something to with the second issue i described as well_co_ which is strange behavior of specular reflections.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDoes what I wrote make any sense?_lt_br /_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThings get even stranger in this PG_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1OJL6I%2310_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1OJL6I#10_lt_/a_gt__lt_br /_gt_\n\tthe difference in this PG i that it uses only one camera for both main render and texture render._lt_br /_gt_\n\tIn this one when doNotChangeAspectRatio_eq_true  the image on texture changes it_t_s width like earlier_co_ when using slider._lt_br /_gt_\n\tWhen doNotChangeAspectRatio_eq_false aspect ratio of image rendered on texture does not change BUT main render do not resize anymore and is stretched when using slider._lt_br /_gt_\n\tLooks like doNotChangeAspectRatio in some way is _qt_leaking_qt_ to main render from RenderTargetTexture constructor._lt_br /_gt_\n\tThis behavior happens in both playground and locally saved fullscreen version without editor ( you only need to remove #canvasZone div  and leave the canvas itself intact to see it properly).\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI do my testing on chromium 55.0.2883.87\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nabroski","Date":"2017-02-09T23:07:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/6528-vousk-prod/?do_eq_hovercard_qt_ data-mentionid_eq__qt_6528_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/6528-vousk-prod/_qt_ rel_eq__qt__qt__gt_@Vousk-prod._lt_/a_gt_ Carbon Copy you have a similar problem (maybe ) i think. \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tChrome 58 (64-dev) / Firefox 51\n_lt_/p_gt_\n\n_lt_p_gt_\n\tEngine Resize Rescale Everything Aspect ratio / seamlessly i don_t_t see any errors. _lt_br /_gt_\n\tmaybe_lt_br /_gt__lt_a href_eq__qt_http_dd_//stackoverflow.com/questions/31646746/z-index-behaviour-is-different-in-chrome-to-firefox_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//stackoverflow.com/questions/31646746/z-index-behaviour-is-different-in-chrome-to-firefox_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/25064-ceedee/?do_eq_hovercard_qt_ data-mentionid_eq__qt_25064_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/25064-ceedee/_qt_ rel_eq__qt__qt__gt_@ceedee_lt_/a_gt_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tdo not change the aspect _eq_ _lt_strong_gt_rescale the window will rescale the texture_lt_/strong_gt_ _eq_ true\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHas less to do with a matrix.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe Raw WebGL is_lt_br /_gt_\n\tviewport(0_co_0_co_canvas.width_co_canvas.height)_lt_br /_gt__lt_a href_eq__qt_https_dd_//developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/viewport_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/viewport_lt_/a_gt__lt_br /_gt__lt_a href_eq__qt_https_dd_//webglfundamentals.org/webgl/lessons/webgl-resizing-the-canvas.html_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//webglfundamentals.org/webgl/lessons/webgl-resizing-the-canvas.html_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tand a renderTexture is the FrameBuffer same as Screenshoot. \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//learningwebgl.com/blog/?p_eq_1786_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//learningwebgl.com/blog/?p_eq_1786_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt__lt_br /_gt_\n\tSorry_co_ i can help you any further. _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt_\n\t \n_lt_/p_gt_\n\n_lt_h3 style_eq__qt_font-size_dd_20px_sm_color_dd_rgb(0_co_0_co_0)_sm_line-height_dd_1.2_sm_font-weight_dd_400_sm_margin_dd_0px 0px 3px_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-style_dd_normal_sm_letter-spacing_dd_normal_sm_text-align_dd_center_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_background-color_dd_rgb(255_co_255_co_255)_sm__qt__gt_\n\t \n_lt_/h3_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ceedee","Date":"2017-02-10T00:54:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIt is not easy to explain things properly_co_ so to make things more clear I prepared some more screenshots._lt_br /_gt_\n\tThey were made using PG from my first post in this topic ( _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1OJL6I%238_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1OJL6I#8_lt_/a_gt_ )_lt_br /_gt_\n\tThe behavior described happens in the playground and without playground as well. Without playground instead of moving slider one can resize the browser window to see that.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tfirst pair for doNotChangeAspectRatio_eq_true _co_  in both slider positions_dd__lt_br /_gt__lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_02/PG_TRUE.png.8e846a13fb0a13365d3fd040891c9645.png_qt_ data-fileid_eq__qt_11560_qt_ rel_eq__qt__qt__gt__lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_11560_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_02/PG_TRUE.thumb.png.15507cba04761e618ea84cc7e49dabaa.png_qt_ alt_eq__qt_PG_TRUE.thumb.png.15507cba04761e618ea84cc7e49dabaa.png_qt_ /_gt__lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tSecond one for doNotChangeAspectRatio_eq_false\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_02/PG_FALSE.png.d1c7f1d6536b71cab12655fe7c3fb06b.png_qt_ data-fileid_eq__qt_11561_qt_ rel_eq__qt__qt__gt__lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_11561_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_02/PG_FALSE.thumb.png.3630f182a5b5e8866a099d6eab23ae10.png_qt_ alt_eq__qt_PG_FALSE.thumb.png.3630f182a5b5e8866a099d6eab23ae10.png_qt_ /_gt__lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-02-10T18:44:38Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWhat about this_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1OJL6I%2311_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1OJL6I#11_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ceedee","Date":"2017-02-10T20:56:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_162895_qt_ data-ipsquote-contentid_eq__qt_28229_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1486752278_qt_ data-ipsquote-userid_eq__qt_4442_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t2 hours ago_co_ Deltakosh said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tWhat about this_dd_\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1OJL6I%2311_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1OJL6I#11_lt_/a_gt_\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tThanks Deltakosh for the reply. Your solution  works fine in this case._lt_br /_gt__lt_br /_gt_\n\tBut it takes away from me the control of render which I have in case when i do manually renderTargetTexture.render()._lt_br /_gt_\n\tThe playground I made is simple with just one render on the texture because this way it was easier to explain the issue_co_ and keep the question as clear as possible._lt_br /_gt__lt_br /_gt_\n\tWhat i really want to achieve is something like that_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t1) render scene on the texture_co_ then_lt_br /_gt_\n\t2) analyze the texture image ( reading directly rgb values or other method_co_ does not matter yet at this stage of my project)_lt_br /_gt_\n\t3) move texture camera a bit_co_ maybe rotate it_co_  change some other settings_co_ etc_lt_br /_gt_\n\t4) repeat steps 1-3 few times_co_ actual amount of repetitions may be different every time_lt_br /_gt_\n\t5) saving information from analysis (step 2) in an array ( object_co_ cache or whatever ) for later usage_lt_br /_gt_\n\t6) render final scene in main render_co_ optionally using information from analysis if it is usable.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIs it possible to do it in your way (  scene.customRenderTargets.push(renderTargetTexture)_sm_ )   ? It seems to be hard as in this case rendering is executed automatically._lt_br /_gt__lt_br /_gt_\n\tOr do it with manual executions of renderTargetTexture.render()_co_  but in way which gives proper/expected results ?     (As a side question It is interesting why it does not give currently expected results_co_ is it a bug_co_ or maybe I don_t_t understand something.)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-02-10T22:37:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello you can control when a rendertexture is rendered using renderTexture.refreshRate\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe refreshRate property is set to 0 if you want the texture to only render once. If set to 1_co_ it will render every frame_co_ 2 every two frames_co_ etc.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo basically set refreshRate to 0 anytime you want to update the render texture _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nabroski","Date":"2017-02-10T23:06:41Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_162912_qt_ data-ipsquote-contentid_eq__qt_28229_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1486760173_qt_ data-ipsquote-userid_eq__qt_25064_qt_ data-ipsquote-username_eq__qt_ceedee_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t2 hours ago_co_ ceedee said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\t \n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t1) render scene on the texture_co_ then_lt_br /_gt_\n\t\t\t2) analyze the texture image ( reading directly rgb values or other method_co_ does not matter yet at this stage of my project)_lt_br /_gt_\n\t\t\t3) move texture camera a bit_co_ maybe rotate it_co_  change some other settings_co_ etc_lt_br /_gt_\n\t\t\t4) repeat steps 1-3 few times_co_ actual amount of repetitions may be different every time_lt_br /_gt_\n\t\t\t5) saving information from analysis (step 2) in an array ( object_co_ cache or whatever ) for later usage_lt_br /_gt_\n\t\t\t6) render final scene in main render_co_ optionally using information from analysis if it is usable.\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t_lt_br /_gt_\n\t\t\t \n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tNice _lt_br /_gt_\n\tThis is a long Do To List _lt_br /_gt__lt_br /_gt_\n\tkeep on exploring_lt_br /_gt__lt_br /_gt__lt_a href_eq__qt_http_dd_//babylonjs-playground.com/#RZ83%230_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//babylonjs-playground.com/#RZ83#0_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ceedee","Date":"2017-02-19T18:46:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks guys for help. I have made some progress._lt_br /_gt_\n\tHere is the  result_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1OJL6I%2368_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1OJL6I#68_lt_/a_gt__lt_br /_gt_\n\tIt is something which we could call a _qt_visibility probe_qt__co_  something like a poor man_t_s occlusion query system _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ but for a bit different purpose.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt renders 6 textures of cube around main camera. Then reads textures using modified version of engine.readPixels and analyzes visibility of all meshes._lt_br /_gt_\n\tMeshes indexes are color coded into textures. Yo can see visible list of indexes at black bar at the top of the screen. Use mouse and arrow keys to fly between meshes.\n_lt_/p_gt_\n\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_162931_qt_ data-ipsquote-contentid_eq__qt_28229_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1486766255_qt_ data-ipsquote-userid_eq__qt_4442_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tOn 10.02.2017 at 11_dd_37 PM_co_ Deltakosh said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tSo basically set refreshRate to 0 anytime you want to update the render texture _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tThis way you can do 1 render of texture per frame _at most_._lt_br /_gt_\n\tWhat i need is do arbitrary number of renderings of the same texture_co_ per frame_co_ before render main screen._lt_br /_gt_\n\tThis is because i need to put on the scene arbitrary number of those visibility probes_co_  but it will be waste of texture memory_co_ because each probe needs 6 textures._lt_br /_gt_\n\tSo using just one probe used multiple times before main render is preffered.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_162942_qt_ data-ipsquote-contentid_eq__qt_28229_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1486768001_qt_ data-ipsquote-userid_eq__qt_21965_qt_ data-ipsquote-username_eq__qt_Nabroski_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tOn 11.02.2017 at 0_dd_06 AM_co_ Nabroski said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\t_lt_a href_eq__qt_http_dd_//babylonjs-playground.com/#RZ83%230_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//babylonjs-playground.com/#RZ83#0_lt_/a_gt_\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tYour method is a bit slow_co_ you use main screen rendering instead of render texture_co_ and recreate texture every time._lt_br /_gt_\n\tBut it gave me an idea. Instead of using DumpFramebuffer and recreating texture i looked into babylon source and found engine.readPixels_co_ and i made custom version of it which does not allocates new TypedArray every time but uses same one. And used it in after render observable of renderTargetTexture_lt_br /_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_  I will be doing that _qt_visibility probe_qt_ again but as a proper class. (what I made in PG is just a messy but working prototype )_lt_br /_gt_\n\tAre you interested in putting such component into the library ?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt_\n\tOne more time thanks for helping.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nabroski","Date":"2017-02-19T19:16:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_br /_gt__lt_br /_gt_\n\tHello ceedee_lt_br /_gt_\n\tYes copying pixels i think this is the right track - it should work!\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_em_gt_It was a messy stretchy playground yes -_lt_br /_gt_\n\tJust a remainder to myself (why it is slow_co_ i just put the framebuffer in the mainloop in the playground (a bad idea) you have to scope it out again in your real world project)_dd__lt_/em_gt__lt_br /_gt__lt_em_gt__lt_a href_eq__qt_http_dd_//babylonjs-playground.com/#RZ83%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//babylonjs-playground.com/#RZ83#1_lt_/a_gt__lt_/em_gt__lt_br /_gt_\n\tvar camera \n_lt_/p_gt_\n\n_lt_p_gt_\n\tvar scene\n_lt_/p_gt_\n\n_lt_p_gt_\n\t-&gt_sm_ some objects_lt_br /_gt_\n\t-&gt_sm_ RendertargetTex_blendMode_dd_ {_lt_br /_gt_\n\t        src_dd_ _t_src alpha_t__co__lt_br /_gt_\n\t       dst_dd_ _t_one minus src alpha\n_lt_/p_gt_\n\n_lt_p_gt_\n\t}\n_lt_/p_gt_\n\n_lt_p_gt_\n\trunRenderLoop-&gt_sm_camera render some objects copy pixels rendertotexture\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt_\n\tMan that looks interesting_co_ i currently rushing from one project to an other._lt_br /_gt_\n\tI did a minimap -VR Cam a while ago_lt_br /_gt_\n\ti dont know if it helps you. _lt_br /_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1VVORT%232_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1VVORT#2_lt_/a_gt__lt_br /_gt__lt_br /_gt_\n\tYour playground looks promising! \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-02-21T17:44:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tQuote\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\t_lt_span style_eq__qt_color_dd_rgb(39_co_42_co_52)_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_background-color_dd_rgb(255_co_255_co_255)_sm_float_dd_none_sm__qt__gt_Are you interested in putting such component into the library ?_lt_/span_gt_\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tFor sure as long as it is performant _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]