[{"Owner":"projectcs","Date":"2018-03-11T03:00:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI was unable to transform mesh instance if the original mesh had a shader material. Is this a bug?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have created a playground example using box mesh. If you open the debug -&gt_sm_ mesh panel_co_ you realize there are 6 meshes_co_ but only 5 are displayed. This is because one of the instances in the second row was not transformed properly. On the other hand_co_ clones of meshes with shader material can be transformed properly.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#B2NZ1M%231_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//playground.babylonjs.com/#B2NZ1M#1_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-03-13T00:13:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tInstances cannot have a different material than the original mesh. This is per design. THey must share everything but their position\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tSomething like that_dd_ _lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#B2NZ1M#11_qt_ ipsnoembed_eq__qt_true_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//playground.babylonjs.com/#B2NZ1M#11_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"projectcs","Date":"2018-03-13T08:08:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThank you @Deltakosh_co_ you solved my problem but explained it wrong. It_t_s actually not because I was using a different material than the original mesh_co_ but rather I did not know that in order to render transformed mesh instance with custom shader_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t1. You need to use #include&lt_sm_instanceDeclaration&gt_sm_ and #include&lt_sm_instanceVertex&gt_sm_ in the custom shader.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t2. You need to use ”viewprojection” and ”finalworld” instead of ”worldviewprojection” in the custom shader. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tHowever the above variables are not documented in the custom shader session. Wondering if there is any more hidden variables that we need to know when working with custom shader?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnyway thanks a lot for your solution!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-03-13T16:22:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWould you be kind enough to add your learnings to the doc?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis could help us a lot\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Documentation/blob/bb69005377058f1e60872bfdbfaefe2b0432fd92/content/How_To/shaders/Shader_Material.md_qt_ ipsnoembed_eq__qt_false_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Documentation/blob/bb69005377058f1e60872bfdbfaefe2b0432fd92/content/How_To/shaders/Shader_Material.md_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]