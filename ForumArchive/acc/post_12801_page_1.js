[{"Owner":"agmcleod","Date":"2015-02-28T01:20:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hello_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_so in a render loop_co_ I am looping through all the objects that a laser can collide with_co_ and perform an intersects mesh. This is only like 70ish objects total_co_ so it_t_s not entirely awful_co_ but on my iPad mini i do notice some frame rate drops occasionally_co_ so i_t_d like to improve it with octrees. Here_t_s the code for the looping. This gets called in my render loop_co_ after updating positions_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_GameScene.prototype.update _eq_ function (endScene) {  this.player.update()_sm_  var enemies _eq_ this.wave.enemies_sm_  for (var i _eq_ enemies.length - 1_sm_ i &gt_sm__eq_ 0_sm_ i--) {    var enemy _eq_ enemies[i]_sm_    endScene |_eq_ enemy.update(this.player)_sm_    for (var l _eq_ this.lasers.length - 1_sm_ l &gt_sm__eq_ 0_sm_ l--) {      var laser _eq_ this.lasers[l]_sm_      if (enemy.mesh.intersectsMesh(laser.mesh_co_ false)) {        this.wave.removeEnemy(enemy)_sm_        this.removeLaser(laser)_sm_      }    }  }  for (var i _eq_ this.lasers.length - 1_sm_ i &gt_sm__eq_ 0_sm_ i--) {    var laser _eq_ this.lasers[i]_sm_    laser.update()_sm_    for (var c _eq_ this.cubes.length - 1_sm_ c &gt_sm__eq_ 0_sm_ c--) {      var cube _eq_ this.cubes[c]_sm_      if (cube.intersectsMesh(laser.mesh_co_ false)) {        this.removeLaser(laser)_sm_      }    }    for (var w _eq_ this.walls.length - 1_sm_ w &gt_sm__eq_ 0_sm_ w--) {      var wall _eq_ this.walls[w]_sm_      if (wall.intersectsMesh(laser.mesh_co_ false)) {        this.removeLaser(laser)_sm_      }    }  }_lt_/pre_gt__lt_p_gt_So yeah it_t_s kinda gross. Using an octree instead_co_ here_t_s what i have_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_GameScene.prototype.update _eq_ function (endScene) {  this.player.update()_sm_  var enemies _eq_ this.wave.enemies_sm_  for (var i _eq_ enemies.length - 1_sm_ i &gt_sm__eq_ 0_sm_ i--) {    var enemy _eq_ enemies[i]_sm_  }  for (var i _eq_ this.lasers.length - 1_sm_ i &gt_sm__eq_ 0_sm_ i--) {    var laser _eq_ this.lasers[i]_sm_    laser.update()_sm_  }  var octree _eq_ this.scene.createOrUpdateSelectionOctree()_sm_  for (var i _eq_ this.lasers.length - 1_sm_ i &gt_sm__eq_ 0_sm_ i--) {    var laser _eq_ this.lasers[i]_sm_    var meshes _eq_ octree.intersects(laser.mesh.position_co_ 1_co_ false)_sm_    for (var i _eq_ meshes.length - 1_sm_ i &gt_sm__eq_ 0_sm_ i--) {      var mesh _eq_ meshes.data[i]_sm_      if (mesh.name !_eq__eq_ _qt_ground_qt_ &amp_sm_&amp_sm_ mesh.name !_eq__eq_ _qt_player_qt_ &amp_sm_&amp_sm_ laser.mesh.intersectsMesh(mesh_co_ false)) {        console.log(mesh.position_co_ laser.mesh.position)_sm_        this.removeLaser(laser)_sm_        if (mesh.name _eq__eq__eq_ _qt_enemy_qt_) {          this.wave.removeEnemy(mesh.refObject)_sm_        }      }    }  }  return endScene_sm_}_lt_/pre_gt__lt_p_gt_The problem is_co_ the data seems to return incorrect data. The laser intersects one of the cube objects_co_ even though there should be none in range. Looking at the log_co_ i see the mesh.position and laser.mesh.position have the same values. There something i missed here?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-02-28T02:49:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hum sounds like it is correct at first glance_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Do you mind creating a playground to help me debug this?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"agmcleod","Date":"2015-02-28T03:48:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I can publish a version of the game with this if possible. Otherwise i feel like it would take me a while to set this up _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-03-02T03:16:31Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I agree but in this case please use babylon.max.js so that I can debug easily _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"agmcleod","Date":"2015-03-04T23:48:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hey delta_co_ sorry just saw the reply. Here_t_s  a published version with the debug build_dd_ _lt_a href_eq__qt_http_dd_//projects.agmprojects.com/wrath-test/_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//projects.agmprojects.com/wrath-test/_lt_/a_gt_. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The update code i referred to use near the bottom of game_screen.js. After you click _qt_Tap to start_qt_ and the countdown_co_ use the mouse left button to shoot. It still spawns_co_ but the mesh position and laser position equal the same value (in console log)._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-03-05T00:48:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_they are the same because laser.mesh and mesh are the same _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"agmcleod","Date":"2015-03-05T01:50:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_That would do it lol. Added some checks to ensure it doesnt pick other lasers _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]