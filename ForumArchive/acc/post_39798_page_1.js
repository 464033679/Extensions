[{"Owner":"bfarisdev","Date":"2018-09-03T17:43:04Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi there!_lt_br /_gt_\n\t_lt_br /_gt_\n\tI_t_m creating a game that currently uses a simple physics based system. A sphere is controlled by the player and moves around a world (ground generated with a heightmap). Everything works perfect until the ball falls from a very tall height. The collision detected stops working and the ball falls right through the ground due to the high velocity.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere is the code associated with the objects_dd_\n_lt_/p_gt_\n\n_lt_pre style_eq__qt_background-color_dd_#2b2b2b_sm_color_dd_#a9b7c6_sm_font-size_dd_9pt_sm__qt__gt_\n_lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt_var _lt_/span_gt_sphere _eq_ BABYLON._lt_span style_eq__qt_color_dd_#9876aa_sm__qt__gt_MeshBuilder_lt_/span_gt_._lt_span style_eq__qt_color_dd_#ffc66d_sm__qt__gt_CreateSphere_lt_/span_gt_(_lt_span style_eq__qt_color_dd_#6a8759_sm__qt__gt__qt_sphere_qt__lt_/span_gt__lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt__co_ _lt_/span_gt_{_lt_span style_eq__qt_color_dd_#9876aa_sm__qt__gt_diameter_lt_/span_gt__dd_ _lt_span style_eq__qt_color_dd_#6897bb_sm__qt__gt_1_lt_/span_gt_}_lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt__co_ _lt_/span_gt_scene)_lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt__sm_\n_lt_/span_gt_sphere._lt_span style_eq__qt_color_dd_#9876aa_sm__qt__gt_physicsImpostor _lt_/span_gt__eq_ _lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt_new _lt_/span_gt_BABYLON._lt_span style_eq__qt_color_dd_#9876aa_sm__qt__gt_PhysicsImpostor_lt_/span_gt_(sphere_lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt__co_ _lt_/span_gt_BABYLON._lt_span style_eq__qt_color_dd_#9876aa_sm__qt__gt_PhysicsImpostor_lt_/span_gt_._lt_span style_eq__qt_color_dd_#9876aa_sm__qt__gt_SphereImpostor_lt_/span_gt__lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt__co_ _lt_/span_gt_{ _lt_span style_eq__qt_color_dd_#9876aa_sm__qt__gt_mass_lt_/span_gt__dd_ _lt_span style_eq__qt_color_dd_#6897bb_sm__qt__gt_1_lt_/span_gt__lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt__co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#9876aa_sm__qt__gt_restitution_lt_/span_gt__dd_ _lt_span style_eq__qt_color_dd_#6897bb_sm__qt__gt_0.3 _lt_/span_gt_}_lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt__co_ _lt_/span_gt_scene)_lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt__sm__lt_/span_gt_\n_lt_/pre_gt_\n\n_lt_pre style_eq__qt_background-color_dd_#2b2b2b_sm_color_dd_#a9b7c6_sm_font-size_dd_9pt_sm__qt__gt_\n_lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt_var _lt_/span_gt_ground _eq_ BABYLON._lt_span style_eq__qt_color_dd_#9876aa_sm__qt__gt_Mesh_lt_/span_gt_._lt_span style_eq__qt_color_dd_#ffc66d_sm__qt__gt_CreateGroundFromHeightMap_lt_/span_gt_(_lt_span style_eq__qt_color_dd_#6a8759_sm__qt__gt__qt_ground_qt__lt_/span_gt__lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt__co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#6a8759_sm__qt__gt__qt_./res/height6.png_qt__lt_/span_gt__lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt__co_ _lt_/span_gt_worldSize_lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt__co_ _lt_/span_gt_worldSize_lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt__co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#6897bb_sm__qt__gt_200_lt_/span_gt__lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt__co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#6897bb_sm__qt__gt_0_lt_/span_gt__lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt__co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#6897bb_sm__qt__gt_50_lt_/span_gt__lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt__co_ _lt_/span_gt_scene_lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt__co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt_false_lt_/span_gt__lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt__co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt_function _lt_/span_gt_() {\n    ground._lt_span style_eq__qt_color_dd_#9876aa_sm__qt__gt_physicsImpostor _lt_/span_gt__eq_ _lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt_new _lt_/span_gt_BABYLON._lt_span style_eq__qt_color_dd_#9876aa_sm__qt__gt_PhysicsImpostor_lt_/span_gt_(ground_lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt__co_ _lt_/span_gt_BABYLON._lt_span style_eq__qt_color_dd_#9876aa_sm__qt__gt_PhysicsImpostor_lt_/span_gt_._lt_span style_eq__qt_color_dd_#9876aa_sm__qt__gt_HeightmapImpostor_lt_/span_gt__lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt__co_ _lt_/span_gt_{ _lt_span style_eq__qt_color_dd_#9876aa_sm__qt__gt_mass_lt_/span_gt__dd_ _lt_span style_eq__qt_color_dd_#6897bb_sm__qt__gt_0 _lt_/span_gt_})_lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt__sm_\n_lt_/span_gt_})_lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt__sm__lt_/span_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt_\n\tI was wondering if someone can point me in the right direction for how I should go about solving this behavior. It is necessary that the collision detection works for high velocity collisions in my game._lt_br /_gt_\n\t_lt_br /_gt_\n\tBest regards_co__lt_br /_gt_\n\tBrian\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"brianzinn","Date":"2018-09-04T16:54:18Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWelcome to the forum!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI think you are using collision frame detection and you need continuous (predictive) collision detection.  In other words_co_ when the frame before and after the actual collision render_co_ there are no collisions.  I_t_m not sure how to answer your question as you are using a heightmap.  Some people have made thicker ground or changed the world dimensions_co_ but I don_t_t think that will address high velocity heightmap.  Hopefully somebody else has a solution. Which physics engine are you using?  I think cannonJS has support for that at least on certain Impostors - we may need a PG (Playground).\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-09-04T16:57:52Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello! I felt into this problem some times ago. The best option is to make your ground thicker (like give it some height instead of using a pure plane)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOther option is to set the scene.getPhysicsEngine().setTimeStep(1 / 120) to make it more precise\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"bfarisdev","Date":"2018-09-04T19:19:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_227142_qt_ data-ipsquote-contentid_eq__qt_39798_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1536080272_qt_ data-ipsquote-userid_eq__qt_4442_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t2 hours ago_co_ Deltakosh said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tHello! I felt into this problem some times ago. The best option is to make your ground thicker (like give it some height instead of using a pure plane)\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tOther option is to set the scene.getPhysicsEngine().setTimeStep(1 / 120)_lt_span_gt_﻿_lt_/span_gt_ to make it more precise\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tSetting the timestep worked perfectly! _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_br /_gt_\n\t_lt_br /_gt_\n\tFor others that do not have luck_co_ can you post the function for increasing the ground thickness? (I_t_ve tried ground.depth with no luck and didn_t_t see an imposter thickness function. Height seems to only adjust the elevation).\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-09-04T21:53:57Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI cannot as you will have to create the mesh manually _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt_true_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt__gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]