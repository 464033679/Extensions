[{"Owner":"ian","Date":"2016-08-19T07:56:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi I create simple animation Elevator which goes up an down in loop._lt_br /_gt_\n\tWhen I load it from bayblon file it works OK._lt_br /_gt__lt_br /_gt_\n\tBut _lt_strong_gt_when I add physics impostor_lt_/strong_gt_ on the Elevator I get error. (new bayblon version 2.4.0. and 2.5.0-alpha)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAny idea what it could be a problem?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_font-size_dd_11px_sm__qt__gt_(In previos version 2.4.0-alpha animation with impostor worked OK but new version get me error look down)_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tUncaught TypeError_dd_ Cannot read property _t_x_t_ of nullQuaternion.copy\n_lt_/p_gt_\n\n_lt_p_gt_\n\t@ cannon.js_dd_4487t._updatePhysicsBodyTransformation\n_lt_/p_gt_\n\n_lt_p_gt_\n\t@ babylon.2.4.js_dd_28t.generatePhysicsBody\n_lt_/p_gt_\n\n_lt_p_gt_\n\t@ babylon.2.4.js_dd_28t.addImpostor\n_lt_/p_gt_\n\n_lt_p_gt_\n\t@ babylon.2.4.js_dd_18t._init\n_lt_/p_gt_\n\n_lt_p_gt_\n\t@ babylon.2.4.js_dd_18t.forceUpdate\n_lt_/p_gt_\n\n_lt_p_gt_\n\t@ babylon.2.4.js_dd_18set\n_lt_/p_gt_\n\n_lt_p_gt_\n\t@ babylon.2.4.js_dd_6i.setValue\n_lt_/p_gt_\n\n_lt_p_gt_\n\t@ babylon.2.4.js_dd_17i.animate\n_lt_/p_gt_\n\n_lt_p_gt_\n\t@ babylon.2.4.js_dd_17e._animate\n_lt_/p_gt_\n\n_lt_p_gt_\n\t@ babylon.2.4.js_dd_17i._animate\n_lt_/p_gt_\n\n_lt_p_gt_\n\t@ babylon.2.4.js_dd_10i.render\n_lt_/p_gt_\n\n_lt_p_gt_\n\t@ babylon.2.4.js_dd_11(anonymous function)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t@ Game.js_dd_156o._renderLoop\n_lt_/p_gt_\n\n_lt_p_gt_\n\t@ babylon.2.4.js_dd_4\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-08-19T14:46:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tPinging _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/10310-raananw/?do_eq_hovercard_qt_ data-mentionid_eq__qt_10310_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/10310-raananw/_qt_ rel_eq__qt__qt__gt_@RaananW_lt_/a_gt_\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2016-08-19T15:12:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIt sounds like your animation is trying to animate a rotation property that has been set to null.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhen you use a physics imposter_co_ rotationQuaternion is used and rotation is set to null (at least in 2.4). \n_lt_/p_gt_\n\n_lt_p_gt_\n\tEdit_dd_ Actually it looks like the physics plugin is trying to set rotationQuaternion that has been set to null by the animation.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2016-08-19T18:16:04Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tDid someone ping?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWill it be possible to show a simple playground that reproduces it? This seems like a bug with the way we interact with cannon_co_ but since you are using the minified babylon version_co_ the line number doesn_t_t actually mean anything _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tThe bug happens when generating the physics body. Does this body have a parent? what kind of body is it? \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ian","Date":"2016-08-19T18:59:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tRaanaW_co_ I post simple model with animation _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_br /_gt__lt_br /_gt_\n\tI set mesh impostor on Path_co_ sphere impostor on Ball and mesh impostor on Elevator._lt_br /_gt_\n\t(When physics impostor was add to Elevator_co_ upper error happend) _lt_br /_gt_\n\tIf you put this babylon file in sandbox it works OK_co_ but when we add physics on Elevator(animated object) Upper error happend._lt_br /_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI atthach model (bablon file)\n_lt_/p_gt_\n\n_lt_p_gt__lt_a class_eq__qt_ipsAttachLink_qt_ href_eq__qt_//www.html5gamedevs.com/applications/core/interface/file/attachment.php?id_eq_9119_qt__gt_RollShadowAnimation.babylon_lt_/a_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ian","Date":"2016-08-20T09:17:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHallo RaananW_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\there is playground\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1YOCO9%2341_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1YOCO9#41_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t(so if we oncomment _qt_mesh.setPhysicsState(BABYLON.PhysicsEngine.MeshImpostor_co_ { mass_dd_ 0_co_ friction_dd_ 0.5_co_ restitution_dd_ 0 })_sm__qt_ for Elevator than this error happends.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis is model file _lt_a href_eq__qt_https_dd_//dl.dropboxusercontent.com/u/20766916/RollShadowAnimation.babylon_co__qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//dl.dropboxusercontent.com/u/20766916/RollShadowAnimation.babylon_co__lt_/a_gt_ maybe is a problem indside .babylon file_co_ but it works ok until we add physics to Elevator.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCan anybody check_co_ or help me what should I do to work elevator physics in this case.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tand code for playground (if link doesn work)\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_var createScene _eq_ function () {\n\n    // This creates a basic Babylon Scene object (non-mesh)\n    var scene _eq_ new BABYLON.Scene(engine)_sm_\n\n    // This creates and positions a free camera (non-mesh)\n    var camera _eq_ new BABYLON.FreeCamera(_qt_camera1_qt__co_ new BABYLON.Vector3(0_co_ 5_co_ -10)_co_ scene)_sm_\n\n    // This targets the camera to scene origin\n    camera.setTarget(BABYLON.Vector3.Zero())_sm_\n\n    // This attaches the camera to the canvas\n    camera.attachControl(canvas_co_ true)_sm_\n\n    // This creates a light_co_ aiming 0_co_1_co_0 - to the sky (non-mesh)\n    var light _eq_ new BABYLON.HemisphericLight(_qt_light1_qt__co_ new BABYLON.Vector3(0_co_ 1_co_ 0)_co_ scene)_sm_\n\n    // Default intensity is 1. Let_t_s dim the light a small amount\n    light.intensity _eq_ 0.7_sm_\n\t\n\tvar gravityVector _eq_ new BABYLON.Vector3(0_co_ -10_co_ 0)_sm_\n\tvar physicsPlugin _eq_ new BABYLON.CannonJSPlugin()_sm_\n\tscene.enablePhysics(gravityVector_co_ physicsPlugin)_sm_\n\n\t//https_dd_//dl.dropboxusercontent.com/u/20766916/RollShadowAnimation.babylon\n    BABYLON.SceneLoader.ImportMesh(_qt__qt__co_ _qt_https_dd_//dl.dropboxusercontent.com/u/20766916/_qt__co_ _qt_RollShadowAnimation.babylon_qt__co_ scene_co_ function (meshes) {\n                \tfor (var a _eq_ 0_sm_ a &lt_sm_ meshes.length_sm_ a++) {\n                \t\tvar mesh _eq_ meshes[a]_sm_\n                \t\tconsole.log( mesh.id )_sm_\n                \t\tmesh.checkCollisions _eq_ true_sm_\t                    \n\t                    if (mesh.id.substring(0_co_ 4) _eq__eq_ _qt_Path_qt_) {\n\t                    \tconsole.log( mesh.id +_qt_ set Wall physics boxImpostor _qt_)_sm_\n\t                    \t//m.physicsImpostor _eq_ new BABYLON.PhysicsImpostor( wall_co_ BABYLON.PhysicsImpostor.BoxImpostor_co_ { mass _dd_ 0_co_ friction _dd_ 0.5_co_ restitution _dd_ 0 }_co_ scene)_sm_\n\t                    \t//mesh.setPhysicsState({ impostor_dd_ BABYLON.PhysicsEngine.BoxImpostor_co_ move_dd_false})_sm_\n\t                    \tmesh.setPhysicsState(BABYLON.PhysicsEngine.MeshImpostor_co_ { mass_dd_ 0_co_ friction_dd_ 0.5_co_ restitution_dd_ 0 })_sm_\n\t                    \t\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (mesh.id.substring(0_co_ 4) _eq__eq_ _qt_Ball_qt_) {\n\t                    \tconsole.log( mesh.id +_qt_ set Wall physics boxImpostor _qt_)_sm_\n\t                    \tmesh.setPhysicsState(BABYLON.PhysicsEngine.SphereImpostor_co_ { mass_dd_ 1_co_ friction_dd_ 0.5_co_ restitution_dd_ 0 })_sm_\t                    \t\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (mesh.id.substring(0_co_ 8) _eq__eq_ _qt_Elevator_qt_) {\n\t                    \t//mesh.setPhysicsState(BABYLON.PhysicsEngine.MeshImpostor_co_ { mass_dd_ 0_co_ friction_dd_ 0.5_co_ restitution_dd_ 0 })_sm_\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n                \t}                    \n                })_sm_\n\n    return scene_sm_\n\n}_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2016-08-20T19:05:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/17776-ian/?do_eq_hovercard_qt_ data-mentionid_eq__qt_17776_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/17776-ian/_qt_ rel_eq__qt__qt__gt_@ian_lt_/a_gt_ _co_ I will look into that. Should be working_co_ of course. I think it is due to the way I am generating the mesh_t_s physics body.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWill keep you updated here!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2016-08-20T19:17:52Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOk_co_ checked again.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou are animating the scale of the object. A change in scale requires a force update of the physics impostor (Rigid bodies mean - no change in the shape of the object). It should actually work_co_ but will be very slow.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou are also animating the rotation_co_ but the rotation required is a quaternion (you are animating the euler rotation). You will have to start working with quaternions in order for that to work correctly.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSomewhere along the way_co_ the quaternion rotation is nulled (haven_t_t found yet where)_co_ but this way it will anyhow not do what you want it to do _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tRecommendation - animate the rotationQuaternion and position_co_ try to avoid animating the scale as much as you can.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ian","Date":"2016-08-21T07:07:34Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOk_co_ I admint I_t_m beginer.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut it is logicaly that quaternion means rotation (in this case with anitmaition).\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_But for me is strange that I did not use scaling or rotation in this animation_lt_/strong_gt_. There is just location use. from fram 1 to 100 up for z_eq_4unit_co_ and forrm 100 1 z_eq_-4unit.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI do Ctrl-A (scale rotate) on Elevator before I do animation.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2016-08-21T19:49:44Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYour only problem is the scaling_co_ actually. This won_t_t work really. Creating a new impostor (mesh impostor) every frame will be very heavy on your CPU.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tRotation should actually work_co_ but again_co_ when working with physics it is better to use the quaternion. because internally_co_ the rotation is converted to a quaternion and being reset. Which might also cause a little problem with the animations.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ian","Date":"2016-08-23T07:55:03Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tok I DON_t_T SEE WHERE IS A PROBLEM IN .babylon file? \n_lt_/p_gt_\n\n_lt_p_gt_\n\tRaananW_co_ _lt_strong_gt_can you show me where exactly is problem. (Where in .babylon file which I attach is a problem_co_ Where is scaling animation)._lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tScaling values for animation frames is always 1 (for x_co_y_co_z) \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_qt_meshes_qt__dd_[{_qt_name_qt__dd__qt_Ball_qt__co__qt_id_qt__dd__qt_Ball_qt__co__qt_materialId_qt__dd__qt_RollShadowAnimation.Material.003_qt__co__qt_billboardMode_qt__dd_0_co__qt_position_qt__dd_[2.0964_co_1.2848_co_0]_co__qt_rotation_qt__dd_[0_co_0_co_0]_co__lt_strong_gt__qt_scaling_qt__dd_[1_co_1_co_1]_lt_/strong_gt__co__qt_isVisible_qt__dd_true_co__qt_freezeWorldMatrix_qt__dd_false_co__qt_isEnabled_qt__dd_true_co__qt_checkCollisions_qt__dd_true_co__qt_receiveShadows_qt__dd_false_lt_br /_gt_\n\t_co__qt_positions_qt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_co_{_qt_name_qt__dd__qt_Elevator_qt__co__qt_id_qt__dd__qt_Elevator_qt__co__qt_materialId_qt__dd__qt_RollShadowAnimation.Material.002_qt__co__qt_billboardMode_qt__dd_0_co__qt_position_qt__dd_[0_co_0_co_0]_co__qt_rotation_qt__dd_[0_co_0_co_0]_co__lt_strong_gt__qt_scaling_qt__dd_[1_co_1_co_1]_lt_/strong_gt__co__qt_isVisible_qt__dd_true_co__qt_freezeWorldMatrix_qt__dd_false_co__qt_isEnabled_qt__dd_true_co__qt_checkCollisions_qt__dd_true_co__qt_receiveShadows_qt__dd_false_lt_br /_gt_\n\t_co__qt_positions_qt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_co__qt_animations_qt__dd_[{_qt_dataType_qt__dd_1_co__qt_framePerSecond_qt__dd_24_co__qt_keys_qt__dd_[_lt_br /_gt_\n\t{_qt_frame_qt__dd_1_co__qt_values_qt__dd_[0_co_0_co_0]}_co__lt_br /_gt_\n\t{_qt_frame_qt__dd_100_co__qt_values_qt__dd_[0_co_0_co_0]}_co__lt_br /_gt_\n\t{_qt_frame_qt__dd_200_co__qt_values_qt__dd_[0_co_0_co_0]}]_co__qt_loopBehavior_qt__dd_1_co__qt_name_qt__dd__qt_rotation animation_qt__co__qt_property_qt__dd__qt_rotation_qt_}_co_{_qt_dataType_qt__dd_1_co__qt_framePerSecond_qt__dd_24_co__qt_keys_qt__dd_[\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt_\n\t{_qt_frame_qt__dd_1_co__qt_values_qt__dd_[0_co_0_co_0]}_co__lt_br /_gt_\n\t{_qt_frame_qt__dd_100_co__qt_values_qt__dd_[0_co_4_co_0]}_co__lt_br /_gt_\n\t{_qt_frame_qt__dd_200_co__qt_values_qt__dd_[0_co_0_co_0]}]_co__qt_loopBehavior_qt__dd_1_co__qt_name_qt__dd__qt_position animation_qt__co__qt_property_qt__dd__qt_position_qt_}_co_{_qt_dataType_qt__dd_1_co__qt_framePerSecond_qt__dd_24_co__qt_keys_qt__dd_[\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_{_qt_frame_qt__dd_1_co__qt_values_qt__dd_[1_co_1_co_1]}_co__lt_br /_gt_\n\t{_qt_frame_qt__dd_100_co__qt_values_qt__dd_[1_co_1_co_1]}_co__lt_br /_gt_\n\t{_qt_frame_qt__dd_200_co__qt_values_qt__dd_[1_co_1_co_1]}]_co__qt_loopBehavior_qt__dd_1_co__qt_name_qt__dd__qt_scaling animation_qt__co__qt_property_qt__dd__qt_scaling_lt_/strong_gt__qt_}]_co__qt_ranges_qt__dd_[{_qt_name_qt__dd__qt_CubeAction_qt__co__qt_from_qt__dd_0_co__qt_to_qt__dd_200}]_co__qt_autoAnimate_qt__dd_true_co__qt_autoAnimateFrom_qt__dd_1_co__qt_autoAnimateTo_qt__dd_200_co__qt_autoAnimateLoop_qt__dd_true_lt_br /_gt_\n\t_co__qt_instances_qt__dd_[]}\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_co_{_qt_name_qt__dd__qt_Path_qt__co__qt_id_qt__dd__qt_Path_qt__co__qt_materialId_qt__dd__qt_RollShadowAnimation.Multimaterial#0_qt__co__qt_billboardMode_qt__dd_0_co__qt_position_qt__dd_[0_co_4_co_0]_co__qt_rotation_qt__dd_[0_co_0_co_0]_co__lt_strong_gt__qt_scaling_qt__dd_[1_co_1_co_1]_lt_/strong_gt__co__qt_isVisible_qt__dd_true_co__qt_freezeWorldMatrix_qt__dd_false_co__qt_isEnabled_qt__dd_true_co__qt_checkCollisions_qt__dd_false_co__qt_receiveShadows_qt__dd_false\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt__lt_br /_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t--------------------------------------------------------------------------------------------\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI also try to create new animation with quaternion mode_co_ but I cannot export to .babylon file.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tExport error in blender (Exporter (Babylon.js ver 5.0.2)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tlocation_dd_ &lt_sm_unknown location&gt_sm__dd_-1\n_lt_/p_gt_\n\n_lt_p_gt_\n\tlocation_dd_ &lt_sm_unknown location&gt_sm__dd_-1_lt_br /_gt_\n\tTraceback (most recent call last)_dd__lt_br /_gt_\n\t  File _qt_/home/aaa/.config/blender/2.77/scripts/addons/babylon-js/__init__.py_qt__co_ line 81_co_ in execute_lt_br /_gt_\n\t    exporter.execute(context_co_ self.filepath)_lt_br /_gt_\n\t  File _qt_/home/aaa/.config/blender/2.77/scripts/addons/babylon-js/json_exporter.py_qt__co_ line 99_co_ in execute_lt_br /_gt_\n\t    mesh _eq_ Mesh(object_co_ scene_co_ nextStartFace_co_ forcedParent_co_ nameID_co_ self)_lt_br /_gt_\n\t  File _qt_/home/aaa/.config/blender/2.77/scripts/addons/babylon-js/mesh.py_qt__co_ line 39_co_ in __init___lt_br /_gt_\n\t    self.define_animations(object_co_ True_co_ True_co_ True)  #Should animations be done when forcedParent_lt_br /_gt_\n\t  File _qt_/home/aaa/.config/blender/2.77/scripts/addons/babylon-js/f_curve_animatable.py_qt__co_ line 43_co_ in define_animations_lt_br /_gt_\n\t    hasData _eq_ rotAnimation.append_range(object_co_ animationRange)_lt_br /_gt_\n\t  File _qt_/home/aaa/.config/blender/2.77/scripts/addons/babylon-js/animation.py_qt__co_ line 110_co_ in append_range_lt_br /_gt_\n\t    self.values.append(self.get_attr(object))_lt_br /_gt_\n\t  File _qt_/home/aaa/.config/blender/2.77/scripts/addons/babylon-js/animation.py_qt__co_ line 165_co_ in get_attr_lt_br /_gt_\n\t    return post_rotate_quaternion(getattr(object_co_ self.attrInBlender)_co_ self.xOffset)_lt_br /_gt_\n\t  File _qt_/home/aaa/.config/blender/2.77/scripts/addons/babylon-js/package_level.py_qt__co_ line 184_co_ in post_rotate_quaternion_lt_br /_gt_\n\t    post _eq_ mathutils.Euler((angle_co_ 0.0_co_ 0.0)).to_matrix()_lt_br /_gt_\n\tNameError_dd_ name _t_mathutils_t_ is not defined\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tif I switch back to XYZ Euler. It exports fine. Animation works fine_co_ but if I add physics error as I write.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCan anybody check where EXCATLY IS A PROBLEM IN .BABYLON (Babylon file have no scaling no rotation in animation) (JSON) FILE._lt_br /_gt_\n\tPlayground have no rotation no scaling for Elevator._lt_br /_gt_\n\tThe most simple animations and it dosn_t_t work with physic. (I DO NOT SCALING ELEVATOR_co_ IF I DO PLEASE SHOW ME WHERE EXACLY IS SCALING IN ANIMATIONO .BABAYLON FILE._lt_br /_gt__lt_br /_gt_\n\tgreetings_lt_br /_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JohnK","Date":"2016-08-23T08:54:46Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/17776-ian/?do_eq_hovercard_qt_ data-mentionid_eq__qt_17776_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/17776-ian/_qt_ rel_eq__qt__qt__gt_@ian_lt_/a_gt_ frustrating isn_t_t it when you seem to be totally stuck on a simple issue. We have all been there.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tEven if applying a rotation of 0 and a scaling of 1 a rotation and a scaling are applied_co_ ie mesh.rotation _eq_ new BABYLON.Vector3(0_co_ 0_co_ 0) may result in no rotation and mesh.scaling _eq_ new BABYLON.Vector3(1_co_ 1_co_ 1) may result in no change of scale but in the code the rotation and scaling calculations are still carried out_co_ so _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/10310-raananw/?do_eq_hovercard_qt_ data-mentionid_eq__qt_10310_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/10310-raananw/_qt_ rel_eq__qt__qt__gt_@RaananW_lt_/a_gt_ is correct in reading the the data below to say a rotation and a scaling are been applied.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMy knowledge of physics engines is non existent as is my knowledge of what happens if you manually edit a .babylon fileso perhaps you are best totally ignoring this advice_co_ but then it is  worth a try.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNow for the trial and probable error advice - what happens if you manually edit the .babylon file and delete     _qt_rotation_qt__dd_[0_co_0_co_0]_co__qt_scaling_qt__dd_[1_co_1_co_1]_co_  from the elevator?\n_lt_/p_gt_\n\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_140972_qt_ data-ipsquote-contentid_eq__qt_24578_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1471938903_qt_ data-ipsquote-userid_eq__qt_17776_qt_ data-ipsquote-username_eq__qt_ian_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t1 hour ago_co_ ian said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\t_co_{_qt_name_qt__dd__qt_Elevator_qt__co__qt_id_qt__dd__qt_Elevator_qt__co__qt_materialId_qt__dd__qt_RollShadowAnimation.Material.002_qt__co__qt_billboardMode_qt__dd_0_co__qt_position_qt__dd_[0_co_0_co_0]_co__qt_rotation_qt__dd_[0_co_0_co_0]_co__lt_strong_gt__qt_scaling_qt__dd_[1_co_1_co_1]_lt_/strong_gt__co__qt_isVisible_qt__dd_true_co__qt_freezeWorldMatrix_qt__dd_false_co__qt_isEnabled_qt__dd_true_co__qt_checkCollisions_qt__dd_true_co__qt_receiveShadows_qt__dd_false_lt_br /_gt_\n\t\t\t_co__qt_positions_qt_\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ian","Date":"2016-08-23T09:10:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tOk I remove scaling from Elevator_co_ but now even rendering scene and animation of Elevator doesn_t_t work (only black screen) No error in console.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ian","Date":"2016-08-23T10:27:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tyaou (exporter versions problems) !!!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOK it works now._lt_br /_gt_\n\tI use now _lt_strong_gt_Babylon.js (.babylon) Ver 4.6.1_lt_/strong_gt_ (ver. 5.0.2 doesn_t_t works_co_ export erros if use quaternion animation)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd I do animation with Quaternion. And Export to .bayblon is OK.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2016-08-25T11:33:17Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tGreat! glad it works. Sadly when working with external frameworks you have to stay conform. Not all features of Babylon will work with physics engines.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]