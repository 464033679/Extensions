[{"Owner":"vikk","Date":"2017-06-06T12:05:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t i start a two floor shoping mall in babylon js with the help of 3dmax . i use escalator to go second floor . then i want when my camera go near the escalator . we automatic go to second floor . how can i do this . \n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"V!nc3r","Date":"2017-06-06T12:31:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYou want to teleport instantly or go up following escalator steps ?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTo follow step animation_co_ maybe a simple way would be to animate invisible planes set as colliders_co_ sync to step anim. Or_co_ depends of your escalator setup_co_ directly set steps objects as colliders.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"brianzinn","Date":"2017-06-06T15:23:46Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIf you attach a mesh to your camera (parent) then when that mesh collides with the bottom of the escalator you can trigger an animation (code is untested)_dd__lt_br /_gt_\n\t \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_var cameraStartPosition _eq_ new BABYLON.Vector3(cameraMesh.position.x_co_ cameraMesh.position.y_co_ cameraMesh.position.z)\nvar topOfEscalatorPosition _eq_ new BABYLON.Vector3(newPosition.x_co_ newPosition.y_co_ newPosition.z)\n\nvar keys _eq_ []\nkeys.push({\n  frame_dd_ 0_co_\n  value_dd_ cameraStartPosition\n})\nkeys.push({\n  frame_dd_ 30_co_\n  value_dd_ topOfEscalatorPosition \n})\n\nvar cameraAnimation _eq_ new BABYLON.Animation(_t_escalator-animation_t__co_ _t_position_t__co_ 30_co_\n            BABYLON.Animation.ANIMATIONTYPE_VECTOR3_co_ BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT)\n\ncameraAnimation.setKeys(keys)\ncamera.animations.push(cameraAnimation)\n\nthis.scene.beginAnimation(camera_co_ 0_co_ 30_co_ false_co_ 1_co_ function() {\n  console.log(_t_top of escalator.  animation done._t_)_sm_\n}\n\n_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tYou can do tests on camera position to see if you should trigger the animation_co_ but you could also test if a mesh parented to your camera collides with the bottom of the escalator by putting a mesh there or you can do a position test - something like_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_const goUpEscalator _eq_ this.cameraMesh.intersectsMesh(bottomOfEscalatorMesh_co_ false)_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"vikk","Date":"2017-06-12T09:19:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t var animateCameraPosition _eq_ function (camera_co_ fromPosition_co_ toPosition)_lt_br /_gt_\n\t            {\n_lt_/p_gt_\n\n_lt_p_gt_\n\t                var animCamPosition _eq_ new BABYLON.Animation(_qt_animCam_qt__co_ _qt_position_qt__co_ 15_co_BABYLON.Animation.ANIMATIONTYPE_VECTOR3_co_BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE)_sm__lt_br /_gt_\n\t                                  _lt_br /_gt_\n\t                var keysPosition _eq_ []_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t                keysPosition.push({_lt_br /_gt_\n\t                    frame_dd_ 0_co__lt_br /_gt_\n\t                    value_dd_ fromPosition_lt_br /_gt_\n\t                })_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t                keysPosition.push({_lt_br /_gt_\n\t                    frame_dd_ 100_co__lt_br /_gt_\n\t                    value_dd_ toPosition_lt_br /_gt_\n\t                })_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t                animCamPosition.setKeys(keysPosition)_sm__lt_br /_gt_\n\t                camera.animations.push(animCamPosition)_sm__lt_br /_gt_\n\t                scene.beginAnimation(camera_co_ 0_co_ 100_co_ false)_sm__lt_br /_gt_\n\t            }_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tdocument.getElementById(_qt_escalator_qt_).onclick _eq_ function () {_lt_br /_gt_\n\t            _lt_br /_gt_\n\t            animateCameraPosition(camera_co_ camera.position_co_  new BABYLON.Vector3(894_co_850_co_3600))_lt_br /_gt_\n\t        }_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\ti do and its working. but i want to do when my camera go infront of escalator then its automatic up to the first floor\n_lt_/p_gt_\n\n_lt_p_gt_\n\tin my code its go through the on click of button\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-06-13T02:07:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi guys.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI _lt_u_gt_started_lt_/u_gt_ _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#1OTXWR%232_qt_ rel_eq__qt_external nofollow_qt__gt_a playground_lt_/a_gt_.  Got a ramp_co_ got animation function_co_ ready for intersectsMesh or onCollide or Ray testing_co_ etc. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI wanted to test further_co_ but I have gotten interrupted.  Perhaps others will continue.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWe need some way to _qt_sense_qt_ when camera is near top of ramp_co_ or near bottom of ramp (to trigger animations).  Cya in a little while.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-06-13T21:14:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi guys.  I had a little time today... to play with the escalator.  _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#1OTXWR%239_qt_ rel_eq__qt_external nofollow_qt__gt_link_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tStill goofing around.  Can_t_t fig WHY I have a _qt_hi intersect_qt_ (see console) when RUN.  Camera.mesh is not intersecting ramp_co_ so checkStuff() should report no intersect at RUN.  Currently_co_ camera.applyGravity is active.  Turn-off to fly camera/camera.mesh freely.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHi intersect... ramp turns blue (2nd-floor color).  Lo intersect_co_ ramp turns green (ground color).  No intersect_co_ ramp goes/stays white.  Cursor _qt_forward_qt_ to ramp... it will turn green... lo intersect.  But still_co_ why hi intersect at RUN time?  Perhaps because... for a lightning-fast moment_co_ camera.mesh is at 0_co_0_co_0 when first created?  Maybe.  Still testing.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCaution_dd_  Camera.mesh bounding boxes may appear larger than they actually are.  heh.  (Pan-around camera with mouse_co_ to see camera.mesh bounding box wires.  Also notice that I am using camera.mesh for both intersect testing (a HAVE-TO)... and in the animator (lines 54 and 55).  No animations on the camera itself.  The continuous-running line 85... keeps the camera WITH the camera.mesh_co_ position-wise.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThere_t_s got to be a better way to make an escalator.  _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt_  I feel like I_t_m using a cruise ship... to travel to my local grocery store.  heh\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt_t_s that spongy-sphere issue that I am also working-on... in that other thread.  It has my brain all messed-up_co_ I suspect.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  (What_t_s new_co_ eh?)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m on break_co_ but others... feel free to _qt_run with it_qt_.  thx.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-06-19T01:20:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tMore _qt_Vikk_t_s Escalator_qt_ fun...\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#1OTXWR%2316_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#1OTXWR#16_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNo mesh needed on camera (instead_co_ using a collider on cam).  I have a highSensor and lowSensor on the ramp.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt seems that these sensors work best... when you keep your head up.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  Don_t_t look down at the sensors.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tStill playing_co_ but_co_ this works sort-of ok.  Vikk may already have a working escalator_co_ but I wanted to do more experiments.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tUse arrow keys to drive cam into low sensor... ramp will turn green_co_ and up the ramp you go... slowly. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tNav-around on the 2nd floor_co_ then drive into the highSensor (with your head held high).  The ramp will turn blue_co_ and down you go.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tExciting!  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  Panning-around while riding escalator... works fine.  RenderLoop-called _lt_em_gt_checkStuff()_lt_/em_gt_ does the work.  Func _lt_em_gt_onDone()_lt_/em_gt_ is called when animation ends.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAs we can see by the PG code-litter_co_ a few other methods were tried.  This one works best_co_ so far.  Sensors can be made invisible.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWingnut mistakes likely.  Comments and ideas_co_ other methods_co_ and complete re-writes... welcome.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2017-06-19T07:37:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_pre_gt_\n_lt_code_gt_var animateCameraPosition _eq_ new BABYLON.Animation(_qt_animCam_qt__co_ _qt_position_qt__co_ 15_co_ BABYLON.Animation.ANIMATIONTYPE_VECTOR3_co_ BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE)_sm_\n                                  \n                var keysPosition _eq_ []_sm_\n\n                keysPosition.push({\n                    frame_dd_ 0_co_\n                    value_dd_ fromPosition\n                })_sm_\n\n                keysPosition.push({\n                    frame_dd_ 100_co_\n                    value_dd_ toPosition\n                })_sm_\n\n                animCamPosition.setKeys(keysPosition)_sm_\n                camera.animations.push(animCamPosition)_sm_\n                scene.beginAnimation(camera_co_ 0_co_ 100_co_ false)_sm_\n            }_sm_\n\n// automatic\nif(cameraOrPlayer.intersectsMesh(bottomOfEscalatorMesh_co_ false))\n{   \n            animateCameraPosition(camera_co_ camera.position_co_ new BABYLON.Vector3(894_co_ 850_co_ 3600)) \n}\n_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-06-19T13:43:52Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi D_co_ thx for input. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhat is cameraOrPlayer? \n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt HAS TO BE a mesh_co_ or else intersectsMesh won_t_t work.  IntersectsMesh doesn_t_t work with ONLY a camera.  The camera needs to have a mesh attached_co_ somehow.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI did some experiments with that method... in earlier versions.  I created a box in camera.mesh.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#1OTXWR%239_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#1OTXWR#9_lt_/a_gt_  See lines 87 and 94. Turn camera to see bounding box of camera.mesh.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLook at console when clicking RUN.  We get a _qt_high intersection_qt_ when scene is first RUNned.  Not sure why.  Likely Wingnut mistake.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tThat is the reason I abandoned intersectsMesh method. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI think it is a VERY FAST momentary intersect_co_ because we don_t_t see ramp change color (line 88).  I think it is an intersect that lasts only one frame.  Perhaps wait for .executeWhenReady... and THEN install checkStuff() in renderLoop.  That might fix it.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2017-06-19T15:35:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tI took the examples above. So the camera on intersectMesh. But the best is the player on intersectMesh. So I made a variable cameraOrPlayer _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]