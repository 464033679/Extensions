[{"Owner":"qqdarren","Date":"2016-10-19T16:52:38Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_m trying to get a particle effect where it starts off a bright orange_co_ then becomes one that is grey_co_ spread out and getting fainter. (Think fire turning into smoke).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI started with a playground entry by _lt_span_gt_@_lt_/span_gt_Wingnut (reference below)_co_ which I_t_ve cut back to just show one particle stream.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI seem to be stuck on the _qt_fade to invisible_qt_ idea. As I increase particle size they tend to get brighter. In fact it feels like my changes to particle.color.a (line 97) are not having any effect_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#D1QNY%233_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#D1QNY#3_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI tried switching to BABYLON.ParticleSystem.BLENDMODE_STANDARD (line 35)_co_ and now they are fading to invisible_dd_            \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#D1QNY%232_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#D1QNY#2_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf you change line 97 to_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t    particle.color.a _eq_ Math.max(0.0_co_ 0.7 - ar)_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tit becomes clearer_co_ as they fade to invisible about 70% of the way down the tree.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut you_t_ll instantly see the problem with BLENDMODE_STANDARD_co_ as the alpha channel in the png is ignored. I.e. this option seems to only be of use if you want square particles.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo is there a way to have my cake and eat it? Be able to use particles of interesting shape/pattern_co_ but also be able to fade them away?\n_lt_/p_gt_\n_lt_iframe data-embedcontent_eq__qt__qt_ frameborder_eq__qt_0_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/topic/11278-controlling-particles/?do_eq_embed&amp_sm_comment_eq_65792&amp_sm_embedComment_eq_65792&amp_sm_embedDo_eq_findComment_qt__gt__lt_/iframe_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-10-19T17:48:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello\n_lt_/p_gt_\n\n_lt_p_gt_\n\tas you are using a jpg I_t_m 100% sure that there is no alpha in it _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"qqdarren","Date":"2016-10-19T18:42:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tAha! I_t_d not noticed that. I_t_ve switched in flare.png_co_ but the behaviour seems to be unchanged. I_t_ve increased the size to emphasize how the brightness increases when it should be fading away to nothing_dd_  _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#D1QNY%235_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#D1QNY#5_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t(This is also set to fade away completely by 70% of the way down the tree.)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-10-20T15:50:22Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWorks well for me_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_10/Capture.JPG.2fc3a991161bcf158a2e87f3b039e4e3.JPG_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_9922_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_10/Capture.JPG.2fc3a991161bcf158a2e87f3b039e4e3.JPG_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_Capture.JPG_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"qqdarren","Date":"2016-10-20T16:14:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThat image shows the problem_dd_ the white circles are not getting fainter_dd_ they are just as bright and semi-transparent at the bottom as they were in the middle of the tree. In fact you shouldn_t_t see anything at all in the bottom 30% of the tree_co_ because alpha has been set to zero by that point onwards.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf you swap lines 34 and 35 (in _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#D1QNY%235_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#D1QNY#5)_lt_/a_gt__co_ i.e. switch to BLENDMODE_STANDARD you will see the correct behaviour. BUT_co_ then I get those ugly black squares around each particle.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-10-20T17:22:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tok gotcha\n_lt_/p_gt_\n\n_lt_p_gt_\n\tjust use a png with alpha in it then and it will work (the flare.png does not have alpha channel)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"qqdarren","Date":"2016-10-21T11:39:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_ ! I_t_d not realized flare.png had no alpha channel (because it behaved as if it did_co_ with BLENDMODE_ONEONE)! Here is a summary of the 4 possibilities_co_ when used with_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t    ps.color1 _eq_ ps.color2 _eq_ new BABYLON.Color4(1_co_ 1_co_ 1_co_ 1.0)_sm__lt_br /_gt_\n\t    ps.colorDead _eq_ new BABYLON.Color4(1_co_ 1_co_ 1_co_ 0.0)_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t(I.e. fade each particle out_co_ over its lifetime)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_JPG/PNG with no transparency_dd__lt_/strong_gt_  (e.g. flare.png)\n_lt_/p_gt_\n\n_lt_ul_gt__lt_li_gt_\n\t\tBLENDMODE_STANDARD_dd_ Fade works_co_ but black border around white circle.\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\tBLENDMODE_ONEONE_dd_ Black border automatically becomes transparent_co_ but fade does not work\n\t_lt_/li_gt_\n_lt_/ul_gt__lt_p_gt_\n\t_lt_strong_gt_PNG with transparency_dd_ _lt_/strong_gt_(e.g. flare.png opened in GIMP_co_ Colors|ColorToAlpha_co_ select black.)\n_lt_/p_gt_\n\n_lt_ul_gt__lt_li_gt_\n\t\tBLENDMODE_STANDARD_dd_ Fade works!\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\tBLENDMODE_ONEONE_dd_ No fade_co_ and everything horribly over-exposed. (It seems it now treats it as a 1-bit image?)\n\t_lt_/li_gt_\n_lt_/ul_gt__lt_p_gt_\n\tI wanted to summarize this as always use BLENDMODE_STANDARD! But apart from the lack of fade-out_co_ BLENDMODE_ONEONE is giving a much better effect in my real code!! Aaarrgghhh! It seems I can_t_t have my cake and eat it_co_ after all! (I guess I_t_ll experiment with using two sets of particles_co_ next.)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t(BTW_co_ no playground examples_co_ as I don_t_t know how to upload my transparent version of flare.png)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2016-10-21T15:55:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_148279_qt_ data-ipsquote-contentid_eq__qt_25850_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1477049959_qt_ data-ipsquote-userid_eq__qt_13951_qt_ data-ipsquote-username_eq__qt_qqdarren_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t4 hours ago_co_ qqdarren said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\t(BTW_co_ no playground examples_co_ as I don_t_t know how to upload my transparent version of flare.png)\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tuse imgur.com\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-10-21T16:31:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tWhat about something like that_dd_ _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#D1QNY%236_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#D1QNY#6_lt_/a_gt_ (using one_one means that if color is black then the particle disappears)\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]