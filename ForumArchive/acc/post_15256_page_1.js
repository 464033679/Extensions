[{"Owner":"MarianG","Date":"2015-06-17T19:24:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi guys_co_ _lt_/p_gt__lt_p_gt_I have another little problem. Unfortunately I can_t_t share too much code_co_ but i _t_ll try to synthesize._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I have a park with 7_co_8 animals_co_ all animals have plenty animations like_co_  from key 0 to 100 - walk animation_co_ 110-180- run_co_ etc._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_When I load all animals_co_ I try to start for each of them one animation_co_ random from the entire film._lt_/p_gt__lt_p_gt_But animation start only for 3 or 4_co_ when one is finished_co_ start another animation_co_ and so on_co_ but after a few time the animations stop at a time._lt_/p_gt__lt_p_gt_And the others animals nothing do._lt_/p_gt__lt_p_gt_If i refresh the page_co_ 3 other animals will be animated_co_ and the others nothing_co_ and so on._lt_/p_gt__lt_p_gt_I test the animations foreach individual animals_co_ and works fine_co_ but when I import more than 3 or 4 diferent animals the animation not start at all. And all animals have the same skeleton._lt_/p_gt__lt_p_gt_ And I can_t_t explain why._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_And a piece of code_dd__lt_/p_gt__lt_pre_gt__lt_/pre_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_BABYLON.SceneLoader.ImportMesh(_qt__qt__co_url_co__qt_lion.babylon_qt__co_ scene_co_ function (m_co_ p_co_ s) { m[0].active_animation _eq_ 1_sm_ m[0].skeleton _eq_ s[0]_sm_  var on_end _eq_ function(){     //stop actual animation     scene.stopAnimation(m[0].skeleton_co_ setting[m[0].active_animation].from_co_ setting[m[0].active_animation].to_co_ false_co_1)_sm_     //choose one animation random from film     m[0].active_animation _eq_ parseInt((Math.random() * 10) + 1)_sm_     //start new animation     scene.beginAnimation(m[0].skeleton_co_ setting[m[0].active_animation].from_co_ setting[m[0].active_animation].to_co_ false_co_1_co_on_end)_sm_  }  scene.beginAnimation(m[0].skeleton_co_ setting[m[0].active_animation].from_co_ setting[m[0].active_animation].to_co_ false_co_1_co_on_end)_sm_})_sm__lt_/pre_gt__lt_p_gt_Thanks a lot_co_ and sorry my bad english._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2015-06-18T07:01:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_would be great to have this reproduced on the playground to be able to debug this. Can you try adding a bit mroe of the original code to playground?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_A quick note about your code - _lt_/p_gt__lt_p_gt_Calling the function at the end of the animation is explicitly running it after the animation stopped. So there is no reason to call stopAnimation. In the same matter - stopAnimation takes only one parameter (target) and is anyhow called when executing begingAnimation (_lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/Babylon/babylon.scene.ts#L679_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/Babylon/babylon.scene.ts#L679_lt_/a_gt_) _co_ so this is redundant. But I doubt this is the problem... _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"MarianG","Date":"2015-06-18T08:01:47Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi_co_ RaananW. _lt_/p_gt__lt_p_gt_I finally found the problem_co_  but I don_t_t know if is a bug_co_ or I  is a problem in my code. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Here are solution_dd_ _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_BABYLON.SceneLoader.ImportMesh(_qt__qt__co_url_co__qt_lion.babylon_qt__co_ scene_co_ function (m_co_ p_co_ s) {m[0].active_animation _eq_ 1_sm_m[0].skeleton _eq_ s[0]_sm_ m[0].anim_fin _eq_ false_sm_var on_end _eq_ function(){ m[0].anim_fin _eq_ true_sm_}var check _eq_ setInterval(function(){  if(m[0].anim_fin){     m[0].active_animation _eq_ parseInt((Math.random() * 10) + 1)_sm_     scene.beginAnimation(m[0].skeleton_co_ setting[m[0].active_animation].from_co_ setting[m[0].active_animation].to_co_ false_co_1_co_on_end)_sm_     m[0].anim_fin _eq_ false_sm_  }}_co_200)scene.beginAnimation(m[0].skeleton_co_ setting[m[0].active_animation].from_co_ setting[m[0].active_animation].to_co_ false_co_1_co_on_end)_sm_ })_sm__lt_/pre_gt__lt_p_gt_And now_co_ I_t_ll try to explain the problem._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_It enters the _qt_on_end_qt_ function various times_co_ at the end of one animation_co_ not just once. I started an animation_co_ it finishes and then enters the function _qt_on_end_qt_  3_co_4 times_co_ not only one time_co_ for each animation_co_ then again in the function several times and so on until all the animations  get blocked._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I make a playground_co_ but there work fine_co_ u can see that in console._lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1HUCSD_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1HUCSD_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Temechon","Date":"2015-06-18T09:42:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_With wich version of babylon are you working ? It was a bug in 2.0 that I fixed in 2.1 if I remember correctly._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"MarianG","Date":"2015-06-18T16:18:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_i still use babylon2.0. I_t_ll try with 2.1 and i_t_ll tell you the difference. Thanks._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"MarianG","Date":"2015-06-23T08:44:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi Tenechon_co_ I update my babylonjs version to 2.1 and now it works fine_co_ without setInterval_co_ and other updates_co_... now it enters on the _qt_on_end_qt_ function only one time. _lt_/p_gt__lt_p_gt_Thanks for your help._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]