[{"Owner":"jacquesr","Date":"2018-02-26T17:00:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi guys_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI recently started with some visual fidelity stuff in my scene and I wanted to add shadows.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tNow_co_ I load a mesh that I exported from blender and I do this\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_BABYLON.SceneLoader.ImportMesh(_qt__qt__co_ _qt_lib/orteclbvis/themes/defaulttheme/models/_qt__co__qt_yard.babylon_qt__co_ this.scene_co_ (newMeshes_co_ ParticleSystem_co_ skeletons ) _eq_&gt_sm_\n{ \n\n    newMeshes[0].rotate(BABYLON.Axis.Y_co_ BABYLON.Tools.ToRadians(180)_co_ BABYLON.Space.LOCAL)_sm_\n    newMeshes[0].position.y _eq_ this.getEnvironmentHeight()_sm_\n    newMeshes[0].position.z _eq_ 0_sm_ \n    newMeshes[0].position.x _eq_ 30000_sm_ \n\n    if(this.sceneObjects.sunLight)\n    {\n        var shadowGenerator _eq_ new BABYLON.ShadowGenerator(1024*16_co_ this.sceneObjects.sunLight)_sm_                                        \n        shadowGenerator.setDarkness(.3)_sm_\n        SceneManagerHelper.enableMeshShadowsRecursively(\n            &lt_sm_BABYLON.Mesh[]&gt_sm_newMeshes_co_ \n            shadowGenerator)_sm_\n    }\n })_sm_\n\n\n\n// recursive shadow enabler method code_dd_\n\nstatic enableMeshShadowsRecursively(meshes _dd_ BABYLON.Mesh[]_co_ shadowGenerator _dd_ BABYLON.ShadowGenerator)\n{\n    for(var i _eq_ 0_sm_ i &lt_sm_ meshes.length_sm_ i++)\n    {\n        var m _eq_ meshes[i]_sm_\n        shadowGenerator.getShadowMap().renderList.push(m)_sm_                \n        m.receiveShadows _eq_ true_sm_\n        var childs _eq_ m.getChildMeshes()_sm_\n        if(childs &amp_sm_&amp_sm_ childs.length &gt_sm_ 0)\n        {\n            this.enableMeshShadowsRecursively(&lt_sm_BABYLON.Mesh[]&gt_sm_childs_co_ shadowGenerator)_sm_\n            }\n        }\n    }\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd my shadows are weirdly offset. See attached images.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAny idea how that can happen?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tMy scene scale is quiet big (1 babylon unit _eq_ 1mm)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_02/shadows_1.jpg.e901de2bdfc699c03231edd7cd280676.jpg_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_17224_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_02/shadows_1.jpg.e901de2bdfc699c03231edd7cd280676.jpg_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_shadows_1.jpg_qt__gt__lt_/a_gt__lt_/p_gt_\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_02/shadows_2.jpg.b28741e0d5d1285d2fec72c76067f189.jpg_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_17225_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_02/shadows_2.jpg.b28741e0d5d1285d2fec72c76067f189.jpg_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_shadows_2.jpg_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jacquesr","Date":"2018-02-26T17:05:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOh and this.sceneObjects.sunLight is a directional light\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-02-26T17:08:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello this should come from the bias given that your scene scale is rather large\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou should have a look here_dd_ _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/babylon101/shadows#troubleshooting_qt_ ipsnoembed_eq__qt_true_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/babylon101/shadows#troubleshooting_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jacquesr","Date":"2018-02-26T17:32:47Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYou made my day. And the next day_co_ too.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd the day after tomorrow. And all that within 10 minutes.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tGreat_co_ thanks\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]