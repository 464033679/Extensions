[{"Owner":"joeBImagine","Date":"2017-12-09T18:04:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello Babylon community!!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am having an issue that I am not sure how to resolve.  Here is my github.io to get a better sense of the problem_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//jbimagine.github.io/#_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//jbimagine.github.io/#_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn the link above I have a babylon file loaded_co_ and in the side ui (if you click on the gear icon) several texture HTML DOM elements.  What I am trying to do is when you click on the mesh_co_ then click on the texture swatch in the ui_co_ the texture on the mesh will change.  \n_lt_/p_gt_\n\n_lt_p_gt_\n\tFor some reason however_co_ it is not working correctly.  I click on the mesh_co_ then click on the swatch_co_ then have to click back on the mesh for the texture to actually change.  Note that I am not using the set name of the mesh_co_ but rather a const created from the pick.result so that it will be based off of any loaded mesh.  \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAny help on what I am missing (probably something stupid easy) would be awesome! \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAlso I am curious if it would have been easier_co_ and more efficient to use the gui?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JohnK","Date":"2017-12-09T19:25:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWorking for me on an Android tabled. Touch away from object which is deselected. Select texture touch object texture changed on object_co_ touch new texture this texture applied to object.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"joeBImagine","Date":"2017-12-09T19:42:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/14282-johnk/?do_eq_hovercard_qt_ data-mentionid_eq__qt_14282_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/14282-johnk/_qt_ rel_eq__qt__qt__gt_@JohnK_lt_/a_gt_  You know what_co_ you are right.  It works on my ipad correctly as well.  Never thought to try that. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tHowever on desktop _co_ in both chrome and edge the issue persists.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"brianzinn","Date":"2017-12-09T20:53:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tI would say it can be fixed in two ways_dd__lt_br /_gt_\n\t1. window.addEventListener(_qt_click_qt__co_...) should just be for the canvas_co_ as clicks on the DOM are already captured._lt_br /_gt_\n\t2. pickResult - check for pickResult.hit before assigning to selected mesh_co_ otherwise it is null (then you can_t_t assign the material)._lt_br /_gt__lt_br /_gt_\n\tAlso_co_ I think you found a good use case where DOM makes more sense than GUI.  It_t_s simple and easy to use.  You could accomplish with a full screen GUI using Images with textures_co_ but I don_t_t see how you are going to easily get the _qt_overflow auto_qt_ working with GUI.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"joeBImagine","Date":"2017-12-09T22:33:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThank you for the suggestions _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/25365-brianzinn/?do_eq_hovercard_qt_ data-mentionid_eq__qt_25365_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/25365-brianzinn/_qt_ rel_eq__qt__qt__gt_@brianzinn_lt_/a_gt_.  If I am understanding correctly you are saying this correct_dd_  \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_             window.addEventListener(canvas_co_ () _eq_&gt_sm_ {\n\t\t\t\tconst pickResult _eq_ scene.pick(scene.pointerX_co_ scene.pointerY)_sm_\n\t\t\t\tconsole.log(pickResult.hit)_sm_\n\t\t\t\tlet selectedMesh _eq_ null_sm_\n\t\t\t\tif (pickResult.hit _eq__eq__eq_ true) {\n\t\t\t\t\tselectedMesh _eq_ pickResult.pickedMesh_sm_\n\t\t\t\t\tif (selectedMesh &amp_sm_&amp_sm_ currentFabric) {\n\t\t\t\t\t\tselectedMesh.material _eq_ currentFabric_sm_\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconsole.log(selectedMesh)_sm_\n\t\t\t\tconsole.log(currentFabric_co_ _t_currentMesh_t_)_sm_\n\t\t\t})_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tIf I am inputting that correctly_co_ the texture change no longer works.  \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Arte","Date":"2017-12-09T22:51:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_198074_qt_ data-ipsquote-contentid_eq__qt_34471_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1512858825_qt_ data-ipsquote-userid_eq__qt_27864_qt_ data-ipsquote-username_eq__qt_joeBImagine_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t13 minutes ago_co_ joeBImagine said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tThank you for the suggestions _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/25365-brianzinn/?do_eq_hovercard_qt_ data-mentionid_eq__qt_25365_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/25365-brianzinn/_qt_ rel_eq__qt__qt__gt_@brianzinn_lt_/a_gt_.  If I am understanding correctly you are saying this correct_dd_  \n\t\t_lt_/p_gt_\n\n\t\t_lt_pre_gt_\n\n_lt_code_gt_             _lt_span_gt_window_lt_/span_gt_.addEventListener_lt_span_gt__lt_span_gt_(canvas_co_ () _eq_&gt_sm_ {\n\t\t\t\t_lt_span_gt_const_lt_/span_gt_ pickResult _eq_ scene.pick(scene.pointerX_co_ scene.pointerY)_sm_\n\t\t\t\t_lt_span_gt_console_lt_/span_gt_.log(pickResult.hit)_sm_\n\t\t\t\t_lt_span_gt_let_lt_/span_gt_ selectedMesh _eq_ _lt_span_gt_null_lt_/span_gt__sm_\n\t\t\t\t_lt_span_gt_if_lt_/span_gt_ (pickResult.hit _eq__eq__eq_ _lt_span_gt_true_lt_/span_gt_) {\n\t\t\t\t\tselectedMesh _eq_ pickResult.pickedMesh_sm_\n\t\t\t\t\t_lt_span_gt_if_lt_/span_gt_ (selectedMesh &amp_sm_&amp_sm_ currentFabric) {\n\t\t\t\t\t\tselectedMesh.material _eq_ currentFabric_sm_\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t_lt_span_gt_console_lt_/span_gt_.log(selectedMesh)_sm_\n\t\t\t\t_lt_span_gt_console_lt_/span_gt_.log(currentFabric_co_ _lt_span_gt__t_currentMesh_t__lt_/span_gt_)_sm_\n\t\t\t})_lt_/span_gt__sm__lt_/span_gt__lt_/code_gt__lt_/pre_gt_\n\n\t\t_lt_p_gt_\n\t\t\tIf I am inputting that correctly_co_ the texture change no longer works.  \n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tHi joe...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tselectedMesh set as global var. After click on material_co_ apply to global var (selectedMesh).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDoes that make sense?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"brianzinn","Date":"2017-12-10T02:40:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_198074_qt_ data-ipsquote-contentid_eq__qt_34471_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1512858825_qt_ data-ipsquote-userid_eq__qt_27864_qt_ data-ipsquote-username_eq__qt_joeBImagine_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t4 hours ago_co_ joeBImagine said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tyou are saying this correct\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tyes_co_ I think just remove the line _qt_let selectedMesh _eq_ null_qt__co_ because then you are creating a new variable that is not in scope with the other calls_co_ which require a shared (or global variable).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAlso_co_ on your github.io page you have _qt_const selectedMesh_qt__co_ that means you don_t_t intend to re-assign it_co_ so just maybe just declare _qt_var selectedMesh_sm__qt_ at the top of your main.js file?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"joeBImagine","Date":"2017-12-10T16:51:44Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/27658-arte/?do_eq_hovercard_qt_ data-mentionid_eq__qt_27658_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/27658-arte/_qt_ rel_eq__qt__qt__gt_@Arte_lt_/a_gt_ _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/25365-brianzinn/?do_eq_hovercard_qt_ data-mentionid_eq__qt_25365_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/25365-brianzinn/_qt_ rel_eq__qt__qt__gt_@brianzinn_lt_/a_gt_  Forgive the delay in a response!!  So I_t_ve set the selectedMesh as a global variable above my main function.  But still not able to change textures.  I think it may be something to do with the window.addEventListener(canvas_co_..) as now I am not able to generate console.log reports when I select the mesh but I am not certain with my limited knowledge.  Updated _lt_a href_eq__qt_http_dd_//jbimagine.github.io_qt_ rel_eq__qt_external nofollow_qt__gt_github_lt_/a_gt_.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"brianzinn","Date":"2017-12-10T17:22:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIf you only need canvas clicks you can use the built-in pointerdown. I_t_m not at a computer now to make a PG.\n_lt_/p_gt_\n\n_lt_p_gt_\n\twindow.addeventlistener(canvas_co_...) I don_t_t imagine will register the events.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"joeBImagine","Date":"2017-12-10T17:46:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI think I understand what you are saying.  change my window.addEventListener (_t_canvas_t_) to this_dd_  \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_canvas.addEventListener(_t_pointerdown_t__co_ () _eq_&gt_sm_{\n\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"brianzinn","Date":"2017-12-11T02:59:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_div style_eq__qt_background-color_dd_#1e1e1e_sm_color_dd_#d4d4d4_sm_font-size_dd_14px_sm__qt__gt_\n\t_lt_p_gt_\n\t\tI don_t_t know what happened with formatting here_co_ but would likely go this way_co_ so you don_t_t need to call scene.pick yourself_dd_\n\t_lt_/p_gt_\n\n\t_lt_pre_gt_\n_lt_code_gt_scene.onPointerObservable.add((evt) _eq_&gt_sm_ {\n  if (evt.pickInfo.hit &amp_sm_&amp_sm_ evt.pickInfo.pickedMesh) {\n    let mesh _eq_ evt.pickInfo.pickedMesh\n  }\n}_co_ PointerEventTypes.POINTERDOWN)_lt_/code_gt__lt_/pre_gt_\n\n\t_lt_p_gt_\n\t\t \n\t_lt_/p_gt_\n_lt_/div_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"joeBImagine","Date":"2017-12-11T04:51:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/25365-brianzinn/?do_eq_hovercard_qt_ data-mentionid_eq__qt_25365_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/25365-brianzinn/_qt_ rel_eq__qt__qt__gt_@brianzinn_lt_/a_gt_  thank you for that_co_ looks like I was doing it wrong.  But I did with your last tidbit and some tweaking_co_ get it to work properly_dd_  \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_//CREATE THE HIGHLIGHT LAYER\n\t\t\tlet h1 _eq_ new BABYLON.HighlightLayer(_t_hl_t__co_ scene)_sm_\n\t\t\t//SET THE INITIAL STATE OF THE lastClickedMesh var\n\t\t\tlet lastClickedMesh _eq_ null_sm_\n\t\t\tlet mesh _eq_ null_sm_\n\n\t\t\t//ADD A POINTERDOWN OBSERVABLE \n\t\t\tscene.onPointerObservable.add(evt _eq_&gt_sm_ {\n\t\t\t\t\n\t\t\t\tif (evt.pickInfo.hit &amp_sm_&amp_sm_ evt.pickInfo.pickedMesh !_eq__eq_ undefined) {\n\t\t\t\t\t//STORES THE MESH INTO A VARIABLE\n\t\t\t\t\t mesh _eq_ evt.pickInfo.pickedMesh_sm_\n\t\t\t\t\tlet fabrics _eq_ document.querySelectorAll(_t_.fabrics_t_)_sm_\n\t\t\t\t\tlet currentFabric_sm_\n\t\t\t\t\tfabrics.forEach(function(fabric) {\n\t\t\t\t\t\tfabric.addEventListener(_t_click_t__co_ evt _eq_&gt_sm_ {\n\t\t\t\t\t\t\tconsole.log(obj[evt.target.id])_sm_\n\t\t\t\t\t\t\tcurrentFabric _eq_ obj[evt.target.id]_sm_\n\t\t\t\t\t\t\tif(mesh &amp_sm_&amp_sm_ currentFabric){\n\t\t\t\t\t\t\t\tmesh.material _eq_ currentFabric_sm_\n\t\t\t\t\t\t\t\t//console.log(evt.pickInfo.pickedMeshmesh)_sm_\n\t\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\t\tmesh.removeMesh(mesh)_sm_\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})_sm_\n\t\t\t\t\t})_sm_\n\t\t\t\t\t//HIGHLIGHTS THE CURRENT SELECTION\n\t\t\t\t\tif (newMeshes) {\n\t\t\t\t\t\tif (lastClickedMesh !_eq__eq_ null) {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\th1.removeMesh(lastClickedMesh)_sm_\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlastClickedMesh _eq_ mesh_sm_\n\t\t\t\t\t\th1.addMesh(lastClickedMesh_co_ BABYLON.Color3.FromHexString(_t_#4c90ef_t_))_sm_\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\th1.removeMesh(lastClickedMesh)_sm_\n\t\t\t\t}\n\n\t\t\t\t\n\t\t\t}_co_ BABYLON.PointerEventTypes.POINTERDOWN)_sm_\n\t\t}\n\t)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tI can_t_t emphasize enough how awesome this community is _dd_D!!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]