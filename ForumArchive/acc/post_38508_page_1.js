[{"Owner":"gorgar","Date":"2018-06-27T18:24:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tJust got a quick question demonstrated in the following example_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#IK3V1A%236_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#IK3V1A#6_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tQ1. You can see a sphere mesh being constructed with a diameter of 4_co_ yet the bounding sphere of said mesh has a radius of _t_3.4641016151377544_t_.  Shouldn_t_t it be ~2?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tQ2. I may be misunderstanding _lt_em_gt_BoundingSphere.intersectsPoint_co__lt_/em_gt_ but after picking a mesh from the scene_co_ an additional check is done to see if said point exists within the bounding sphere.  This returns true even when dragging across the plane_co_  far away from the sphere.  Why is this happening?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSnippet of_lt_em_gt_ BoundingSphere.intersectsPoint_lt_/em_gt_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_// pick from scene_co_ ignore ray helper_co_ don_t_t use fast pick\nconst pick _eq_ scene.pick(scene.pointerX_co_ scene.pointerY_co_ m _eq_&gt_sm_ m.name !_eq__eq_ _t_ray_t__co_ false)\n\n// if we have a hit and the point exists within bounding sphere\nif (pick.hit &amp_sm_&amp_sm_ bs.intersectsPoint(pick.pickedPoint)) {\n    ...\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThank you!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2018-06-27T18:38:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#IK3V1A%238_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#IK3V1A#8_lt_/a_gt__lt_br /_gt_\n\t_lt_br /_gt_\n\tHe is right_co_ there is some error in this calculation.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2018-06-27T18:56:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#IK3V1A%239_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#IK3V1A#9_lt_/a_gt__lt_br /_gt_\n\t_lt_br /_gt_\n\twhat is happening is we are relying on a distance calculation that for some reason is not doing it_lt_br /_gt_\n\t_lt_br /_gt_\n\there is a work around._lt_br /_gt_\n\t_lt_br /_gt_\n\t \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_var min _eq_ Number.POSITIVE_INFINITY_sm_\n    var max _eq_ Number.NEGATIVE_INFINITY_sm_\n    var va _eq_ [_t_x_t__co__t_y_t__co__t_z_t_]_sm_\n    \n    for(var i_eq_0_sm_ i&lt_sm_3_sm_ i++){\n        if(bs.minimum[va[i]]&lt_sm_min){\n            min_eq_bs.minimum[va[i]]_sm_\n        }\n         if(bs.maximum[va[i]]&gt_sm_max){\n            max_eq_bs.maximum[va[i]]_sm_\n        }\n    } \n\n    var distance _eq_ max-min_sm_\n    var radius _eq_ distance*0.5_sm_\n\n    console.log(radius_co_ _qt_real Radius_qt_)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2018-06-27T19:03:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/pull/4620_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/pull/4620_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2018-06-27T19:26:22Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tCould also do this_dd__lt_br /_gt_\n\t \n_lt_/p_gt_\n\n_lt_div style_eq__qt_background-color_dd_#fffffe_sm_color_dd_#000000_sm_font-size_dd_14px_sm__qt__gt_\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#0000ff_sm__qt__gt_var_lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_ radi _eq_ (bs.maximum.subtract(bs.minimum)).scale(_lt_/span_gt__lt_span style_eq__qt_color_dd_#09885a_sm__qt__gt_0.5_lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_)_sm__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_console.log(radi)_sm_ _lt_/span_gt__lt_br /_gt_\n\t\t_lt_br /_gt_\n\t\tif its not truly spherical and want the radius per axis.\n\t_lt_/div_gt_\n_lt_/div_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"gorgar","Date":"2018-06-27T19:34:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks for the quick response and details Pryme8!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDoesn_t_t this mean that each operation performance against the Bounding Sphere is potentially incorrect? EG intersectsPoint_co_ isInFrustum.  Assuming they depend on the internal radius_co_ not _t_realRadius_t_.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2018-06-27T19:43:03Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tehhhhh_co_ maybe honestly...  I mean it kinda would seem that way._lt_br /_gt_\n\t_lt_br /_gt_\n\tThe distance.length() calc seems to be the problem._lt_br /_gt_\n\tbut Im not sure if everything else is working correctly_co_ thats why I left the old stuff and just did a secondary calc._lt_br /_gt_\n\t_lt_br /_gt_\n\tWhen I get back from lunch Ill dig more into this math.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2018-06-27T20:05:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tQ1 _dd_ I guess there_t_s a misunderstanding about what is the bounding sphere of a mesh here_co_ of any mesh (a sphere or a box_co_ or anything). The bounding sphere is simply the sphere embedding the mesh bounding box !\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn the particular case where the mesh itself is a sphere_co_ well_co_ it is contained in a bounding box greater than it_co_ this bounding box being contained in its bounding sphere greater than the bounding box.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThat_t_s why the bounding sphere radius is always greater than the contained spherical mesh radius. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf you want a better explanation_co_ please have a read at the part  starting by _qt__lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#000000_sm_font-size_dd_medium_sm__qt__gt_As you may know_co_ a mesh -so a solid particle- is inside its bounding ..._qt_ here _dd_ _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/how_to/solid_particle_system#particle-intersections_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/how_to/solid_particle_system#particle-intersections_lt_/a_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_font color_eq__qt_#000000_qt_ size_eq__qt_3_qt__gt_In the case of spherical mesh the ratio between the bounding sphere radius and the contained sphere radius is sqrt(3)_lt_/font_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2018-06-27T20:14:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tsoooo_dd__lt_br /_gt_\n\t \n_lt_/p_gt_\n\n_lt_div style_eq__qt_background-color_dd_#1e1e1e_sm_color_dd_#d4d4d4_sm_font-size_dd_14px_sm__qt__gt_\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#569cd6_sm__qt__gt_var_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_ r _lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt__eq__lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_ BABYLON_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_._lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_Vector3_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_._lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_Distance_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_(_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_bs_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_._lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_maximum_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt__co__lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_ bs_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_._lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_minimum_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_)_sm__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_r _lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_/_eq__lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_ Math_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_._lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_sqrt_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_(_lt_/span_gt__lt_span style_eq__qt_color_dd_#b5cea8_sm__qt__gt_3_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_)_sm__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_r_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_*_eq__lt_/span_gt__lt_span style_eq__qt_color_dd_#b5cea8_sm__qt__gt_0.5_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt__sm__lt_/span_gt_\n\n\t\t_lt_div style_eq__qt_background-color_dd_#1e1e1e_sm_color_dd_#d4d4d4_sm_font-size_dd_14px_sm__qt__gt_\n\t\t\t_lt_div_gt_\n\t\t\t\t_lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_console_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_._lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_log_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_(_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_r_lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt__co__lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#ce9178_sm__qt__gt__qt_real Radius_qt__lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcdc_sm__qt__gt_)_sm__lt_/span_gt_\n\t\t\t_lt_/div_gt_\n\t\t_lt_/div_gt_\n\t_lt_/div_gt_\n_lt_/div_gt_\n\n_lt_p_gt_\n\tI had to divide it in half as well_co_ cause ratio of sqrt 3 just gave me the diameter.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2018-06-27T20:21:41Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/pull/4621_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/pull/4621_lt_/a_gt__lt_br /_gt_\n\t_lt_br /_gt_\n\tbetter?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"gorgar","Date":"2018-06-27T23:20:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks for the explanation jerome!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"gorgar","Date":"2018-06-28T09:48:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSo about question two.  I_t_ve reformatted the demo_dd_ see link _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#IK3V1A%2313_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#IK3V1A#13_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf you use the boundingSphere_co_ it always returns true for intersects points_co_ even if you use a very small bounding sphere.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_ve implemented a difference version of intersectsPoint_co_ which gives the results I was expecting.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-06-28T15:24:52Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tthis one works right?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#IK3V1A#14_qt_ ipsnoembed_eq__qt_true_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#IK3V1A#14_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tPerhaps I don_t_t get what the problem is _lt_span_gt__lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt_true_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt__gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"gorgar","Date":"2018-06-28T16:21:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_pre_gt_\n_lt_code_gt_const min _eq_ new BABYLON.Vector3(-0.5_co_ -0.5_co_ -0.5)\nconst max _eq_ new BABYLON.Vector3(0.5_co_ 0.5_co_ 0.5)\nconst pnt _eq_ new BABYLON.Vector3(50_co_ 50_co_ 50)\nconst boundingSphere _eq_ new BABYLON.BoundingSphere(min_co_ max)\n        \n// result is true\nconst result _eq_ boundingSphere.intersectsPoint(pnt)_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tThe bounding sphere check above always returns true_co_ although the point doesn_t_t exist within the boundingSphere.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#IK3V1A%2316_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#IK3V1A#16_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-06-28T23:26:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThis is a yacky bug _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt_true_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt__gt_ I_t_ll fix that now_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_next commit will contain the fix_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_Thank you for the heads up_lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-06-28T23:32:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tFixed_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#IK3V1A#16_qt_ ipsnoembed_eq__qt_true_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#IK3V1A#16_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]