[{"Owner":"supersoupcan","Date":"2018-11-12T16:54:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello HTML game  devs. First time poster.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSome textures aren_t_t appearing in babylon.js in a tile set I exported from blender using the Blender To Babylon 5.6 exporter.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere is the tile set scene in blender_co_ as well as a simple hand crafted scene built in blender using the tiles to give an idea of what the final product should look like.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t._lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_20933_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_11/blender_tileset.png.b1cb5f0946d75a24a9d93506be50fb68.png_qt_ style_eq__qt_width_dd_400px_sm_height_dd_264px_sm__qt_ alt_eq__qt_blender_tileset.png.b1cb5f0946d75a24a9d93506be50fb68.png_qt_ /_gt__lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_20936_qt_ height_eq__qt_262_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_11/blender_exampleScene.png.40fa6d043e0d6c532b1f5f340af49969.png_qt_ width_eq__qt_435_qt_ alt_eq__qt_blender_exampleScene.png.40fa6d043e0d6c532b1f5f340af49969.png_qt_ /_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere is the default tile set scene imported into babylon.js as well as a scene generated by from my map-generation script.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_20935_qt_ height_eq__qt_319_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_11/render_tileSet.png.27d2e7e9f530f2cebf0485075f1bc638.png_qt_ width_eq__qt_419_qt_ alt_eq__qt_render_tileSet.png.27d2e7e9f530f2cebf0485075f1bc638.png_qt_ /_gt__lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_20934_qt_ height_eq__qt_311_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_11/render_generator.png.499ebd575dda77419985500b0bcdc977.png_qt_ width_eq__qt_412_qt_ alt_eq__qt_render_generator.png.499ebd575dda77419985500b0bcdc977.png_qt_ /_gt__lt_br /_gt_\n\t_lt_br /_gt_\n\tDespite my horrible lighting_co_  it_t_s clear the wall texture is not being rendered in all the models. Neither the exporter or babylon.js are generating any errors or warnings._lt_br /_gt_\n\t_lt_br /_gt_\n\t_lt_a class_eq__qt_ipsAttachLink_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/applications/core/interface/file/attachment.php?id_eq_20942_qt_ data-fileid_eq__qt_20942_qt_ rel_eq__qt__qt__gt_Here is an archive containing the .babylon file and textures_lt_/a_gt__lt_br /_gt_\n\t_lt_a class_eq__qt_ipsAttachLink_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/applications/core/interface/file/attachment.php?id_eq_20941_qt_ data-fileid_eq__qt_20941_qt_ rel_eq__qt__qt__gt_Here is the blender exporter log_lt_/a_gt__lt_br /_gt_\n\t_lt_br /_gt_\n\tI am new to 3D rendering and only have a basic understanding of Materials_co_ Lighting_co_ UV Maps and Textures_co_ so if somebody could have a crack at it I_t_d really appreciate it.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"supersoupcan","Date":"2018-11-12T16:57:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSorry I_t_ve only just now realized that this is not a straight forward question_co_ but more of a bug. Should I re-post this in the bug forum?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-11-12T23:12:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tPinging _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/?do_eq_hovercard_qt_ data-mentionid_eq__qt_8492_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/_qt_ rel_eq__qt__qt__gt_@JCPalmer_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"V!nc3r","Date":"2018-11-13T09:57:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tCan you share your .blend too? I think issue come from material configuration.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"supersoupcan","Date":"2018-11-13T15:21:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a class_eq__qt_ipsAttachLink_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/applications/core/interface/file/attachment.php?id_eq_20960_qt_ data-fileid_eq__qt_20960_qt_ rel_eq__qt__qt__gt_Here is the .blend with the textures_lt_/a_gt__lt_br /_gt_\n\t_lt_br /_gt_\n\tWhat would be a better approach?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"V!nc3r","Date":"2018-11-14T10:30:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSome objects doesn_t_t have materials_co_ so of course there are not exported _lt_img alt_eq__qt__sm_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ title_eq__qt__sm_)_qt_ width_eq__qt_20_qt_ /_gt_ (ex_dd_ water_water_water.tile)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"supersoupcan","Date":"2018-11-14T15:12:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_m not trying to export the objects in the first layer. I want to export the objects on the second layer which all have materials.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"V!nc3r","Date":"2018-11-14T15:20:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOK. It seems this mesh was broken_co_ so I attached it to a new Cube and it solved the issue\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img class_eq__qt_ipsImage_qt_ height_eq__qt_657_qt_ src_eq__qt_https_dd_//i.imgur.com/2ckZeRn.png_qt_ style_eq__qt_width_dd_200px_sm_height_dd_auto_sm__qt_ width_eq__qt_651_qt_ alt_eq__qt_2ckZeRn.png_qt_ /_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"supersoupcan","Date":"2018-11-14T15:28:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHow do you find out if a mesh is broken? And how does attaching a Cube fix the issue?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"V!nc3r","Date":"2018-11-14T15:33:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI just had a feeling_co_ and I suppose attaching to a new primitive just made a kind of data cleaning/reset.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"supersoupcan","Date":"2018-11-14T15:48:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHow would I replicate that precisely_co_ because I tried joining the mesh with a Cube_co_ and then deleting the added Cube_co_ and the mesh was still broken in babylon.js.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"V!nc3r","Date":"2018-11-14T16:03:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tactually I was on the wrong track_dd_ some meshes share the same material_co_ but some have UV use by _qt_wall_qt_ material on first channel_co_ others on the second_co_ and other doesn_t_t have second channel\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img class_eq__qt_ipsImage_qt_ height_eq__qt_345_qt_ src_eq__qt_https_dd_//i.imgur.com/sLouM4Y.gif_qt_ style_eq__qt_width_dd_600px_sm_height_dd_auto_sm__qt_ width_eq__qt_872_qt_ alt_eq__qt_sLouM4Y.gif_qt_ /_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tand as the exporter log says_dd_\n_lt_/p_gt_\n\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tQuote\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\t        processing begun of Standard material_dd_  wall_lt_br /_gt_\n\t\t\t            Diffuse texture found _qt_wall_qt__lt_br /_gt_\n\t\t\t                Image texture found_co_ type_dd_  diffuseTexture_co_ mapped using_dd_ _qt_WallUV_qt_\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tand I have also this in the .babylon_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_    _qt_materials_qt__dd_ [\n        {\n            _qt_name_qt__dd_ _qt_hextiles_2_0.wall_qt__co_\n           [...]\n            _qt_diffuseTexture_qt__dd_\n            {\n                _qt_name_qt__dd_ _qt_wall.png_qt__co_\n                [...]\n                _qt_coordinatesIndex_qt__dd_ 1\n            }\n        }_co__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tAs your mesh doesn_t_t have two UV chans_co_ coordinatesIndex _eq_ 1 can_t_t work on it.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"supersoupcan","Date":"2018-11-14T16:53:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks for your help V!nc3r its working perfectly now! I guess the key takeaway is that blender uses keys to store UV references_co_ while the Babylon.js exporter uses indices.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"V!nc3r","Date":"2018-11-14T19:00:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tActually_co_ Blender use indices too_co_ but you can give a name to them.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFor example_co_ if you have an active object and type\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_bpy.context.active_object.data.uv_layers[0].name_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tin the console_co_ you should read your first UV channel name. If you change the 0 by 1_co_ you_t_ll see the second UV channel name_co_ etc. This index number is exactly the same than the coordinatesIndex one.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]