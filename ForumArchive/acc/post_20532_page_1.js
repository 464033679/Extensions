[{"Owner":"ian","Date":"2016-02-15T16:46:46Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere is my example.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCode works so that perplexus(mesh) is rotated around it_t_s center. With Key 1_co_2 around Y_co_ with key 3_co_4 around X and key 5_co_6 aroudn Z.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCan anybody help me to solve how to rotate perplexus(mesh) around current center of payBall(mesh)?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//86.58.118.110_dd_8080/BabylonBall/Main.html_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//86.58.118.110_dd_8080/BabylonBall/Main.html_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tif I add code\n_lt_/p_gt_\n\n_lt_p_gt_\n\tvar currentCenterPlayBall _eq_ perplexusRef.playBall.getBoundingInfo().boundingSphere.center_sm__lt_br_gt_\n\tI get currentCenterPlayBall (x_co_y_co_z). How can I rotate perplexus Mesh around currentCenterPlayBall this current (x_co_y_co_z) ?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t        _lt_br_gt_\n\t     \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_ \n    \t\n        switch (keycode) {\n        \t// user inputs\n\t        case 49_dd_ // 1  \n\t        \t\n\t        \tperplexusRef.perplexus.rotate(BABYLON.Axis.Y_co_ Math.PI / +512_co_ BABYLON.Space.LOCAL)_sm_\n\t        \tperplexusRef.perplexus.updatePhysicsBodyPosition()_sm_\n\t    \t\tbrake_sm_    \t    \t\t\n\t        case 50 _dd_ // 2   \t        \t\n\t        \tperplexusRef.perplexus.rotate(BABYLON.Axis.Y_co_ Math.PI / -512_co_ BABYLON.Space.LOCAL)_sm_\n\t        \tperplexusRef.perplexus.updatePhysicsBodyPosition()_sm_\n\t    \t\t\n\t            break_sm_\n\t        case 51 _dd_ // 3\n\t        \t\n\t        \tperplexusRef.perplexus.rotate(BABYLON.Axis.X_co_ Math.PI / +512_co_ BABYLON.Space.LOCAL)_sm_\n\t        \tperplexusRef.perplexus.updatePhysicsBodyPosition()_sm_\n\t        \t\n\t            break_sm_\n\t        case 52 _dd_ // 4    \t        \t    \t                \t    \t\t\n\t        \tperplexusRef.perplexus.rotate(BABYLON.Axis.X_co_ Math.PI / -512_co_ BABYLON.Space.LOCAL)_sm_\n\t        \tperplexusRef.perplexus.updatePhysicsBodyPosition()_sm_\n\t            break_sm_    \t    \t\t\n\t        case 53 _dd_ // 5    \t        \t\n\t        \tperplexusRef.perplexus.rotate(BABYLON.Axis.Z_co_ Math.PI / +512_co_ BABYLON.Space.LOCAL)_sm_\n\t        \tperplexusRef.perplexus.updatePhysicsBodyPosition()_sm_\n\t        \t\n\t            break_sm_\n\t        case 54 _dd_ // 6    \t        \t    \t                \t    \t\t\n\t        \tperplexusRef.perplexus.rotate(BABYLON.Axis.Z_co_ Math.PI / -512_co_ BABYLON.Space.LOCAL)_sm_\n\t        \tperplexusRef.perplexus.updatePhysicsBodyPosition()\n\t        \t\n\t            break_sm_\t  \n\n\n\nAny help?\n\ngreetings\n_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAny help?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tgreetings_lt_br_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-02-16T03:51:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tyou can just try to make perplexus child of playBall\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ian","Date":"2016-02-16T06:38:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tas this?_lt_br_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1W3CLH%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1W3CLH#1_lt_/a_gt__lt_br_gt_\n\tI_t_ll try to see what happen. I_t_ll lelt you know rhe resoult.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-02-16T08:08:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tParenting? On physics objects?  (Wingy checks Deltakosh_t_s temperature)  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt_true_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt__gt__lt_/p_gt_\n\n_lt_p_gt_\n\tHi Ian!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMaybe start with _lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/search/?&amp_sm_q_eq_pivot&amp_sm_type_eq_forums_topic&amp_sm_nodes_eq_16_co_28_co_29_co_30_co_31_qt__gt_a forum search for _t_pivot_t__lt_/a_gt_.  After you get tired of reading all 123 returns_co_ you might find...\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_mesh.setPivotMatrix(BABYLON.Matrix.Translation(xDistance_co_ yDistance_co_ zDistance))_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tBUT... sigh.  We_t_re all screwed.  heh\n_lt_/p_gt_\n\n_lt_p_gt_\n\t(I_t_m a jerk sometimes_co_ eh?)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou will probably need to change the pivot matrix on your track_t_s meshImpostor_co_ as well.  The BJS meshImpostor is a _lt_a href_eq__qt_http_dd_//schteppe.github.io/cannon.js/docs/classes/Trimesh.html_qt_ rel_eq__qt_external nofollow_qt__gt_Cannon.Trimesh_lt_/a_gt_.  Visit that link_co_ if you please.   Look at the methods listed.  I don_t_t see any methods that could change the pivot point of the meshImpostor.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThere MIGHT be a method using mesh.bakeCurrentTransformIntoVertices() and then mesh.updatePhysicsBodyPosition_co_ but I can_t_t imagine the needed code.  Also_co_ you will need to do this constantly_co_ in the renderLoop.  Every moment that the ball rolls down the track_co_ you must translate mesh_t_s pivot... the correct _lt_u_gt_distance_lt_/u_gt_ to be located at ball.position_co_ and then ????  \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis is very complicated_co_ as best I can tell.  What you REALLY need is mesh.updatePhysicsPivotTransform()... which is the same as Cannon.Trimesh.setPivotMatrix() which... doesn_t_t exist.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAlso_co_ I don_t_t know if you WANT to rotate the track around the current ball position.  Allow me to show you a playground from a friend... which will give you the idea of what this might _qt_feel_qt_ like... _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1HH4OJ%236_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1HH4OJ#6_lt_/a_gt_ .  Wait for the camera to get fully-zoomed_co_ and then wait and watch some more.    \n_lt_/p_gt_\n\n_lt_p_gt_\n\tSee how that _qt_feels_qt_ like we are rolling the track... along the surface of a car/ball?  (opposite of what you might desire)  I think if you rotate your perplexus track around your ball_co_ you will get the same effect.  Instead_co_ _lt_u_gt_your_lt_/u_gt_ game needs to _qt_feel_qt_ like rolling a ball/car... along the surface of a track. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI bet I know what is happening in your project_co_ Ian.  The user tilts the perplexus track too fast_co_ and the ball makes a _qt_fall_qt_ to the track far below and causes trouble.  Maybe try limiting the allowed track rotation speed?  I don_t_t know.  This is not an easy issue.  MeshImpostors (Trimesh) are real new_co_ and your project is not simple.  I could be wrong... in MANY ways.  But maybe not.  I wish I could help more.  Others will comment.  Sorry that I didn_t_t have better news for you_co_ Ian.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ian","Date":"2016-02-16T08:33:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWingnut\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYes I think you have right. This is very complicated.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMaybe I should forget this alternative (rotating around current sphere center).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMaybe I should think some other way to solve this.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ian","Date":"2016-02-22T07:22:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tparent child works well. As _lt_strong style_eq__qt_font-weight_dd_bold_sm__qt__gt__lt_a data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard&amp_sm_referrer_eq_http%253A%252F%252Fwww.html5gamedevs.com%252Ftopic%252F20532-how-to-rotate-perplexus-mesh-around-current-center-of-playball-sphere-mesh%252F_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ style_eq__qt_color_dd_inherit_sm_text-decoration_dd_none_sm_background-color_dd_transparent_sm__qt_ title_eq__qt_Go to Deltakosh_t_s profile_qt__gt_Deltakosh_lt_/a_gt_ say._lt_/strong_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-02-22T13:00:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tUhn_co_ my apologies_co_ Ian.  I didn_t_t think parent/child worked with physics objects. My mistake_co_ sorry guys.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]