[{"Owner":"TomaszFurca","Date":"2017-05-19T21:58:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_ i want create visibility area of my enemies_co_ when he saw any player he go to player. I choose raycast_co_ is good choice? But i have problem with raycast arround enemy object_co_ how can i do that?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTom\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-05-29T15:16:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tRaycast is too precise as it is just a ray\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI would suggest some kind of sphere vs. cylinder collision (the sphere represents the enemy and the cylinder the field of view of the player)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"TomaszFurca","Date":"2017-05-29T18:29:18Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tGood tip_co_ thanks - when i create something i will put this in this topic.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"TomaszFurca","Date":"2017-05-29T21:37:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIts done and works perfect_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_let mainMesh _eq_ BABYLON.MeshBuilder.CreateBox(_t_enemy_t__co_ { width_dd_ 0.5_co_ size_dd_ 0.7}_co_ game.scene)_sm_\n\nmainMesh.position _eq_ new BABYLON.Vector3(Game.randomNumber(3_co_-10)_co_ 1.1_co_ Game.randomNumber(-10_co_-16))_sm_\n        mainMesh.visibility _eq_ false_sm_\n        mainMesh.physicsImpostor _eq_ new BABYLON.PhysicsImpostor(mainMesh_co_ BABYLON.PhysicsImpostor.BoxImpostor_co_ { mass_dd_1_co_ friction_dd_0.01_co_ restitution_dd_0.2}_co_ game.scene)_sm_\n\n        let attackArea _eq_ BABYLON.MeshBuilder.CreateBox(_t_enemy_attackArea_t__co_ { width_dd_ 1.7_co_ height_dd_ 0.1_co_ size_dd_ 1.7}_co_ game.scene)_sm_\n        attackArea.parent _eq_ mainMesh_sm_\n        attackArea.visibility _eq_ false_sm_\n\n        let visivilityArea _eq_ BABYLON.MeshBuilder.CreateBox(_t_enemy_visivilityArea_t__co_ { width_dd_ 12_co_ height_dd_ 0.1_co_ size_dd_ 12}_co_ game.scene)_sm_\n        visivilityArea.parent _eq_ mainMesh_sm_\n        visivilityArea.visibility _eq_ false_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tand afterRender in variable to unregister_co_ after dispose object.\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_this.afterRender _eq_ function() {\n            if(game.player) {\n                if (self.visibilityArea.intersectsMesh(game.player.character.mesh_co_ false)) {\n                    self.character.mesh.lookAt(game.player.character.mesh.position)_sm_\n\n                    var playerMesh _eq_ game.player.character.mesh.getChildMeshes()[0]_sm_\n                    if(self.attackArea.intersectsMesh(playerMesh_co_ false)) {\n                        self.character.runAnimationHit()_sm_\n\n                        if (self.character.items.weapon.intersectsMesh(game.player.character.mesh_co_ false)) {\n                            playerMesh.material.emissiveColor _eq_ new BABYLON.Color4(1_co_ 0_co_ 0_co_ 1)_sm_\n\n                            var value _eq_ game.guiElements.hpBar.getValue()_sm_\n\n                            game.guiElements.hpBar.updateValue(value - 0.2)_sm_\n\n                            if(value-0.1 &lt_sm_ 0) {\n                                window.location.reload()_sm_\n                            }\n                        } else {\n                            playerMesh.material.emissiveColor _eq_ new BABYLON.Color4(0_co_ 0_co_ 0_co_ 0)_sm_\n                        }\n\n                    } else {\n                        var velocity _eq_ BABYLON.Vector3.TransformNormal(new BABYLON.Vector3(0_co_ 0_co_ -0.041)_co_ self.character.mesh.computeWorldMatrix())_sm_\n                        self.character.mesh.moveWithCollisions(velocity)_sm_\n                        self.character.runAnimationWalk()_sm_\n\n                    }\n                }\n            }\n        }_sm_\n        game.scene.registerAfterRender(this.afterRender)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-06-06T15:44:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tExcellent solve_co_ thx for sharing.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI found another post about shooting a ray from wandering enemy -&gt_sm_ player_co_ and if it hits a wall_co_ then enemy cannot _qt_see_qt_ player.  Some links to pathfinding systems are there_co_ too.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/topic/27889-solved-solutions-for-virtual-joystick-camera/?do_eq_findComment&amp_sm_comment_eq_160588_qt_ rel_eq__qt__qt__gt_http_dd_//www.html5gamedevs.com/topic/27889-solved-solutions-for-virtual-joystick-camera/?do_eq_findComment&amp_sm_comment_eq_160588_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNot sure if you need this or not.  Might be fun feature to add to game.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBe sure to mark this thread as [solved] if you wish (edit 1st post_co_ change title).  But if you are still waiting for more replies_co_ no need to mark as solved_co_ of course.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI just wanted to pass-on something that might interest you.  Be well.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]