[{"Owner":"HugoMcPhee","Date":"2015-03-25T13:36:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_In a blender scene one of the character meshes has an armature with an animation._lt_/p_gt__lt_p_gt_After exporting to a .babylon file and loading it_co_ if the character with the skeleton armature is visible when the scene starts _co_ the animation plays and the scene works as normal_co__lt_/p_gt__lt_p_gt_If the camera is facing away from the animated character when the scene starts this error occurs_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_img src_eq__qt_http_dd_//oi57.tinypic.com/rclba0.jpg_qt_ alt_eq__qt_rclba0.jpg_qt__gt__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_Uncaught TypeError_dd_ Failed to execute _t_uniformMatrix4fv_t_ on _t_WebGLRenderingContext_t_ _dd_ No function was found that matched the signature provided._lt_/pre_gt__lt_p_gt_(using nw.js based on Chromium 41.0.2272.76.)_lt_/p_gt__lt_div_gt_ _lt_/div_gt__lt_p_gt_This is how the scene is loaded_lt_/p_gt__lt_div_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_BABYLON.SceneLoader.Load(_qt__qt__co_ _qt_TheBlenderScene.babylon_qt__co_ engine_co_ function (newScene) {        newScene.executeWhenReady(function () {_lt_/pre_gt__lt_p_gt_It_t_s happened in 3 projects_co_ my current workaround has been to include all the animated meshes in the view when the game starts._lt_/p_gt__lt_/div_gt__lt_p_gt_Has any one else has had this problem_co_ or have an idea of how to avoid the error? thanks_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-03-25T18:25:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_can you share it somewhere?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"HugoMcPhee","Date":"2015-03-26T05:06:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_div_gt_Yep here_t_s two test scenes that reproduce the error._lt_/div_gt__lt_div_gt_ _lt_/div_gt__lt_div_gt_Although I found it only happens when _qt_Variance_qt_ shadows are enabled (from blender)_co_ otherwise it works_co__lt_/div_gt__lt_div_gt_so it looks like varience shadows are causing the error_lt_/div_gt__lt_div_gt_ _lt_/div_gt__lt_div_gt_Here_t_s a scene with two animated object in view_dd_ _lt_/div_gt__lt_div_gt__lt_a href_eq__qt_http_dd_//mywobsite.x10.mx/armaturetest/index1.html_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//mywobsite.x10.mx/armaturetest/index1.html_lt_/a_gt__lt_/div_gt__lt_div_gt_ _lt_/div_gt__lt_div_gt_And here_t_s the identical scene with the camera facing away from the animated objects_lt_/div_gt__lt_div_gt__lt_a href_eq__qt_http_dd_//mywobsite.x10.mx/armaturetest/index2.html_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//mywobsite.x10.mx/armaturetest/index2.html_lt_/a_gt__lt_/div_gt__lt_div_gt_ _lt_/div_gt__lt_div_gt_This is what the blender setup looks like_lt_/div_gt__lt_div_gt__lt_img src_eq__qt_http_dd_//oi60.tinypic.com/6qbjaa.jpg_qt_ alt_eq__qt_6qbjaa.jpg_qt__gt__lt_/div_gt__lt_div_gt_ _lt_/div_gt__lt_div_gt_Here_t_s a zip with all the files (including the blender file)_lt_br_gt__lt_a href_eq__qt_http_dd_//mywobsite.x10.mx/armaturetest.zip_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//mywobsite.x10.mx/armaturetest.zip_lt_/a_gt__lt_/div_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2015-03-26T09:58:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_The skeleton_t_s transformation matrix is not calculated_co_ since prepare is (probably) called only when a camera is targeting the object._lt_/p_gt__lt_p_gt_Adding a_lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_this.prepare()_sm_//make sure it will recalculate the matrix next time prepare is called.this._isDirty _eq_ true_sm_ _lt_/pre_gt__lt_p_gt_at the end of the Skeleton_t_s constructor solved the issue._lt_/p_gt__lt_p_gt_@DK - Pull Request follows in a sec. The isDirty _eq_ true is actually optional_co_ it works well without it. It is there just to make sure it works as before_co_ just with matrix initialization._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-03-26T16:34:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Ok thanks a lot Raanan_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"HugoMcPhee","Date":"2015-03-26T16:37:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Thanks heaps for that_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jpdev","Date":"2016-12-06T20:30:00Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThis seems to be broken (again?) - i am using the 2.5 beta from github (downloaded yesterday).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd I get exactly this problem right on startup_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t(I do have a character with a skeleton in the scene and I have a shadowGenerator active on this character. But the character get_t_s moved into view.)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tUncaught TypeError_dd_ Failed to execute _t_uniformMatrix4fv_t_ on _t_WebGLRenderingContext_t__dd_ No function was found that matched the signature provided._lt_br /_gt_\n\t  Engine.setMatrices    _lt_br /_gt_\n\t  Effect.setMatrices    _lt_br /_gt_\n\t  renderSubMesh    _lt_br /_gt_\n\t  ShadowGenerator._shadowMap.customRenderFunction    _lt_br /_gt_\n\t  RenderingGroup.render    _lt_br /_gt_\n\t  RenderingManager.render    _lt_br /_gt_\n\t  RenderTargetTexture.renderToTarget    _lt_br /_gt_\n\t  RenderTargetTexture.render    _lt_br /_gt_\n\t  Scene._renderForCamera    _lt_br /_gt_\n\t  Scene._processSubCameras    _lt_br /_gt_\n\t  Scene.render    _lt_br /_gt_\n\t  (anonymous function)    _lt_br /_gt_\n\t  Engine._renderLoop\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jpdev","Date":"2016-12-06T20:33:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tCalling this.character.skeleton.prepare() explicitly fixed the problem for me - so thank you very much for this thread and the solution _lt_span_gt__lt_span_gt__lt_span_gt_@RaananW !_lt_/span_gt__lt_/span_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSince the fix was the same_co_ this bug really seems to be reintroduced (or the pull request wasn_t_t merged - I have not checked into that.)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-12-06T22:23:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThis works here_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs.com/Demos/Bones/_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs.com/Demos/Bones/_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jpdev","Date":"2016-12-07T11:04:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPlayground that reproduce error and the fixes described in this thread_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t(To see the error the browser console has to be opened before pressing run_co_ I am using the latest chrome)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tError_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//babylonjs-playground.com/#1NXQVV%230_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//babylonjs-playground.com/#1NXQVV#0_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNo-Error_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//babylonjs-playground.com/#1NXQVV%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//babylonjs-playground.com/#1NXQVV#1_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe only change_dd_ Not rotating the Camera by Math.Pi on Y-Axis. (Which brings the animated mesh back into view of the camera).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNo-Error 2_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//babylonjs-playground.com/#1NXQVV%232_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//babylonjs-playground.com/#1NXQVV#2_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis time camera is still rotated (mesh out of view) but .prepare() is called on the skeleton_co_ this also fixes the error.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-12-07T19:39:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tWorking on it\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jpdev","Date":"2016-12-07T19:44:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThank you David_co_ really appreciate it!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTrying to get to know babylon good enough_co_ so I can use it next weekend for a ludum dare submission.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t(And this is by no means a breaking bug - but if I hadn_t_t found this thread I would have been pretty confused what causes it.)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-12-07T22:23:47Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tI cannot test _lt_img alt_eq__qt__dd_(_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ title_eq__qt__dd_(_qt_ width_eq__qt_20_qt_ /_gt_ the file you used (the bird) seems offline _lt_img alt_eq__qt__dd_(_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ title_eq__qt__dd_(_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-12-07T22:38:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tBut I think I fixed the issue _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jpdev","Date":"2016-12-08T06:15:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks again David.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am sorry_co_ I upadted my fly game and forgot about the .htaccess file (which enables cross server requests so that the playground may load the bird).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt is now working again_co_ and the error is gone!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-12-08T19:49:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tSo this is perfect _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]