[{"Owner":"oschakravarthi","Date":"2018-11-23T20:04:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi all_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have a simple requirement but i have no clue how to  do it.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have a mesh (may look like box).\n_lt_/p_gt_\n\n_lt_p_gt_\n\t1. I need to identify its top/roof facing facet(s).\n_lt_/p_gt_\n\n_lt_p_gt_\n\t2. Devide this plane into cells (like each cell is a 5*5 in size) and get the coordinates of these cells.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPlease help me.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks in advance.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2018-11-23T23:03:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t1. for each facet look at the direction of normal in world space (compute dot of face normal and vector up or down for instance).\n_lt_/p_gt_\n\n_lt_p_gt_\n\t2. I do not understand the question or goal (seems similar to what facet partitioning is doing)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2018-11-24T06:22:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//doc.babylonjs.com/how_to/how_to_use_facetdata_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//doc.babylonjs.com/how_to/how_to_use_facetdata_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"oschakravarthi","Date":"2018-11-24T15:14:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThank you @sebavan and @jerome.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have gone thru this but I could not understand as I am new to these concepts.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhat I understood is each facet is a triangle. Now_co_ how to get the 3 points (world coordinates) of a facet? \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JohnK","Date":"2018-11-24T16:08:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYou will need to find out more about the data structure of a mesh from\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//doc.babylonjs.com/how_to/custom_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//doc.babylonjs.com/how_to/custom_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//doc.babylonjs.com/how_to/updating_vertices_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//doc.babylonjs.com/how_to/updating_vertices_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"oschakravarthi","Date":"2018-11-25T20:08:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThank you _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/14282-johnk/?do_eq_hovercard_qt_ data-mentionid_eq__qt_14282_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/14282-johnk/_qt_ rel_eq__qt__qt__gt_@JohnK_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI now understood how the information is stored internally. The below function get the details.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tvar getFacetTrianglesOfMesh _eq_ function (mesh) {_lt_br /_gt_\n\t            var indices _eq_ mesh.getIndices()_sm__lt_br /_gt_\n\t            var positions _eq_ mesh.getVerticesData(BABYLON.VertexBuffer.PositionKind)_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t            var nbFaces _eq_ indices.length / 3_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t            var triangles _eq_ []_sm__lt_br /_gt_\n\t            for (var i _eq_ 0_sm_ i &lt_sm_ nbFaces_sm_ i++) {_lt_br /_gt_\n\t                var triangle _eq_ []_sm__lt_br /_gt_\n\t                for (var j _eq_ 0_sm_ j &lt_sm_ 3_sm_ j++) {_lt_br /_gt_\n\t                    var ind _eq_ (i * 3) + j_sm__lt_br /_gt_\n\t                    var point _eq_ new BABYLON.Vector3(positions[ind]_co_ positions[ind + 1]_co_ positions[ind + 2])_sm__lt_br /_gt_\n\t                    triangle.push(point)_sm__lt_br /_gt_\n\t                }\n_lt_/p_gt_\n\n_lt_p_gt_\n\t                triangles.push(triangle)_sm__lt_br /_gt_\n\t            }\n_lt_/p_gt_\n\n_lt_p_gt_\n\t            return triangle_sm__lt_br /_gt_\n\t        }_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNow I need to do face sampling. I need to divide each facet into a grid of equal sized cells. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAny clue how to do this? Gone thru this article but could not understand. _lt_a href_eq__qt_https_dd_//chrischoy.github.io/research/barycentric-coordinate-for-mesh-sampling/_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//chrischoy.github.io/research/barycentric-coordinate-for-mesh-sampling/_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2018-11-26T00:28:03Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYou can look at the partitioning code from _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5453-jerome/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5453_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5453-jerome/_qt_ rel_eq__qt__qt__gt_@jerome_lt_/a_gt_ in the facet tools.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBasically go over each face\n_lt_/p_gt_\n\n_lt_p_gt_\n\tcompute if center is in a box or if area in &gt_sm_ area out (depending on the precision and time you have)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tput in a list of triangle for this box.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]