[{"Owner":"diamondage","Date":"2015-08-30T19:51:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I am just starting out with Babylon JS for a research project and it seems I am stuck finding a solution for mapping 2D screen mouse coords to 3D XZ movements relative to the camera.  The project involves simple moving and stacking cubes.  The problem is when my camera is looking into the z-axis I am able to figure out how to make the x and y of the mouse related to XZ in the app.  However this goes to heck when I move the camera out of the z axis say by 90 degrees.  The x and y will still translate the object as x and z but in from the camera perspective I_t_ve turned 90 degrees and the x and y of the mouse should change to z and x.  I_t_ve tried unproject but it seems I don_t_t understand the problem well enough and am missing the Z for the screen coordinates.  I cannot use the pick ground strategy because it causes blocks stacked on top to _t_jump_t_ to the ray that hits the ground behind it._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_My sample is here_dd__lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#BTHKN_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#BTHKN_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thanks in advance for any help!_lt_/p_gt__lt_p_gt_Wil_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-08-31T18:33:03Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hey_co_ why this technique does not work for you ? _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/?18_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/?18_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"diamondage","Date":"2015-09-01T01:29:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi Deltakosh_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Great questions.  This technique only works when you are able to select an object with a ray that hits the ground.  If I start to stack cubes 3 to 4 high_co_ and you move the camera almost parallel to the ground_co_ the pick ray will not hit the ground.  As a result we will be unable to move the cube until the pick ray (the mouse) is moved to somewhere on the ground._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_thanks_co__lt_/p_gt__lt_p_gt_Will_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-09-01T03:43:04Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Ok gotcha!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Did you see this topic then?  _lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/topic/16687-axis-dragging/_qt__gt_http_dd_//www.html5gamedevs.com/topic/16687-axis-dragging/_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"diamondage","Date":"2015-09-01T15:09:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi Delta_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Yes I have_co_ and the issue with creating a hover plane is that if you are right at the center y point of the camera you can_t_t select and move the object.  Again it only works if you are looking slightly down at the plane.  Where as if I can figure out how to unproject the value for the XY screen coordinates to the object when the camera is not just looking at the Z axis that would be optimal._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_W_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"diamondage","Date":"2015-09-01T15:19:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi Delta_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Also I_t_ve attempted to do some research on this and the closest thing I_t_ve found are_dd__lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//forum.unity3d.com/threads/unity-4-3-get-2d-mouse-coordinates-relative-to-the-scene.214091/_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//forum.unity3d.com/threads/unity-4-3-get-2d-mouse-coordinates-relative-to-the-scene.214091/_lt_/a_gt__lt_/p_gt__lt_p_gt_and related to unproject._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_W_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-09-01T16:38:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_If you are only controlling your objects on XZ_co_ then why not just using scene.pointerX and scene.pointerY. on pointerdown_co_ you save the current value and then on pointer move_co_ you translate your object accordingly?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"diamondage","Date":"2015-09-01T17:48:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi Delta_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_That is correct if your camera is as I positioned it in the example looking at the Z axis.  If you use the arrow keys and click mouse to rotate the camera 90 deg or even 180 the x and y no longer maps to X Z.  If you rotate to 90 deg_co_ mouse X is not Z and mouse Y should be X.  So I am missing a transform that takes into account of the camera look at vector._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_W_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-09-01T22:01:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Ok gotcha_dd_ so you were right _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ you can convert 2d to projected 3d with Vector3.Unroject_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Example here_dd__lt_/p_gt__lt_p_gt__lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Math/babylon.math.ts#L3195_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Math/babylon.math.ts#L3195_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"diamondage","Date":"2015-09-02T01:00:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi Delta_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I think you are onto something.  I will have to give that a try.  When in doubt RTFC._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-09-02T15:14:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Lol!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"KramSurfer","Date":"2017-06-24T08:00:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tAttempting to do the same thing.  But am unclear on the implementation._lt_br /_gt__lt_br /_gt_\n\tI looking to place a mesh under the mouse pointer at a z-depth of 40 relative to the camera.  _lt_br /_gt__lt_br /_gt_\n\tI have other selectable items beyond that depth_co_ so putting a large plane or sprite and using a ray is not a good option. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]