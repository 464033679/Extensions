[{"Owner":"yorke","Date":"2017-05-17T12:20:38Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi all. I_t_d like to know if BJS supports cel (toon) shading? Didn_t_t find anything about that.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMy scene is exported from Blender_co_ the goal would be to apply cel shading on all meshes. Lurking the code i saw that there_t_s a mesh.convertToFlatShadedMesh() function_co_ but nothing similar about cel shading. Any ideas?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTnx_co_ cheers\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2017-05-17T12:52:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYou can use the shader here_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//cyos.babylonjs.com/_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//cyos.babylonjs.com/_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"yorke","Date":"2017-05-17T13:55:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tMany tnx for your link adam. Shader_t_s code is clear_co_ but it_t_s not clear to me how to apply the shader on materials exported form blender. If I apply this code_dd_\n_lt_/p_gt_\n\n_lt_div_gt_\n\t_lt_code_gt_        _lt_/code_gt__lt_code_gt_var_lt_/code_gt_ _lt_code_gt_amigaMaterial _eq_ _lt_/code_gt__lt_code_gt_new_lt_/code_gt_ _lt_code_gt_BABYLON.ShaderMaterial(...custom vertex and pixel shader )_lt_/code_gt_\n_lt_/div_gt_\n\n_lt_div_gt_\n\t_lt_code_gt_        scene_lt_/code_gt__lt_code_gt_.materials[n] _eq_ amigaMaterial_sm__lt_/code_gt_\n_lt_/div_gt_\n\n_lt_div_gt_\n\tevery material in the scene would be overwitten (I think)_co_ so it would loose what i_t_ve defined in blender for that material (texture_co_ diffuseColor etc).\n_lt_/div_gt_\n\n_lt_div_gt_\n\tOn the opposite_co_ I_t_d like every material to preserve its original properties and change only the shader. Is it possible to achieve this in some way or I have to create every time a new ShaderMaterial and _qt_manually_qt_ append the properties from the original material to it?\n_lt_/div_gt_\n\n_lt_div_gt_\n\tTnx in advance\n_lt_/div_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Raggar","Date":"2017-05-17T14:37:03Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tCouldn_t_t you just run a function for every mesh that needs the cell shader_co_ and do something like_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_\n      mesh.material.subMaterials[1] _eq_ createCellShader(mesh.material.subMaterials[1])_sm_\n\n      var createCellShader _eq_ function(material){\n      var cMaterial _eq_ new BABYLON.ShaderMaterial(...custom vertex and pixel shader )_sm_\n      if(material){\n         if(material.diffuseColor){\n            cMaterial.diffuseColor _eq_ material.diffuseColor_sm_ \n         } \n         if(material.diffuseTexture){\n            cMaterial.diffuseTexture _eq_ material.diffuseTexture_sm_ \n         }    \n      }\n         return cMaterial_sm_    \n\n      }_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tOr did you have something else in mind?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"yorke","Date":"2017-05-17T15:02:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThank you raggar. That could be a nice solution_co_ i_t_ll give a try\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"yorke","Date":"2017-05-18T09:00:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tUp. I tried to mix cel shader from the link posted by adam with raggar_t_s code but meshes are now rendered totally black_co_ here is what I did_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_&lt_sm_script type_eq__qt_application/vertexShader_qt_ id_eq__qt_vertexShaderCode_qt_&gt_sm_\n\n[...]\n\n&lt_sm_script type_eq__qt_application/fragmentShader_qt_ id_eq__qt_fragmentShaderCode_qt_&gt_sm_\n\n[...]\n\n\nmesh.material.subMaterials[0]_eq_createCellShader(mesh.material.subMaterials[0].clone(_qt_CLONEMAT_qt_)_co_scene)_sm_\n\n[...]\n\nfunction createCellShader (material_co_scene)\n{\n      var cMaterial _eq_ new BABYLON.ShaderMaterial\n      (\n            _qt_amiga_qt__co_ scene_co_\n        {\n            vertexElement_dd_ _qt_vertexShaderCode_qt__co_\n            fragmentElement_dd_ _qt_fragmentShaderCode_qt__co_\n        }_co_\n        {\n            attributes_dd_ [_qt_position_qt__co_ _qt_normal_qt__co_ _qt_uv_qt_]_co_\n            uniforms_dd_ [_qt_world_qt__co_ _qt_worldView_qt__co_ _qt_worldViewProjection_qt__co_ _qt_view_qt__co_ _qt_projection_qt_]            \n        }            \n      )_sm_\n\n      if(material)\n      {\n         if(material.diffuseColor)\n            cMaterial.diffuseColor _eq_ material.diffuseColor_sm_\n\n         if(material.diffuseTexture)\n            cMaterial.diffuseTexture _eq_ material.diffuseTexture_sm_\n      }\n\n      return cMaterial_sm_    \n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tAny ideas? I also tried to change light position in shaders but nothing changed. I don_t_t know how to investigate this\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Raggar","Date":"2017-05-21T19:22:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI haven_t_t had the pleasure to play with the shaderMaterial yet_co_ si I really can_t_t tell.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCan you manually apply the texture and color to the shader_co_ without the black effect?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd I don_t_t think cloning of materials is supported. You_t_ll have to create a new material_co_ using something along the lines of the same function you are using now.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"NasimiAsl","Date":"2017-05-21T20:05:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tsample from CustomMaterial\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#0GG6MR%2310_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#0GG6MR#10_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#0GG6MR%2311_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#0GG6MR#11_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#0GG6MR%2312_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#0GG6MR#12_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2017-05-21T20:10:38Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tIs that what you think it is possible to make all the scene (everything including the 3d objects) with Cell Shading Nasimi?\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"NasimiAsl","Date":"2017-05-21T20:12:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tlike post process?\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2017-05-21T20:15:44Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tYes_co_ that would be cool this possibility\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Luaacro","Date":"2017-05-22T06:10:52Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHey _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/26178-yorke/?do_eq_hovercard_qt_ data-mentionid_eq__qt_26178_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/26178-yorke/_qt_ rel_eq__qt__qt__gt_@yorke_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tcell shading is now available in materials library _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/extensions/cell_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/extensions/cell_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd it supports shadows\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2017-05-22T07:38:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI receive_dd_ Line 14_dd_13 - BABYLON.CellMaterial is not a constructor\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt may not be available in the Playground\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Luaacro","Date":"2017-05-22T07:43:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOups _eq_S\n_lt_/p_gt_\n\n_lt_p_gt_\n\tit should be deployed soon\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"yorke","Date":"2017-05-22T23:05:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWoah tnx Luaacro_co_ awesome! I like BJS_t_s community reactivity _lt_img alt_eq__qt__dd_lol_dd__qt_ data-emoticon_eq__qt__qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_laugh.png_qt_ title_eq__qt__dd_lol_dd__qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m experiencing the same error posted by dad72 on the PG_co_ will this feature be avalaible in BJS v3 stable release?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2017-05-23T03:14:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThis has just been deployed (it was only on Master but not deployed to the PG).\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]