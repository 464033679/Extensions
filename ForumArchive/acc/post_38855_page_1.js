[{"Owner":"thrice","Date":"2018-07-15T20:26:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThe situation is this_dd_ While attempting to improve performance by doing some ugly things with sprites_co_ which use onAfterWorldMatrixUpdatedObservable_co_ hook_co_ I noticed an issue in my scene_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBasically_dd_ I have one main board mesh which almost everything minus player hands are parented to (not directly_co_ but each player has a board which is parented to the main board mesh_co_ etc). -- The issue is_co_ when I parent a mesh to the board_co_ and I add an onAfterWorldMatrixUpdatedObservable hook_co_ it is getting called every single frame. -- Which leads me to believe that possibly every object which is part of the main board mesh descendants tree_co_ is also having their world matrices updated on every frame_co_which could obviously hopefully account for some of the performance issues that I_t_ve been having. (The same mesh_co_ unparented_co_ does not have onAfterWorldMatrixUpdated being called each frame.)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI browsed the codebase_co_ but didn_t_t see anything obvious which could be causing this behavior. So I am wondering if anyone knows of any gotchas or non obvious places or things that could be causing the worldMatrix update. -- I can likely solve it by recursively freezingWorldMatrix of all the children_co_ however I would like to figure out what is going on as well.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-07-17T18:28:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello! theorically WM are updated if_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- You change position_co_ rotation_co_ rotationQuaternion_co_ scaling_co_ pivot matrix\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- If you change the previous properties in any ascendant\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- If the mesh is billboard\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAre you seeing something different?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"thrice","Date":"2018-07-19T00:20:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks delta_co_ -- that is mostly what I thought. I am seeing different behavior_co_ it is firing the onWorldMatrixUpdated on every frame for all of it_t_s non worldMatrixFrozen children_co_ when none of those things should be changing. - I am stuck on version 3.1.alpha5 ATM_co_ so if there were any bugs with anything ^ which were fixed after 3.1.alpha5 that could be helpful to know_co_ but I_t_ll dig into the issue further.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-07-19T16:21:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI could help if you can provide a repro in the PG\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI can_t_t remember anything specific since 3.1 but it was long time ago (almost a year) so a lot of things improved\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]