[{"Owner":"BangTao","Date":"2017-03-30T07:00:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tFirst_co_by this PG_co_I can use _qt_BABYLON.Vector3.TransformCoordinatesToRef(tmpPos_co_ mesh.getWorldMatrix()_co_ sphere.position)_sm__qt_ to get the rotated position of each vertex.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#GAY2K%230_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#GAY2K#0_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThen_co_here is the BJS_t_s _qt_Dude.babylon_qt_ file_co_and i don_t_t know how to get the right WorldMatrix after it_t_s changed(see console.log() message).Am i missed some steps?or...\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1PN9TO%235_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1PN9TO#5_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThx!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2017-03-31T01:26:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tTo get the world matrix of a bone use getAbsoluteTransform and then multiply that by the world matrix of the mesh.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"BangTao","Date":"2017-03-31T01:45:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4289_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/_qt_ rel_eq__qt__qt__gt_@adam_lt_/a_gt_ Thx for replying\n_lt_/p_gt_\n\n_lt_p_gt_\n\tlike this?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_12276_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_03/58ddb487cd284_RJ(7F7C@XC571RZ5VU.png.2ebe3b2bb365cee5a8bd423e6a64b0d5.png_qt_ alt_eq__qt_58ddb487cd284_RJ(7F7C@XC571RZ5VU.png.2ebe3b2bb365cee5a8bd423e6a64b0d5.png_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tbut...\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_12275_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_03/58ddb48684060_A)T1YKK4C65M3S8HPW.png.ee4edf28f8a3b08f6d49f42929cfe1bf.png_qt_ alt_eq__qt_58ddb48684060_A)T1YKK4C65M3S8HPW.png.ee4edf28f8a3b08f6d49f42929cfe1bf.png_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2017-03-31T02:04:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1PN9TO%236_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1PN9TO#6_lt_/a_gt_\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"BangTao","Date":"2017-03-31T02:14:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI think it should keep changing?just like_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#GAY2K%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#GAY2K#1_lt_/a_gt_（Line 56-57）_co_so i can compute and get the childrenMesh_t_s vertex position.\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_skeletons[0].bones[0].getAbsoluteTransform().multiply(mesh.getWorldMatrix())_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tthe output is always the same_co_seems i can_t_t use this to get the vertex_t_s position..\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4289_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/_qt_ rel_eq__qt__qt__gt_@adam_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2017-03-31T02:19:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIf I were you_co_ I_t_d figure out what bone is close to the vertex you want to track and then use the code I showed you to transform a coordinate or use bone.getAbsolutePositionFromLocal()\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Bones/babylon.bone.ts#L929_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Bones/babylon.bone.ts#L929_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t(I believe bones[0] is the root bone_co_ so it isn_t_t going to move that much.)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"BangTao","Date":"2017-03-31T06:43:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_ve tried many timers ....I failed....i can_t_t get the vertex corresponding to the bone_co_and every bones_t_s matrix is still unchange.....\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m thinking that why we can see the animation_co_and erevy part is at the right place.but we just can_t_t get the right position。\n_lt_/p_gt_\n\n_lt_p_gt_\n\ti_t_ll keep investigation。\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAny way_co_thx.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5733_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/_qt_ rel_eq__qt__qt__gt_@Wingnut_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/14282-johnk/?do_eq_hovercard_qt_ data-mentionid_eq__qt_14282_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/14282-johnk/_qt_ rel_eq__qt__qt__gt_@JohnK_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4289_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/_qt_ rel_eq__qt__qt__gt_@adam_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis is the  most tough thing i_t_ve meet ever.No clue...\n_lt_/p_gt_\n\n_lt_p_gt_\n\t【---------------------------------------------------------------------------------------------------------------】\n_lt_/p_gt_\n\n_lt_p_gt_\n\t【....】\n_lt_/p_gt_\n\n_lt_p_gt_\n\t【Can i get the finall vertex_t_s position at _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1PN9TO%237_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1PN9TO#7_lt_/a_gt_】\n_lt_/p_gt_\n\n_lt_p_gt_\n\t【---------------------------------------------------------------------------------------------------------------】\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd why i can_t_t search anything about _qt_getAbsolutePositionFromLocal_qt_ at PlayGround_co_it has an error//\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2017-03-31T10:54:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHere are 3 different ways to attach a mesh to a bone_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1PN9TO%238_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1PN9TO#8_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"BangTao","Date":"2017-03-31T12:31:44Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t i know the third method_co__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_.But i don_t_t wanna attach mesh to bone...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI wanna compute and get the vertex...How to use transformMatrices(Maybe i can use this to calculate the position..)?the result of _qt_console.log(skeletons[0])_qt__dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img alt_eq__qt_58de4b085b7a1_2PGN)JUZ85UXZ4FV8GA.png.8d2d2e9472548e3e7e097beaba8876d1.png_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_12281_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_03/58de4b085b7a1_2PGN)JUZ85UXZ4FV8GA.png.8d2d2e9472548e3e7e097beaba8876d1.png_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tNow _co_ i have the Initial status vertex_t_s position information_co_i want to get the whole changed position at the _qt_scene.registerBeforeRender(function(){...})_qt_.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tJust found another thing_co_but  i don_t_t know if it will help_co_which is convert skeletal animation to point caching...Anyone knows 3dsMax?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2017-03-31T13:16:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI through in that last attachToBone example because it isn_t_t entirely clear to me what you_t_re trying to do.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnyway_co_ you need to get the vertex position relative to the bone it is being influenced by.  You should do this before your animation starts.  I_t_d use bone.getLocalPositionFromAbsolute using the world position of the vertex.  Then you can use the code in the example above to track the vertex.  It might not be perfect because vertices are often influenced by more than one bone.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-03-31T14:47:22Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSorry to butt-in_co_ but BT... is this needed for an _qt_inverse kinematic_qt_ situation?   An example would be... you need the fingertip of an avatar model... to land exactly on a button.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWith IK_co_ you could _qt_pull_qt_ the verts on the fingertip... TO the button (and it would look natural because of reverse transformation calcs).  But I think you_t_d need to write your own IK stuff.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSOME of this issue... might be solvable... using the old _qt_parent and position a tiny invisible box_qt_ solution.  But_co_ even that tiny box... would need to be influenced by the same bones as the verts it surrounds.  (or else it won_t_t move with the skin).  Up to 3 bone influencers on mobiles_co_ and 4 otherwise.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBT... mad scientist.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  Love it. \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]