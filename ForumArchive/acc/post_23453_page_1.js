[{"Owner":"hackSolo","Date":"2016-06-27T08:51:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have trouble using mesh instances while parsing a .babylon file._lt_br /_gt_\n\tI_t_m using Newtonsoft to parse a .babylon file in c# and since i_t_m trying to improve the parsing and save memory space and time_lt_br /_gt_\n\tby using mesh instances instead of having vetex data copies inside meshes the model keeps loading fine in sandbox_lt_br /_gt_\n\tbut doesn_t_t show the instances geometries on the screen... (they all are enable and visible)_lt_br /_gt_\n\tI have the exact same problem when i try to use geometry ids which are the same for meshes with similar vertex data but different placement. (what should be an instance...)_lt_br /_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI can give samples files if you want to help me on that. I also made log files to compare matrices transformations in different cases which appears that it should be working _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tBut my parser is used in a very particular case so it wont any usefull to share it..\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMy best guess was that instances worked like parent | child so the child transformation depends on it_t_s parent transformation._lt_br /_gt_\n\tbut i_t_ve seen files working where the child transformation was based on the world transformation and no link at all with the containing mesh._lt_br /_gt_\n\tI was then wondering if there was a limit on the number of instances then i saw that there was not on the documentation._lt_br /_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m stuck here and hope that somebody could help me on that ! \n_lt_/p_gt_\n\n_lt_p_gt_\n\tpreview _dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_{\n_qt_materials_qt__dd_ [{\n\t\t_qt_name_qt__dd_ _qt_124848_qt__co_\n\t\t_qt_id_qt__dd_ _qt_124848_qt__co_\n\t\t_qt_ambient_qt__dd_ [0.0_co_\n\t\t0.0_co_\n\t\t0.0]_co_\n\t\t_qt_diffuse_qt__dd_ [0.423529416_co_\n\t\t0.266666681_co_\n\t\t0.0431372561]_co_\n\t\t_qt_specular_qt__dd_ [0.0_co_\n\t\t0.0_co_\n\t\t0.0]_co_\n\t\t_qt_emissive_qt__dd_ [0.0_co_\n\t\t0.0_co_\n\t\t0.0]_co_\n\t\t_qt_specularPower_qt__dd_ 0.0_co_\n\t\t_qt_alpha_qt__dd_ 1.0_co_\n\t\t_qt_backFaceCulling_qt__dd_ false_co_\n\t\t_qt_checkReadyOnlyOnce_qt__dd_ true\n\t}]_co_\n_qt_meshes_qt__dd_ [{\n\t\t_qt_name_qt__dd_ _qt_9d3d5698_qt__co_\n\t\t_qt_id_qt__dd_ _qt_d6880dd6-4a83-4891-8746-61ca867be8d7_qt__co_\n\t\t_qt_skeletonId_qt__dd_ _qt_-1_qt__co_\n\t\t_qt_materialId_qt__dd_ _qt_124848_qt__co_\n\t\t_qt_billboardMode_qt__dd_ 0_co_\n\t\t_qt_autoAnimateFrom_qt__dd_ 0_co_\n\t\t_qt_autoAnimateTo_qt__dd_ 100_co_\n\t\t_qt_isVisible_qt__dd_ true_co_\n\t\t_qt_isEnabled_qt__dd_ true_co_\n\t\t_qt_pickable_qt__dd_ false_co_\n\t\t_qt_freezeWorldMatrix_qt__dd_ false_co_\n\t\t_qt_checkCollisions_qt__dd_ false_co_\n\t\t_qt_receiveShadows_qt__dd_ true_co_\n\t\t_qt_autoAnimateLoop_qt__dd_ true_co_\n\t\t_qt_showBoundingBox_qt__dd_ false_co_\n\t\t_qt_showSubMeshesBoundingBox_qt__dd_ false_co_\n\t\t_qt_infiniteDistance_qt__dd_ false_co_\n\t\t_qt_autoAnimate_qt__dd_ true_co_\n\t\t_qt_visibility_qt__dd_ 1.0_co_\n\t\t_qt_subMeshes_qt__dd_ [{\n\t\t\t_qt_materialIndex_qt__dd_ 0_co_\n\t\t\t_qt_verticesStart_qt__dd_ 0_co_\n\t\t\t_qt_verticesCount_qt__dd_ 72_co_\n\t\t\t_qt_indexStart_qt__dd_ 0_co_\n\t\t\t_qt_indexCount_qt__dd_ 36\n\t\t}]_co_\n\t\t_qt_instances_qt__dd_ [{\n\t\t\t_qt_id_qt__dd_ _qt_cfe2ea30-9cda-4185-9bbf-5e3c5780f8e1_qt__co_\n\t\t\t_qt_materialId_qt__dd_ _qt_124848_qt__co_\n\t\t\t_qt_name_qt__dd_ _qt_fd255bd6_qt__co_\n\t\t\t_qt_position_qt__dd_ [14.1874352_co_\n\t\t\t23.2159557_co_\n\t\t\t-33.19057]_co_\n\t\t\t_qt_rotation_qt__dd_ [0.0_co_\n\t\t\t0.0_co_\n\t\t\t0.0]_co_\n\t\t\t_qt_rotationQuaternion_qt__dd_ [0.0_co_\n\t\t\t1.0_co_\n\t\t\t0.0_co_\n\t\t\t0.0]_co_\n\t\t\t_qt_scaling_qt__dd_ [0.01_co_\n\t\t\t0.01_co_\n\t\t\t0.01]_co_\n\t\t\t_qt_freezeWorldMatrix_qt__dd_ true_co_\n\t\t\t_qt_animations_qt__dd_ []\n\t\t}]_co_\n        _qt_position_qt__dd_ [15.387435_co_\n\t\t23.2159557_co_\n\t\t-33.19057]_co_\n\t\t_qt_rotation_qt__dd_ [0.0_co_\n\t\t0.0_co_\n\t\t0.0]_co_\n\t\t_qt_rotationQuaternion_qt__dd_ [0.0_co_\n\t\t1.0_co_\n\t\t0.0_co_\n\t\t0.0]_co_\n\t\t_qt_scaling_qt__dd_ [0.01_co_\n\t\t0.01_co_\n\t\t0.01]_co_\n\t\t_qt_pivotMatrix_qt__dd_ [1.0_co_\n\t\t0.0_co_\n\t\t0.0_co_\n\t\t0.0_co_\n\t\t0.0_co_\n\t\t1.0_co_\n\t\t0.0_co_\n\t\t0.0_co_\n\t\t0.0_co_\n\t\t0.0_co_\n\t\t1.0_co_\n\t\t0.0_co_\n\t\t0.0_co_\n\t\t0.0_co_\n\t\t0.0_co_\n\t\t1.0]_co_\n\t\t_qt_positions_qt__dd_ [... (72)]_co_\n\t\t_qt_normals_qt__dd_ [... (72)]_co_\n\t\t_qt_indices_qt__dd_ [... (36)]_co_\n\t\t_qt_animations_qt__dd_ [empty]\n\t}]\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-06-27T16:16:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tnot sure to understand_dd_ you use Babylon.js file format and render it in a different engine in C#? is it correct?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"hackSolo","Date":"2016-06-28T06:55:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello_co_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tSorry for the misunderstanding _dd_/\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m parsing a Babylon.js file in c# from data coming from other types of 3d files. Then render the data with Babylon_t_s engine. There comes the difficulties to understand how mesh.instances[] and geometries.vertexdata[] are handled by the Babylon engine. When I use duplicated meshes instead of geometry.id or mesh.instances[] I have absolutely no problem. But if I try to use them the duplicated meshes_t_s geometries won_t_t render.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks for reply _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"hackSolo","Date":"2016-06-28T09:13:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_ve seen this coming code in babylon.babylonFileLoader _dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_SceneLoader.RegisterPlugin({\n  extensions_dd_ _qt_.babylon_qt__co_ \n  importMesh_dd_ (meshesValuesComparisons_dd_ any_co_ \n  scene_dd_ Scene_co_ \n  data_dd_ any_co_\n  rootUrl_dd_ string_co_ \n  meshes_dd_ AbstractMesh[]_co_ \n  particleSystems_dd_ ParticleSystem[]_co_ \n  skeletons_dd_ Skeleton[])_dd_ boolean _eq_&gt_sm_ {\n\n  //[...]\n\n\n  // import instances only if no meshes names are provided\n  var mesh _eq_ Mesh.Parse(parsedMesh_co_ scene_co_ rootUrl_co_ parsedData.geometries_co_ meshesValuesComparisonsProvided)_sm_\n  meshes.push(mesh)_sm_\n\n  //[...]\n\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tdoes that means that only meshes with no name attribute can load instances?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf so that would be the answer of one of my question ! _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-06-28T15:41:00Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOk I understand. Do you use this assembly to generate the .babylon file? _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/tree/master/Exporters/3ds%20Max/BabylonExport.Entities_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/tree/master/Exporters/3ds%20Max/BabylonExport.Entities_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt will help you understand how it works _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"hackSolo","Date":"2016-06-28T16:00:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI use one i_t_ve made myself i could share it tomorrow for now. It_t_s very similar to that one except that meah and Instance are super class for me not childs of abstract mesh. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have to give it à try!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAlso can instances have different parents?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-06-28T16:05:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tYep_dd_)\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"hackSolo","Date":"2016-06-28T16:11:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOK so if you would like to I have to show you a file i_t_ve been using for testing which was made with blender crossing instances and parent/child dependency. The child instances_t_s transformations don_t_t base on the parent_t_s transformation but on the scene when I load it on sandbox. But if I hard code it (no Babylon file at all) to the playground it works perfectly.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI feel like the fileLoader don_t_t read the parentId or something\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"hackSolo","Date":"2016-06-29T08:43:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tthis is the file i was talking about very simple but the 3 cubes should be on the plane_t_s diagonal..\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a class_eq__qt_ipsAttachLink_qt_ href_eq__qt_//www.html5gamedevs.com/applications/core/interface/file/attachment.php?id_eq_8406_qt_ data-fileid_eq__qt_8406_qt_ rel_eq__qt__qt__gt_bab_test.babylon_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-06-29T15:46:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThis is where the instances are loaded_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Mesh/babylon.mesh.ts#L1896_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Mesh/babylon.mesh.ts#L1896_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tparentID is not loaded and need to be setup after loading time.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-06-29T15:49:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThis is what I have so far.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_06/Capture.PNG.69852eed9cc47c1c4a89684d3c44d447.PNG_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_8419_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_06/Capture.thumb.PNG.9294f8b4d0e0c6e96c5cc99a64962142.PNG_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_Capture.PNG_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Adem","Date":"2016-06-29T17:17:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tPlease can someone help me with how to merge geometric meshes with the same texture\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"hackSolo","Date":"2016-06-30T08:01:52Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi Deltakosh_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThat_t_s what I have also and i was expecting the 3 cubes on the left to be on the plane_t_s diagonal.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt_\n\tSo if I understood. SandBox is a simple loader and if I want the parent/child dependency I have to specify the paretnIds with AbstractMesh._waitingParentId in the SceneLoader.load(...)?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tsame file exported with blender gives _dd_\n_lt_/p_gt_\n\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_06/test-blender.JPG.458f3ffdb3f1932dfbe2af7f0abff5b1.JPG_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_8428_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_06/test-blender.thumb.JPG.e82b5b2d7b53d8a50272fcf995394231.JPG_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_test-blender.JPG_qt__gt__lt_/a_gt__lt_/p_gt_\n_lt_p_gt__lt_a class_eq__qt_ipsAttachLink_qt_ href_eq__qt_//www.html5gamedevs.com/applications/core/interface/file/attachment.php?id_eq_8429_qt__gt_bab_testifc_blender.babylon_lt_/a_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"hackSolo","Date":"2016-06-30T13:46:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt__lt_br /_gt__lt_br /_gt_\n\tI_t_ve tried inserting parentID during the loading since my childs_t_s positioning are already calculated against the parent_t_s position. It takes the right _waitingParentId but the _renderParentId equals -1 and the scene loads exactly the same way...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tsee below _dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_06/instances_bug_2.JPG.c28035061c78bea5613d819c20a41129.JPG_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_8435_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_06/instances_bug_2.JPG.c28035061c78bea5613d819c20a41129.JPG_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_instances_bug_2.JPG_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]