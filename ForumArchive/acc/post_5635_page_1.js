[{"Owner":"Gamerazor","Date":"2014-04-13T23:03:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hello everybody_co_ when I render this code_co_ it doesn_t_t show all sphere multitexture_co_ only shows the first texture_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_function createSceneTuto(engine){\tvar scene _eq_ new BABYLON.Scene(engine)_sm_\t\tvar camera _eq_ new BABYLON.ArcRotateCamera(_qt_camara_qt__co_-20_co_-45_co_35_co_ new BABYLON.Vector3.Zero()_co_scene)_sm_\t\tvar luz _eq_ new BABYLON.HemisphericLight(_qt_Sol_qt__co_ new BABYLON.Vector3(-10_co_150_co_0)_co_scene)_sm_\tluz.diffuse _eq_ new BABYLON.Color3(0.6_co_0.7_co_1)_sm_\tluz.intensity _eq_ 0.5_sm_\t\t\tvar cubo _eq_ new BABYLON.Mesh.CreateBox(_qt_Cubo_qt__co_10_co_scene)_sm_\tcubo.position.y _eq_ 10_sm_\t\tvar esfera _eq_ new BABYLON.Mesh.CreateSphere(_qt_Esfera_qt__co_10_co_8_co_scene)_sm_\tvar espejo _eq_ new BABYLON.StandardMaterial(_qt_texturaEspejo_qt__co_scene)_sm_\tesfera.position _eq_ new BABYLON.Vector3(-15_co_10_co_0)_sm_\t\tsuelo _eq_ new BABYLON.Mesh.CreateGround(_qt_tierra_qt__co_200_co_200_co_2_co_scene_co_false)_sm_\t\tpiedras _eq_ new BABYLON.StandardMaterial(_qt_Piedras_qt__co_scene)_sm_\tpiedras.bumpTexture _eq_ new BABYLON.Texture(_qt_../materiales/piedras.jpg_qt__co_scene)_sm_\trocas _eq_ new BABYLON.StandardMaterial(_qt_Rocas_qt__co_scene)_sm_\trocas.diffuseTexture _eq_ new BABYLON.Texture(_qt_../materiales/roca.png_qt__co_scene)_sm_\tmadera _eq_ new BABYLON.StandardMaterial(_qt_Plata_qt__co_scene)_sm_\tmadera.diffuseTexture _eq_ new BABYLON.Texture(_qt_../materiales/madera_gris.jpg_qt__co_scene)_sm_\tmultimat _eq_ new BABYLON.MultiMaterial(_qt_multi_qt__co_ scene)_sm_\tmultimat.subMaterials.push(rocas)_sm_\tmultimat.subMaterials.push(piedras)_sm_\tmultimat.subMaterials.push(madera)_sm_\t\t\tesfera.subMeshes _eq_ []_sm_\tvar verticesCount _eq_ esfera.getTotalVertices()_sm_\t\tesfera.subMeshes.push(new BABYLON.SubMesh(0_co_0_co_ verticesCount_co_0_co_900_co_esfera))_sm_\tesfera.subMeshes.push(new BABYLON.SubMesh(1_co_0_co_ verticesCount_co_900_co_1800_co_esfera))_sm_\tesfera.subMeshes.push(new BABYLON.SubMesh(2_co_0_co_ verticesCount_co_1800_co_2088_co_esfera))_sm_\tesfera.material _eq_ multimat_sm_\t\t\tpelicula _eq_ new BABYLON.StandardMaterial(_qt_Pelicula_qt__co_scene)_sm_\tpelicula.diffuseTexture _eq_ new BABYLON.VideoTexture(_qt_Sintel_qt__co_[_qt_../textures/sintel.ogv_qt_]_co_256_co_scene_co_true)_sm_\tpelicula.emissiveColor _eq_ new BABYLON.Color3(1_co_1_co_1)_sm_\tsuelo.material _eq_ pelicula_sm_\t\tespejo.reflectionTexture _eq_ new BABYLON.MirrorTexture(_qt_espejo_qt__co_512_co_scene_co_true)_sm_\tespejo.reflectionTexture.mirrorPlane _eq_ new BABYLON.Plane(1_co_-1.0_co_10_co_-10.0)_sm_\tespejo.reflectionTexture.renderList _eq_ [esfera_co_suelo]_sm_\tcubo.material _eq_ espejo_sm_\t\treturn scene_sm_}_lt_/pre_gt__lt_p_gt_This is the image_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_img src_eq__qt_http_dd_//img.ctrlv.in/img/14/04/14/534b1713f1fd2.jpg_qt_ alt_eq__qt_534b1713f1fd2.jpg_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2014-04-14T06:17:57Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hello promodominus!  Welcome to the forum!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Some more information about subMeshes can be found here.. _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/page.php?p_eq_24740_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/page.php?p_eq_24740_lt_/a_gt_. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_In this document... _lt_a href_eq__qt_http_dd_//blogs.msdn.com/b/eternalcoding/archive/2013/07/10/babylon-js-using-multi-materials.aspx_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//blogs.msdn.com/b/eternalcoding/archive/2013/07/10/babylon-js-using-multi-materials.aspx_lt_/a_gt__co_ we need to better explain 0_co_ 900_co_ 1800_co_ 2088.  These numbers are based-upon a sphere with 16 segments.  When you made a sphere_co_ you made it with 10 segments..._lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var esfera _eq_ new BABYLON.Mesh.CreateSphere(_qt_Esfera_qt__co_10_co_8_co_scene)_sm__lt_/pre_gt__lt_p_gt_Change that 10 into 16_co_ and things will work better.  16 segments to the sphere._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_In that MSDN document_co_ the author was showing many things.  He used a bumpTexture for material #1_co_ a diffuseColor for material #2_co_ and an emissiveColor for material #3.  He was trying to show how the TYPES of materials could freely and easily mix... on a single object.  For you_co_ now_co_ I think it would be wise to use ONLY diffuseTexture._lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_\tpiedras _eq_ new BABYLON.StandardMaterial(_qt_Piedras_qt__co_scene)_sm_\tpiedras.bumpTexture _eq_ new BABYLON.Texture(_qt_../materiales/piedras.jpg_qt__co_scene)_sm_\trocas _eq_ new BABYLON.StandardMaterial(_qt_Rocas_qt__co_scene)_sm_\trocas.diffuseTexture _eq_ new BABYLON.Texture(_qt_../materiales/roca.png_qt__co_scene)_sm_\tmadera _eq_ new BABYLON.StandardMaterial(_qt_Plata_qt__co_scene)_sm_\tmadera.diffuseTexture _eq_ new BABYLON.Texture(_qt_../materiales/madera_gris.jpg_qt__co_scene)_sm__lt_/pre_gt__lt_p_gt_You adjusted that well.  Notice you still have one _t_bump_t_ texture in line 2.  That is fine.  That will work good_co_ but I still wanted to remind you.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Now look at this..._lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_espejo.reflectionTexture.mirrorPlane _eq_ new BABYLON.Plane(1_co_-1.0_co_10_co_-10.0)_sm__lt_/pre_gt__lt_p_gt_There are no mistakes in that line.  You did it correctly_co_ but those settings could give you unusual results.  Below_co_ are some better numbers_co_ in my opinion._lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_espejo.reflectionTexture.mirrorPlane _eq_ new BABYLON.Plane(0_co_ -1_co_ 0_co_ -1)_sm__lt_/pre_gt__lt_p_gt_These numbers have worked good for me_co_ in my experiments.  These are reflection angle and depth numbers.  I am still learning about these numbers_co_ myself. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Come back and tell us what you learn about these... from your experiments.  Thanks._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Now you are ready for more success.  I am still new to babylon.js and I needed to do some experiments to find a solution for you. While I did that_co_ I made a _t_test scene_t_ much like yours.  _lt_strong_gt__lt_u_gt__lt_a href_eq__qt_http_dd_//urbanproductions.com/wingy/babylon/misc/promodominus.zip_qt_ rel_eq__qt_external nofollow_qt__gt_Here is a zipped version_lt_/a_gt__lt_/u_gt__lt_/strong_gt_.  Download it if you like.  It is very much the same as your demo_co_ so it is your demo.  You own it.  I just did some little adjustments to make things easier for you.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Again_co_ welcome to babylon.js and welcome to our forum!  Good to have you with us!  We are working hard to improve our documents_co_ and make less trouble for your experiments.  Be well!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-04-14T16:53:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_The document is good. It works just here_dd__lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs.com/index.html?MULTIMATERIAL_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs.com/index.html?MULTIMATERIAL_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_span style_eq__qt_color_dd_rgb(40_co_40_co_40)_sm_font-family_dd_helvetica_co_ arial_co_ sans-serif_sm__qt__gt_This line _lt_/span_gt__lt_/p_gt__lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt__gt__lt_div_gt__lt_span style_eq__qt_color_dd_rgb(40_co_40_co_40)_sm_font-family_dd_helvetica_co_ arial_co_ sans-serif_sm__qt__gt_sphere.subMeshes.push(new BABYLON.SubMesh(1_co_ 0_co_ verticesCount_co_ 900_co_ _lt_/span_gt__lt_strong_gt__lt_u_gt_900_lt_/u_gt__lt_/strong_gt__lt_span style_eq__qt_color_dd_rgb(40_co_40_co_40)_sm_font-family_dd_helvetica_co_ arial_co_ sans-serif_sm__qt__gt__co_ sphere))_lt_/span_gt__lt_p_gt_ _lt_/p_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_means_dd__lt_/p_gt__lt_p_gt_- Start at index 900 and use 900 indexes from there (900 indexes _eq_ 300 faces). So this submesh will start from face number 300 and will use 300 faces_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-04-14T16:54:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Wingnut is right about your problem though. You create a sphere with 10 segments so there will not be 3880 indices but less_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2014-04-14T18:23:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Ahh_co_ thanks for that information about those numbers_co_ deltakosh.  Yes_co_ the MSDN document is correct.  The demo works great.  I was mistaken about how the numbers were used.  I edited my previous post._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Promodominus_co_ keep in mind the difference between vertices (points) and indices (lines between points).  You can see vertices and indices (and triangular faces made by them)... easier... by temporarily setting wireframe mode on your three materials... like this_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_\t\tpiedras.wireframe _eq_ true_sm_\t\trocas.wireframe _eq_ true_sm_\t\tmadera.wireframe _eq_ true_sm__lt_/pre_gt__lt_p_gt_Fun with materials.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Wingnut tries some math..._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_alert(esfera.subMeshes[0].indexCount + esfera.subMeshes[1].indexCount + esfera.subMeshes[2].indexCount)_sm__lt_/p_gt__lt_p_gt_result is 3600_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_3880 - 3600 _eq_ 280_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Hey deltakosh... is 280... the number of indices that needed to be used twice_co_ to complete the sphere?  In better words_co_ is that the amount of indices that were SHARED at the intersections between subMaterials?  I bet so.  Interesting.  (thanks for info)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Just curious.  I am trying to get the math to make sense.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  I am VERY new to subMeshes... like so many other things._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Gamerazor","Date":"2014-04-14T23:15:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Finaly_co_ I resolve the problem although I don_t_t understand  very well that but I will study it in other moment because often I export the meshes with the textures from blender. Thank you Wingnut and Deltakosh._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_img src_eq__qt_http_dd_//img.ctrlv.in/img/14/04/15/534c6a14b856b.jpg_qt_ alt_eq__qt_534c6a14b856b.jpg_qt__gt__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_function createSceneTuto(engine){\tvar scene _eq_ new BABYLON.Scene(engine)_sm_\t//scene.fogMode _eq_ BABYLON.Scene.FOGMODE_EXP_sm_\t//scene.fogDensity _eq_ 0.07_sm_\t//scene.fogColor _eq_ new BABYLON.Color3(0.25_co_0.8_co_0.3)_sm_\tvar camera _eq_ new BABYLON.ArcRotateCamera(_qt_camara_qt__co_-20_co_-45_co_35_co_ new BABYLON.Vector3.Zero()_co_scene)_sm_\t\tvar luz _eq_ new BABYLON.HemisphericLight(_qt_Sol_qt__co_ new BABYLON.Vector3(-10_co_150_co_0)_co_scene)_sm_\tluz.diffuse _eq_ new BABYLON.Color3(0.6_co_0.7_co_1)_sm_\tluz.intensity _eq_ 0.5_sm_\t\tvar entorno _eq_ new BABYLON.Mesh.CreateBox(_qt_Entorno_qt__co_400_co_scene)_sm_\tvar entornoMaterial _eq_ new BABYLON.StandardMaterial(_qt_skyBox_qt__co_scene)_sm_\tentornoMaterial.backFaceCulling _eq_ false_sm_\tentornoMaterial.reflectionTexture _eq_ new BABYLON.CubeTexture(_qt_../skybox/skybox_qt__co_scene)_sm_\tentornoMaterial.reflectionTexture.coordinatesMode _eq_ BABYLON.Texture.SKYBOX_MODE_sm_\tentornoMaterial.diffuseColor _eq_ new BABYLON.Color3(0_co_0_co_0)_sm_\tentornoMaterial.specularColor _eq_ new BABYLON.Color3(0_co_0_co_0)_sm_\tentorno.material _eq_ entornoMaterial_sm_\t\tvar cubo _eq_ new BABYLON.Mesh.CreateBox(_qt_Cubo_qt__co_10_co_scene)_sm_\tcubo.position.y _eq_ 10_sm_\t\tvar esfera _eq_ new BABYLON.Mesh.CreateSphere(_qt_Esfera_qt__co_10_co_8_co_scene)_sm_\tvar espejo _eq_ new BABYLON.StandardMaterial(_qt_texturaEspejo_qt__co_scene)_sm_\tesfera.position _eq_ new BABYLON.Vector3(-15_co_10_co_0)_sm_\t\tsuelo _eq_ new BABYLON.Mesh.CreateGround(_qt_tierra_qt__co_200_co_200_co_2_co_scene_co_false)_sm_\t\tpiedras _eq_ new BABYLON.StandardMaterial(_qt_Piedras_qt__co_scene)_sm_\tpiedras.bumpTexture _eq_ new BABYLON.Texture(_qt_../materiales/piedras.jpg_qt__co_scene)_sm_\trocas _eq_ new BABYLON.StandardMaterial(_qt_Rocas_qt__co_scene)_sm_\trocas.diffuseTexture _eq_ new BABYLON.Texture(_qt_../materiales/roca.png_qt__co_scene)_sm_\tmadera _eq_ new BABYLON.StandardMaterial(_qt_Plata_qt__co_scene)_sm_\tmadera.diffuseTexture _eq_ new BABYLON.Texture(_qt_../materiales/madera_gris.jpg_qt__co_scene)_sm_\tmultimat _eq_ new BABYLON.MultiMaterial(_qt_multi_qt__co_ scene)_sm_\tmultimat.subMaterials.push(rocas)_sm_\tmultimat.subMaterials.push(piedras)_sm_\tmultimat.subMaterials.push(madera)_sm_\t\t\tesfera.subMeshes _eq_ []_sm_\tvar verticesCount _eq_ esfera.getTotalVertices()_sm_\t\tesfera.subMeshes.push(new BABYLON.SubMesh(0_co_0_co_ verticesCount_co_0_co_300_co_esfera))_sm_\tesfera.subMeshes.push(new BABYLON.SubMesh(1_co_0_co_ verticesCount_co_300_co_600_co_esfera))_sm_\tesfera.subMeshes.push(new BABYLON.SubMesh(2_co_0_co_ verticesCount_co_600_co_1125_co_esfera))_sm_\tesfera.material _eq_ multimat_sm_\t\t\tpelicula _eq_ new BABYLON.StandardMaterial(_qt_Pelicula_qt__co_scene)_sm_\tpelicula.diffuseTexture _eq_ new BABYLON.VideoTexture(_qt_Sintel_qt__co_[_qt_../textures/sintel.ogv_qt_]_co_256_co_scene_co_true)_sm_\tpelicula.emissiveColor _eq_ new BABYLON.Color3(1_co_1_co_1)_sm_\tsuelo.material _eq_ pelicula_sm_\t\tespejo.reflectionTexture _eq_ new BABYLON.MirrorTexture(_qt_espejo_qt__co_512_co_scene_co_true)_sm_\tespejo.reflectionTexture.mirrorPlane _eq_ new BABYLON.Plane(1_co_-1.0_co_10_co_-10.0)_sm_\tespejo.reflectionTexture.renderList _eq_ [esfera_co_suelo]_sm_\tcubo.material _eq_ espejo_sm_\t\treturn scene_sm_}_lt_/pre_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]