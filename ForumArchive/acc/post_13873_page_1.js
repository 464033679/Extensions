[{"Owner":"Dad72","Date":"2015-04-15T22:22:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_HI_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Does anyone have an idea of ​​how we create Holes in the ground by removing faces?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_This can be used to create of enter underground cave_co_ tunnel_co_ gallery ..._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thanks_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Temechon","Date":"2015-04-16T06:08:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Did you try CSG ? _lt_a href_eq__qt_http_dd_//www.babylonjs.com/?CSG_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs.com/?CSG_lt_/a_gt__lt_/p_gt__lt_p_gt_Maybe with a big box and a tube it can work..._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2015-04-16T07:02:22Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_CSG is a feature I always forget exists. But it is an amazing feature _dd_-) Thanks for reminding it is there!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-04-16T07:37:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_GSG or poly2tri_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_with the first one_co_ you create fist a mesh_co_ then you remove parts with another mesh_lt_/p_gt__lt_p_gt_with the second one_co_ you create a 2D complex polygon_co_ which can have holes_co_ then it creates the relative plane (with holes)_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-04-16T10:51:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I_t_ll try with CSG can be a good solution._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thanks_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-04-16T12:08:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_div_gt_Its not working as I would like._lt_/div_gt__lt_br_gt__lt_div_gt_ _lt_/div_gt__lt_br_gt__lt_div_gt_What I want is to create a hole by removing the face of the field. Then I place a 3d model to the hole._lt_/div_gt__lt_br_gt__lt_div_gt_ _lt_/div_gt__lt_br_gt__lt_div_gt_exemple_dd__lt_/div_gt__lt_br_gt__lt_div_gt_ _lt_/div_gt__lt_br_gt__lt_div_gt__lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_04_2015/post-5292-0-07943700-1429186070.png_qt_ rel_eq__qt_external nofollow_qt__gt__lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_04_2015/post-5292-0-07943700-1429186070.png_qt_ data-fileid_eq__qt_4079_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_post-5292-0-07943700-1429186070.png_qt__gt__lt_/a_gt__lt_/div_gt__lt_br_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-04-16T12:26:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_What happens if you use CSG with a cylinder to dig a hole in your terrain ?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-04-16T12:48:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_CSG is not suitable. I would just by clicking on the faces of the terrain that removes polygons to form a hole. The irregularity of the hole is not imortante_co_ a model 3d will hide it._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jahow","Date":"2015-04-16T13:33:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_The _lt_span style_eq__qt_font-family_dd__t_courier new_t__co_ courier_co_ monospace_sm__qt__gt_pick()_lt_/span_gt_ function of a scene gives you the id of the face picked. You are then able to use this to remove the three corresponding indices in the indice array of the meshes. This way you effectively remove the picked face (but not its vertices)._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Example here (based on the decals PG)_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1BAPRM%2319_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1BAPRM#19_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Is that what you_t_re looking for?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-04-16T13:37:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_yes_co_ that_t_s exactly what I was looking for. thank you Jahow_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jahow","Date":"2015-04-16T13:38:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt__lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ good luck on your editor!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-04-16T13:53:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Thank you Jahow.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I have one last question. if I want to add a radius to remove more faces_co_ what are the best ways to do it ? thanks._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jahow","Date":"2015-04-16T14:22:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_That_t_s a bit more complex. I think I would check all vertices close to the picked point_co_ and remove those that are under a certain distance (_eq_ hole radius). For each vertex removed_co_ I would have to delete the associated faces in the indices array._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Not sure if that would work_co_ I_t_ll try to do it in the PG..._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-04-16T14:25:17Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_thank you Jahow  for your help._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jahow","Date":"2015-04-17T06:24:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I managed to get it working_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#8OMYN%234_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#8OMYN#4_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_But_dd__lt_/p_gt__lt_p_gt_1/ I do not remove the vertices_co_ only the faces. So after a while the mes might need to be cleaned (ie remove vertices that are not used)_lt_/p_gt__lt_p_gt_2/ There should be some possible optimization by looking only into submeshes vertices_co_ instead of all the vertices of the mesh (since pickInfo gives you a submeshID)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Good luck _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-04-17T09:35:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Cool_co_ is perfect. thank you very much Jahow for help  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-04-20T14:54:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Still thank you for helping me Jahow for this function. I would go the other way to close the holes. is it possible ?_lt_br_gt_ _lt_br_gt_I have this function to create the holes. I would like to create a function_dd_ addFaces () that recreate the missing faces._lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint lang-auto_qt__gt_        var removeFaces _eq_ function (pickInfo_co_ radius)\t{\t\t\t\tvar mesh _eq_ pickInfo.pickedMesh_co_\t\t\tfaceID _eq_ pickInfo.faceId_co_\t\t\tindices_array _eq_ mesh.getIndices()_co_\t\t\tpositions_array _eq_ mesh.getVerticesData(BABYLON.VertexBuffer.PositionKind)_co_\t\t\tvertices_toremove _eq_ []_co_\t\t\tpickpoint _eq_ pickInfo.pickedPoint_co_\t\t\tcurrent_v _eq_ new BABYLON.Vector3.Zero()_co_\t\t\tworldmatrix _eq_ mesh.getWorldMatrix()_co_\t\t\tindex_co_\t\t\tsafety _eq_ 1000_sm_\t\t\t\t\tfor(var i_eq_0_sm_ i&lt_sm_positions_array.length/3_sm_ i++)\t\t{\t\t\tcurrent_v.x _eq_ positions_array[i*3]_sm_\t\t\tcurrent_v.y _eq_ positions_array[i*3+1]_sm_\t\t\tcurrent_v.z _eq_ positions_array[i*3+2]_sm_\t\t\tcurrent_v _eq_ BABYLON.Vector3.TransformCoordinates(current_v_co_ worldmatrix)_sm_\t\t\t\t\t\t\t\tif(BABYLON.Vector3.Distance(pickpoint_co_ current_v) &lt_sm_ radius) \t\t\t{\t\t\t\tvertices_toremove.push(i)_sm_\t\t\t}\t\t}\t\t\t\t\tfor(var i _eq_ 0_sm_ i &lt_sm_ vertices_toremove.length_sm_ i++)\t\t{\t\t\tindex _eq_ indices_array.indexOf(vertices_toremove[i])_sm_\t\t\twhile(index !_eq_ -1)\t\t\t{\t\t\t\tindices_array.splice(index - index%3_co_ 3)_sm_\t\t\t\tbreak_sm_\t\t\t}\t\t}\t\t\t\t\tmesh.setIndices(indices_array)_sm_    }_sm_    var addFaces _eq_ function (pickInfo_co_ radius)    {\t????    }_sm__lt_/pre_gt__lt_p_gt_ _lt_br_gt_Thank you for the help._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jahow","Date":"2015-04-22T06:50:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hey dad72_co_ sorry for not responding earlier._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Adding the faces back is not trivial_co_ unless we save the indices of the faces we_t_ve removed earlier. In this case it_t_s just a matter of putting back those faces in the mesh. But it may not be suitable for every use_co_ since the _qt_removed faces_qt_ info can become quite big if you remove a lot of stuff_co_ and must be saved with the mesh otherwise it won_t_t be possible to add its faces back._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Herre is an example_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#8OMYN%235_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#8OMYN#5_lt_/a_gt__lt_/p_gt__lt_p_gt_The first time you click_co_ faces will be removed. If you click back somewhere _lt_em_gt_on the mesh_lt_/em_gt__co_ the faces around the click will be restored. It still has one problem_dd_ since we removed the faces from the mesh_co_ nothing happens if we click _lt_em_gt_in_lt_/em_gt_ the hole..._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Here are a few suggestions for you_dd__lt_/p_gt__lt_p_gt_- Maybe setting vertices alpha (transparency) to zero would be easier than remove them_co_ because we wouldn_t_t have to actually modify the mesh and clicks in _t_holes_t_ would still be detected _sm_ the big drawback is that the mesh would then be classified as _qt_transparent_qt__co_ which may pose other problems_lt_/p_gt__lt_p_gt_- If you plan to use this exclusively for a heightmap_co_ a simpler &amp_sm_ more efficient method can probably be found because all your vertices and faces are on a grid and it is easier to know what to remove/add_lt_/p_gt__lt_p_gt_- Another method_dd_ for each mesh than can have hole in it_co_ create an _qt_inverse mesh_qt_ which will hold all the vertices &amp_sm_ faces that have been removed from the main mesh. This mesh can be invisible but will still detects when we click on it._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jahow","Date":"2015-04-22T09:17:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Another try_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#8OMYN%239_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#8OMYN#9_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_This time I_t_m switching the face direction_co_ meaning that the faces will become invisible if backface culling is activated. They can easily be switched back afterwards _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ Also the geometry is not changed at all._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_You have _qt__lt_em_gt_l_t_embarras du choix_lt_/em_gt__qt_!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-04-22T10:42:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_div_gt_I like the latter. Thank you Jahow_co_ but the question I ask myself is_dd_ Is that if I hide the faces_co_ a character can pass through the holes. The collision is still activate in the holes or no? I wish that a character can pass through this mesh where the holes are._lt_/div_gt__lt_br_gt__lt_div_gt_ _lt_/div_gt__lt_br_gt__lt_div_gt_Thank you again Jahow._lt_/div_gt__lt_br_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jahow","Date":"2015-04-22T11:41:41Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Well_co_ I know almost nothing about collisions in BJS so I can_t_t really say for sure... But I guess you_t_d have to actually remove faces like I did in the first example I gave you._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-04-22T12:11:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_div_gt_I just think of a solution. From the editor last solution to hide the faces and record them in a .dat. And when one is in game I take all the faces hidden this .dat file and I delete as your first solution. I think it will work like this._lt_/div_gt__lt_br_gt__lt_div_gt_ _lt_/div_gt__lt_br_gt__lt_div_gt_I think this time everything is ok._lt_/div_gt__lt_br_gt__lt_div_gt_ _lt_/div_gt__lt_br_gt__lt_div_gt_Big thanks Jahow_lt_/div_gt__lt_br_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-04-22T14:17:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Arf_co_ my solution does not work in case the user want to close the hole in the future. it is necessary that I remove the collision on the faces hidden only._lt_/p_gt__lt_div_gt_ _lt_/div_gt__lt_div_gt_So I think Deltakosh is able to answer that _dd__lt_/div_gt__lt_div_gt_Can we disable collisions on some faces of a mesh. If so_co_ how? Thank you very much_lt_/div_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"joshcamas","Date":"2015-04-22T22:40:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Do I spy a hobbit hole?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-04-23T13:04:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_What do you mean by_dd_ _qt__lt_span style_eq__qt_color_dd_rgb(40_co_40_co_40)_sm_font-family_dd_helvetica_co_ arial_co_ sans-serif_sm__qt__gt_hobbit hole_qt_ ?_lt_/span_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]