[{"Owner":"David78","Date":"2015-01-04T12:51:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi to all. There really isn_t_t any issue here_sm_ as exporting animations to babylon from blender works fine_co_ except for the _qt_4 bone influencers per vertex_qt_ limitation. I understand that it is a browser thing_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/topic/10772-blender-export-issues/_qt__gt_http_dd_//www.html5gamedevs.com/topic/10772-blender-export-issues/_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/topic/9560-rigging-rigify-blender-export-babylon/_qt__gt_http_dd_//www.html5gamedevs.com/topic/9560-rigging-rigify-blender-export-babylon/_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_My question is sort of strange_co_ but I_t_ll ask it anyways. I have no idea how to rig following this limitation in blender. How would one go about ensuring that this limit is not exceeded? Sure importing a MakeHUman model with the gaming rig_co_ 32 bones I think_co_ enabled would work_co_ but when of the times when one is not rigging humanoid characters? Like sea monsters? Or giant insects? or something like that? And even if one is rigging a humanoid character_co_ what of when the MH rig just doesn_t_t do what you_t_d want and you have to do your own rig? So how would one make rigs ensuring that that limit is not exceeded? Any pointers on how to go about this would be appreciated._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I also have one other question_co_ would it possible to have babylon.js come with something like a visual editor for rigging? You import your static models and then rig them using it_sm_ it should guide the rigging process so that this _qt_4 bone influencers per vertex_qt_ thing is not exceeded. (Please don_t_t tell me to build it myself! _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_&lt_sm_fileStore.core_Emoticons&gt_sm_/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__sm_ at least not now!)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Those are my questions. I attached a picture showing what happens when the limit is exceeded_sm_ the animation works but some areas are invisible. Other rigs I did did not show at all once exported to the .babylon format. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thanks in advance. _lt_/p_gt__lt_p_gt__lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_01_2015/post-11887-0-71679700-1420375808.jpg_qt_ rel_eq__qt_external nofollow_qt__gt__lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_01_2015/post-11887-0-71679700-1420375808.jpg_qt_ data-fileid_eq__qt_3380_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_post-11887-0-71679700-1420375808.jpg_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"gryff","Date":"2015-01-04T17:07:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi David - interesting question - though I don_t_t think sea monsters and giant insects should be too big an issue._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_But for the moment _dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt__gt__lt_div_gt_I attached a picture showing what happens when the limit is exceeded_sm_ the animation works but some areas are invisible. Other rigs I did did not show at all once exported to the .babylon format._lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I_t_m not sure how you know that _qt__lt_em_gt_the limit is exceeded_lt_/em_gt__qt_. It looks like the figure that you made in MH and I_t_ve had no trouble with animating and displaying MH characters with BJS._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Could you make the .blend file available - so I can take a look? (And possibly a figure that _qt__lt_em_gt_did not show at all_lt_/em_gt__qt_?)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_You can send me link(s) by PM if you wish._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_cheers_co_ gryff _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2015-01-04T17:47:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Gryff &amp_sm_ David_co__lt_/p_gt__lt_p_gt_I know how to tell whether you have more than 4 influencers per bone.  It is reported as warnings the .log file.  Was tired of people guessing about some _qt_30 or 40 bone limit_qt_ or other witch craft reason_co_ when the export code knew exactly why _qt_the exporter screwed up my mesh_qt_._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The limit of # of bones is real_co_ just more of a practical rule_co_ not procedural.  The gpu time of bones is a constant overhead of every frame_co_ whether they have moved or not.  Although a GPU has many parallel processors_co_ the _lt_strong_gt_(# of vertices) * (# of influencers)_lt_/strong_gt_ adds up.  Not to mention the memory requirements increase with each influencer._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Another myth_co_ I believe from my look at the vertex shaders_co_ is_dd_  This a _qt_browser or webGL limitation_qt_.  It is a BabylonJS limitation.  Suppose it could be upped_co_ but would probably have to be made variable.  I refer you to the bold formula above as to why variable would be necessary.  That is major change to the Javascript_co_ shaders_co_ &amp_sm_ exporters._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Just a reminder as it relates to non-humans_co_  morphing is also an option.  The processor time profile is completely different than skeletons.  Here there is no gpu time overhead.  There is only cpu time &amp_sm_ cpu to gpu data transfer time.  This is not constant_co_ but only when the creature is changing._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Jeff_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-01-04T18:58:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hello_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_we need to define a limit_dd_) so far you cannot have more than 4 bones influence per vertex which means that each vertex will have 4 floats associated with it (alongside position_co_ normal_co_ uv coordinates)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_There is no real limit of how many bones you can affect to a mesh (32 is ok) but beware if you use too many bones Babylon.js won_t_t be able to compile the shader on all devices. For instance this scene uses 56 bones per mesh but cannot be viewed on phone_dd_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs.com/?DANCEMOVES_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs.com/?DANCEMOVES_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"David78","Date":"2015-01-04T20:36:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Thanks to all for your swift responses. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_@gryff_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt__gt__lt_div_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_span style_eq__qt_color_dd_rgb(40_co_40_co_40)_sm_font-family_dd_helvetica_co_ arial_co_ sans-serif_sm__qt__gt_I_t_m not sure how you know that _qt__lt_/span_gt__lt_em_gt_the limit is exceeded_lt_/em_gt__lt_span style_eq__qt_color_dd_rgb(40_co_40_co_40)_sm_font-family_dd_helvetica_co_ arial_co_ sans-serif_sm__qt__gt__qt_. It looks like the figure that you made in MH and I_t_ve had no trouble with animating and displaying MH characters with BJS._lt_/span_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Yes_co_ it is the same character_co_ different texture. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_As you can see in my first post_co_ I acknowledge this_dd__lt_/p_gt__lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt__gt__lt_div_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_span style_eq__qt_color_dd_rgb(40_co_40_co_40)_sm_font-family_dd_helvetica_co_ arial_co_ sans-serif_sm__qt__gt_Sure importing a MakeHUman model with the gaming rig_co_ 32 bones I think_co_ enabled would work_co_ but when of the times when one is not rigging humanoid characters? _lt_/span_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_And go on to cite instances where for one reason or another_co_ one decides to rig the character by themselves. I rigged that character by myself and opted not to go with MH_t_s gaming rig. The reason is_co_ as I keep saying_co_ I am learning both blender and Babylon.js (saying _qt_BJS_qt_ sounds weird to me... _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_laugh.png_qt_ alt_eq__qt__dd_lol_dd__qt__gt_ ) and hence decided to give rigging a shot. The question is more practical than technical_sm_ I_t_m asking how to rig specifically for babylon.js_sm_ as far as I_t_m concerned_co_ all I did was place the bones_co_ do the automatic weight painting_co_ brushed things up a bit_co_ animated and then exported. I_t_ve attached the file_co_so you (or anyone who is also willing to) can show me where I went wrong_co_ I greatly appreciate your help thus far. [Please link the texture in the zip file to the model in blender if you want to...]_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_strong_gt_The question_dd__lt_/strong_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_strong_gt_During the rigging and weight-painting process_co_ how would one do it so as to avoid exceeding the 4 bone influencers per vertex limit? _lt_/strong_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Is there a way then to tell blender not to exceed it_sm_ or is there somewhere in blender where it is shown_co_ _lt_b_gt_before _lt_/b_gt_exporting? Yes it is reported in the log file_co_ but it is already exported and only serves as a warning_co_ not as a measure that could be taken to avoid the limit being exceeded and hence the error_t_s existence. _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/applications/core/interface/file/attachment.php?id_eq_3387_qt__gt_animation.zip_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"David78","Date":"2015-01-04T20:44:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_forgot to say_co_ I cannot upload the character that didn_t_t show at all_co_ because I deleted it out of anger...but nonetheless_co_ the question still stands_co_ even though it is a strange question._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"gryff","Date":"2015-01-04T23:35:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_David_co_ I took a look at your .blend file. I added a light and a camera_co_ then exported it as a babylon file._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_https_dd_//dl.dropboxusercontent.com/u/70260871/webgl/david78_2/index.html_qt_ rel_eq__qt_external nofollow_qt__gt_Creature Animated_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_It seems to work ok_co_ but a  few points_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_1. You have two IK bones and two knee constraint bones. They probably help with animation but once the animation is created are no longer necessary. Not sure how BJS handles those bones as they are not deforming the mesh._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_2. I don_t_t get those _lt_u_gt_missing faces like your pic illustrates_lt_/u_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_3. There seems to be an issue at the waist. I looked at the weight painting of the bones you have labelled _qt__lt_em_gt_torso_lt_/em_gt__qt__co_ _qt__lt_em_gt_lower back_lt_/em_gt__qt_ and _qt__lt_em_gt_pelvic_lt_/em_gt__qt_ and all seem to indicate that the animation emphasis is at the back of the mesh (the red colour) and there is very little at the front of the mesh (lightblue/green to green). The likelihood is that vertices at the back are being rotated into those at the side. Also the two _qt_clavicle_qt_ bones are having an impact along the mesh assigned to the body bones - might want to reduce that to just the top of the shoulder._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Now the _qt__lt_em_gt_4 bones issue_lt_/em_gt__qt_. You added bones for the 4 fingers and one thumb - and that creates 5 bones that are having an impact on the mesh that is assigned to the palm of the hand. With the automatic rigging_co_ I don_t_t think there is a way to restrict Blender_co_ but there may be a ways to edit those cases._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_1. Select you mesh and go into edit mode._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_2. In the properties panel_co_ select the _qt_triangles_qt_ tab._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_3. In the triangles tab you will see an area called _qt_Vertex Groups_qt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_4. Make sure that no vertices are selected in your 3d window_co_ then select one of those vertex groups - they will show in the 3D window._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_5. Do this for the bones associated with a hand - selecting and deselecting - it will give you an idea of the impact each finger/thumb bones is having on the palm of the hand._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_You can probably play with this to remove the influence of each finger bone on the palm of the hand - but I_t_ve not tried it myself._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_cheers_co_ gryff _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"David78","Date":"2015-01-05T10:15:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_@gryff_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I appreciate the help. Upgrading to the blender 1.5.0 exporter fixed everything_co_ so I suppose that was the cause of the missing faces. Thanks for the practical pointers on how to deal with the 4 bones issue and all using vertex groups. _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"MrVR","Date":"2017-03-13T15:02:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_66457_qt_ data-ipsquote-contentid_eq__qt_11471_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1420452923_qt_ data-ipsquote-userid_eq__qt_11887_qt_ data-ipsquote-username_eq__qt_David78_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tOn 1/5/2015 at 5_dd_15 AM_co_ David78 said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\t@gryff\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t \n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tI appreciate the help. Upgrading to the blender 1.5.0 exporter fixed everything_co_ so I suppose that was the cause of the missing faces. Thanks for the practical pointers on how to deal with the 4 bones issue and all using vertex groups. \n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tHey _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/11887-david78/?do_eq_hovercard_qt_ data-mentionid_eq__qt_11887_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/11887-david78/_qt_ rel_eq__qt__qt__gt_@David78_lt_/a_gt_ do you have a guide to do the rigging and weight painting  ? IM having issues as well with sea animal and quadrupeds animal\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2017-03-13T17:45:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tMight be pointless to ask someone who has not been since his last post on Jan 5_co_ 15.  Few people here have rigged quadrupeds.  If perhaps you can find an acceptable skeleton_co_ you can add a modifier to rig it.  Specify automatic weights_co_ then clean it up would probably be best.  This is more a Blender question. Think you might better starting from a search of _qt_blender quadruped rig_qt_.  I get 18_co_700 hits.  Ones at the top look relevant like _qt_Rigging a dog_qt_\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]