[{"Owner":"meteoritool","Date":"2016-02-14T18:15:04Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI find instances of a groundFromHeightMap mesh reacting funny _dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#25K1LA%230_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#25K1LA#0_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIs it a bug ? Or what is the best way to create instances of grounds from height maps ?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThank you guyz for your help !\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2016-02-14T18:46:50Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\twhat is the problem ?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"meteoritool","Date":"2016-02-14T20:04:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tthe instances _qt_glitch_qt_ disappear when moving the camera\n_lt_/p_gt_\n\n_lt_p_gt_\n\tthis behavior is the same on every navigator i_t_ve tested_co_ on OSX.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-02-15T03:28:18Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWooot...this looks like a bug to me!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_ll check it tomorrow\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-02-15T03:33:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tAnd it is.............not a bug _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tThis comes from the fact that CreateGroundFromHeighMap is asynchronous because it needs a texture. SO you have to create your instance when the ground is ready like this_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#25K1LA%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#25K1LA#1_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"meteoritool","Date":"2016-02-15T17:43:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThank you !\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis perfectly solves the problem !_lt_br_gt_\n\tIf I understand right_co_ the height map image must be already loaded in order to create good instances_co_w hat I don_t_t understand_dd_ why do they still display in my wrong version? It seems they disappear _qt_too soon_qt__co_ as if they were considered off-screen in the wrong way... this must be webGL engine getting coordinates for the instanced textures wrong_co_ maybe ???\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo now it leads to another question _lt_img alt_eq__qt_^_^_qt_ data-emoticon_eq__qt_true_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_happy.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/happy@2x.png 2x_qt_ title_eq__qt_^_^_qt_ width_eq__qt_20_qt__gt_ _dd_ The _qt__lt_span style_eq__qt_background-color_dd_rgb(248_co_248_co_248)_sm__qt__gt__lt_font color_eq__qt_#333333_qt_ face_eq__qt_Inconsolata_qt_ size_eq__qt_3_qt__gt__lt_span style_eq__qt_white-space_dd_pre_sm__qt__gt_CreateGroundFromHeightMap_qt_ function asks for an _qt_url_qt_ parameter to load the height map image._lt_/span_gt__lt_/font_gt__lt_/span_gt__lt_br_gt_\n\tMy textures were already loaded by my assets manager_co_ so how do I tell the function to get an already existing texture instead of an url ??? it is a bit _qt_newbie question_qt_ I guess _dd_/\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThank you !!!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"meteoritool","Date":"2016-02-15T19:58:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tAnother trouble _dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI added shadows to the scene_co_ and even though the ground instances are ok_co_ now the shadows react weird when moving the camera too _dd_/\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#25K1LA%234_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#25K1LA#4_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-02-16T03:42:44Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tNot sure to understand what you are trying to achieve here but I can say one thing_dd_ same is FAR too large for shadows. You will lose all precision with such a scene.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tRegarding your previous question_dd_ why do they still display in my wrong version? because they were created when the ground was just a small box and thus they received a wrong bounding box\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-02-16T03:46:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tIt works well with a limited distance_dd_ _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#25K1LA%235_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#25K1LA#5_lt_/a_gt_\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"meteoritool","Date":"2016-02-17T11:56:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo_co_ if I compare our two examples_co_ I understand that shadow emitting meshes should be clones rather instances ! Am I right ? They seem to behave different_dd__lt_br /_gt_\n\t//move the camera up and down to see what happens with shadows_dd__lt_br /_gt__lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#25K1LA%234_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#25K1LA#4_lt_/a_gt_ // Shadows emitters are instances of a box_lt_br /_gt__lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#25K1LA%236_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#25K1LA#6_lt_/a_gt_ // Shadows emitters are clones of a box\n_lt_/p_gt_\n\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_116759_qt_ data-ipsquote-contentid_eq__qt_20515_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1455594164_qt_ data-ipsquote-userid_eq__qt_4442_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tOn 2/15/2016 at 9_dd_42 PM_co_ Deltakosh said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tNot sure to understand what you are trying to achieve here but I can say one thing_dd_ scene is FAR too large for shadows. You will lose all precision with such a scene.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tI_t_m trying to build a very long corridor where i_eq_the corridor length_lt_br /_gt_\n\tIs there an improvement in computing/details if I use a short light range ? Is this the good way to go ?_lt_br /_gt_\n\tShould I consider creating multiple ShadowGenerators or is it only_dd_ one scene _eq_ one shadowmap ?_lt_br /_gt_\n\tI will also try to add fog later but that_t_s another story &gt_sm__&lt_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks for your answers you rule _sm_-)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-02-17T16:18:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI used clone but it is the same as instances in this case (instances are even better actually).\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tregarding your question_dd_ the best way is to generate the corridor on demand. Or at least add only near objects and not all objects.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]