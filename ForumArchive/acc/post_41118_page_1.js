[{"Owner":"ferat","Date":"2018-11-08T00:37:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHey guys_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m trying to make a simple flight simulation_co_ but I have some issues trying to rotate my plane. Currently_co_ I have this code_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tEDIT_dd_ I created a playground to exemplify better my problem_dd_Â _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/indexStable.html#HT1PHY%235_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/indexStable.html#HT1PHY#5_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_var elapsed _eq_ engine.getDeltaTime() / 1000_sm_\n\n// handle keys\nif(keysDown[87]) {\n\t// W_co_ rotate in the negative direction about the x axis\n\tpitch +_eq_ elapsed * turnSpeed_sm_\n}\n\nif(keysDown[83]) {\n\t// S_co_ rotate in the positive direction about the x axis\n\tpitch -_eq_ elapsed * turnSpeed_sm_\n}\n\nif(keysDown[65]) {\n\t// A_co_ rotate left\n\tyaw -_eq_ elapsed * turnSpeed_sm_\n\troll +_eq_ elapsed * turnSpeed_sm_\n}\n\nif(keysDown[68]) {\n\t// D_co_ rotate right\n\tyaw +_eq_ elapsed * turnSpeed_sm_\n\troll -_eq_ elapsed * turnSpeed_sm_\n}\n\nvar translationVector _eq_ new BABYLON.Vector3(0_co_ 0_co_ 1).normalize()_sm_\nvar rotationQuaternion _eq_ BABYLON.Quaternion.RotationYawPitchRoll(yaw_co_ pitch_co_ roll)_sm_\n\n// Apllying translation and rotation to the plane\ncontrolCraft.rotationQuaternion _eq_ rotationQuaternion_sm_\ncontrolCraft.translate(translationVector_co_ elapsed + airSpeed_co_ BABYLON.Space.LOCAL)_sm_\n\n_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tI want to rotate theÂ plane ever considering its _qt_Forward Axis_qt__co_ but when I rotate it to the left or right and press W/S_co_ the pitch doesn_t_tÂ work correctly and the plane yaws_co_ instead of pitching. How can I fix it? I_t_m trying to make it with Quaternions_co_ but I don_t_t know the correct path.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks very much for the help!!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t\t\t\n\n_lt_span class_eq__t_ipsType_reset ipsType_medium ipsType_light_t_ data-excludequote_gt_\n\t_lt_strong_gt_Edited _lt_time datetime_eq__t_2018-11-08T03_dd_49_dd_28Z_t_ title_eq__t_11/08/2018 03_dd_49  AM_t_ data-short_eq__t_Nov 8_t__gt_November 8_lt_/time_gt_ by ferat_lt_/strong_gt_\n\t\n\t\t_lt_br_gt_Adding a playground example\n\t\n\t\n_lt_/span_gt_\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ferat","Date":"2018-11-11T16:52:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tFlight movement solved in this playground_dd_Â _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#P394JW%233_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#P394JW#3_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNow quaternions make more sense for meÂ _lt_span class_eq__qt_ipsEmoji_qt__gt_ðŸ˜Š_lt_/span_gt_Â I found that the problem I was facingÂ is called _qt_Gimbal Lock_qt_ using Euler Angles.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut I still have a small problem_dd_ when rotating the X axis using quaternions_co_ the rotation breaks on 90 degress/radians and -90 degress/radians. To _qt_solve_qt_ it_co_Â I limited the X axis rotation to a max of 85 degrees/radians.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIs there another way to avoid this issue? I noticed that this only occurs in X axis. Rotating on Y anzÂ Z axis has no limitations and I can make full 360 degressÂ rotations.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTo reproduce the problem_co_ please modify the line 73 to more than 90 degrees_co_ Eg_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_var maxPitchAngle _eq_ (120 * (Math.PI / 180))_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tThanks for attention!!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]