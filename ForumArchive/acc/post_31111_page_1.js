[{"Owner":"Ridge Batty","Date":"2017-06-16T14:52:52Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m trying to import meshes with multiple animations (from Blender). _lt_u_gt_Is there any description of correct workflow on how to make Babylon compatible animations in Blender?_lt_/u_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSingle animation works nicely when you just manually fix scaling and rotation problems. But no matter how you append more animations into one Blender file it seems to me that transformations get messed up in export process. I_t_ve tried using Action Library and Pose Library_co_ but both strategies produce weird twisting and morphing of the mesh. The result does somewhat resemble the intended animation_co_ but it_t_s hard to say what exactly goes wrong.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOf course obvious workaround is to put every animation in separate file but that quickly makes download sizes unpractical (several 100 MBs).\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-06-16T15:15:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tPinging our lord of Blender_dd_ _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/7026-gryff/?do_eq_hovercard_qt_ data-mentionid_eq__qt_7026_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/7026-gryff/_qt_ rel_eq__qt__qt__gt_@gryff_lt_/a_gt_\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"gryff","Date":"2017-06-17T15:38:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_178560_qt_ data-ipsquote-contentid_eq__qt_31111_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1497624772_qt_ data-ipsquote-userid_eq__qt_9771_qt_ data-ipsquote-username_eq__qt_Ridge Batty_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tOn 2017-06-16 at 10_dd_52 AM_co_ Ridge Batty said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tSingle animation works nicely when you just manually fix scaling and rotation problems.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tHi Ridge - welcome to the forum _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ So you have corrected the usual issue that people run into - unapplied transforms\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_178560_qt_ data-ipsquote-contentid_eq__qt_31111_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1497624772_qt_ data-ipsquote-userid_eq__qt_9771_qt_ data-ipsquote-username_eq__qt_Ridge Batty_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tOn 2017-06-16 at 10_dd_52 AM_co_ Ridge Batty said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tBut no matter how you append more animations into one Blender file it seems to me that transformations get messed up in export process\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tA couple of thoughts_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t1  What do you mean by _qt_append_qt_ ? Can you describe your process?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t2. If you have multiple animations assigned to an armature in Blender_co_ when they are exported they will just be one animation in the .babylon file that has been divided up into _qt_ranges_qt_. So if you have two 60 frame animations in Blender_co_ they will end up as one animation in the .babylon file with one animation from 0-60 and the second animation 65-125 (extra frames get added to separate the two actions.) Search your .babylon file for the word _qt__lt_em_gt_range_lt_/em_gt__qt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tcheers_co_ gryff _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"satguru","Date":"2017-06-17T23:34:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/9771-ridge-batty/?do_eq_hovercard_qt_ data-mentionid_eq__qt_9771_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/9771-ridge-batty/_qt_ rel_eq__qt__qt__gt_@Ridge Batty_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI use Action library. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tFew things which I found helpful\n_lt_/p_gt_\n\n_lt_p_gt_\n\t1) The last action in the action editor should be the rest pose ( I normally use a t-pose as the rest pose). To position an action as the last action in the action editor_co_ name it something starting with _qt_z_qt_. The actions are sorted by name_co_ alphabetically\n_lt_/p_gt_\n\n_lt_p_gt_\n\t2) Just before you export make sure the action in effect _co_ in other words the action chosen in the action editor_co_ is this last _co_ rest pose action.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t3) If the action name has a dash (_qt_-_qt_) in it then it is ignored by the exporter. So for example if you call your action _qt_my-action_qt_ it will be ignored.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t4) in the babylon scene I find that the animation  range _qt_from_qt_ value is off by one. So after I load the file into  my scene_co_ I increment the _qt_from_qt_ value of each animation range by one.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am using 5.3-beta exporter.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Ridge Batty","Date":"2017-06-21T18:07:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tNo... can_t_t get it to work. I was kinda hopeful after seeing _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/16886-satguru/?do_eq_hovercard_qt_ data-mentionid_eq__qt_16886_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/16886-satguru/_qt_ rel_eq__qt__qt__gt_@satguru_lt_/a_gt_ _t_s post. Btw_co_ I have noticed that ranges are 1-2 frames off.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnyway_co_ I always end up with the same problem_co_ animations get warped and twisted. Single animations do work_co_ but can_t_t pack multiple animations in one file -- unless I append the whole armature and mesh into the file again and again which makes no sense. I haven_t_t modified the animations in any way except applied rotation and scaling as you do.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe animations are from Mixamo. Has anyone accomplished in using them in Babylon?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSee the attached image_co_ right hand gets twisted wrist and stretched fingers and the character is leaning to left like he_t_s about to tip over... _lt_img alt_eq__qt__dd_P_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_tongue.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/tongue@2x.png 2x_qt_ title_eq__qt__dd_P_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_06/Screenshot_1.png.f8e47c7c7494de89b615ee955de5d5a1.png_qt_ data-fileid_eq__qt_13493_qt_ rel_eq__qt__qt__gt__lt_img alt_eq__qt_Screenshot_1.png_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_13493_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_06/Screenshot_1.png.f8e47c7c7494de89b615ee955de5d5a1.png_qt_ /_gt__lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"satguru","Date":"2017-06-21T18:36:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/9771-ridge-batty/?do_eq_hovercard_qt_ data-mentionid_eq__qt_9771_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/9771-ridge-batty/_qt_ rel_eq__qt__qt__gt_@Ridge Batty_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tcan you share your blend file?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Ridge Batty","Date":"2017-06-21T19:34:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOk I accidentally discovered something just before I posted a test file here...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhile I did set the _qt_zRest_qt_ animation as the last animation as you correctly suggested_co_ apparently that wasn_t_t enough. You have to switch to Pose Mode before exporting! This is weird but I was able to reproduce it several times. Exporting in object or edit mode will not work since T-pose is not actually activated (even though it_t_s selected). Maybe this is obvious to Blender users but I_t_m just a programmer so...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnyway big thanks to both who helped_co_ I was this close to give up!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]