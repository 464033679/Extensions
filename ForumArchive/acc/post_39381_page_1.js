[{"Owner":"SpaceToast","Date":"2018-08-10T19:26:47Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_m picking up an older project again_co_ and moving it to the current version of BJS. This is a pain_co_ though_co_ because¬†I_t_d been extending the StandardMaterial shader within a copy of the BJS framework itself. The project made extensive use of noise and shape functions to simulate textures within the GPU by altering the diffuse_co_ specular and normal values of the StandardMaterial_co_ based on a flag hacked into the framework.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe advantage of this method vs. ShaderMaterial was getting unlimited resolution¬†textures at no bandwidth cost¬†without having to reimplement¬†all the goodies in the StandardMaterial--SSAO2_co_ fog_co_ shadows_co_ etc. The disadvantage_dd_ Lack of portability_co_ and having to find a way to re-minify everything myself before deployment. (My kingdom for uglify.js to support the `` multiline literal...)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBefore I start migrating¬†my hacks_co_ I wanted to ask this of the smart people around the water cooler_dd_ _lt_strong_gt_Can anyone suggest a more elegent way to do this_co_ without modifying BJS itself?_lt_/strong_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2018-08-10T20:43:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWe have a BABYLON.CustomMaterial_co_ ¬†but it‚Äôs not well documented.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI would recommend playground code search and dig up some samples.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2018-08-10T22:23:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tAdding _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/13038-nasimiasl/?do_eq_hovercard_qt_ data-mentionid_eq__qt_13038_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/13038-nasimiasl/_qt_ rel_eq__qt__qt__gt_@NasimiAsl_lt_/a_gt_¬†author of the custom material.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2018-08-10T22:24:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tAlso it would be good to know a bit more about the customization you did to see how we could make them fit best in.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"NasimiAsl","Date":"2018-08-11T04:44:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\thi\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/14946-spacetoast/?do_eq_hovercard_qt_ data-mentionid_eq__qt_14946_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/14946-spacetoast/_qt_ rel_eq__qt__qt__gt_@SpaceToast_lt_/a_gt_\n_lt_/p_gt_\n_lt_iframe allowfullscreen_eq__qt__qt_ data-controller_eq__qt_core.front.core.autosizeiframe_qt_ data-embedcontent_eq__qt__qt_ data-embedid_eq__qt_embed9865177520_qt_ scrolling_eq__qt_no_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/topic/34632-samples-for-custommaterial/?do_eq_embed_qt_ style_eq__qt_height_dd_341px_sm_max-width_dd_502px_sm__qt__gt__lt_/iframe_gt_\n\n_lt_p_gt_\n\twe can make your needed sample if you make any PG here¬†\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"SpaceToast","Date":"2018-08-12T21:30:44Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/19199-pryme8/?do_eq_hovercard_qt_ data-mentionid_eq__qt_19199_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/19199-pryme8/_qt_ rel_eq__qt__qt__gt_@Pryme8_lt_/a_gt__co_ _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/20193-sebavan/?do_eq_hovercard_qt_ data-mentionid_eq__qt_20193_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/20193-sebavan/_qt_ rel_eq__qt__qt__gt_@Sebavan_lt_/a_gt_¬†and _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/13038-nasimiasl/?do_eq_hovercard_qt_ data-mentionid_eq__qt_13038_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/13038-nasimiasl/_qt_ rel_eq__qt__qt__gt_@NasimiAsl_lt_/a_gt_.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCustomMaterial looks like exactly what I need. Unfortunately_co_ it doesn_t_t seem to be production-ready just yet_co_ based on the other forum threads.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI could see saving a bit of trouble by replacing the StandardMaterial object with a custom version at runtime--one¬†containing my changes. I_t_m not really familiar with JavaScript modules_co_ however_dd_¬†They seem to be designed specifically to prevent code from tinkering around inside their scope.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"SpaceToast","Date":"2018-08-13T02:18:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI was 100% wrong about that last comment. Replacing the StandardMaterial_t_s shaders is as simple as_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_BABYLON.Effect.ShadersStore[_qt_defaultVertexShader_qt_] _eq_ `\n   //Copy the StandardMaterial_t_s vertex shader code in here_co_ and modify away.\n   //Template literals are your friend.\n`_sm_\nBABYLON.Effect.ShadersStore[_qt_defaultPixelShader_qt_] _eq_ `\n   //Copy the StandardMaterial_t_s pixel shader code in here_co_ and modify away.\n`_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t¬†\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2018-08-13T12:17:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYup this would work as well_co_ the only drawback is that you will apply the change to all the standard materials.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"NasimiAsl","Date":"2018-08-13T21:03:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tthis is what happen in builder inside the custom material\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"SpaceToast","Date":"2018-08-17T17:28:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_224906_qt_ data-ipsquote-contentid_eq__qt_39381_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1534162629_qt_ data-ipsquote-userid_eq__qt_20193_qt_ data-ipsquote-username_eq__qt_Sebavan_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tOn 8/13/2018 at 8_dd_17 AM_co_ Sebavan said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tYup this would work as well_co_ the only drawback is that you will apply the change to all the standard materials.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tThat_t_s not a drawback in this case. Unfortunately_co_ after 6 hours trying to understand the source code_co_ I_t_m no closer to figuring how to inject a new uniform into the StandardMaterial object at runtime. It_t_s just too amazingly complicated.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAfraid I_t_ll have to go back to my previous method. _lt_span class_eq__qt_ipsEmoji_qt__gt_üòî_lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2018-08-17T17:48:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYou just want a¬† custom uniform I got you._lt_br /_gt_\n\t_lt_br /_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#LRGH45_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#LRGH45_lt_/a_gt__lt_br /_gt_\n\t_lt_br /_gt_\n\tfor some reason the added uniforms are non-accessible as far as I can tell. as demonstrated by_dd__lt_br /_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#LRGH45%232_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#LRGH45#2_lt_/a_gt__lt_br /_gt_\n\t_lt_br /_gt_\n\tso what you need to do is bind the uniform¬†¬†to a varying on the vertex Shader and pass it that to the fragment._lt_br /_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#LRGH45%234_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#LRGH45#4_lt_/a_gt__lt_br /_gt_\n\t_lt_span class_eq__qt_ipsEmoji_qt__gt_‚ù§Ô∏è_lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]