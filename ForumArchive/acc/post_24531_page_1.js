[{"Owner":"Flomotion","Date":"2016-08-17T00:20:34Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_ve been playing with BabylonJS for some time now. And upto now I always used the fbx exporter or max exporter for my babylon models/animations. But a client asked me to do a tutorial for blender.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo I made an animated box in blender. But when I export it_co_ the file completely falls apart and no animation is exported. The file that remains in blender after the export looks like what babylonjs displays.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_ve added the before and after export images and the .blend file and hopefully someone can help me in the right direction._eq_\n_lt_/p_gt_\n\n_lt_p_gt__lt_a class_eq__qt_ipsAttachLink_qt_ href_eq__qt_//www.html5gamedevs.com/applications/core/interface/file/attachment.php?id_eq_9058_qt__gt_box1.blend_lt_/a_gt__lt_/p_gt_\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_08/before.jpg.1ee044dff53a0fdcb537e40c0e458685.jpg_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_9059_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_08/before.thumb.jpg.aabeb4dccd236da52fee9f796496e6e4.jpg_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_before.jpg_qt__gt__lt_/a_gt__lt_/p_gt_\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_08/after.jpg.9b59824dfbf41f29371b6e3a2bed161a.jpg_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_9060_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_08/after.thumb.jpg.36910f3f296d8bcf6b385713921a62b7.jpg_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_after.jpg_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"gryff","Date":"2016-08-17T04:19:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/16218-flomotion/?do_eq_hovercard_qt_ data-mentionid_eq__qt_16218_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/16218-flomotion/_qt_ rel_eq__qt__qt__gt_@Flomotion_lt_/a_gt_ _dd_ well I took a look at your file and looked at three things_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t1. Where the origins are for each piece to rotate - they seem OK _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\t2. Examining the structure of the box - you seem to have multiple parenting down a chain (see image below). I have had problems with this in the past and now limit my setups to one parent with a lot of children.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t3. _qt__lt_em_gt_The file that remains in blender after the export looks like what babylonjs displays._lt_/em_gt__qt_ . This kind of thing has been seen before. There are a couple of posts on this issue in the Q&amp_sm_A forum but I can_t_t find them to give you links. Maybe _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/?do_eq_hovercard_qt_ data-mentionid_eq__qt_8492_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/_qt_ rel_eq__qt__qt__gt_@JCPalmer_lt_/a_gt_ _dd_ knows where they are. And there does appear to be an animation in the file - search for _qt_range_qt_ in your babylon file.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tEDIT_dd_ Found a few links_dd_ _lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/topic/23850-bug-animation-babylon-461-after-export-blender-276/_qt_ rel_eq__qt__qt__gt_link1_lt_/a_gt__co_  _lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/topic/23283-exporter-blender-multi-animations-bug/?_fromLogin_eq_1_qt_ rel_eq__qt__qt__gt_link2_lt_/a_gt__co_ _lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/topic/24433-blender-exporter-v5-multiple-animations-issues/#comment-139673_qt_ rel_eq__qt__qt__gt_link 3_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tcheers_co_ gryff _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_08/outliner1.png.673f09b6a7211b0f735b74c032c69bb6.png_qt_ data-fileid_eq__qt_9063_qt_ rel_eq__qt_external nofollow_qt__gt__lt_img alt_eq__qt_outliner1.png_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_9063_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_08/outliner1.thumb.png.0875ff005fceac593e7e7f05713e535d.png_qt_ /_gt__lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Flomotion","Date":"2016-08-17T07:43:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi Gryf_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tthank you very much for checking my file. Happy to hear that it_t_s not the origins. Because they were a pain to set.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe file has many parent child groups indeed. But I don_t_t see any other way to animate a folding box without those relations. Unless there is a way to globally bake the position and rotation of all sub-objects.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_ve looked around on the forum and noticed that there are some remarks about a bug in the current exporter. Where the first animation track/action is placed on all objects. That would explain why the positions of all objects change.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tUnfortunately I don_t_t see any solution except for creating this animation with bones. Because that seems to work.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut my knowledge of Blender is not good enough.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tthanks again for the effort.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2016-08-17T15:46:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWhen you have animation in more than 1 mesh_co_ you probably need to use naming conventions for your animations.  The _lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/topic/24352-blender-exporter-50/_qt_ rel_eq__qt__qt__gt_announcement_lt_/a_gt_ for Exporter 5.0 says_dd_\n_lt_/p_gt_\n\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tQuote\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tWhen there are multiple meshes with actions in a .BLEND_co_ it is not possible to determine which meshes participate in which actions. When there is an action which is only done by one Mesh_co_ place the mesh name then a _t_-_t_ in the name of the action to isolate it.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tYour problem with that is you already have a dash in your mesh names.  Remove dash from your mesh names.  Sorry_co_ but do not have time to follow this or look at your files.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"gryff","Date":"2016-08-17T17:54:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/16218-flomotion/?do_eq_hovercard_qt_ data-mentionid_eq__qt_16218_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/16218-flomotion/_qt_ rel_eq__qt__qt__gt_@Flomotion_lt_/a_gt_ _dd_ Below is an example of what @JCPalmer is saying about the _qt_-_qt_s (see image)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPart A (in red) is what your .blend file has for naming objects and animations - note the _qt_-_qt_ between ARD and node.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPart B is the changes Jeff is suggesting  the _qt_-_qt_ between ARD and node is replaced by an underscore and then a new _qt_-_qt_ is placed just before the word Action.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tRepeat that procedure for all object names and animations in your stack.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI saw the _qt_-_qt_s and thought you had done it correctly - was late in the evening._lt_img alt_eq__qt__dd_o_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_ohmy.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/ohmy@2x.png 2x_qt_ title_eq__qt__dd_o_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tAnd you have to use the latest version of the Blender Exporter (v1.5.0) I believe.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWill be happy to see it working .\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHope that helps.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tcheers _co_ gryff _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_08/changes.png.015a1a3f40a286e71c38dfcd24ccebfe.png_qt_ data-fileid_eq__qt_9086_qt_ rel_eq__qt_external nofollow_qt__gt__lt_img alt_eq__qt_changes.png_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_9086_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_08/changes.png.015a1a3f40a286e71c38dfcd24ccebfe.png_qt_ /_gt__lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Flomotion","Date":"2016-08-18T15:44:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks for making that clear!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI made changes in the names. Renamed everything.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI did have 4.61 installed.But installed blender2babylon-5.0. The file will not export.. But I see JCPalmer is working on it. So hopefully it will work in the near future.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nabroski","Date":"2016-08-19T04:46:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello _lt_br /_gt__lt_br /_gt_\n\tmaybe its helpful_co_ the order in witch you apply the parent is important first/last object. also do the animation first_co_ and the apply the parents_co_ when possible._lt_br /_gt_\n\t \n_lt_/p_gt_\n_lt_iframe data-embedcontent_eq__qt__qt_ frameborder_eq__qt_0_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/topic/23232-backface-lighting/?&amp_sm_do_eq_embed&amp_sm_comment_eq_132721&amp_sm_embedComment_eq_132721&amp_sm_embedDo_eq_findComment#comment-132721_qt__gt__lt_/iframe_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]