[{"Owner":"nodejs","Date":"2017-11-10T23:15:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\ti played with the car demo on playground._lt_br /_gt_\n\tBut im not able to apply collisions to the car.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCan anyone tell what i do wrong ? _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#102TBD%2346_qt_ rel_eq__qt_external nofollow_qt__gt_Playground_lt_/a_gt__lt_br /_gt_\n\tI added_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_scene.collisionsEnabled _eq_ true_sm_ // Line 6\ncarBody.checkCollisions _eq_ true_sm_ // Line 104\n\n// Also to the wheels\nwheelFI.checkCollisions _eq_ true_sm_ // Line 96\nwheelRO.checkCollisions _eq_ true_sm_ // Line 92\nwheelRI.checkCollisions _eq_ true_sm_ // Line 87\nwheelFO.checkCollisions _eq_ true_sm_ // Line 82\n\n// Cubes on ground\nboxes.checkCollisions _eq_ true_sm_ // Line 138_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tBut dosnt work_co_ i dont know why.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-11-11T03:13:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWingnut goofing-around...\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#102TBD%2351_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#102TBD#51_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSPS (solid particle system) might not have ellipsoid collision features available... on the particle shapes.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSO... I said goodbye to SPS particles_co_ and I changed to boxes... more standard.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI added 2 util funcs at the top... used to help _qt_see_qt_ .ellipsoids.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI do much INIT of the car part _t_ellipsoidMesh_t_... in lines 169-188.  The .ellisoidMesh is NOT PROOF that a collider is present on a cloned or instanced mesh.  It is simply a wireframe sphere FORCED into the scene.  It _lt_u_gt_has to be told_lt_/u_gt_ to track the non-rendered .ellipsoid Vector3 and collider.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo_co_ lines 339-350_co_ inside an _qt_afterRender_qt_ loop_co_ I attempt to get the carBody and wheels _t_ellipsoidMesh_t_ (the wireframed spheres)... to _qt_turn with_qt_ the car and its wheels... as you drive around.  I am not very good at copying rotationQuaternions from actual mesh... into ellipsoidMesh.rotationQuaternion_co_ so work is needed_co_ there.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd_co_ I haven_t_t seen ANY collisions_co_ yet.  Maybe soon... with the help of others.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tKeep in mind that the built-into-BJS collision/ellipsoid system... was designed for camera-&gt_sm_mesh collisions... and NOT for mesh-&gt_sm_mesh. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tPerhaps... it is time to think about a feature called _t_intersectsMesh_qt_ (using that to write your own collision checking _qt_loop_qt_)_co_ or perhaps use a 3rd party physics engine.  BJS has plugin support for 2-3 of the best physics engines.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThere is ONE box that is not a clone (it looks different - expected).  It is the clone_t_s _lt_em_gt_master_lt_/em_gt_.  I create all the boxes in line 215 area.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tStill testing... playing... see if I can understand some things.  DON_t_T TRUST .setEllipsoidPerBoundingBox() or .showEllipsoid() to be accurate or indicative of anything.  They are badly coded... by me.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  I_t_m pretty sloppy and forgetful.  But perhaps_co_ used with caution... they can be temporarily helpful.  \n_lt_/p_gt_\n\n_lt_p_gt_\n\tOthers will likely comment soon.  Perhaps somebody can help keep my Wingnut-added wheel.ellipsoidMesh... properly rotated to match car items (lines 339-349).  thx\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-11-11T16:49:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#102TBD%2353_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#102TBD#53_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tA little better.  .ellipsoidMesh are tracking the mesh a little better.  No problems with car turns.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI don_t_t think there is any collision-testing activated in these playgrounds.  This playground doesn_t_t use .moveWithCollisions at all_co_ so there_t_s no _qt_reaction_qt_ to collisions.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWith .moveWithCollisions(someAmount)_co_ the mover quits when a collision happens.  But here_co_ there is nothing to tell the move-system... that a collision has happened and to do some reaction (such as quit movement immediately_co_ or explode the collided-with thing.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tSo_co_ collisions ARE likely happening.  Just no _qt_reaction_qt_ has been programmed_co_ yet.  (such as an onCollide() func).  This thing is ready to PARTY_co_ I suspect.  Let_t_s blow up some obstacles!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI think line 321 is the forward mover.  pivot.translate(BABYLON.Axis.X_co_ -distance_co_ BABYLON.Space.LOCAL)_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLet_t_s try changing that... to a moveWithCollisions() mover.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#102TBD%2355_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#102TBD#55_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLines 323-335 is the experimentation area.  I try some _qt_micro_qt_ moveWithCollisions on the 5 main body parts.  (They are all parented to _lt_em_gt_pivot_lt_/em_gt_ so I don_t_t want to move them away-from their parent too far.)  Moving is working fine_co_ but_co_ no joy for collisions.  A fun challenge_co_ so far.  Still thinking and testing. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tRemember... the _qt_look_qt_ of the wireframe spheres... is NOT necessarily the correct .ellipsoid size/position.  Verify with console.log(someMesh.ellipsoid)_sm_  My goofy .setEllipsoidPerBoundingBox() could have mistakes.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"nodejs","Date":"2017-11-12T11:27:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_194674_qt_ data-ipsquote-contentid_eq__qt_33933_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1510369992_qt_ data-ipsquote-userid_eq__qt_5733_qt_ data-ipsquote-username_eq__qt_Wingnut_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tOn 11.11.2017 at 4_dd_13 AM_co_ Wingnut said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tKeep in mind that the built-into-BJS collision/ellipsoid system... was designed for camera-&gt_sm_mesh collisions... and NOT for mesh-&gt_sm_mesh. \n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tI didnt know that\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_194674_qt_ data-ipsquote-contentid_eq__qt_33933_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1510369992_qt_ data-ipsquote-userid_eq__qt_5733_qt_ data-ipsquote-username_eq__qt_Wingnut_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tOn 11.11.2017 at 4_dd_13 AM_co_ Wingnut said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\t perhaps use a 3rd party physics engine.  BJS has plugin support for 2-3 of the best physics engines.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tThis was the next step_co_ but first i would play a litle with collisions.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI must play a lot more with BJS to reach my goal _lt_img alt_eq__qt_-_-_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sleep.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sleep@2x.png 2x_qt_ title_eq__qt_-_-_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tThank you very much\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-11-12T12:17:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi again_co_ NJS! \n_lt_/p_gt_\n\n_lt_p_gt_\n\t   Well_co_ I was sort-of hoping that other forum helpers would help work-on the colliders_co_ but_co_ they haven_t_t.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPerhaps today_co_ I will try some more things.  I _lt_em_gt_think_lt_/em_gt_ we also have the option-of actionManagers on the 5 car parts.  In the _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/how_to/how_to_use_actions#triggers_qt_ rel_eq__qt_external nofollow_qt__gt_triggers section of ActionManager docs_lt_/a_gt__co_  we have a BABYLON.ActionManager.OnIntersectionEnterTrigger.  _qt_ Raised when the mesh is in intersection with another mesh. Raised just once._qt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThat sounds kind-of good_co_ huh?  Using actionManager OnIntersectionEnterTrigger would allow us to _lt_u_gt_avoid_lt_/u_gt_ .checkCollisions and mesh.ellipsoids.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tActionManagers are generally 2-part things... a trigger and an _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/how_to/how_to_use_actions#available-actions_qt_ rel_eq__qt_external nofollow_qt__gt_action_lt_/a_gt_.  We have our _qt_OnIntersectionEnterTrigger_qt_ for the trigger_co_ but we would need an action.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOne of my FAVORITE actionManager actions... is _lt_em_gt_executeCodeAction. _lt_/em_gt_ Unfortunately_co_ there is no example of executeCodeAction in our playground _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/?17_qt_ rel_eq__qt_external nofollow_qt__gt_ACTIONS demo_lt_/a_gt_. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tA_lt_a href_eq__qt_http_dd_//doc.babylonjs.com/playground?code_eq_executeCodeAction_qt_ rel_eq__qt_external nofollow_qt__gt_ playground search for executeCodeAction_lt_/a_gt__lt_em_gt_ _lt_/em_gt_does MUCH better_co_ returning 331 _qt_hits_qt_.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhen using an executeCodeAction and the actionManager triggers_co_ it executes a pre-declared function.  Lets call our function... _lt_em_gt_onCarHitSomething(bjsEvent)._lt_/em_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThat_lt_em_gt_ _lt_/em_gt__lt_em_gt_bjsEvent_lt_/em_gt_ parameter arrives at the action-function automatically (sort of like DOM event object that automatically arrives-at webpage-like event handlers).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI _lt_em_gt_think_lt_/em_gt_ that _lt_em_gt_bjsEvent_lt_/em_gt_ object_lt_em_gt_ _lt_/em_gt_has a property on it... named ._lt_em_gt_source_lt_/em_gt_.  I THINK ._lt_em_gt_source_lt_/em_gt_... will contain the mesh that the car HIT.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo_co_ inside our pre-made _lt_em_gt_onCarHitSomething(bjsEvent) {  bjsEvent.source.position _eq_ explosion AND bjsEvent.source.dispose()  }   _lt_/em_gt_(that_t_s pseudo-code_co_ of course) _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tYou get the idea.  Perhaps using ActionManagers will do better for sensing collisions... than the .checkCollisions/.ellipsoid system (IF blowing-up/disposing obstacles after impact).\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_IF _lt_/strong_gt_you want the obstacles to slide or tumble across the terrain based-upon the force of the impact_co_ then 3rd party physics engine is the better choice.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOk_co_ I_t_ll get some morning coffee and re-read this post... make sure I didn_t_t say too many wrong or stupid things (I do that sometimes)  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tIf you have questions_co_ just ask.  If you want to tell me/us MORE about what you want to try_co_ we will listen_co_ and try to suggest the best ways.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPerhaps_co_ in a few hours_co_ I_co_ you_co_ or another forum helper... will activate an actionManager or 5... on our car... so we can do some tests/play.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tTalk soon.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]