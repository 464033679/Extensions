[{"Owner":"JCPalmer","Date":"2015-04-22T18:28:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Thought I had just finished Dialog extension_co_ but there is just one more thing.  The last thing added was to align the Panel for centering or docking.  The place where the pick occurs is not actually over the _qt_button_qt__co_ unless the Panel is aligned left-bottom though_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Tester _dd_ _lt_a href_eq__qt_https_dd_//googledrive.com/host/0B6-s6ZjHyEwUfjlzYXJKMC1zLXdIaV81REJhbjdfRmczQTJFOEpjWWg2SUIwZVRRS0VsR28_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//googledrive.com/host/0B6-s6ZjHyEwUfjlzYXJKMC1zLXdIaV81REJhbjdfRmczQTJFOEpjWWg2SUIwZVRRS0VsR28_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_To see issue_co_ go to the Modal Stack Menu_co_ then click on the Top or Center buttons.  The Panel adjusts (immediately if using system camera)_co_ but pick area does not.  Then just slide the mouse to the left or right and click again.  Even though the Panel was moved it still thinks the buttons are still there.  (FYI_co_ on Dock Panel_co_ click in bottom right to dismiss)._lt_/p_gt__lt_p_gt__lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_04_2015/post-8492-0-88420900-1429726600.png_qt_ rel_eq__qt_external nofollow_qt__gt__lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_04_2015/post-8492-0-88420900-1429726600.png_qt_ data-fileid_eq__qt_4116_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_post-8492-0-88420900-1429726600.png_qt__gt__lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Here is the code that adjust the camera_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_/** * Adjusts camera ortho settings &amp_sm_ viewport based on the top panel on the stack. * Called by pushPanel()_co_ popPanel()_co_ &amp_sm_ window resize event registered for above */private static _adjustCameraForPanel() _dd_ void{     if (!DialogSys._dialogStack || DialogSys._dialogStack.length _eq__eq__eq_ 0) return_sm_                 // work with the panel on the top of the stack     var panel _eq_ DialogSys._dialogStack[DialogSys._dialogStack.length - 1]_sm_    // assign the ortho_co_ based on the half width &amp_sm_ height    var halfWidth  _eq_ panel.getReqdWidth () / 2_sm_    var halfHeight _eq_ panel.getReqdHeight() / 2_sm_    DialogSys._camera.orthoTop    _eq_  halfHeight_sm_    DialogSys._camera.orthoBottom _eq_ -halfHeight_sm_    DialogSys._camera.orthoLeft   _eq_ -halfWidth_sm_    DialogSys._camera.orthoRight  _eq_  halfWidth_sm_    DialogSys._camera.getProjectionMatrix()_sm_ // required to force ortho to take effect after first setting                // keep dialog from being distorted by window size    var hScale _eq_ window.innerHeight / halfHeight_sm_    var wScale _eq_ window.innerWidth  / halfWidth _sm_                var h _eq_ window.innerHeight * ((hScale &gt_sm_ wScale) ? wScale/hScale _dd_ 1)_sm_    var w _eq_ window.innerWidth  * ((hScale &lt_sm_ wScale) ? hScale/wScale _dd_ 1)_sm_                // derive height &amp_sm_ width    var height _eq_ panel.maxViewportHeight * h / window.innerHeight_sm_     var width  _eq_ panel.maxViewportWidth  * w / window.innerWidth _sm_                // assign x &amp_sm_ y_co_ based on layout of panel    var x _dd_ number_sm_    switch(panel.horizontalAlignment){        case Panel.ALIGN_LEFT_dd_            x _eq_ 0_sm_ break_sm_                            case Panel.ALIGN_HCENTER_dd_            x _eq_ (1 - width) / 2_sm_ break_sm_                            case Panel.ALIGN_RIGHT_dd_            x _eq_ 1 - width_sm_    }                var y _dd_ number_sm_    switch(panel.verticalAlignment){        case Panel.ALIGN_TOP_dd_            y _eq_ 1 - height_sm_ break_sm_                            case Panel.ALIGN_VCENTER_dd_            y _eq_ (1 - height) / 2_sm_ break_sm_                            case Panel.ALIGN_BOTTOM_dd_            y _eq_ 0_sm_    }    DialogSys._camera.viewport _eq_ new BABYLON.Viewport(x_co_ y_co_ width_co_ height)_sm_}_lt_/pre_gt__lt_p_gt_Anybody have an idea?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thanks_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Jeff_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Samuel Girardin","Date":"2015-04-22T18:51:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi Jeff_co_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I_t_m not sure it will solve your problem_co_ but I had some picking problems with ortho mode. Maybe you can try to put your arcrotate camera more far from your object. For me it works. And as you are in ortho mode you don t really care of your camera position._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_sam_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2015-04-22T19:00:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Sam_co__lt_/p_gt__lt_p_gt_Am using the FreeCamera for the system camera.  I positioned the camera all the way to Z_dd_ -2000_co_ but did nothing different.  This only seems to affect anything when too close (-2)_co_ or behind._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thanks anyway._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Jeff_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2015-04-22T19:07:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hey Jeff_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I tried debugging the problem (it only affects the picking function when the window is smaller than the dialog)._lt_/p_gt__lt_p_gt_I think the problem is in this function - _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/932165e1520265d793c4309d9fdff0ae270ba375/Babylon/babylon.scene.ts#L1951_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/932165e1520265d793c4309d9fdff0ae270ba375/Babylon/babylon.scene.ts#L1951_lt_/a_gt_ (createPickingRay)_co_ thou i can_t_t point the right place. I think it is the recalculation of y. But again_co_ I am not really sure about it. Try checking the values coming back from this function and see if they correlate correctly to the position of the objects in the camera_t_s viewport.  _lt_/p_gt__lt_p_gt_I_t_ll try debugging further_co_ let_t_s see what I find _dd_-)_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2015-04-22T19:45:31Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_The dimension you have the problem in depend on the shape of the panel.  I added a bunch of junk lines to the bottom to make it taller than it is wide_co_ now the problem is in x.  Clicked the _qt_right_qt_ button_co_ cannot find anything now._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Will look into calling createPickingRay._lt_/p_gt__lt_p_gt__lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_04_2015/post-8492-0-65107000-1429731913.png_qt_ rel_eq__qt_external nofollow_qt__gt__lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_04_2015/post-8492-0-65107000-1429731913.png_qt_ data-fileid_eq__qt_4117_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_post-8492-0-65107000-1429731913.png_qt__gt__lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2015-04-23T14:08:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Well_co__lt_/p_gt__lt_p_gt_Sam saying it worked for him_co_ lead me to think I was doing something _qt_special_qt_.  Took a while to think of it_co_ but I had found an undocumented feature reading the Scene source code.  I thought_co_ this sounds like something I should be doing_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_DialogSys._scene.cameraToUseForPointers _eq_ DialogSys._camera_sm__lt_/pre_gt__lt_p_gt_Wrong.  I do not really know what this is_co_ but it does not _qt_work_qt__co_ whatever that is.  Works great without it.  Will leave it as comments for release._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_This extension does not really operate correctly until 2.1.  Multiple cameras were possible_co_ but those minor little adjustments to layermasks in 2.1 really make the approach a lot more useful.  (If this had been available when virtualJoysticks camera was written_co_ perhaps it would have been written so that it worked on CocoonJS_t_s canvas+_co_ where it is most likely to be wanted).  If someone can explain or fix cameraToUseForPointers before 2.1 goes to production_co_ I could get this back in before I release this._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_BTW_co_  I updated the link above_co_ so you can see it now works._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"surmariusz","Date":"2015-04-29T07:12:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi_co__lt_/p_gt__lt_p_gt_I have discovered very recently that if you want to use more than one camera you _lt_strong_gt_should _lt_/strong_gt_set cameraToUseForPointers. You cannot rely on activeCamera as it can be changed by engine in rendering process. This are my practical observations _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]