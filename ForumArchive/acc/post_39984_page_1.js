[{"Owner":"Nodragem","Date":"2018-09-13T16:34:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am trying to make a Labyrinth. Hence I cloned a box to make the walls and the floor.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFor some reason_co_ when I try to merge the floor boxes_co_ Mesh.MergeMeshes() works but when I try to merge the wall boxes_co_ Mesh.MergeMeshes() returns an error_dd_Â \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_babylon.js_dd_18 Uncaught Error_dd_ Positions are required\n    at t._validate (babylon.js_dd_18)\n    at t.merge (babylon.js_dd_18)\n    at Function.r.MergeMeshes (babylon.js_dd_17)\n    at e.MergeMeshes (MazeLoader.ts_dd_70)\n    at new e (MazeLoader.ts_dd_26)\n    at new e (game.ts_dd_20)\n    at game.ts_dd_73_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tyou can see my code on Github here_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//github.com/Nodragem/Maze-Demo/tree/master/src_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/Nodragem/Maze-Demo/tree/master/src_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFeel free to clone and run it. To reproduce the error_co_ simplyÂ uncomment line 94 of MazeLoader.ts (note_dd_Â the debugger is wrong when it reports the defective lineÂ _t_at MazeLoader.ts_dd_ 70_t__sm_ it is referring to the js file).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThank you for your help _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tÂ \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Gijs","Date":"2018-09-13T17:54:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_ maybe it_t_s because the _lt_em_gt_meshWall_lt_/em_gt_ gets disposed after the first merger_lt_em_gt_ _lt_/em_gt_due to the second parameter being _lt_em_gt_true_lt_/em_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nodragem","Date":"2018-09-14T10:49:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf I swap the two lines like so_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_\t\tthis.mazeWalls _eq_ BABYLON.Mesh.MergeMeshes(wallMeshes_co_ true)_sm_\n\t\tthis.mazeFloor _eq_ BABYLON.Mesh.MergeMeshes(floorMeshes_co_ true)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tI still have the crash happening for the line with _t_this.mazeWalls_t__co_ hence your suggestion is refuted.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe following may help.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBefore I use Mesh.MergeMeshes()_co_ I am adding my meshes to an array and I run that little test on each mesh before to push it to the array_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_if (!element.getVerticesData(BABYLON.VertexBuffer.PositionKind))\n\tconsole.log(_qt_problems with_dd_ _qt_ + element.name)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tThe result is that all the wall meshes fail this test and printÂ _qt_problems with ... _qt_ in the console log.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe floor meshes pass the test.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHence_co_ it seems that somehow_co_ my wall meshes do not have vertexÂ position information?...\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"MarianG","Date":"2018-09-14T13:33:57Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_ i didn_t_t test your repo_co_ but I saw a transformNode. Are you trying to merge this too? Be carefull and use only plenty abstract meshes_co_ no parents_co_ no children for merge. And double check what is the difference between your floors boxes and wall boxes.If i_t_ll have some time I_t_ll try this later. Hope this help a little bit.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Gijs","Date":"2018-09-14T17:38:44Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/29687-nodragem/?do_eq_hovercard_qt_ data-mentionid_eq__qt_29687_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/29687-nodragem/_qt_ rel_eq__qt__qt__gt_@Nodragem_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOk I actually ran it this time_co_ and I found the error_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe _lt_em_gt_HuntAndKillMazeAlgorithm _lt_/em_gt_may dispose the _lt_em_gt_mazeCell_lt_/em_gt_s_co_ so the _lt_em_gt_tryToPushToForMerge _lt_/em_gt_function also has to check for that_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_if(element !_eq__eq_ undefined &amp_sm_&amp_sm_ !element.isDisposed()){_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tÂ \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nodragem","Date":"2018-09-14T22:03:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOn my side_co_ if I do that_co_ the list is then empty and the Mesh.MergeMesh() doesn_t_t work either...\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Gijs","Date":"2018-09-14T22:28:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_228153_qt_ data-ipsquote-contentid_eq__qt_39984_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1536962619_qt_ data-ipsquote-userid_eq__qt_29687_qt_ data-ipsquote-username_eq__qt_Nodragem_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t18 minutes ago_co_ Nodragem said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tOn my side_co_ if I do that_co_ the list is then empty and the Mesh.MergeMesh() doesn_t_t work either...\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tThat_t_s odd. On my side_co_ the original list would be of length 220_co_ while the isDisposed checked list is of length 121_co_ and when I do\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_this.mazeWalls.dispose()_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tI see just the floor_co_ so I_t_m pretty sure the merging succeeded\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_20040_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_09/maze.png.efbb5d1bec10d4479524714637229226.png_qt_ alt_eq__qt_maze.png.efbb5d1bec10d4479524714637229226.png_qt_ /_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nodragem","Date":"2018-09-15T13:56:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOk_co_ so I tried again and it seems to work!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHowever_co_ when I activate checkCollisions _eq_ true on mazeWalls_co_ it seems that the collision are wrong... Does that happen on your side?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nodragem","Date":"2018-09-15T16:54:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHere is what I mean_dd__lt_br /_gt_\n\t_lt_a href_eq__qt_https_dd_//nodragem.itch.io/maze-demo_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//nodragem.itch.io/maze-demo_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Gijs","Date":"2018-09-16T15:33:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_228203_qt_ data-ipsquote-contentid_eq__qt_39984_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1537019785_qt_ data-ipsquote-userid_eq__qt_29687_qt_ data-ipsquote-username_eq__qt_Nodragem_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tOn 9/15/2018 at 3_dd_56 PM_co_ Nodragem said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tOk_co_ so I tried again and it seems to work!\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tHowever_co_ when I activate checkCollisions _eq_ true on mazeWalls_co_ it seems that the collision are wrong... Does that happen on your side?\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tThe collisions seem off on my side as well_co_ but with the camera ellipsoid set to (0.5_co_ 0.75_co_ 0.5) it seems fine.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd I couldn_t_t see the maze demo on itch_co_ because it requires a password.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nodragem","Date":"2018-09-17T16:08:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\toh yeah my bad ^^ I forgot about this password.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou did not miss anything though_co_ you were right about the collision _lt_span class_eq__qt_ipsEmoji_qt__gt_ðŸ˜•_lt_/span_gt_Â I am so bad at seeing my own bugs ^^ Thank you very much!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]