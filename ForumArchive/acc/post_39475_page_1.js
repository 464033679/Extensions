[{"Owner":"goetzmoritz","Date":"2018-08-17T11:43:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi there_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tÂ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tso_co_ it is easy to have decals on a static mesh. But if I want to have it on an animated mesh with bones and animation_co_ it will stick to the origin position of the mesh. Any ideas how to resolve that?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBasically_co_ what I want to achieve is having a layered material_co_ something like multimaterial_co_ but without the need to use the vertices in order to separate the materials.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2018-08-17T12:31:00Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tyou could clone the mesh and render in two passes ?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2018-08-17T12:31:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOh and I just noticed it was your first post_co_ Welcome to the forum !!!!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"goetzmoritz","Date":"2018-08-17T12:33:03Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_Yes_co_ I did some research... Clone the mesh and work with material z-offset.Â _lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2018-08-17T12:34:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tyup _lt_span_gt__lt_span class_eq__qt_ipsEmoji_qt__gt_ðŸ™‚_lt_/span_gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"goetzmoritz","Date":"2018-08-17T16:51:22Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI tried to achieve that mesh-clone thing_co_ but somehow it does not work. I_t_m pretty new to Babylon-JS (and very excited indeed).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tÂ \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#PN1NNI%2345_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#PN1NNI#4_lt_/a_gt_6\n_lt_/p_gt_\n\n_lt_p_gt_\n\tÂ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tÂ \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2018-08-17T17:41:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tA couple of issues.\n_lt_/p_gt_\n\n_lt_ol_gt_\n\t_lt_li_gt_\n\t\tThe clone techniques is to simulate layered materials so you will need to be carefull that you fit your textures with the mesh uvs or rewrite them.\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\tin you playground mesh[0] does not contains the vertex info but is the parent group not containing rendering info.\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\tYou should try first on a simpler model to validate the technique as the alien is a pretty complex one.\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\tThe material looks ok once it will be applied to the right mesh _lt_span_gt__lt_span class_eq__qt_ipsEmoji_qt__gt_ðŸ™‚_lt_/span_gt__lt_/span_gt_\n\t_lt_/li_gt_\n_lt_/ol_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"goetzmoritz","Date":"2018-08-18T08:01:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tÂ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks for this help. I tried to bring a more simple example and things start to get better.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tStill_co_ I have the issue that in this exampleÂ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#YDO1F%2371_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#YDO1F#71_lt_/a_gt_Â you can see that the normal-map is also applied to the second material. This is not what I was aiming for. Is it possible to share the alpha-maskÂ from the albedo for metalness/roughness/normalsÂ _co_ too?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"goetzmoritz","Date":"2018-08-18T08:12:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWow_co_ I thinkÂ \n_lt_/p_gt_\n\n_lt_div style_eq__qt_background-color_dd_#fffffe_sm_color_dd_#000000_sm_font-size_dd_14px_sm__qt__gt_\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_pbr1.transparencyMode _eq_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#09885a_sm__qt__gt_3_lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt__sm__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\tÂ \n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_does the trick!_lt_/span_gt_\n\t_lt_/div_gt_\n_lt_/div_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"goetzmoritz","Date":"2018-08-19T06:58:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tzOffset causes weird errors_co_ though. What are proper value ranges for that? For my material for aÂ gltf-model on which I_t_m using that value on_co_ it makes the _qt_base-layer_qt_ material make somewhat transparent_co_ if I use an opacity-map for the _qt_top_qt_ layer. For me it seems that the opacity of the top-layer-mesh-material is somehow influencing the base-layer-mesh-material. How can that be?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- Can I get rid of that weird effect? Is that bug?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- Is there another way to use transparency besides opacity-maps?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tÂ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_ll try to reproduce my effect on playground_co_ will take some time though.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2018-08-19T09:38:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThis depends on the alpha mode that you are using.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou can find more about the available modes here_dd_Â _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/how_to/how_to_use_blend_modes_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/how_to/how_to_use_blend_modes_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"goetzmoritz","Date":"2018-08-19T13:22:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks for the hint_co_ but the effect Iâ€˜m getting is weird. When I activate the top-layer-mesh and assign an opacity map to the materialÂ and set the transparent-mode to 3_co_ the base mesh_co_ which I did not change at all_co_ gets influenced by this opacity map too_co_ but only when you look at it at a very small angle.Â \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2018-08-20T08:53:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOh_co_ this can come from the fresnel effect at grazing angles. Could you set on your material (the decal one)_dd_\n_lt_/p_gt_\n\n_lt_div style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#000000_sm_font-size_dd_14px_sm__qt__gt_\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_mat.useSpecularOverAlpha _eq_ false_sm__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_mat._lt_/span_gt_useRadianceOverAlphaÂ _lt_span style_eq__qt_color_dd_#000000_sm__qt__gt__eq_ false_sm__lt_/span_gt_\n\t_lt_/div_gt_\n_lt_/div_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"goetzmoritz","Date":"2018-08-20T09:03:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYes_co_ thanks!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI think I was able to create a very simple Playground to show my issue_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#8LFTCH%235_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#8LFTCH#5_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt seems that the Normals are flipped as soon as I apply a new material.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2018-08-20T09:14:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThis is because you are not setting your material as the main one_dd_Â _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#8LFTCH%237_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#8LFTCH#7_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThere are plenty of properties on the materials and some of them are linked to the mesh and would need to be carried over.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"goetzmoritz","Date":"2018-08-20T12:44:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi Sebavan_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tyes_co_ this was the last puzzle piece I needed to complete this little project. Thank you a lot you were aÂ great help for me!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]