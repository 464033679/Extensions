[{"Owner":"qqdarren","Date":"2015-04-04T20:51:03Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I want to take contour data (_lt_a href_eq__qt_http_dd_//suite.opengeo.org/4.1/_images/style_complete.png_qt_ rel_eq__qt_external nofollow_qt__gt_e.g._lt_/a_gt_) from maps_co_ and make a WebGL 3D explorable landscape_sm_ I am posting here_co_ as my current plan is to build on top of Babylon._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I believe the contour data is stored as vectors_co_ most likely bezier curves. My plan up until now was to built a raster image (i.e. a 2D height map) from the contour data_co_ initially using straight line interpolation between the contours (then_co_ later_co_ some kind of curve fitting algorithm to smooth it out). Then I take the height map and use CreateGroundFromHeightMap().  That_co_ in turn_co_ will make a plane from triangles_co_ and adjust the y-coord of each triangle corner._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_That got me wondering if I am taking the long way round? Is there some way to build a 3D surface directly from contour vectors?_lt_/p_gt__lt_p_gt_ _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-04-05T08:15:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_yes sir _dd_ ribbons_lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//doc.babylonjs.com/page.php?p_eq_24847_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/page.php?p_eq_24847_lt_/a_gt__lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//doc.babylonjs.com/page.php?p_eq_25088_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/page.php?p_eq_25088_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Each of your contour line is a path _dd_ a series of successive points._lt_/p_gt__lt_p_gt_In a given path_co_ they all have the same altitude_co_ say_co_ z coordinate values._lt_/p_gt__lt_p_gt_You will just have to set x and y for each point on a given contour_co_ right ?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_So just fill as many _lt_em_gt_contour_lt_/em_gt_ arrays as needed with points of the same contour in each array._lt_/p_gt__lt_p_gt_Please try to put the same number of points in each array_co_ even if you have to set them in the same position x_co_y_co_z_co_ this will ease the final ribbon rendering._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Then put each of your _lt_em_gt_contour_lt_/em_gt_ array in another unique _lt_em_gt_contours_lt_/em_gt_ array_co_ and finally construct your ribbon._lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var contour2500 _eq_ [p1_co_ p2_co_ ..._co_ pN]_sm_  // all vector3 have z _eq_ 2500 herevar contour2000 _eq_ [q1_co_ q2_co_ ..._co_ qN]_sm_  // all vector3 have z _eq_ 2000 here...var contourN _eq_ [...]_sm_ // all vector3 have z _eq_ N herevar contours _eq_ [contour2500_co_ contour2000_co_ ..._co_ contourN ]_sm_var myRelief _eq_ BABYLON.Mesh.CreateRibbon(_qt_relief_qt__co_ contours_co_ false_co_ false_co_ 0_co_ scene)_sm__lt_/pre_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2015-04-13T15:08:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi guys.  I think..._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_mesh.applyDisplacementMapFromBuffer(buffer_co_ heightMapWidth_co_ heightMapHeight_co_ minHeight_co_ maxHeight)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_and..._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_mesh.applyDisplacementMap(url_co_ minHeight_co_ maxHeight_co_ onSuccess)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_...might apply.  Got a url for a grayscale contour map?  Then it might be easy to make a heightMap terrain from it.  But ribbons are cool_co_ too.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-04-13T15:21:17Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Ribbons are always cool _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"qqdarren","Date":"2015-04-13T15:50:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Curse you Wingnut_dd_ more things to study _sm_-)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_BTW_co_ I don_t_t think Google is indexing the docs.babylonjs.org site? It was quite hard to track down those functions... but even when I did there was no explanation there. Thank goodness for open source_co_ so I can get this_dd_ _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/Babylon/Mesh/babylon.mesh.js#L801_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/Babylon/Mesh/babylon.mesh.js#L801_lt_/a_gt_   But it is still not clear how to choose to use this instead of CreateGroundFromHeightMap()_co_ (or over the ribbon approach). _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_(This sub-project is currently stalled due to lack of test data - it turns out understanding the map data formats is more like a week_t_s job_co_ rather than the hour_t_s job I was hoping it was.)_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-04-13T19:24:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_please let us know if you achieve to get elevation data_lt_/p_gt__lt_p_gt_I_t_m really interested in this._lt_/p_gt__lt_p_gt_A friend of mine in south of France just bought a small antena for 30 € and set it on his house. Thus he catches all live flight data of planes flying within a 500 km radius _dd_ direction_co_ speed_co_ altitude_co_ plane number and some other transponder public data._lt_/p_gt__lt_p_gt_I asked him to set up some server (he_t_s a sysadmin) to publish his live data on-line (http_co_ websocket_co_ or any tcp protocol he can)._lt_/p_gt__lt_p_gt_I intend to display then each plane flying in 3D ... just like _lt_a href_eq__qt_http_dd_//www.flightradar24.com/_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.flightradar24.com/_lt_/a_gt_ but in 3D and with animated planes (right speed and altitude)._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_If I could moreover show the planes on a real 3D map_co_ it would just be fine  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_We could_co_ for instance_co_ have the view from a real plane as it is flying above us !_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I_t_d like to do the same also for my father who is a great mountain hiker and GPS tracking addict _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_tongue.png_qt_ alt_eq__qt__dd_P_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/tongue@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ _dd_ to display his walk on a 3D relief from his own GPS data._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Arrg_co_ so many things to do and so little time  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ alt_eq__qt__dd_(_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2015-04-14T13:03:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_You guys are interesting... I love listening to your ideas._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_You are right_co_ qqd.  It appears that the displacementMap feature didn_t_t get documented_co_ or it_t_s hidden somewhere.  Maybe you would like to write about it_co_ and we can make sure it gets added to a section in heightMaps_co_ maybe.  Just jot down the things you discover or find interesting_co_ if you do more experiments.  Hell_co_ just post about them here_co_ and we_t_ll use this thread to make the displaceMap docs._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//makina-corpus.com/blog/metier/2014/how-to-use-multimaterials-with-a-tiled-ground-in-babylonjs_qt_ rel_eq__qt_external nofollow_qt__gt_Here_t_s our tiled grounds tutorial_lt_/a_gt_.  Playground #6 there... is map stuff.  No shaded relief_co_ but hey_co_ its _lt_a href_eq__qt_http_dd_//www.babylonjs.com/playground/#1XBLWB%236_qt_ rel_eq__qt_external nofollow_qt__gt_live-querying of map data from within the playground_lt_/a_gt__co_ and that gets awarded a 2 foot lawn statue_co_ by default.  (some hero worship for Kostar111)  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  Maybe if the map IMAGES can be queried and tiled_co_ so can the elevation data.  Maybe. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Here_t_s _lt_a href_eq__qt_http_dd_//babylonjs-playground.azurewebsites.net/#P9UZG_qt_ rel_eq__qt_external nofollow_qt__gt_a PG demo_lt_/a_gt_ where I used displacementMaps.  If you notice_co_ I brought both of the _qt_Big-2_qt_ displacementMap functions into the playground editor (from the framework).  I think I only did one modification... lines 34/36. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_All in all_co_ this might be a good playground to zip-up or make new saves-from... do some testings.  It might be wise to compare my localized _lt_em_gt__lt_em_gt_applyDisplacementMap()_lt_/em_gt__lt_/em_gt_ and _lt_em_gt__lt_em_gt_applyDisplacementMapFromBuffer_lt_/em_gt_()_lt_/em_gt_ with the _qt_official_qt_ BJS framework versions... someday... just to make sure I didn_t_t modify mine...  too non-standard._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_At minimum_co_ when the Big-2 displacement methods are put into the PG itself like that_co_ we can put many console.log messages within them_co_ and watch them work_co_ and we can learn... and steal stuff.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_What was this bezier curve stuff?  Were you guys talking about smoothing operations?  I think we have some Catmull-Rom and cubic hermite code on-board.  I_t_ll let you read about them and dig-up the BJS functions yourself.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  I don_t_t know if those things are apropos to your ideas_co_ but maybe._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I find that one of the best heightMap/displaceMap smoothing methods... is a blurring technique I call Jack Daniels.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  It_t_s not easy to provide THAT level of functionality for all the users of your scene_co_ though._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-04-14T19:40:52Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt__qt_Jack Daniel blurring_qt_  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_laugh.png_qt_ alt_eq__qt__dd_lol_dd__qt__gt_  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_laugh.png_qt_ alt_eq__qt__dd_lol_dd__qt__gt_  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_laugh.png_qt_ alt_eq__qt__dd_lol_dd__qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]