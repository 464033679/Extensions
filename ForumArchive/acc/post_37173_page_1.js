[{"Owner":"JackFalcon","Date":"2018-04-23T04:18:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t          _lt_em_gt_How would WORLDSPACE Mouse Pick and Move (observable)_co_ translate into LOCALSPACE of a picked mesh?_lt_/em_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t     CONTEXT_dd_ a smaller child cube is picked and moved around on a parent cube.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t     BEHAVIOR_dd_ without parent rotation_co_ Pick Move works as expected.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t                          After parent rotation the following RESULTS_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t                           -Z move by mouse in WORLD SPACE results in -Z move of child object in LOCAL SPACE. So_co_ it does not follow the mouse... in WORLDSPACE.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t     GOAL_dd_  rotated LOCALSPACE child to follow WORLDSPACE mouse move (e.g. converting -Z mousemove into +X rotated child move). Strange but true.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t     QUESTION_dd_ How to convert the WORLDSPACE mouse  into LOCALSPACE ... and is that the correct way?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t     The _qt_Frame of Reference_qt_ docs are excellent. Found out that vectors do not work in TransformCoordinates. \n_lt_/p_gt_\n\n_lt_p_gt_\n\t     So_co_ guessing that the World Coordinate on Move needs to be converted to local before the vector is calculated... then move the child in local space. Hmmm.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t     Any tips or examples on something like that?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t     Thx.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JackFalcon","Date":"2018-04-23T04:51:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSOLUTION_dd_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\t         Thanks to _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/8101-convergence/?do_eq_hovercard_qt_ data-mentionid_eq__qt_8101_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/8101-convergence/_qt_ rel_eq__qt__qt__gt_@Convergence_lt_/a_gt_ and this thread... \n_lt_/p_gt_\n_lt_iframe allowfullscreen_eq__qt__qt_ data-controller_eq__qt_core.front.core.autosizeiframe_qt_ data-embedcontent_eq__qt__qt_ data-embedid_eq__qt_embed1455754739_qt_ scrolling_eq__qt_no_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/topic/30567-convert-vector-from-world-to-local-space/?do_eq_embed_qt_ style_eq__qt_height_dd_207px_sm_max-width_dd_502px_sm__qt__gt__lt_/iframe_gt_\n\n_lt_p_gt_\n\t            The solution of converting MouseMove WORLDSPACE into rotated child cube LOCALSPACE was_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_            /*CONVERT WORLD COORDINATES INTO LOCAL*/\n            var invertParentWorldMatrix _eq_ parentObj.getWorldMatrix().clone()_sm_\n            invertParentWorldMatrix.invert()_sm_\n            var local_position _eq_ BABYLON.Vector3.TransformCoordinates(pickPointMove_co_ invertParentWorldMatrix)_sm_\n            childObj.position.copyFrom(local_position)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tHope that helps someone else.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]