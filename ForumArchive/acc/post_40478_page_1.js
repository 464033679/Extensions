[{"Owner":"freetoplay","Date":"2018-10-06T15:55:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI am trying a texture for the eye of my character using the following code_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_ const changeEyeColor _eq_ function(e) {\n                    scene.meshes[2].material.albedoTexture.dispose()_sm_\n                    scene.meshes[2].material.albedoTexture _eq_ new BABYLON.Texture(_qt_eye2.png_qt__co_ scene)_sm_\n                   }_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tHowever the result is this_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_20409_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_10/109717086_Screenshotfrom2018-10-0611-51-34.png.aa3bdff743eba62845a007967e8d1e2c.png_qt_ alt_eq__qt_109717086_Screenshotfrom2018-10-0611-51-34.png.aa3bdff743eba62845a007967e8d1e2c.png_qt_ /_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe texture that I want to swap in is_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_10/eye2.png.968b2d6a98a8d2555e56c3eaa117e8ab.png_qt_ data-fileid_eq__qt_20410_qt_ rel_eq__qt__qt__gt__lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_20410_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_10/eye2.thumb.png.91af466bff72e1c5b7e7f267ef4fa94a.png_qt_ alt_eq__qt_eye2.thumb.png.91af466bff72e1c5b7e7f267ef4fa94a.png_qt_ /_gt__lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhat am I doing wrong here?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2018-10-06T19:36:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHiya FTP.  _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#WWGO6%232_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#WWGO6#2_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNothing learned_co_ yet.  Just trying some test code in lines 84-89.  Seems to work_co_ so far.  After 6 seconds_co_ albedoTexture on wood... changes.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCan you reproduce your issue... in a playground scene?  That would make life easier for helpers.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd_co_ of course_co_ add lots of console.log(whatever)... such as_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tconsole.log(scene.meshes[2])_sm__lt_br /_gt_\n\tconsole.log(scene.meshes[2].material)_sm__lt_br /_gt_\n\tconsole.log(scene.meshes[2].material.albedoTexture)_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tetc_co_ etc.  Make sure everything exsits and is as-expected.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou might also try wrapping it all in a JS try/catch.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tJust some ideas.  *shrug*  Other/better answers might be coming soon.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"freetoplay","Date":"2018-10-06T20:24:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_230809_qt_ data-ipsquote-contentid_eq__qt_40478_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1538854592_qt_ data-ipsquote-userid_eq__qt_5733_qt_ data-ipsquote-username_eq__qt_Wingnut_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t45 minutes ago_co_ Wingnut said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tHiya FTP.  _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#WWGO6%232_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#WWGO6#2_lt_/a_gt_\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tNothing learned_co_ yet.  Just trying some test code in lines 84-89.  Seems to work_co_ so far.  After 6 seconds_co_ albedoTexture on wood... changes.\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tCan you reproduce your issue... in a playground scene?  That would make life easier for helpers.\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tAnd_co_ of course_co_ add lots of console.log(whatever)... such as_dd_\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tconsole.log(scene.meshes[2])_sm__lt_br /_gt_\n\t\t\tconsole.log(scene.meshes[2].material)_sm__lt_br /_gt_\n\t\t\tconsole.log(scene.meshes[2].material.albedoTexture)_sm_\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tetc_co_ etc.  Make sure everything exsits and is as-expected.\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tYou might also try wrapping it all in a JS try/catch.\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tJust some ideas.  *shrug*  Other/better answers might be coming soon.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tDo I have to create a new material or can I just keep my current material and still do the swap? My code for swapping out the texture is posted above_co_ it first disposes the original texture which works since it leaves an empty hole in the eye socket_co_ then I assign the albedoTexture a new texture which semi works because there is no longer a hole in the eye socket_co_ but the Iris is not showing up _lt_img alt_eq__qt__dd_(_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ title_eq__qt__dd_(_qt_ width_eq__qt_20_qt_ /_gt_ I checked the console.log and it shows that the texture has been swapped.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2018-10-06T22:20:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tNo need to swap material.  \n_lt_/p_gt_\n\n_lt_p_gt_\n\tTry... putting the exact same material.... on a plane.  Does the iris show on the plane?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCould the iris part of of the texture... be offset (slid sideways)?  You will know when you put the same material on a plane.  It might be easier to see the iris_co_ then.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIs NEW texture... same dimensions as old texture?   Might need some new-Texture .uOffset and .vOffset adjustments (slide the texture left/right and up/down on the material)_co_ and perhaps some .uScale and .vScale adjustments (adjust height/width of texture).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBy putting the same material on an extra plane... you/we might learn more.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Mark Bufton","Date":"2018-10-06T23:02:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWhy dispose of the previous texture in the function? I ask purely for my own education. Is this for performance reasons?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNormally_co_ I just declare a whole bunch of separate materials and manually assign_co_ use a function or even the animations/assets managers to assign them to the mesh(es).\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"freetoplay","Date":"2018-10-06T23:59:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_230825_qt_ data-ipsquote-contentid_eq__qt_40478_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1538864440_qt_ data-ipsquote-userid_eq__qt_5733_qt_ data-ipsquote-username_eq__qt_Wingnut_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t1 hour ago_co_ Wingnut said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tNo need to swap material.  \n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tTry... putting the exact same material.... on a plane.  Does the iris show on the plane?\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tCould the iris part _lt_span_gt_﻿_lt_/span_gt_of of the texture... be offset (slid sideways)?  You will know when you put the same material on a plane.  It might be easier to see the iris_co_ then.\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tIs NEW texture... same dimensions as old texture?   Might need some new-Texture .uOffset and .vOffset adjustments (slide the texture left/right and up/down on the material)_co_ and perhaps some .uScale and .vScale adjustments (adjust height/width of texture).\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tBy putting the same material on an extra plane... you/we might learn more.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tHow do I put the the material on a plane?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe textures are both 1024x1024.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_230829_qt_ data-ipsquote-contentid_eq__qt_40478_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1538866948_qt_ data-ipsquote-userid_eq__qt_23304_qt_ data-ipsquote-username_eq__qt_Mark Bufton_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t55 minutes ago_co_ Mark Bufton said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tWhy dispose of the previous texture in the function? I ask purely for my own education. Is this for performance reasons?\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tNormally_co_ I just declare a whole bunch of separate materials and manually assign_co_ use a function or even the animations/assets managers to assign them to the mesh(es).\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tI no longer need that texture_co_ so I just dispose of it_co_ not sure if there_t_s any performance bonuses with it though.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2018-10-07T10:15:34Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_230834_qt_ data-ipsquote-contentid_eq__qt_40478_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1538870345_qt_ data-ipsquote-userid_eq__qt_27602_qt_ data-ipsquote-username_eq__qt_freetoplay_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t10 hours ago_co_ freetoplay said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tHow do I put the material on a plane?_lt_span_gt_﻿_lt_/span_gt_\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tJust create an extra plane in your scene... basic BabylonJS... _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#145TKL%231_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#145TKL#1_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThen set ITS material as that PBR material you are experimenting-with.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSee if you can make eyeballs appear on the extra plane.  IF/WHEN you DO_co_ does the eyeball appear in the center of the plane?  Or_co_ maybe in one corner?\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt__lt_span_gt_const_lt_/span_gt_ changeEyeColor _eq_ _lt_span_gt__lt_span_gt_function_lt_/span_gt__lt_span_gt_(e)_lt_/span_gt_ {_lt_/span_gt_\n                    scene.meshes[_lt_span_gt_2_lt_/span_gt_].material_lt_span_gt_﻿_lt_/span_gt_.albedoTexture.dispose()_sm_\n                    scene.meshes[_lt_span_gt_2_lt_/span_gt_]_lt_span_gt_﻿_lt_/span_gt_.material_lt_span_gt_﻿_lt_/span_gt_.albedoTexture _eq_ _lt_span_gt_new_lt_/span_gt_ BABYLON.Texture(_lt_span_gt__qt_eye2.png_qt__lt_/span_gt__co_ scene)_sm__lt_/code_gt_\n_lt_code_gt_                    var plane _eq_ BABYLON.Mesh.CreatePlane(_qt_plane_qt__co_ 120_co_ scene)_sm_\n                    plane.rotation.x _eq_ Math.PI / 2_sm_\n                    plane.material _eq_ scene.meshes[_lt_span_gt_2_lt_/span_gt_].material_sm_\n}_lt_/code_gt_\n_lt_/pre_gt_\n\n_lt_p_gt_\n\tThat should work... for testing.  After calling this func_co_ look at the plane carefully to see if you can see the eye.  You might need to light the plane.  Good luck.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"freetoplay","Date":"2018-10-07T16:18:44Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tUpdate_dd_ The texture issue was caused by inversion. To prevent this change the code to_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_scene.meshes[2]﻿.material﻿.albedoTexture _eq_ new BABYLON.Texture(_qt_eye2.png_qt__co_ scene_co_ true_co_ false)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-10-08T17:30:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tGood catch!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]