[{"Owner":"KarelAnker","Date":"2015-10-25T18:29:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hey_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I basically have a problem_co_ which is easiest to describe as following_dd_ I have a terrain_co_ it should receive shadows from itself and cast them. The problem is that the terrain doesn_t_t have 1 height. On certain positions its higher than other spots. However_co_ the shadows are really awful when you have a terrain like this which should cast and receive shadows. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Here_t_s a picture of what I mean_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_img src_eq__qt_http_dd_//i.imgur.com/wy5vXgY.jpg_qt_ alt_eq__qt_wy5vXgY.jpg_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Code_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_shadowGenerator _eq_ new BABYLON.ShadowGenerator(4 * 1024_co_ light)_sm_shadowGenerator.bias _eq_ 0.00001_sm_shadowGenerator.usePoissonSampling _eq_ true_sm__lt_/pre_gt__lt_p_gt_Upping the bias kinda matters_co_ but it_t_s not the effect that I desire_co_ because only fully shadowed places will be black_co_ like this_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_img src_eq__qt_http_dd_//i.imgur.com/1iMLkQi.jpg_qt_ alt_eq__qt_1iMLkQi.jpg_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Decreasing / increasing shadow quality just makes the triangles on the shadows bigger or smaller._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Close up of the shadow_dd__lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//imgur.com/lSqb4IH_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//imgur.com/lSqb4IH_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__eq__eq_ _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-10-25T18:41:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Yep we call this shadow acne _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_This is because we have to use rgb32 to store shadows and thus we lose a LOT of precision._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"KarelAnker","Date":"2015-10-25T19:06:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_102665_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_18141_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt_ data-cite_eq__qt_Deltakosh_qt_ data-ipsquote-timestamp_eq__qt_1445798486_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt_Yep we call this shadow acne _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_This is because we have to use rgb32 to store shadows and thus we lose a LOT of precision._lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_Is there any way to fix it on my part? (guess not_co_ after reading this comment)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Does this same effect happen with variance shadowmaps?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-10-26T02:14:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Variance shadow maps are the worse regarding precision as we can use only 16bits to store shadow depth _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ alt_eq__qt__dd_(_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_This is a big issue of webGL so far but with the raise of WebGL2 we will be able to find better texture format to store shadows_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The only option for now is what you did_dd_ the bias_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"monkeyface","Date":"2015-10-26T09:31:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hey @Deltakosh - I_t_m still also struggling with shadows._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I_t_ve noted that Blend4Web seem to have achieved nice looking shadows in a large open-world scene here_dd__lt_/p_gt__lt_p_gt__lt_a href_eq__qt_https_dd_//www.blend4web.com/apps/firstperson/firstperson.html?v_eq_20151020144053_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.blend4web.com/apps/firstperson/firstperson.html?v_eq_20151020144053_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Looking at the shadows they seem to get rougher in the distance_co_ so I guess they_t_re just using CSM as you were planning? Or is it some other trick maybe?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"KarelAnker","Date":"2015-10-26T11:20:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThreeJS is opensource_co_ maybe look at how they are casting the shadows_co_ as the shadows on ThreeJS are really great looking.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI do wonder how you got the shadows working on _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/?14_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/?14_lt_/a_gt_ _co_ as these look smooth and cast and receive the shadows\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2015-10-26T13:26:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-cite_eq__qt_KarelAnker_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_102762_qt_ data-ipsquote-contentid_eq__qt_18141_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1445858443_qt_ data-ipsquote-username_eq__qt_KarelAnker_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tOn 10/26/2015 at 6_dd_20 AM_co_ KarelAnker said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_div_gt_\n\t\t\t_lt_div_gt_\n\t\t\t\t_lt_p_gt_\n\t\t\t\t\tI do wonder how you got the shadows working on _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/?14_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/?14_lt_/a_gt_ _co_ as these look smooth and cast and receive the shadows\n\t\t\t\t_lt_/p_gt_\n\t\t\t_lt_/div_gt_\n\t\t_lt_/div_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tThe code is right there.  Try using a point light and create your terrain with BABYLON.Mesh.CreateGroundFromHeightMap.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2015-10-26T13:34:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_And don_t_t use a shadow map for self-shadowing._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"KarelAnker","Date":"2015-10-26T14:53:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_102774_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_18141_qt_ data-ipsquote-username_eq__qt_adam_qt_ data-cite_eq__qt_adam_qt_ data-ipsquote-timestamp_eq__qt_1445865995_qt__gt__lt_div_gt__lt_p_gt_The code is right there.  Try using a point light and create your terrain with BABYLON.Mesh.CreateGroundFromHeightMap._lt_/p_gt__lt_/div_gt__lt_/blockquote_gt_Yeah but I wanted to know why these shadows look great while the shadow maps look pretty awful\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Samuel Girardin","Date":"2015-10-26T14:53:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I think there is no shadow in this scene_co_ it_t_s just light._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]