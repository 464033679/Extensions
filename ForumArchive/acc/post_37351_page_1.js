[{"Owner":"cyomu","Date":"2018-05-02T11:39:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello comunity._lt_br /_gt_\n\tI_t_m glad I found this beautiful framework. _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_I_t_m pretty new to this so please sory if I_t_m doing wrong something._lt_/span_gt__lt_br /_gt_\n\tI have one component which has 2 different parts_co_ one of them you can rotate it with right click_co_ and the other you can dragg it.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd you can move or rotate the main component from menu._lt_br /_gt_\n\tEverything work nice with default pivots_co_ but I want that my main component and its kids to have their pivot on bottom left corner._lt_br /_gt_\n\t_lt_br /_gt_\n\tAnd now my problems come_dd__lt_br /_gt_\n\t1. if I rotate the main component and after that I try to move a part_co__lt_br /_gt_\n\t            i) this part seems to have invert axis_co_ I men if I drag to bottom it go to top and so on\n_lt_/p_gt_\n\n_lt_p_gt_\n\t           ii)and on mouse up everything is distroyed_co_ the pivots are wrong_co_ the parts are wrong - this is happenning if I want to rotate this part_lt_br /_gt_\n\t2. if I move the main component and after that I try to move a part_co_ or rotate it_co_ I got the same result_co_ everything is wrong positioned._lt_br /_gt_\n\t_lt_br /_gt_\n\tPS_dd_ Yes_co_ I read _lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/topic/3083-spaces-world-parent-pivot-local/_qt_ rel_eq__qt__qt__gt_this_lt_/a_gt_ twice_co_ and a lot of things from _lt_a href_eq__qt_https_dd_//babylonjsguide.github.io_qt_ rel_eq__qt_external nofollow_qt__gt_here_lt_/a_gt_ and _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/how_to/pivots3.2_qt_ rel_eq__qt_external nofollow_qt__gt_here_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt_\n\tI hope you understand my problem and maybe you can give me a hint on the right direction.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt_\n\tPS2_dd_ I did my homeworks and I know a playground is needed_dd_ _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#VJMEH8_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#VJMEH8_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2018-05-02T18:59:44Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tmesh.bakeCurrentTransformIntoVertices()_sm__lt_br /_gt_\n\t_lt_br /_gt_\n\tafter you transform and it will set the pivot to origin (0_co_0_co_0)._lt_br /_gt_\n\t_lt_br /_gt_\n\tMight work for what you are trying to do.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-05-02T20:58:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSo if you call mesh.setPivotPoint(coordinates of the new pivotpoint) it should work_dd_ _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#IQ4YFZ_qt_ ipsnoembed_eq__qt_true_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#IQ4YFZ_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2018-05-02T23:44:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi cyomu_co_ welcome aboard... good to have you.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSome of the locals surely remember this goofy thing_dd_  _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#PBVEM%23160_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#PBVEM#160_lt_/a_gt_  (control + _lt_strong_gt_k o _sm_ ._lt_/strong_gt_ for rotate_co_ shift + _lt_strong_gt_k o _sm_ . _lt_/strong_gt_for translate)  (control and shifted numeric keypad work_co_ too.  Physics-active 24 applyImpulser flying machine from hell.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNot important.  But_co_ I had a problem with this.  After I rotated the craft sideways or inverted_co_ then translate-thrusting along X/Y/Z axes... totally went to hell.  I needed the craft to translate along its LOCAL-space axes_co_ and not along WORLDspace.  (cyomu might have the same problem with his mouse-drag-moves on his child mesh).  After his parent/master mesh is rotated in ANY way_co_ the drag system on the children/sub-mesh... are all in unexpected directions.  (Pryme8 wisely suggests doing a parent.bakeCurrentTransformIntoVertices() AFTER the parent rotation... but before any drag-moving of sub-parts is attempted.)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tANYWAY... lines 158-162 in that playground...\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_\tFlyerFrameController.prototype.doTransformPerFlyerQuat _eq_ function (vec) {\n\t\tvar mymatrix _eq_ new BABYLON.Matrix()_sm_\n\t\tthis.flyer.rotationQuaternion.toRotationMatrix(mymatrix)_sm_\n\t\treturn BABYLON.Vector3.TransformNormal(vec_co_ mymatrix)_sm_\n\t}_sm_\n_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tcyomu... _lt_u_gt_your_lt_/u_gt_ master object might not have a _lt_strong_gt_.rotationQuaternion_lt_/strong_gt_ yet_co_ and thus might still be using default _lt_strong_gt_.rotation.  _lt_/strong_gt_But that doesn_t_t really matter.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe important part... is that matrix transformNormals stuff.  I don_t_t understand it_co_ and maybe Pryme8_t_s _qt_bake_qt_ idea might work fine_co_ if done at the right time.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI just wanted to point this out.  I once had troubles _qt_adjusting_qt_ the X/Y/Z thruster _lt_u_gt_directions_lt_/u_gt_... on a spacecraft... AFTER it had been rotated.  This might be pertinent.  Maybe not._lt_br /_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tcyomu... perhaps... when you drag a child/sub mesh... try to _lt_strong_gt_translate_lt_/strong_gt_ it along ITS LOCALspace X/Y/Z axes.  Let_t_s look at a translate command...\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code class_eq__qt_lang-javascript_qt__gt__lt_span_gt_thing._lt_span_gt_translate_lt_/span_gt_(BABYLON.Axis.Z_co_ someDistanceNumber_co_ BABYLON.Space.LOCAL)_sm__lt_/span_gt__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tThe translate command has a sister... rotate_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code class_eq__qt_lang-javascript_qt__gt__lt_span_gt_thing.rotate(_lt_span_gt_new_lt_/span_gt_ BABYLON.Vector3(_lt_span_gt_1_lt_/span_gt__co_ _lt_span_gt_0_lt_/span_gt__co_ _lt_span_gt_0_lt_/span_gt_)_co_ amountInRadians_co_ BABYLON.Space.WORLD)_sm_\t_lt_/span_gt__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tTHAT kind of rotating is... _qt_Quaternion_qt__co_ so your thing will have a .rotationQuaternion after that_co_ and no longer use .rotation property.  Not important now_co_ we_t_ll talk later.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tImportant line_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_code class_eq__qt_lang-javascript_qt__gt__lt_span_gt_thing._lt_span_gt_translate_lt_/span_gt_(_lt_span_gt_new_lt_/span_gt_ BABYLON.Vector3(_lt_span_gt_0_lt_/span_gt__co_ _lt_span_gt_1_lt_/span_gt__co_ _lt_span_gt_0_lt_/span_gt_)_lt_/span_gt__lt_span_gt__co_ someDistanceNumber_co_ BABYLON.Space.LOCAL)_sm__lt_/span_gt__lt_/code_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTranslate the (child-) thing... along _lt_u_gt__lt_strong_gt_ITS Y axis_lt_/strong_gt__lt_/u_gt_... for the dragging... perhaps.  LocalSpace.  In localSpace_co_ pretend you are piloting the _lt_em_gt_thing_lt_/em_gt__co_ and when you say _qt_Go +X NOW!_qt_... it better travel exactly X-ward (from pilot perspective)... no matter if the _lt_em_gt_thing_lt_/em_gt_ is up-side-ways-down or whatever.  _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_Maybe some of this junk will help_co_ maybe not.  ANYthing can be done... easily_co_ usually.  The hard part is... what is the correct term to search-for_co_ eh?  Be well._lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"cyomu","Date":"2018-05-03T08:28:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHolla. Many thanks. _lt_br /_gt_\n\tI understood a few things_co_ I missunderstood others _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ and now I_t_m haveing more questions _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt__lt_br /_gt_\n\tSir _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_ this function works well_co_ thanks._lt_br /_gt_\n\tSir _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/8961-prime8/?do_eq_hovercard_qt_ data-mentionid_eq__qt_8961_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/8961-prime8/_qt_ rel_eq__qt__qt__gt_@Prime8_lt_/a_gt_ I understood what does this function_co_ but I_t_m afraid or I don_t_t know how to use it exactly or it_t_s not exactly what I_t_m looking_co_ honestly I don_t_t know.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd sir _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5733_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/_qt_ rel_eq__qt__qt__gt_@Wingnut_lt_/a_gt_ thanks for this explanation_co_ and very nice playground _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_br /_gt_\n\tI did a little changes according to this. I remove the menu gui_co_ now you can move the main component by left click drag_co_ and rotate it by right click. This both are aplied directly to the position and rotation (no quaternion). For the kids I_t_m aplied a local rotation and translation\n_lt_/p_gt_\n\n_lt_div style_eq__qt_background-color_dd_#fffffe_sm_color_dd_#000000_sm_font-size_dd_14px_sm__qt__gt_\n\t_lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_kid2.rotate(BABYLON.Axis.Y_co_ Math.PI / _lt_/span_gt__lt_span style_eq__qt_color_dd_#09885a_sm__qt__gt_2_lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt__co_ BABYLON.Space.LOCAL)_lt_/span_gt_\n\n\t_lt_div style_eq__qt_background-color_dd_#fffffe_sm_color_dd_#000000_sm_font-size_dd_14px_sm__qt__gt_\n\t\t_lt_div_gt_\n\t\t\t_lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_kid2.translate(diff_co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#09885a_sm__qt__gt_1_lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt__co_ BABYLON.Space.LOCAL)_lt_/span_gt_\n\t\t_lt_/div_gt_\n\t_lt_/div_gt_\n\n\t_lt_p_gt_\n\t\t_lt_br /_gt_\n\t\tBut still I_t_m haveing some missunderstoods_dd__lt_br /_gt_\n\t\twhen I rotate the main component I got this_lt_br /_gt_\n\t\tdefault_dd_\n\t_lt_/p_gt_\n\n\t_lt_p_gt_\n\t\t_lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_18100_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_05/image.png.3954d5bfb55fbba7020ae7b071c580ce.png_qt_ alt_eq__qt_image.png.3954d5bfb55fbba7020ae7b071c580ce.png_qt_ /_gt__lt_br /_gt_\n\t\trotated_dd__lt_br /_gt_\n\t\t_lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_18101_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_05/image.png.4324e9fc86b7f5a9a3f087fe2f888919.png_qt_ alt_eq__qt_image.png.4324e9fc86b7f5a9a3f087fe2f888919.png_qt_ /_gt__lt_br /_gt_\n\t\t_lt_br /_gt_\n\t\t_lt_br /_gt_\n\t\tThe rotation on kids seems to be ok now_co_ and it_t_s working. The movement works well only when the kid has the pivot on bottom left_dd__lt_br /_gt_\n\t\t_lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_18102_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_05/image.png.cc0fde515b370eb6da7dd9f0d38b1aea.png_qt_ alt_eq__qt_image.png.cc0fde515b370eb6da7dd9f0d38b1aea.png_qt_ /_gt__lt_br /_gt_\n\t\tif I rotate it in any angle the directions are wrong for dragging. I thing here comes your function Wingnut_co_ but I don_t_t know how to use it exactly_co_ because now I don_t_t have quaternions on the parent_co_ but noh if I_t_m using quaternions on the parent this function still don_t_t work_co_ or I_t_m using it wrong _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_br /_gt_\n\t\tAnd another question. If I set directly the position or the rotation on one kid_co_ like kid.position.x _eq_ 5. Do I set kid world position/rotation or I_sm_m setting position/rotation related to his parent?_lt_/span_gt_\n\t_lt_/p_gt_\n\n\t_lt_p_gt_\n\t\tThank you again!_lt_br /_gt_\n\t\t_lt_br /_gt_\n\t\tBest regards_co_ Cyomu_lt_br /_gt_\n\t\t \n\t_lt_/p_gt_\n_lt_/div_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"cyomu","Date":"2018-05-04T15:30:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHey. I didn_t_t give up _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_br /_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5733_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/_qt_ rel_eq__qt__qt__gt_@Wingnut_lt_/a_gt_ sir_co_ can you please explain this function _lt_span style_eq__qt_background-color_dd_#23241f_sm_color_dd_#f8f8f2_sm_font-size_dd_14px_sm__qt__gt_doTransormPerFlyerQuat_lt_/span_gt__lt_span_gt_ maybe a little demo_co_ not so complex like your demo_co_ I tried it but still didn_t_t work_co_ I mean still get wrong directions on dragging. Thanks_lt_br /_gt_\n\tI_t_ll keep you posting_lt_/span_gt__lt_br /_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_background-color_dd_#fffffe_sm_color_dd_#000000_sm_font-size_dd_14px_sm__qt__gt_Best regards_co_ Cyomu_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2018-05-05T00:15:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi C!  Actually_co_ I can_t_t really explain it.  It was coded FOR me.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tRight now_co_ the playgrounds are failing... so I haven_t_t seen the one you provided.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHave you used any of the techniques of our drag_t_n_t_drop playground demo_co_ such as its getGroundPosition() function?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf so_co_ I can understand why the dragging is screwed-up after an axes rotate.  That is a somewhat limited drag_t_n_t_drop system.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDragging is not always easy_co_ in 3D space.  It might be easier to use 3 GUI sliders that pop-up when you right click on a child mesh... one for moving the mesh along each axes.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tRight click again_co_ and the panel of 3 axes sliders... closes again.  Could that system... work for you?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCSX Heavy Freight train sim... uses something similar.  It has lots of dashboard panels... and multi-setting rotary switches and multi-position levers.  That game always pops-open a slider when you hold down mouse button over the control... and on that slider... there are multiple _qt_nodes_qt_... slider stopping points... one for each setting on the switch or lever.  SO_co_ its mouse-down_co_ slide left or right on the GUI slider to set the knob however you wish_co_ then lift mouse button and the slider disappears again.  This is how THEY work-around the miserable task of dragging in 3D.  *shrug*\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn your first two pictures... (default and rotated)_co_ that doesn_t_t look good at all.  The red parent_t_s yellow pivot point should REMAIN at its corner... after the rotate.  Not sure why it is doing that.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFor now_co_ let_t_s avoid Quaternions and avoid that doTransform function_co_ too.  Let_t_s stay with .rotation instead-of .rotate_co_ but feel free to use .position or .translate. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tLet_t_s also avoid dragging anything at this time.  Consider using GUI buttons or sliders_co_ if you can_co_ temporarily.  Perhaps you or another forum helper will build a playground that looks like your demo pictures... which uses sliders/buttons to move/spin children... instead of dragging.  That way_co_ we can separate dragging issues... from _qt_transformations_qt_ issues.  I suspect that it is the your (after rotation) dragging techniques that are causing the problem.  We_t_ll learn more as we test more.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo_co_ if we build a playground that can move/spin all the mesh properly... with buttons/sliders... then we have succeeded in solving 1/2 the problem. _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYes_co_ building a GUI panel with a bunch of buttons... rotate red x 90 degrees_co_ rotate green 90 degrees_co_ move red 20 units on localSpace X_co_ etc etc... can take a long time and lots of work_co_ especially for someone new to BabylonJS GUI.  Maybe we can convince a GUI pro... to help us build that testing demo.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOR... or ALSO...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWe need to think-up a good testing demo for you... that moves the pivotPoint of the master object_co_ then rotates the master object_co_ and then needs a drag-positioning/rotation on a child of the master.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m thinking... an opening/closing door... with a sliding bolt lock on it.  First we will move the pivot point to the edge of the door (so it swings open/closed properly)_co_ then we_t_ll parent the bolt lock to the door_co_ and then we_t_ll try to drag-slide the bolt side-to side (making sure it works no matter if the door is open_co_ closed_co_ or partially open).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDoes that sound like a good playground test-scene_co_ whose discoveries could give us good knowledge?  \n_lt_/p_gt_\n\n_lt_p_gt_\n\tWe need to take this a step at a time_co_ and you might need to say goodbye to direct-dragging children/submesh... that are attached to parents who are rotated.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTry not to be discouraged.  We_t_ll grind this out... even if it kills us.  _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_213595_qt_ data-ipsquote-contentid_eq__qt_37351_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1525336134_qt_ data-ipsquote-userid_eq__qt_31333_qt_ data-ipsquote-username_eq__qt_cyomu_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tOn 5/3/2018 at 3_dd_28 AM_co_ cyomu said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tDo I set kid world position/rotation or I_sm_m setting position/rotation related to his parent?\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tRelated to his parent.  Parenting... causes .position_co_ .rotation_co_ and .scaling... to be handed-down from parent to child_co_ where child_t_s .position_co_ .rotation_co_ and .scaling is added to it... to create a final position_co_ rotation_co_ and scaling for the child.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOk_co_ more soon_co_ I hope.  It_t_s a real-life-busy time of the year for me... so hopefully others will also help.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2018-05-05T01:11:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tAhh_co_ now the playgrounds are working again_co_ and I see _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#VJMEH8_qt_ rel_eq__qt_external nofollow_qt__gt_you already have a nice playground with buttons_lt_/a_gt_.  Easy to see dragging issue on green kid 2 and right-click rotating issue on blue kid1.  I will investigate it.  Thx.  hmm.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCreateArea might be the problem.  You are calling it rather often... which re-creates the parent_co_ right?  Might be better to create it once_co_ and only re-scale it when needed.  Hmm.  Thinkin_t_.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOops_co_ playgrounds are 404 again.  Friday afternoon employee picnic at Internet Inc... gone awry_co_ I suppose.  _lt_span_gt__dd_)_lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"cyomu","Date":"2018-05-05T04:52:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThank you so much sir for your time. I_t_m going to create a playground with rotation and position only from gui._lt_br /_gt_\n\tAnd about _lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_CreateArea_lt_span_gt_ _lt_/span_gt__lt_/span_gt_I think I_t_ll disable it for now_co_ and focus on it later._lt_br /_gt_\n\tI_t_ll be back in a few hours with a new playground _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt__lt_br /_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_background-color_dd_#fffffe_sm_color_dd_#000000_sm_font-size_dd_14px_sm__qt__gt_Best regards_co_ Cyomu_lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2018-05-05T14:47:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ Calling me _qt_sir_qt_ seems weird.  My actual title is... _qt_He who speaks volumes while having no knowledge._qt_  _lt_span_gt__lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt_ (too long to type)._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#VJMEH8%234_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#VJMEH8#4_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_ve been doing some experimenting (while watching Saturday morning cartoons).   Turned off createArea... temporarily_co_ though it is a cool func and we need to re-visit it.  I now see that your _lt_em_gt_parent_lt_/em_gt_ was a blank mesh_co_ which is fine.  I changed it to a plane_co_ temporarily_co_ then baked it flat like the ground_co_ and showed its bbox.  (Gray plane in center)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI also aimed camera +z_co_ and tilted it down a bit... no biggie.  I always like using a +z aimed camera.. for tests.  Now_co_ -x is leftward_co_  +x rightward_co_ -z is nearer to cam_co_ +z moves away.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNow for the REALLY INTERESTING thing_dd_   _lt_em_gt_Kid2Pivot_lt_/em_gt_ (a gray sphere with show-bbx set ON) is having its parent set to _lt_em_gt_kid2_lt_/em_gt_ green box... in lines 80/81. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tLine 80 is working fine.  We can see the boundingBox of the gray sphere (kid2Pivot)... at the center of green kid2.  Perfect.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_NOW_lt_/strong_gt_... disable line 80_co_ and activate line 81...  click RUN!   Hey_co_ something is different!\n_lt_/p_gt_\n\n_lt_p_gt_\n\thmm.  I thought line 80 and line 81... perform the same action.  But_co_ maybe not.  Maybe I need to do some reading...\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//doc.babylonjs.com/api/classes/babylon.mesh#setparent_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/api/classes/babylon.mesh#setparent_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAhh_co_ using setParent() keeps the mesh in the same place.  Using .parent moves the mesh to the parent.pivot/origin.  Aha.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnyway_co_ that_t_s all I_t_ve done_co_ so far.  I_t_m probably going to remove .setParent() calls_co_ and go with .parent.... for further testing.  Stay tuned... I_t_m a _lt_u_gt_slow_lt_/u_gt_ troubleshooter.  _lt_span_gt__dd_)_lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2018-05-05T15:08:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#VJMEH8%235_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#VJMEH8#5_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnother version... now working-with right-click for rotating blue kid1.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWorking around lines 60/61... pink pivot not parented to blue kid1_co_ just doing console tests.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tRepeated right clicks on blue kid1... show that its pivot point is properly set to upper left corner.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLine 60_dd_  console.log(kid1.getAbsolutePivotPoint())_sm_  _eq__eq_&gt_sm_  Object { x_dd_ 4.5_co_ y_dd_ 0_co_ z_dd_ 1 }\n_lt_/p_gt_\n\n_lt_p_gt_\n\tZ _eq_ 1 ?  That seems wrong.  That is the reason why pink pivot is _lt_strong_gt_not_lt_/strong_gt_ at the _lt_u_gt_TRUE_lt_/u_gt_ pivot point of blue box.  (maybe)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI guess I need to read/learn some more.  *scratch scratch*.  I used to know how to make BJS scenes_co_ believe it or not.  _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JohnK","Date":"2018-05-06T11:58:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThought I would have a go by interpreting what you are trying to do and starting from the beginning. So here is a playground _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#AMJ6KW%231_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#AMJ6KW#1_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHowever perhaps my interpretation is wrong ( more than likely) on the other hand you can move the green box in the correct direction when the red area is rotated and rotate the blue box. As _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5733_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/_qt_ rel_eq__qt__qt__gt_@Wingnut_lt_/a_gt_ suggested I have gone for one red plane which I alter by scaling.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhat I am not sure about is what are your fixed points for the red plane. In my version one dimension of the the plane is constrained by the fixed points given by the yellow sphere and the magenta sphere of the blue box together with the direction of the blue box. The other dimension is partially adjustable by the magenta sphere of the green box.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTL_sm_DR\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOther points to note.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMy plane is constructed using createPolygon_co_ this places it in the XZ plane without the problem of rotating the createPlane to do so.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tUsing scaling rather than creating the plane each time causes its own issues. The first scaling issue is if you use a sphere as parent and scale by scaling the sphere the sphere scales as well. For the area I set a pivot point to scale about and make a sphere (areaPivot yellow) in WORLD space. The name areaPivot is a bit of a misnomer since it is not really a pivot for the area. Rotating or translating the area is done about the setPivotPoint for the area and rotations and translations of the areaPivot have to be done seperately and in addition as well. What the areaPivot is_co_ is a parent to spheres (kid?Pivot_co_ magenta) which in turn are parents to the two boxes. So rotating and translating the areaPivot will also translate and rotate the kid?Pivots. So to be clear(?) for the area I am using a setPivotPoint as a pivot_co_ whereas for the magenta spheres I am using a parent mesh(sphere) as a pivot and for the boxes I am using a parent mesh (sphere) as a pivot.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe second issue is that as far as I know there is no method of scaling in the WORLD space so there is a need to ensure that scaling takes place in the correct. Hence I set up a system of global axes that can be rotated and the values for scaling come from these axes which swap x and z values as they rotate. There are probably better ways built into BJS for doing this.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSetting the area based on rotating the blue box depends on the direction of the blue box and whether its length and breadth are added or ignored. Whether it is length or breadth that is added swaps as the box is rotated_co_ hence this is done when kid1 is rotated. For adding them or not there are 4 possible rotations for the blue box_co_ 0 x PI/2_co_ 1 x PI/2_co_ 2 x PI/2 and 3 x PI /2. Rotations 0 an 3 require length or breadth to be added_co_ 1 and 2 do not. So for 0 and 3 a multiplier of 1 is needed and for 1 and 2 a multiplier of 0 is needed. Using addition modulo 4 gives the  rotation counter rotCounter_co_ gives the 0_co_ 1_co_ 2_co_ 3 rotations_co_ taking these modulo 3 gives 0_co_ 1_co_ 2_co_ 0_co_ dividing these by 2 gives 0_co_ 0.5_co_ 1_co_ 0 which when rounded gives 0_co_ 1_co_ 1_co_ 0 and subtracting these values from 1 gives the needed multipliers 1_co_ 0_co_ 0_co_ 1.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAre your spheres acting as markers for the pivots during development or are they a necessary part of your final project? If they_t_re just there as markers during development replace the sphere with transformNodes and set radius to 0 ( or delete throughout) to give _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#AMJ6KW%232_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#AMJ6KW#2_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2018-05-06T13:17:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ Wow_co_ John_co_ what an analysis.  Thx for the help.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMy take on it... is that blank mesh (which I made a real gray plane called parent in _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#VJMEH8%235_qt_ rel_eq__qt_external nofollow_qt__gt_PG #5_lt_/a_gt_)... is always parent to all children.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tRed plane/area... is only a fence... surrounding summed bounding boxes area... of all children of parent.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNotice that all cyomu_t_s buttons are rotating/translating the parent_co_ not the red plane.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis is why cyomu can call createArea(parent)_sm_ often_co_ without interfering with anything else.  CreateArea() does not affect any parenting_co_ positions_co_ or rotations.  In effect_co_ createArea() _eq__eq_  .showSummedBoundingBoxOfAllChildren... or... showCorralNeededForSurroundingTheseAnimals  _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_Is that the way... you are interpreting this. John?  I hope so.  _lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_I don_t_t think the pivotPoint mesh are meant to be permanent_co_ so they can_t_t be used as parents_co_ or be permanent children of anything.  I think the pivot mesh are for temp-showing of .position for children pivot points.  _lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_My first of many struggles...  _lt_strong_gt_kid1Pivot.position _eq_ kid1.getAbsolutePivotPoint()_sm_  _lt_/strong_gt_...doesn_t_t seem to work.  ( line 61 _lt_span_gt_@ _lt_/span_gt__lt_/span_gt__lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#VJMEH8%235_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#VJMEH8#5_lt_/a_gt__lt_span_gt__lt_span_gt_ ). _lt_/span_gt__lt_/span_gt_Right clicking on blue kid1 shows it is pivoting nicely around its upper left corner (that upper-left corner is z_eq_0_co_ I believe).  Yet _lt_span_gt__lt_strong_gt_kid1.getAbsolutePivotPoint()_sm_ or kid1.getPivotPoint()_sm_  _lt_/strong_gt_... both return z _eq_ 1_sm_  My theory is that both methods are broken... in the framework code_co_ but I_t_m often wrong._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_So_co_ whether the children of gray plane parent are rotated or dragged_co_ createArea() ONLY places a red corral around/under the kids._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_On the OTHER subject... dragging-around green kid2... of course that_t_s going to be problem_co_ because it is parented and because kid2.position.addInPlace(diff) in line 107 of _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#VJMEH8%235_qt_ rel_eq__qt_external nofollow_qt__gt_#5 PG_lt_/a_gt_... _lt_em_gt_diff _lt_/em_gt_likely needs transforming... to take parent rotation into consideration._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_So_co_ my #5 was only working-on blue kid1 right clicking... and trying to get kid1pivot mesh to be located at actual kid1 pivot point.  I_t_m failing at THAT supposedly-simple task.  _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt__lt_span_gt_I hope your response doesn_t_t blow cyomu_t_s mind... but I fear it might.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  It blew mine. but that happens easily_co_ with me.  _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt__lt_/span_gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"cyomu","Date":"2018-05-06T14:37:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi Yuhuu_co_ a lot of new things to read and to understand.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5733_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/_qt_ rel_eq__qt__qt__gt_@Wingnut_lt_/a_gt__co_ I just wanted to be polite _lt_span class_eq__qt_ipsEmoji_qt__gt_😀_lt_/span_gt_._lt_br /_gt_\n\tYou did a lot of investigations_co_ I realy appreciate your involvement. Let me check these playgrounds a little bit. _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt_\n\t_lt_span_gt_Sir _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/14282-johnk/?do_eq_hovercard_qt_ data-mentionid_eq__qt_14282_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/14282-johnk/_qt_ rel_eq__qt__qt__gt_@JohnK_lt_/a_gt__co_ huh. I need a little time to check and understand your playground_co_ but I like it. This is more math than babylonjs buildin functions....And sorry if I was not clear enough. I think I created a too complicate playground for what I actually need._lt_/span_gt__lt_br /_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_The red area and the spheres are only for developing purpose_co_ I just wanted too see if happen what I expected._lt_br /_gt_\n\tActually I have too objects and they need to have pivot on left bottom. They are independent(no relationship between them or between them and other objects). But I have the option to link / unlink them. Now when they are linked I think to create a mesh (simple mesh - not transform node_co_ because I read on other topic that I cann_t_t determine the boundingBox of its kids_co_ and I needed this because this parent should have the pivot on letf bottom too_co_ not in center of bounding box determined by kids_co_ on left bottom of this bounding box. When these objects are linked I have 2 options_dd_ _lt_br /_gt_\n\t - act like one object (in this case I_t_m playing with the parent_co_ rotate_co_ and translate)_lt_br /_gt_\n\t - act independent_co_ rotate and move each one separate._lt_br /_gt_\n\tWhen unlink I just setParent to null and set the position on each objects._lt_br /_gt_\n\t_lt_br /_gt_\n\tI thought this was the simplest way to achieve this. But it seems it_t_s not so simple _lt_img alt_eq__qt__dd_(_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ title_eq__qt__dd_(_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt__lt_br /_gt_\n\tAnyway_co_ thank you so much for this replies. I_t_m trying to learn as much as possible day by day and you helped me a lot till now._lt_br /_gt_\n\t_lt_br /_gt_\n\tBest regards_co_ Cyomu\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JohnK","Date":"2018-05-07T09:20:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/31333-cyomu/?do_eq_hovercard_qt_ data-mentionid_eq__qt_31333_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/31333-cyomu/_qt_ rel_eq__qt__qt__gt_@cyomu_lt_/a_gt_ first please do not call me sir it reminds me of the days when I was a teacher. Secondly an apology as there are errors in the documentation on how to use a _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/how_to/pivot3.2#how-to-use-a-parent-as-a-pivot_qt_ rel_eq__qt_external nofollow_qt__gt_parent as a set pivot_lt_/a_gt_ down to me. I have corrected the errors but will not be seen in the documentation until it is next rebuilt (possibly days away). The documentation may have misguided you. The corrections are\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_## How to Use a Parent as a Set Pivot\n\nPerhaps you would like to think about achieving the positioning of the pivot by changing the pivots position rather than the pilots position. This can be done with parenting as shown in the following example.\n\nThe sphere_co_ representing the pivot at the center of rotation_co_ is placed at the pivot position (CoR_At)_co_ the sphere is then made the parent of the pilot. The translation needed to move the pilot starting position to the center of rotation is found and is used to set the pivot using a matrix.  The pilot position is reset to the translation vector and the pilot rotated.\n\n```javascript\nsphere.position _eq_ CoR_At_sm_\npilot.parent _eq_ sphere_sm_\nvar pilotTranslate _eq_ pilotStart.subtract(CoR_At)_sm_\npilot.setPivotMatrix(BABYLON.Matrix.Translation(pilotTranslate.x_co_ pilotTranslate.y_co_ pilotTranslate.z))_sm_\npilot.position _eq_ pilotTranslate_sm_\npilot.rotate(axis_co_ angle_co_ BABYLON.Space.WORLD)_sm_\n```\n\n* [Playground Example - Rotating Mesh as Pivot_t_s Child](https_dd_//www.babylonjs-playground.com/#1JLGFP#77)\n\nDone this way any movement of the pivot is done by moving the parent mesh representing the pivot.  \n* [Playground Example - Rotating Mesh Moving Pivot_t_s Parent along Axis](https_dd_//www.babylonjs-playground.com/#1JLGFP#78)\n* [Playground Example - Rotating Mesh Moving Pivot_t_s Parent](https_dd_//www.babylonjs-playground.com/#1JLGFP#80)\n_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-05-10T18:11:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThank you sir _lt_span_gt__lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt_true_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt__gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]