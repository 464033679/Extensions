[{"Owner":"Stephen Andrews","Date":"2014-11-15T06:16:04Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I_t_ve read the _lt_a href_eq__qt_http_dd_//pixelcodr.com/tutos/trees/trees.html_qt_ rel_eq__qt_external nofollow_qt__gt_code_lt_/a_gt_ written by the awesome @_lt_span style_eq__qt_color_dd_rgb(40_co_40_co_40)_sm_font-family_dd_helvetica_co_ arial_co_ sans-serif_sm__qt__gt_Temechon_co_ which addresses modifying the vertices in a mesh._lt_/span_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_span style_eq__qt_color_dd_rgb(40_co_40_co_40)_sm_font-family_dd_helvetica_co_ arial_co_ sans-serif_sm__qt__gt_However_co_ I don_t_t understand exactly how to create one such mesh from scratch_co_ especially in such a way that it can be updated frequently with new vertex data.  Could someone explain that more clearly? (Also_co_ does BabylonJS have a way to use a VBO for such a task?)_lt_/span_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_span style_eq__qt_color_dd_rgb(40_co_40_co_40)_sm_font-family_dd_helvetica_co_ arial_co_ sans-serif_sm__qt__gt_I_t_d post example code_co_ but I don_t_t really have anything that even begins to work yet._lt_/span_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_span style_eq__qt_color_dd_rgb(40_co_40_co_40)_sm_font-family_dd_helvetica_co_ arial_co_ sans-serif_sm__qt__gt_EDIT_dd_ Clarification. I know the logic and steps needed to create a mesh using vertices and the like. What I don_t_t know is how one applies the arrays to the mesh itself_co_ or how to create the mesh so the vertices can be updated._lt_/span_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"joshcamas","Date":"2014-11-15T07:11:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.microsoftvirtualacademy.com/training-courses/introduction-to-webgl-3d-with-html5-and-babylon-js_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.microsoftvirtualacademy.com/training-courses/introduction-to-webgl-3d-with-html5-and-babylon-js_lt_/a_gt_ talks some about this. Still watching. _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Stephen Andrews","Date":"2014-11-15T07:33:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_61435_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_10470_qt_ data-ipsquote-username_eq__qt_joshcamas_qt_ data-cite_eq__qt_joshcamas_qt_ data-ipsquote-timestamp_eq__qt_1416035518_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.microsoftvirtualacademy.com/training-courses/introduction-to-webgl-3d-with-html5-and-babylon-js_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.microsoftvirtualacademy.com/training-courses/introduction-to-webgl-3d-with-html5-and-babylon-js_lt_/a_gt_ talks some about this. Still watching._lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_Unfortunately I am unable to get any of those videos to load properly due to the Great Firewall. _dd_C_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2014-11-16T14:32:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi again TB9!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Take a sniff at this thing..._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1UHFAP_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1UHFAP_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_See line 129?  _lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_vertexData.applyToMesh(blankmesh_co_ 1)_sm__lt_/pre_gt__lt_p_gt_Notice we started with a blank mesh... line 5.  Mesh created like this... are forever updatable.  But let_t_s say you want to do updates to a built-in basic mesh... like a cylinder_co_ box_co_ torus_co_ etc._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Take a look at the documentation for mesh_dd__lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//doc.babylonjs.com/page.php?p_eq_24643_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/page.php?p_eq_24643_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Let_t_s look at one of the basic built-in shapes_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_&lt_sm_static&gt_sm_ Mesh.CreatePlane(name_co_ size_co_ scene_co_ updatable) → {BABYLON.Mesh}_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I think you can see the boolean _t_updatable_t_ flag hanging out there as the last parameter in the constructor.  As long as you set that to TRUE_co_ you can re-adjust the data arrays on a vertexData object as often as you like_co_ and use _lt_em_gt_vertexData.applyToMesh_lt_/em_gt_ as often as you wish._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Let_t_s take a sniff at a vertexData object.. _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/page.php?p_eq_24739_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/page.php?p_eq_24739_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_See all the _qt_make shape data_qt_ functions for our built-in basic shapes... already placed on the default vertexData object?  That_t_s how they are made.  Data creator functions.  That data is applied to blank meshes to create the shapes.  The vertexData object is the shape data creation device for our builtins.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  It is also the place where you can create your own shape data and put it into arrays that you can create.  These arrays do not exist until you (or the _t_set_t_ function)... create them._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_See the _t_set_t_ command on the vertexData object?  _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_That_t_s one way to put shape data onto a vertexData object to prepare it for an _t_apply_t_.  But let_t_s also look at a section of that playground demo starting at line 113_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_    // Make a mesh shaper device.\tvar vertexData _eq_ new BABYLON.VertexData()_sm_    // stuff its buffers with your stuff\tvertexData.positions _eq_ positions_sm_\tvertexData.indices _eq_ indices_sm_\tvertexData.normals _eq_ normals_sm_    // turn on this line for per-vertex colors\t// vertexData.colors _eq_ colors_sm_    // I turn off these lines - not needed_co_ nor understood (yet).\t// vertexData.uvs _eq_ uvs_sm_\t// vertexData.uv2s _eq_ uv2s_sm_    // Use the vertexData object.. to shape-ify blankmesh\tvertexData.applyToMesh(blankmesh_co_ 1)_sm__lt_/pre_gt__lt_p_gt_Once the vertexData object is created_co_ you just force the stocked arrays onto the vertexData object (positions_co_ indices_co_ normals_co_ and optional colors_co_ uv and uv2 texture mappings_co_ ect).  Or you can use a few calls to the .set(data_co_ kind) function mentioned earlier._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Then when you do the _lt_em_gt_vertexData.applyToMesh(blankmesh_co_ 1)_sm__lt_/em_gt__co_ Babylon.js automatically applies all the set data... to the blank mesh._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_You might want to take a look at _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/Babylon/Mesh/babylon.mesh.vertexData.js_qt_ rel_eq__qt_external nofollow_qt__gt_the source code for the vertexData object_lt_/a_gt_.  It has lots of cool code in it.  So does _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/Babylon/Mesh/babylon.mesh.js_qt_ rel_eq__qt_external nofollow_qt__gt_the source code for our MESH class_lt_/a_gt_._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_If you take a look at the BABYLON.CreateBox code in the MESH class_co_ it looks like this_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_Mesh.CreateBox _eq_ function (name_co_ size_co_ scene_co_ updatable) {    var box _eq_ new BABYLON.Mesh(name_co_ scene)_sm_    var vertexData _eq_ BABYLON.VertexData.CreateBox(size)_sm_    vertexData.applyToMesh(box_co_ updatable)_sm_    return box_sm_}_sm__lt_/pre_gt__lt_p_gt_See how that works?  Box is the blank mesh_co_ then we call-out to BABYLON.VertexData.CreateBox(size)_sm_ to make the shape data (and return a vertexData object)_co_ then use that vertexData_t_s _lt_em_gt_applyToMesh_lt_/em_gt_ function to turn the blank mesh into the box mesh.  A two piece operation.  The MESH class has a CreateBox function_co_ and the vertexData class ALSO has a CreateBox(size) → {BABYLON.VertexData} function.  One function makes the data_co_ and the other function applies that data to a blank mesh shape._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_That_t_s how the framework makes its built-in shapes.  Likely_co_ you will just create a vertexData object_co_ stock its make-it-yourself .positions_co_ .indices_co_ and .normals arrays/properties_co_ and then apply that vertexData to a blank mesh (like the playground demo). _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_PS_dd_ The boxify() thing in that playground demo is just a helper function I use to help me draw indices in clockwise or counter-clockwise ways_co_ and would be turned-off under normal situations.  Indices (connecting lines defining triangles) plotted clockwise/counter-clockwise... determines which face of a triangle is back-face and which is front-face.  And normals_co_ are a lighting thing_co_ determining lighting angles.  You probably know that already.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Play around with the demo_co_ make some changes_co_ hit RUN over and over.  Grab a zip copy_co_ take it home_co_ have some fun.  I think you_t_ll become an expert of model plotting in no time.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  Hope this helps.  Be well!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"joshcamas","Date":"2014-11-16T21:55:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_wow Wingnut! Greeeaat tutorial! A++!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Stephen Andrews","Date":"2014-11-16T22:47:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Absolutely incredible Wingnut_co_ that is what I call a proper answer. _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_ohmy.png_qt_ alt_eq__qt__dd_o_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/ohmy@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I_t_ll work through all of that_co_ those links look incredibly useful. I think the issue I was missing was the _t_updatable_t_ flag in most cases_co_ wasn_t_t sure what that meant._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thanks a heap!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Shine","Date":"2014-11-19T17:56:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_61436_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_10470_qt_ data-ipsquote-username_eq__qt_TriBlade9_qt_ data-cite_eq__qt_TriBlade9_qt_ data-ipsquote-timestamp_eq__qt_1416036831_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt_Unfortunately I am unable to get any of those videos to load properly due to the Great Firewall. _dd_C_lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_I have got all the videos and the code sources on my PC_co_if you need I can send them to your email. Or through a network dish(115?)._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Stephen Andrews","Date":"2014-11-19T20:40:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_61883_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_10470_qt_ data-ipsquote-username_eq__qt_Shine_qt_ data-cite_eq__qt_Shine_qt_ data-ipsquote-timestamp_eq__qt_1416419786_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt_I have got all the videos and the code sources on my PC_co_if you need I can send them to your email. Or through a network dish(115?)._lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_That would be nice_co_ but don_t_t worry about it_co_ too much of a hassle._lt_/p_gt__lt_p_gt_(Also my max download speed is about 400kb/s_co_ and only in the mornings.)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thanks for the offer though!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Stephen Andrews","Date":"2014-11-23T05:20:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt__lt_strike_gt_I apologize for the bump_co_ especially on an already answered question_co_ but I_t_ve gotten it working for the most part. The one issue is that all of the normals are inverted_co_ even after multiplying every entry by -1._lt_/strike_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_strike_gt_[i_t_m using BABYLON.VertexData.ComputeNormals(positions_co_ indices_co_ normals)]_sm__lt_/strike_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_EDIT_dd_ Ah_co_ I was using right-handed winding_co_ not left-handed._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Here_t_s the final version_dd_ _lt_a href_eq__qt_http_dd_//triblade9.github.io/VoxelMesher-BabylonJS/_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//triblade9.github.io/VoxelMesher-BabylonJS/_lt_/a_gt__lt_/p_gt__lt_p_gt_Ported from the THREE.js version here_dd_ _lt_a href_eq__qt_http_dd_//mikolalysenko.github.io/MinecraftMeshes2/_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//mikolalysenko.github.io/MinecraftMeshes2/_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-11-24T18:21:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Excellent!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"nittrus","Date":"2016-09-05T21:06:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI realise this is long time after the fact but never the less related.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHow does one update vertex data on an instance?_lt_br /_gt_\n\tI can load the vertexdata but not applytomesh on it which I need to do for terraforming purposes.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JohnK","Date":"2016-09-06T15:13:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tWelcome to the forum _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/23471-nittrus/?do_eq_hovercard_qt_ data-mentionid_eq__qt_23471_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/23471-nittrus/_qt_ rel_eq__qt__qt__gt_@nittrus_lt_/a_gt_ not entirely sure but would expect that an instance continually takes it geometry from the mesh used to create it. You are very limited to changes to an instance - position_co_ rotation and scaling.  You could try a clone instead. Have a go_co_ create a playground and you might be better starting with a new topic if you have more questions.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-09-06T15:43:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHey!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDo you want to update vertexData only for a single instances? This is not possible as instances share the same data as root mesh.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTo update vertex data on a specific mesh_co_ jsut call setVerticesData.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou can find examples of vertex data in this article_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//doc.babylonjs.com/tutorials/How_to_Merge_Meshes_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/tutorials/How_to_Merge_Meshes_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"nittrus","Date":"2016-09-06T23:43:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_142964_qt_ data-ipsquote-contentid_eq__qt_10470_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1473176599_qt_ data-ipsquote-userid_eq__qt_4442_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t7 hours ago_co_ Deltakosh said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tHey!\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tDo you want to update vertexData only for a single instances? This is not possible as instances share the same data as root mesh.\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tTo update vertex data on a specific mesh_co_ jsut call setVerticesData.\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tYou can find examples of vertex data in this article_dd_\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t_lt_a href_eq__qt_http_dd_//doc.babylonjs.com/tutorials/How_to_Merge_Meshes_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/tutorials/How_to_Merge_Meshes_lt_/a_gt_\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI was hoping to avoid using many meshes_co_ I am developing a tile based terrain and each tile has to have it_t_s own vertexdata_co_ I was all happy that making them instances lowered the draw calls allot upping the FPS but it is looking more and more like I must use individual meshes rather than clones or instances_co_ not good for what I want to pull off!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAny pointers or should I just go with individual meshes and try to optimize around that?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks a bunch for your response!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"fenomas","Date":"2016-09-07T03:08:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tYou probably want to split the terrain into chunks_co_ of e.g. 32x32 tiles_co_ and make one mesh for each chunk. Then if the terrain is dynamic_co_ each time a tile changes you re-mesh the chunk containing that tile. Is that what you_t_re asking about?\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2016-09-07T03:24:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/12925-fenomas/?do_eq_hovercard_qt_ data-mentionid_eq__qt_12925_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/12925-fenomas/_qt_ rel_eq__qt__qt__gt_@fenomas_lt_/a_gt_ is 32 x 32 ideal I_t_m doing a chunk infinite terrain system right now but my chunks are 3000 x 3000 but I have not added in the dynamic real time modifying like from explosions or digging. And I already kinda thought my chunk size was ok for static but dynamic no.  Also how would info about establishing overhead weight from for example when a person cut out completely under a section to get it to fall and rejoin the main mesh.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"nittrus","Date":"2016-09-07T03:24:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_143045_qt_ data-ipsquote-contentid_eq__qt_10470_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1473217689_qt_ data-ipsquote-userid_eq__qt_12925_qt_ data-ipsquote-username_eq__qt_fenomas_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t11 minutes ago_co_ fenomas said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tYou probably want to split the terrain into chunks_co_ of e.g. 32x32 tiles_co_ and make one mesh for each chunk. Then if the terrain is dynamic_co_ each time a tile changes you re-mesh the chunk containing that tile. Is that what you_t_re asking about?\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tActually that_t_s what I already have just in instances rather than individual meshes_co_ I probably can make it work fine_co_ I have LOD levels all done up and it loads and unloads tiles outside fog distance as the player moves around_co_ just trying to find out how to load vertice positions into the _qt_chunks/tiles_qt__co_ but I can_t_t do that using instancedmesh apparently. It seems the only way is Mesh objects_co_ but that is allot of draw calls and costs about 8 FPS on my Intel HD graphics 520_co_ with instances I_t_m sitting around 27 draw calls but with cloned meshes I sit at around 100 so I_t_m guessing Mesh would be even more or about the same as clones_co_ I_t_ll try it and see_co_ I was just hoping there was a more efficient way to do this with the ability to set vertex data on the object.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"nittrus","Date":"2016-09-07T03:28:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_143047_qt_ data-ipsquote-contentid_eq__qt_10470_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1473218670_qt_ data-ipsquote-userid_eq__qt_19199_qt_ data-ipsquote-username_eq__qt_Pryme8_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t1 minute ago_co_ Pryme8 said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/12925-fenomas/?do_eq_hovercard_qt_ data-mentionid_eq__qt_12925_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/12925-fenomas/_qt_ rel_eq__qt__qt__gt_@fenomas_lt_/a_gt_ is 32 x 32 ideal I_t_m doing a chunk infinite terrain system right now but my chunks are 3000 x 3000 but I have not added in the dynamic real time modifying like from explosions or digging. And I already kinda thought my chunk size was ok for static but dynamic no.  Also how would info about establishing overhead weight from for example when a person cut out completely under a section to get it to fall and rejoin the main mesh.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tI found that it is perfect size_co_ 48x48 is a bit large and 16x16 means you_t_ll have allot of visible chunks. Also depending on your default level of detail close up_co_ you will end up having a HUGE amount of vertices and thus faces if you are using over 32x32 in size_co_ so it_t_s a trade off really.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWOW_co_ 3000x3000_co_ how many subdivisions you got going on?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"fenomas","Date":"2016-09-07T03:32:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_143047_qt_ data-ipsquote-contentid_eq__qt_10470_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1473218670_qt_ data-ipsquote-userid_eq__qt_19199_qt_ data-ipsquote-username_eq__qt_Pryme8_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t4 minutes ago_co_ Pryme8 said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/12925-fenomas/?do_eq_hovercard_qt_ data-mentionid_eq__qt_12925_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/12925-fenomas/_qt_ rel_eq__qt__qt__gt_@fenomas_lt_/a_gt_ is 32 x 32 ideal I_t_m doing a chunk infinite terrain system right now but my chunks are 3000 x 3000 but I have not added in the dynamic real time modifying like from explosions or digging. And I already kinda thought my chunk size was ok for static but dynamic no.  Also how would info about establishing overhead weight from for example when a person cut out completely under a section to get it to fall and rejoin the main mesh.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tIt_t_s a tradeoff. With larger chunks you get fewer draw calls but it also takes longer to rebuild a chunk_co_ and with smaller chunks you get the opposite. As a data point_co_ I think Minecraft chunks are 16x16x16 voxels. But the right number naturally depends on what you_t_re doing and how often the terrain changes.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAlso it_t_s common to use a power of 2_co_ because then you can use bit operations in the math when converting between world coords and chunk coords.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"fenomas","Date":"2016-09-07T03:37:52Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_143048_qt_ data-ipsquote-contentid_eq__qt_10470_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1473218694_qt_ data-ipsquote-userid_eq__qt_23471_qt_ data-ipsquote-username_eq__qt_nittrus_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t7 minutes ago_co_ nittrus said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\t..allot of draw calls and costs about 8 FPS on my Intel HD graphics 520_co_ with instances I_t_m sitting around 27 draw calls but with cloned meshes I sit at around 100 so I_t_m guessing Mesh would be even more or about the same as clones..\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tAre you sure about where the bottleneck is? I_t_d have thought draw calls wouldn_t_t be a big issue unless you_t_re getting into the thousands_co_ and I find that framerates are nearly always limited by the javascript side more than the GPU side. I mean you know your content best_co_ but just to ask.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"nittrus","Date":"2016-09-07T03:46:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_143051_qt_ data-ipsquote-contentid_eq__qt_10470_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1473219472_qt_ data-ipsquote-userid_eq__qt_12925_qt_ data-ipsquote-username_eq__qt_fenomas_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t6 minutes ago_co_ fenomas said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tAre you sure about where the bottleneck is? I_t_d have thought draw calls wouldn_t_t be a big issue unless you_t_re getting into the thousands_co_ and I find that framerates are nearly always limited by the javascript side more than the GPU side. I mean you know your content best_co_ but just to ask.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tconsidering the change from cloning to instancing was one line_co_ I_t_m not sure why it was such a large drop in draw calls. I_t_ll play around some more and see what comes of it!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"nittrus","Date":"2016-09-07T04:04:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYeap_co_ just as I thought_co_ same exact number of draw calls as Mesh rather than clone of Mesh which makes sense.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSitting at 125 draw calls verses about roughly 47 with instances. I suppose I will have to bring linear fog in slightly and remove one group of 32x32 tiles from around the player but that I was considering doing anyways_co_ fog is really far out right now starting around 80m so_co_ thinking starting it around 64m and chopping off some meshes to optimize a bit.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks for the help_co_ it can work this way_co_ just a bit more costly but I_t_ll get creative and deal with it_co_ lol\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"fenomas","Date":"2016-09-07T04:48:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHave you done some profiles in Chrome_co_ to check if the JS is the bottleneck_co_ and to see where BJS is spending its time?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn my game I found that a lot of time was being spent on engine stuff calculating world matrices_co_ and doing mesh selection (where BJS decides which meshes are in front of the camera). Calling mesh.freeze on the terrain chunks solved the first problem_co_ and using octrees solved the second - together I think they bought 10-20fps.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOTOH I know nothing about gpu profiling_co_ so I_t_ve only done sanity checks. E.g._co_ I tested a version of my world where all terrain used the same texture_co_ and a version where every chunk used a different texture - the idea being that one version would have only a single texture bind per render_co_ and the other would have lots of them_co_ but the JS part should be the same either way. But the fps came out the same_co_ so I figured I didn_t_t need to worry about it. Doing something similar with draw calls might be useful for you (though I_t_m not sure how one might increase the draw calls without affecting performance on the JS side).\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2016-09-07T15:53:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tmine was not really chunks_co_ chunks would be more appropriate to describe a voxel system_co_ it was more appropriate to say mine was 3000 units at 60 subdivs so what ever that works out to.  And they generate faster then I can register with the eye_co_ but I assume once I make them dynamic and want to start making the mesh recombine and have gravity through some sort of tension calculations on the indicies its gonna not be ideal to be that big.  I did large _t_zones_t_  because I only wanted to spawn 9 tiles at a time and be out of the players range but this is all variable_co_ I just gotta tell my function to be what ever units and what ever subdivs and how many to render around the player at any time so I can change it no problem.  This was just an interesting topic for me as I was getting to performance testing on that topic and was about to start tailoring what Im spawning.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]