[{"Owner":"Nico","Date":"2017-04-26T12:37:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi guys !\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI was absent for a long time_co_ but I am still playing sometimes with Babylon.js. There is so much new awesome and cool feature !\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI came back here because I got a problem_co_ I am trying to play with Mesh.dispose()_co_ but in my case I want to remove a parent mesh_co_ and keep children meshes_co_ it work_co_ using the parameter doNotRecurse_co_ but it would like to do more than just keeping children meshes. I want to apply parents transformations to children meshes_co_ in order to keep the children at same position_co_ rotation_co_ and scaling as they were before deleting the parent...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI know it is possible to do that by applying parent transformation to children meshes_co_ but I don_t_t have enough 3D / math skills to do that alone...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI know that some operation with matrix could do this_co_ but I really don_t_t know what to do...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf someone can explain me how to proceed it would be awesome ! _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI attached an example_co_ you can see the full scene on first screenshot_co_ and on second screenshot I have disposed the plane.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere is the hierarchy _dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPlane_lt_br /_gt_\n\t---- Green cube_lt_br /_gt_\n\t---- Blue cube_lt_br /_gt_\n\t---- Red cube_lt_br /_gt_\n\t-------- Black cube_lt_br /_gt_\n\t-------- White cube\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_04/5900938a4730d_Completescene.jpg.b2cf1f2bbe002981e5f119c54c43a5be.jpg_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_12734_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_04/5900938a4730d_Completescene.jpg.b2cf1f2bbe002981e5f119c54c43a5be.jpg_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_Complete scene.jpg_qt__gt__lt_/a_gt__lt_/p_gt_\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_04/5900938c26a41_Afterremovingplane.jpg.ab52d2639592201d3c04f300fb876028.jpg_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_12735_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_04/5900938c26a41_Afterremovingplane.jpg.ab52d2639592201d3c04f300fb876028.jpg_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_After removing plane.jpg_qt__gt__lt_/a_gt__lt_/p_gt_\n_lt_p_gt__lt_a class_eq__qt_ipsAttachLink_qt_ href_eq__qt_//www.html5gamedevs.com/applications/core/interface/file/attachment.php?id_eq_12737_qt__gt_SimpleSceneWithHierarchy.babylon_lt_/a_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-04-26T22:29:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHiya _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5362-nico/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5362_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5362-nico/_qt_ rel_eq__qt__qt__gt_@Nico_lt_/a_gt__co_ welcome back.  I have a crazy idea.  (oh no)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tchild.bakeCurrentTransformIntoVertices()_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDo that to each child mesh... before parent.dispose(_lt_em_gt_noRecurse_co_ whatever_lt_/em_gt_).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNo promises.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  Keep your fingers crossed.  Wear safety gear_co_ could blow-up.  heh\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nico","Date":"2017-04-27T07:46:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5733_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/_qt_ rel_eq__qt__qt__gt_@Wingnut_lt_/a_gt_ !\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks for the answer_co_ I tried it and here is the result.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt is better_co_ but there is still something missing... Black and white cube (which are red cube_t_s children) got some positionning problems...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI will look at the bakeCurrentTransformIntoVertices code to try to understand how it works_co_ thank you for the hint ! _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_04/59019ff0dc173_baketransformanddisposebefore.jpg.c299ffb3d948f321bdcab02be06d53d5.jpg_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_12749_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_04/59019ff0f3583_baketransformanddisposebefore.thumb.jpg.11bf7e6dbcff12b858d4f685d07311b5.jpg_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_baketransform and dispose before.jpg_qt__gt__lt_/a_gt__lt_/p_gt_\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_04/59019ff60edfb_BakeTransformanddisposeafter.jpg.916887599da0efd973fb33a3e0082d66.jpg_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_12750_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_04/59019ff60edfb_BakeTransformanddisposeafter.jpg.916887599da0efd973fb33a3e0082d66.jpg_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_BakeTransform and dispose after.jpg_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nico","Date":"2017-04-27T08:22:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHuum I think I got why it does not work for second level children_co_ this method reset all transforms and move vertices to get the same final visual_co_ so it work well for direct children_co_ but for second and deeper level children_co_ it does not work since transform have been deleted.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have to find how to apply parent transform to a child mesh_co_ and then dispose the parent_co_ so I think it could work (tell me if I am wrong _lt_img alt_eq__qt__dd_huh_dd__qt_ data-emoticon_eq__qt__qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_huh.png_qt_ title_eq__qt__dd_huh_dd__qt_ /_gt_)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-04-27T15:08:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYeah_co_ it was a half-_qt_baked_qt_ Wingnut idea.  Good testing and reports_co_ Nico... sorry it didn_t_t work. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI think... what you need... is a .transformCoordinates of some kind_co_ using parent.getWorldMatrix() as your matrix.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Math/babylon.math.ts_qt_ rel_eq__qt_external nofollow_qt__gt_Math.ts_lt_/a_gt_ is full of such stuff_co_ though I barely understand any of it.  Take a look at _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Math/babylon.math.ts#L1481_qt_ rel_eq__qt_external nofollow_qt__gt_line 1481 in the Vector3 section_lt_/a_gt_. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt MIGHT BE called like...  child.rotation _eq_ BABYLON.Vector3.TransformCoordinates(child.rotation_co_ parent.getWorldMatrix()).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThen you might have to do the same for child.position_co_ and child.scaling... both ALSO using parent.getWorldMatrix() as the needed matrix.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAgain_co_ no promises.  I_t_m not even sure how to apply it to your issue.  But_co_ I believe _qt_transform_qt_ is the secret word_co_ here_co_ and PG searches and github source searches... might pay-off. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI saw some similar goods in the _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Lights/babylon.spotLight.ts_qt_ rel_eq__qt_external nofollow_qt__gt_spotLight.ts_lt_/a_gt_ file (search inside that file for _lt_strong_gt_parent_lt_/strong_gt_)_co_ but when they do the rotation transform (if spotlight has a parent)... it is used to set light.direction.  YOU need to deal with mesh.rotation_co_ instead.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf you need JS versions of the source_co_ you can search in _lt_a href_eq__qt_https_dd_//raw.githubusercontent.com/BabylonJS/Babylon.js/master/dist/preview%20release/babylon.max.js_qt_ rel_eq__qt_external nofollow_qt__gt_the raw JS source_lt_/a_gt_.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAll in all_co_ I THINK... matrices contain the big-3 info (rotation_co_ position_co_ and scaling)_co_ all inside that single matrix.  SO... I believe the act of parenting... is a _qt_transform_qt_ of the parent matrix... onto the child_t_s matrix.  Possibly_co_ a matrix multiplication is involved in that.  (Wingnut feels-around in the dark) _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tThere is a possibility that... you can avoid parenting completely... if you build some kind of system that SIMULATES parenting.  For example_co_ if you rotated the parent_co_ then you would iterate down thru the non-children_co_ and multiply each of their .getWorldMatrix()... by the parent_t_s .getWorldMatrix().  It might _qt_act_qt_ like you have used .parent_co_ when you didn_t_t use it at all.  *shrug*  Not sure.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPerhaps something in my aimless yapping... will help_co_ here.  Sorry for my incompetency on this.  I hope others reply.  Issue remains open_co_ forum helpers.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2017-04-27T15:41:46Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tTry to remove the parent from the child using_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tchild.setParent(null_co_ true)_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Mesh/babylon.abstractMesh.ts#L1828_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Mesh/babylon.abstractMesh.ts#L1828_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nico","Date":"2017-04-28T07:15:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHI !\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks for the answers ! _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_172609_qt_ data-ipsquote-contentid_eq__qt_30038_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1493307706_qt_ data-ipsquote-userid_eq__qt_4289_qt_ data-ipsquote-username_eq__qt_adam_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t15 hours ago_co_ adam said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tTry to remove the parent from the child using_dd_\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tchild.setParent(null_co_ true)_sm_\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t_lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Mesh/babylon.abstractMesh.ts#L1828_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Mesh/babylon.abstractMesh.ts#L1828_lt_/a_gt_\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tI have tried it_co_ and the result is the same as just call dispose(true). (I replaced the line _lt_span style_eq__qt_color_dd_#333333_sm__qt__gt_child_lt_/span_gt__lt_span style_eq__qt_color_dd_#24292e_sm__qt__gt_._lt_/span_gt__lt_span style_eq__qt_color_dd_#0086b3_sm__qt__gt_parent_lt_/span_gt__lt_span style_eq__qt_color_dd_#24292e_sm__qt__gt_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#a71d5d_sm__qt__gt__eq__lt_/span_gt__lt_span style_eq__qt_color_dd_#24292e_sm__qt__gt_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#0086b3_sm__qt__gt_null_lt_/span_gt__lt_span style_eq__qt_color_dd_#24292e_sm__qt__gt__sm__co_ by your code). Thank you for showing me this method_co_ I will check the code inside to check if I can take some interesting parts _lt_/span_gt__lt_img alt_eq__qt_^_^_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_happy.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/happy@2x.png 2x_qt_ title_eq__qt_^_^_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_font color_eq__qt_#24292e_qt__gt__lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5733_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/_qt_ rel_eq__qt__qt__gt_@Wingnut_lt_/a_gt_ _dd_ I will try this as soon as possible_co_ and let you know the result_co_ thanks again for the hints _lt_/font_gt__lt_img alt_eq__qt__sm_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ title_eq__qt__sm_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"aWeirdo","Date":"2017-04-28T07:31:34Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tAnother aproach could be to also make the plane a child_co__lt_br /_gt__lt_br /_gt_\n\te.g_sm__lt_br /_gt_\n\tInvisible parent (box or a plane.. whatever _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ )_lt_br /_gt__lt_span style_eq__qt_color_dd_#272a34_sm__qt__gt_-- Plane child_lt_/span_gt__lt_br style_eq__qt_color_dd_#272a34_sm__qt_ /_gt__lt_span style_eq__qt_color_dd_#272a34_sm__qt__gt_-- Green cube child_lt_/span_gt__lt_br style_eq__qt_color_dd_#272a34_sm__qt_ /_gt__lt_span style_eq__qt_color_dd_#272a34_sm__qt__gt_-- Blue cube child_lt_/span_gt__lt_br style_eq__qt_color_dd_#272a34_sm__qt_ /_gt__lt_span style_eq__qt_color_dd_#272a34_sm__qt__gt_-- Red cube child_lt_/span_gt__lt_br style_eq__qt_color_dd_#272a34_sm__qt_ /_gt__lt_span style_eq__qt_color_dd_#272a34_sm__qt__gt_-- Black cube child_lt_/span_gt__lt_br style_eq__qt_color_dd_#272a34_sm__qt_ /_gt__lt_span style_eq__qt_color_dd_#272a34_sm__qt__gt_-- White cube child_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_color_dd_#272a34_sm__qt__gt_so the plane and all cubes are children of an invisible parent_co_ dispose one and nothing will happen to any of the others _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ _lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nico","Date":"2017-04-28T07:40:22Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIt is sound more like a hack than a solution in my case _lt_img alt_eq__qt__dd_unsure_dd__qt_ data-emoticon_eq__qt__qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_unsure.png_qt_ title_eq__qt__dd_unsure_dd__qt_ /_gt_ (Because I can_t_t edit the source file hierarchy)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFor more information_co_ I want to be able to generate a new .babylon file from an existing file with only a part of the 3D.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo I am providing a UI to show/hide meshes_co_ and when I serialize the scene_co_ I dispose all invisible meshes (to get a lighter file).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNormally hiding a parent but not his descendant should not happen_co_ but I don_t_t want to be stuck if it happens one day _lt_img alt_eq__qt_B)_qt_ data-emoticon_eq__qt__qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_cool.png_qt_ title_eq__qt_B)_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tThanks anyway for the help _lt_img alt_eq__qt__sm_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ title_eq__qt__sm_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2017-04-28T09:47:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tCan you create a PG of your issue?  \n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nico","Date":"2017-04-28T09:56:17Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_172723_qt_ data-ipsquote-contentid_eq__qt_30038_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1493372846_qt_ data-ipsquote-userid_eq__qt_4289_qt_ data-ipsquote-username_eq__qt_adam_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t8 minutes ago_co_ adam said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tCan you create a PG of your issue?  \n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tYep for sure_co_ I will do this as soon as possible _lt_img alt_eq__qt_^_^_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_happy.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/happy@2x.png 2x_qt_ title_eq__qt_^_^_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nico","Date":"2017-04-28T13:31:44Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHere is the PG _dd_ _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/index.html#MG4WD5_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/index.html#MG4WD5_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI had to put the .babylon file content inside in order to load the 3D (there are not classic BABYLON boxes).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAfter 5s I dispose the plane mesh (parent of all mesh).\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nico","Date":"2017-04-28T14:24:34Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_172605_qt_ data-ipsquote-contentid_eq__qt_30038_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1493305731_qt_ data-ipsquote-userid_eq__qt_5733_qt_ data-ipsquote-username_eq__qt_Wingnut_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t22 hours ago_co_ Wingnut said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tIt MIGHT BE called like...  child.rotation _eq_ BABYLON.Vector3.TransformCoordinates(child.rotation_co_ parent.getWorldMatrix()).\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tIt tried to do this for rotation_co_ scaling and position it works well when I delete the plane (_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/index.html#MG4WD5%232_qt_ rel_eq__qt_external nofollow_qt__gt_here is the PG_lt_/a_gt_)_co_ but it does not work when I delete the red cube... (_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/index.html#MG4WD5%233_qt_ rel_eq__qt_external nofollow_qt__gt_another PG here_lt_/a_gt_)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf my plane position is different than 0_co_0_co_0 it does not work _lt_img alt_eq__qt__dd_wacko_dd__qt_ data-emoticon_eq__qt__qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wacko.png_qt_ title_eq__qt__dd_wacko_dd__qt_ /_gt_ (_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/index.html#MG4WD5%234_qt_ rel_eq__qt_external nofollow_qt__gt_third PG..._lt_/a_gt_)\n_lt_/p_gt_\n\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_04/59034e92d222f_Deleteredcuberesult.jpg.fa031f93f24efecaf48a9d7285a06b8a.jpg_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_12766_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_04/59034e92e97fb_Deleteredcuberesult.thumb.jpg.99b1bc35f83899164abf840fc4ea7433.jpg_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_Delete red cube result.jpg_qt__gt__lt_/a_gt__lt_/p_gt_\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_04/59034e99e1439_Deleteplanewithposition010.jpg.170d2553f53128513a3a94ea7eb3407f.jpg_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_12767_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_04/59034e99e1439_Deleteplanewithposition010.jpg.170d2553f53128513a3a94ea7eb3407f.jpg_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_Delete plane with position 0_co_1_co_0.jpg_qt__gt__lt_/a_gt__lt_/p_gt_\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_04/59034ec1c819c_Deleteplaneworking.jpg.1c14ee0b307f448bde8b0802e472da8a.jpg_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_12768_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_04/59034ec1c819c_Deleteplaneworking.jpg.1c14ee0b307f448bde8b0802e472da8a.jpg_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_Delete plane working.jpg_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2017-04-28T14:30:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tAfter looking at your example and playing around with it a little I remembered that AbstractMesh.setParent only preserves rotation and position - not scale.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nico","Date":"2017-04-28T14:47:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_172748_qt_ data-ipsquote-contentid_eq__qt_30038_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1493389848_qt_ data-ipsquote-userid_eq__qt_4289_qt_ data-ipsquote-username_eq__qt_adam_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t28 minutes ago_co_ adam said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tAfter looking at your example and playing around with it a little I remembered that AbstractMesh.setParent only preserves rotation and position - not scale.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tGreat ! I tried to use the setParent method_co_ and multiply child scaling by parent scaling and then dispose the parent and it works great ! _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tHere is the code I have to use to dispose a parent and keep the child position_co_ scaling_co_ and rotation in the world _dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_childMesh.setParent((parentMesh.parent) ? parentMesh.parent _dd_ null_co_ true)_sm_\nchildMesh.scaling.multiplyInPlace(parentMesh.scaling)_sm_\nparentMesh.dispose(true)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tThank you guys for helping _lt_img alt_eq__qt__sm_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ title_eq__qt__sm_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tEdit _dd_ Can any math guy can confirm if it is correct or not ?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2017-04-28T16:11:41Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThe solution you came up with to fix the scaling will work as long as the parent is scaled the same on all axes or if the child rotation is limited to the axis that is scaled.  Something like that. _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]