[{"Owner":"vladimr","Date":"2018-04-15T07:44:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co__lt_br /_gt_\n\tI implement 3D map/ground video (dynamically loaded height map and texture image data via websocket)._lt_br /_gt_\n\t_lt_br /_gt_\n\tFor dynamic texture I can use  BABYLON.DynamicTexture(...)_lt_br /_gt_\n\tand update it every video frame_dd__lt_br /_gt_\n\tcontext _eq_ ground.material.diffuseTexture.getContext()_lt_br /_gt_\n\t..._lt_br /_gt_\n\tcontext.putImageData(...)_lt_br /_gt_\n\tground.material.diffuseTexture.update()_lt_br /_gt_\n\t_lt_br /_gt_\n\tIs there a way to update the height map dynamically like the dynamic texture ?_lt_br /_gt_\n\tWhat I should use instead of BABYLON.Mesh.CreateGroundFromHeightMap ?_lt_br /_gt_\n\t_lt_br /_gt_\n\tThanks_co__lt_br /_gt_\n\tVladimir\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2018-04-15T13:37:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHiya vladimr!   I might have _lt_em_gt_some_lt_/em_gt_ help...  _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#1VGWP9%2311_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#1VGWP9#11_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn this playground_co_ I _t_borrowed_t_ (hijacked) applyDisplacementMap() and applyDisplacementMapFromBuffer()... from BJS main source.  I think I modified them_co_ too.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnyway_co_ in lines 17-19... I make a standard ground mesh... sub-divided quite heavily.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNow let_t_s look at line 96.  Pretty much a basic applyDisplacementMap() call... for ground... using a URL.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLet_t_s follow it up... to line 22.  We really don_t_t care about that function... EXCEPT... at line 51.  Line 51... a call to applyDisplacementMapFromBuffer().\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHey... if YOU have a buffer of image colors... YOU could _t_intervene_t_ here_co_ and apply ANY buffer_co_ right?  (hint)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou can also look in this file... raw BJS source... _lt_a href_eq__qt_https_dd_//raw.githubusercontent.com/BabylonJS/Babylon.js/master/dist/babylon.max.js_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//raw.githubusercontent.com/BabylonJS/Babylon.js/master/dist/babylon.max.js_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tControl-f doc-search for _lt_span style_eq__qt_color_dd_#000099_sm__qt__gt_applyDisplacementMapFromBuffer_lt_/span_gt_... look things over_co_ as wanted.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  That_t_s where I hijack code-from.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_color_dd_#990099_sm__qt__gt_Mesh.prototype.applyDisplacementMapFromBuffer _eq_ function (buffer_co_ heightMapWidth_co_ heightMapHeight_co_ minHeight_co_ maxHeight_co_ uvOffset_co_ uvScale)_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo... ground.applyDisplacementMapFromBuffer(myBuffer_co_ 100_co_ 100_co_ 5_co_ 0)_sm_   Pretty easy.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou don_t_t even need to have hijacked versions of applyDisplacementMap() and applyDisplacementMapFromBuffer() functions in your code.  You just need a good buffered image_co_ and then you can remove lines 21-97 from my playground.  Just create a nice image buffer_co_ somehow_co_ and then do... _lt_strong_gt_ground.applyDisplacementMapFromBuffer(myBuffer_co_ 100_co_ 100_co_ 5_co_ 0)_sm_  (I think)_lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis should help get you rolling. (I hope.)   Good luck.  Got questions?  Ask.  We_t_re here to help.  (and we all learn from watching your experiments).  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"MarianG","Date":"2018-04-15T15:01:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi Vladimr_co_ did you see this _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs.com/scenes/worldmonger/_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs.com/scenes/worldmonger/_lt_/a_gt__lt_br /_gt_\n\tTake a look at elevation js file. It should help\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]