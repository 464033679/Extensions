[{"Owner":"DylanD","Date":"2018-06-15T19:59:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi again everyone_co_Â \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have an abstractMesh that is loaded in through the scene loader.importMesh function. Â So from what I understand I get an array of abstract meshes from this function_co_ which I then use to position the actual mesh and set its properties. Â I want to save one piece of that mesh (3d model right? yea..) and use it for mesh intersection (my cheap man_t_s collision_co_ which is great btw not trying to belittle it_co_ but it is the easiest collision to use) so I have a public variable in typescript_co_ Â that is attached to its class lets call it the player class and the variable it the playerBody variable_co_ I was to use that body variable later in a totally different class by calling It through an instance of that class_co_ the same instance I used to import the mesh. Â However whenever I try to use it with the import mesh it says the variable is underfined.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo here a bit of what the code looks like_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tÂ \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_\n\nvar importFunc_eq_(meshes_dd_BABYLON.AbstractMesh[])_eq_&gt_sm_{\n           this.player _eq_ meshes[3]_sm_//this.player is an abstractMesh public on my class player\n        }\n\n\nBABYLON.SceneLoader.ImportMesh(_qt__qt__co__qt_./models/_qt__co__qt_player.babylon_qt__co_this.scene_co_function(meshes){\n            importFunc(meshes)_sm_   \n        })_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tso my questions are_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t1_dd_ Why won_t_t the this.player point to meshes[3]?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t2_dd_Even if I do get the abstractMeshes pointed correctly will I be able to use mesh.intersectsMesh() with and abstract mesh and a regular mesh (e.g. a box mesh)?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAny ideas?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks for your time!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"QuintusHegie","Date":"2018-06-16T11:10:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi There_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t1. I_t_m not sure if _qt_this.player_qt_ references the proper _t_this_t_ object you had in mind.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThat could be a reason why you don_t_t see your player mesh to be set?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI often use a temp var that references the _t_this_t_ of the outer variable scope when I want to use that _t_this_t_ from the outer variable scope inside some local scope such as a function body.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tExample_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_var that _eq_ this_sm_ // remember this so we can use inside another local scope like below\n\nvar importFunc_eq_(meshes_dd_BABYLON.AbstractMesh[])_eq_&gt_sm_{\n           that.player _eq_ meshes[3]_sm_//that.player is an abstractMesh public on my class player\n        }_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tThe general programming concept that you want to understand here is called _t_ _lt_em_gt_variable scope_lt_/em_gt_ _t_.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t2. My experience is that BABYLON.Mesh (and probably also an abstract mesh) don_t_t have a size. So I neither get a positive collision/intersect result when this type of mesh intersects another Box for example.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMy solutions for that are_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- to don_t_t use BABYLON.Mesh but use a Box or a Sphere with some size in which the full model fits (effectively giving the mesh a _qt_size_qt_). it_t_s simple and fast_co_ and most of the time very effective.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- or to recompute and set the bounding box myself on the Mesh by traversing the child / sub meshes of the model. it_t_s a bit more complex and you probably want to recompute if your player physique changes much (e.g. stand_co_ sit_co_ lie down)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- or to have intersection not on the main (abstract) mesh but on some child mesh which has a bounding box / volume already and thereby benefits from the Babylon engine math already_co_ e.g. the _qt_chest_qt_ of the player.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou can show the bounding box with an option_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_mesh.showBoundingBox _eq_ true_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tIt works great for debugging your intersections_co_ at least it does so for me when for some reason my players walk through walls and hills while they shouldn_t_t _lt_span class_eq__qt_ipsEmoji_qt__gt_ðŸ™‚_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHope my suggestions help you find the solution to your specific problem.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHappy coding!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"dbawel","Date":"2018-06-16T11:14:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHave you defined _qt_meshes_qt_ as a constant or any type of variable?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDB\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2018-06-16T23:40:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThis is probably because you are usingÂ _lt_span style_eq__qt_background-color_dd_#23241f_sm_color_dd_#f8f8f2_sm_font-size_dd_14px_sm__qt__gt_function(meshes){ importFunc(meshes)_sm_ }) instead ofÂ Â _lt_/span_gt__lt_span style_eq__qt_background-color_dd_#23241f_sm_color_dd_#f8f8f2_sm_font-size_dd_14px_sm__qt__gt_(meshes)_lt_/span_gt__lt_span style_eq__qt_color_dd_#e74c3c_sm__qt__gt__lt_span style_eq__qt_background-color_dd_rgb(35_co_36_co_31)_sm_font-size_dd_14px_sm__qt__gt__lt_strong_gt__eq_&gt_sm__lt_/strong_gt__lt_/span_gt__lt_/span_gt__lt_span style_eq__qt_background-color_dd_#23241f_sm_color_dd_#f8f8f2_sm_font-size_dd_14px_sm__qt__gt_{ importFunc(meshes)_sm_ })_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn the first case this represents the calling context whereas in the second the current one is passed through.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBR_co_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"DylanD","Date":"2018-06-18T13:28:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_218348_qt_ data-ipsquote-contentid_eq__qt_38266_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1529192456_qt_ data-ipsquote-userid_eq__qt_20193_qt_ data-ipsquote-username_eq__qt_Sebavan_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tOn 6/16/2018 at 7_dd_40 PM_co_ Sebavan said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tThis is probably because you are usingÂ _lt_span style_eq__qt_background-color_dd_#23241f_sm_color_dd_#f8f8f2_sm_font-size_dd_14px_sm__qt__gt_function(meshes){ importFunc(meshes)_sm_ }) instead ofÂ Â _lt_/span_gt__lt_span style_eq__qt_background-color_dd_#23241f_sm_color_dd_#f8f8f2_sm_font-size_dd_14px_sm__qt__gt_(meshes)_lt_/span_gt__lt_span style_eq__qt_color_dd_#e74c3c_sm__qt__gt__lt_span style_eq__qt_background-color_dd_rgb(35_co_36_co_31)_sm_font-size_dd_14px_sm__qt__gt__lt_strong_gt__eq_&gt_sm__lt_/strong_gt__lt_/span_gt__lt_/span_gt__lt_span style_eq__qt_background-color_dd_#23241f_sm_color_dd_#f8f8f2_sm_font-size_dd_14px_sm__qt__gt_{ importFunc(meshes)_sm_ })_lt_/span_gt_\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tIn the first case this represents the calling context whereas in the second the current one is passed through.\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tBR_co_\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tHey Sebavan_co_ this did not seem to change anything.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tÂ \n_lt_/p_gt_\n\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_218308_qt_ data-ipsquote-contentid_eq__qt_38266_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1529147641_qt_ data-ipsquote-userid_eq__qt_11286_qt_ data-ipsquote-username_eq__qt_dbawel_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tOn 6/16/2018 at 7_dd_14 AM_co_ dbawel said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tHave you defined _qt_meshes_qt_ as a constant or any type of variable?\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tDB\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tÂ Hi again drawl_co_ no I hadn_t_t defined meshes as a constant or any other type of variable(its only ever used in that function parameter).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tÂ \n_lt_/p_gt_\n\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_218306_qt_ data-ipsquote-contentid_eq__qt_38266_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1529147415_qt_ data-ipsquote-userid_eq__qt_30844_qt_ data-ipsquote-username_eq__qt_QuintusHegie_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tOn 6/16/2018 at 7_dd_10 AM_co_ QuintusHegie said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tHi There_co_\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t1. I_t_m not sure if _qt_this.player_qt_ references the proper _t_this_t_ object you had in mind.\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tThat could be a reason why you don_t_t see your player mesh to be set?\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tI often use a temp var that references the _t_this_t_ of the outer variable scope when I want to use that _t_this_t_ from the outer variable scope inside some local scope such as a function body.\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tExample_dd_\n\t\t_lt_/p_gt_\n\n\t\t_lt_pre_gt_\n\n_lt_code_gt__lt_span_gt_var_lt_/span_gt_ that _eq_ _lt_span_gt_this_lt_/span_gt__sm_ _lt_span_gt_//_lt_/span_gt_ remember _lt_span_gt_this_lt_/span_gt_ so we can use inside another local scope like below\n\n_lt_span_gt_var_lt_/span_gt_ _lt_span_gt__lt_span_gt_importFunc_lt_/span_gt__eq__lt_span_gt_(meshes_dd_BABYLON.AbstractMesh[])_lt_/span_gt__eq_&gt_sm__lt_/span_gt_{\n           that.player _eq_ meshes[_lt_span_gt_3_lt_/span_gt_]_sm__lt_span_gt_//_lt_/span_gt_that.player _lt_span_gt_is_lt_/span_gt_ an abstractMesh public _lt_span_gt_on_lt_/span_gt_ my _lt_span_gt__lt_span_gt_class_lt_/span_gt_ _lt_span_gt_player_lt_/span_gt__lt_/span_gt_\n        }_lt_/code_gt__lt_/pre_gt_\n\n\t\t_lt_p_gt_\n\t\t\tThe general programming concept that you want to understand here is called _t_ _lt_em_gt_variable scope_lt_/em_gt_ _t_.\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t2. My experience is that BABYLON.Mesh (and probably also an abstract mesh) don_t_t have a size. So I neither get a positive collision/intersect result when this type of mesh intersects another Box for example.\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tMy solutions for that are_dd_\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t- to don_t_t use BABYLON.Mesh but use a Box or a Sphere with some size in which the full model fits (effectively giving the mesh a _qt_size_qt_). it_t_s simple and fast_co_ and most of the time very effective.\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t- or to recompute and set the bounding box myself on the Mesh by traversing the child / sub meshes of the model. it_t_s a bit more complex and you probably want to recompute if your player physique changes much (e.g. stand_co_ sit_co_ lie down)\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t- or to have intersection not on the main (abstract) mesh but on some child mesh which has a bounding box / volume already and thereby benefits from the Babylon engine math already_co_ e.g. the _qt_chest_qt_ of the player.\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tYou can show the bounding box with an option_dd_\n\t\t_lt_/p_gt_\n\n\t\t_lt_pre_gt_\n\n_lt_code_gt_mesh.showBoundingBox _eq_ _lt_span_gt_true_lt_/span_gt__sm__lt_/code_gt__lt_/pre_gt_\n\n\t\t_lt_p_gt_\n\t\t\tIt works great for debugging your intersections_co_ at least it does so for me when for some reason my players walk through walls and hills while they shouldn_t_t _lt_span class_eq__qt_ipsEmoji_qt__gt_ðŸ™‚_lt_/span_gt_\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tHope my suggestions help you find the solution to your specific problem.\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tHappy coding!\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tHey there QuintisHegie_co_ I gave these a try and I have decided making a invisible sphere is my best option.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tÂ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks for the help everyone!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-06-18T22:48:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tCan you repro in the playground? Will be easier to help catch the culprit _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt_true_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt__gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]