[{"Owner":"paleRider","Date":"2018-04-01T20:52:50Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi there_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have a _lt_strong_gt_BJS_lt_/strong_gt_ development in production that works great in all platform but _lt_strong_gt_iOS-Cordova app_lt_/strong_gt_.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn this last configuration the sound doesn_t_t work at all_co_ dumping the following error message_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ data-fileid_eq__qt_17744_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_04/5ac144c282b05_Capturadepantalla2018-04-01alas22_42_52.png.9c7e24645ba2376929c0b0f351073e35.png_qt_ rel_eq__qt__qt__gt__lt_img alt_eq__qt_5ac144c2b05b9_Capturadepantalla2018-04-01alas22_42_52.thumb.png.c50c5092c65ced07ac273e9eee1b8e65.png_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_17744_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_04/5ac144c2b05b9_Capturadepantalla2018-04-01alas22_42_52.thumb.png.c50c5092c65ced07ac273e9eee1b8e65.png_qt_ /_gt__lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAny clues on this?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks for your time.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"PsichiX","Date":"2018-04-01T21:41:46Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tshow us code that loads this audio file.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"paleRider","Date":"2018-04-01T21:55:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi _lt_strong_gt_PsichiX_lt_/strong_gt__dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTomorrow in the morning (CET) I_t_ll be back in the office_co_ able to show that (very simple) lines of code.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnytime please consider that the code is working flawless in browsers (Win_co_ macOS and Linux) and Android Cordova hybrid app_co_ and _lt_strong_gt_only failing in iOS Cordova hybrid app_lt_/strong_gt_.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks for your time. Best regards.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"paleRider","Date":"2018-04-02T06:20:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWell_co_ my (really-simple) sound related code lines are these_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_var _Sfx_eq_new BABYLON.Sound(_qt_sfx_qt__co__qt_assets/sounds/sfx.mp3_qt__co__Scene_co_null_co_{\n  autoplay_dd_ false_co_\n  loop_dd_ true_co_\n  volume_dd_ 0}\n)_sm_\n\n...\n\nfunction _updateVolume(param){\n  ...\t\t\n  //\n  _Sfx.setVolume(param)_sm_\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tAs said_co_ it works on_dd_\n_lt_/p_gt_\n\n_lt_ol style_eq__qt_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_\n\t_lt_li_gt_\n\t\t_lt_strong_gt_desktop - Windows - web - FF_lt_/strong_gt_\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\t_lt_strong_gt_desktop - Windows - web - Chrome _lt_/strong_gt_\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\t_lt_strong_gt_desktop - macOSX - web - Safari_lt_/strong_gt_\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\t_lt_strong_gt_mobile - Android - web - Chrome_lt_/strong_gt_\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\t_lt_strong_gt_mobile - Android - hybrid app (Cordova)_lt_/strong_gt_\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\t_lt_strong_gt_mobile - iOS - web - Safari_lt_/strong_gt_\n\t_lt_/li_gt_\n_lt_/ol_gt_\n\n_lt_p_gt_\n\tBut not in _lt_strong_gt_mobile - iOS - hybrid app (Cordova)_lt_/strong_gt_.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBest regards.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-04-02T18:03:44Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tprobably the same reason as here_dd_ \n_lt_/p_gt_\n_lt_iframe allowfullscreen_eq__qt__qt_ class_eq__qt_ipsEmbed_finishedLoading_qt_ data-controller_eq__qt_core.front.core.autosizeiframe_qt_ data-embedcontent_eq__qt__qt_ data-embedid_eq__qt_embed3169958037_qt_ scrolling_eq__qt_no_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/topic/36190-pbr-on-ios/?do_eq_embed_qt_ style_eq__qt_overflow_dd_ hidden_sm__qt__gt__lt_/iframe_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"paleRider","Date":"2018-04-02T20:07:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi Deltakosh_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI supposed that but the console logs are quite different.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnyway_co_ I_t_ll try the way-of-the-blob also here and let you know.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThank you.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2018-04-03T14:22:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOne thing I am pretty sure works is converting to inline Javascript with a Base64 encoded audio buffer.  The decoding in the Javascript is very minor_co_ but built into the QI extension to reduce amount of code generated.  I have a _lt_a href_eq__qt_https_dd_//palmer-jc.github.io/scenes/QueuedInterpolation/audio_recorder/index.html_qt_ rel_eq__qt_external nofollow_qt__gt_page _lt_/a_gt_which will either record off mic or bring in files for conversion.  When using the mp3 decoder to bring in files_co_ they will be sampled at the highest rate your desktop hardware supports_co_ even if lower in the actual .mp3 file.  You can down sample when writing script to reverse this.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou would no longer be at the mercy of the platform.  At times that can be a very good idea.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_17782_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_04/audiorecorder.jpg.b008d2019f99a5473f6eeef77dd4065d.jpg_qt_ alt_eq__qt_audiorecorder.jpg.b008d2019f99a5473f6eeef77dd4065d.jpg_qt_ /_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"paleRider","Date":"2018-04-03T14:45:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi _lt_strong_gt_JCPalmer_lt_/strong_gt__dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWell_co_ as _lt_strong_gt_Deltakosh_lt_/strong_gt_ wrote this is a problem related with the way _lt_strong_gt_Cordova-iOS_lt_/strong_gt_ manages the local storage _lt_strong_gt_XHR_lt_/strong_gt_ resources.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnyway_co_ when I use a web-served URI_co_ the error is gone (so I suppose the mp3 is loaded) but sadly no sound is produced.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2018-04-03T18:21:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThis sounds like Bug territory.  maybe see _lt_a href_eq__qt_https_dd_//forum.ionicframework.com/t/ios-9-2-cordova-plugin-media-no-sound-fix-on-the-way/45100_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//forum.ionicframework.com/t/ios-9-2-cordova-plugin-media-no-sound-fix-on-the-way/45100_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tEdit_dd_ Never mind_co_ bug was fixed\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"paleRider","Date":"2018-04-03T19:34:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks _lt_strong_gt_JC_lt_/strong_gt__dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYes_co_ I suppose I need to start looking for this issue in _lt_strong_gt_JQM/Ionic/Cordova_lt_/strong_gt_ forums.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWith _lt_strong_gt_iOS_lt_/strong_gt_ you always know it_t_s going to be painful.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"paleRider","Date":"2018-04-03T19:58:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWell_co_ this is embarrasing... the case is that my problem with remote served mp3 not _qt_sounding_qt_ was only due to the infamous Side Switch.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt was turned off. _lt_img alt_eq__qt__dd_mellow_dd__qt_ data-emoticon_eq__qt__qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_mellow.png_qt_ title_eq__qt__dd_mellow_dd__qt_ /_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe confusing thing was that movies and music were played w/o problem (?) and so I didn_t_t realized it was off.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"paleRider","Date":"2018-04-04T21:12:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWell_co_ only as a epilogue for this (already closed) issue_co_ I finally managed  to have my DDS local file working on iOS. Please see related thread_dd_\n_lt_/p_gt_\n_lt_iframe allowfullscreen_eq__qt__qt_ data-controller_eq__qt_core.front.core.autosizeiframe_qt_ data-embedcontent_eq__qt__qt_ data-embedid_eq__qt_embed8104775997_qt_ scrolling_eq__qt_no_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/topic/36190-pbr-on-ios/?do_eq_embed_qt_ style_eq__qt_height_dd_304px_sm_max-width_dd_502px_sm__qt__gt__lt_/iframe_gt_\n\n_lt_p_gt_\n\t...with the help of _lt_a href_eq__qt_https_dd_//github.com/oracle/cordova-plugin-wkwebview-file-xhr_qt_ rel_eq__qt_external nofollow_qt__gt_cordova-plugin-wkwebview-file-xhr_lt_/a_gt_.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSadly_co_ against the expected_co_ that is not the same with the other XHR-loaded asset of my app_co_ the MP3 local file_co_ so I get the following Xcode error output on it_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_2018-04-04 16_dd_43_dd_53.758536+0200 ERROR_dd_ BJS - [16_dd_43_dd_53]_dd_ error on XHR request.\n2018-04-04 16_dd_43_dd_53.760983+0200 xhr-polyfill.js - exception delivering event {_qt_isTrusted_qt__dd_false} TypeError_dd_ Argument 1 (_t_audioData_t_) to webkitAudioContext.decodeAudioData must be an instance of ArrayBuffer_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_Oracle_lt_/strong_gt__t_s guys says me that it_t_s because _qt__lt_em_gt_..._lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#24292e_sm_font-size_dd_14px_sm__qt__gt_the babylon code is not setting the XMLHttpRequest_lt_span_gt_ _lt_/span_gt__lt_/span_gt__lt_a href_eq__qt_https_dd_//developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseType_qt_ rel_eq__qt_external nofollow_qt_ style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#0366d6_sm_font-size_dd_14px_sm__qt__gt_responseType_lt_/a_gt__lt_/em_gt__lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#24292e_sm_font-size_dd_14px_sm__qt__gt__lt_em_gt__lt_span_gt_ _lt_/span_gt_to _qt_arraybuffer_qt_. The polyfill with this plugin only has a small list of file suffixes to default response types. The native XMLHttpRequest probably defaults _qt_arraybuffer_qt_ based on the URL suffix but we are defaulting to text._lt_/em_gt__qt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-04-04T21:41:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWeird...because we ARE actually setting the responseType to arrayBuffer_dd_ _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/c224954e1b2005f1d01fa711904075e0129a208e/src/Tools/babylon.tools.ts#L604_qt_ ipsnoembed_eq__qt_true_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/c224954e1b2005f1d01fa711904075e0129a208e/src/Tools/babylon.tools.ts#L604_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]