[{"Owner":"ua4192","Date":"2017-05-07T19:04:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tDear all.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have a small problem with my code.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI want to select one of the multiple invisible but pickable meshes with the mouse. The goal is that I have a big model GLTF (assembly) loaded in the scene_co_ but I also have the boxes of the parts contained loaded in the scene. The idea is that as in a typical CAD program be able to select on of the boxes (the closest one from the coordinates selected with the mouse in the assembly)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn the scene I will load the GLTF contained meshes and the boxes (bounding boxes) of the parts in these meshes in a invisible but pickable way.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am using this approach because loading thousand of gltfs of parts is unachievable_co_ the browser gets hang. Instead I load some big GLTFS and I want to be able to get metadata information from the parts contained in this assemblies.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhen I click with the mouse on the scene_co_ I want to take the coordinates of the big assembly (GLTF) and make visible the box of the closest box of these coordinates.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am trying to use a raycast with camera position and mouse coordinates but it seems that multipick is not able to pick invisible boxes. I have also some problems to set the direction vector of the raycast based on the selected mouse coordinates and camera position.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMany thanks in advanced for your support.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ua4192","Date":"2017-05-07T19:15:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn order to explain my problem I have added a small PG.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#KNE0O%2329_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#KNE0O#29_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou can see that when a click on the midle of the big box_co_ the mesh that is make visible is the far away one and not the closest one I want.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMany thanks in advanced.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ua4192","Date":"2017-05-07T20:02:41Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tMy idea is to make a raycast using the camera position and mouse picked coordinates_co_ then use the multipick function to get all meshes which collide with this coordinates(mouse selected) and finally take the closest one (the last retrieved bounding box before the GLFT mesh).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt seems that multipick doesn_t_t work when meshes (my bounding boxes are not visible but pickable).\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tMany thanks\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ua4192","Date":"2017-05-07T20:22:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSorry.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis is the PG.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI thought that the order got by multipick was depending on the distance of the coordiantes but is seems that is the order of mesh creation in the scene.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI need to get the closest one.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#KNE0O%2330_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#KNE0O#30_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tMany thanks in advanced.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-05-08T15:08:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello you are almost done _lt_img alt_eq__qt__sm_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ title_eq__qt__sm_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tjust check the distance property to find the closest_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#KNE0O%2331_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#KNE0O#31_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ua4192","Date":"2017-05-08T17:33:41Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tMany many thanks.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou are the best\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_dd_ )\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI will try with this function.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tBest regards_co_ ans many many thanks again.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]