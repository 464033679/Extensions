[{"Owner":"exc_html5","Date":"2016-06-13T12:52:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThat_t_s odd. Any idea why they removed it? I guess at this stage we_t_d have to roll our own or try to re-implement yours on our side. \n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ozRocker","Date":"2016-06-13T13:16:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIf you have any C# experience you can get the code from the GITHub history and try and re-factor that into the latest version.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI converted this from Unity3D to Babylon.js _lt_a href_eq__qt_http_dd_//www.punkoffice.com/lotsatrees/_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.punkoffice.com/lotsatrees/_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI HAD to use instances for that.  The scene is 99% prefabs.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"exc_html5","Date":"2016-06-13T13:34:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThanks man! I_t_ll check it out. \n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-06-13T15:46:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tOups did I overwrite changes you did? If yes I_t_m really sorry! We had some issues with the Unity exporter _lt_img alt_eq__qt__dd_(_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ title_eq__qt__dd_(_qt_ width_eq__qt_20_qt_ /_gt_ can you please point me to your commit? I_t_ll reintroduce your changes\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ozRocker","Date":"2016-06-13T16:31:18Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tYeh_co_ I noticed there were some devastating commits in there.  Complete file overwrites.  Yikes!   All my commits are listed under user _qt_punkoffice_qt_\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-06-13T16:33:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tWould it be easier for you to redo the PR? (with all MY APOLOGIES)\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ozRocker","Date":"2016-06-13T16:42:44Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tIt probably would be easier since I know where everything fits.  Maybe I can streamline it more with the extra knowledge of Babylon.js that I_t_ve gained since then.  I_t_ll try and get it done within the next 2 weeks.  I_t_m a bit tied up right now writing pitch-decks and business plans and all that crap that investors care about.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-06-13T16:44:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThank you so much..And I promised to not screw things up again _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"tbgeorge","Date":"2016-06-15T00:27:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_ I_t_m trying to get the prefab instances to export correctly_co_ and when they export_co_ the .babylon file seems correct though if I have a material on the prefab at all (even the default material) I get an error when loading the scene. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis is the error_dd_  _qt_Uncaught TypeError_dd_ Cannot read property _t_index_t_ of undefined                babylon.max.nightly.js_dd_6297_qt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhich leads to this section of code_dd_ \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_Engine.prototype.updateAndBindInstancesBuffer _eq_ function (instancesBuffer_co_ data_co_ offsetLocations) {\n    this._gl.bindBuffer(this._gl.ARRAY_BUFFER_co_ instancesBuffer)_sm_\n    if (data) {\n        this._gl.bufferSubData(this._gl.ARRAY_BUFFER_co_ 0_co_ data)_sm_\n    }\n    if (offsetLocations[0].index !_eq__eq_ undefined) { // this is the line in question\n        var stride _eq_ 0_sm_\n        for (var i _eq_ 0_sm_ i &lt_sm_ offsetLocations.length_sm_ i++) {\n            var ai _eq_ offsetLocations[i]_sm_\n            stride +_eq_ ai.attributeSize * 4_sm_\n        }\n        for (var i _eq_ 0_sm_ i &lt_sm_ offsetLocations.length_sm_ i++) {\n            var ai _eq_ offsetLocations[i]_sm_\n            this._gl.enableVertexAttribArray(ai.index)_sm_\n            this._gl.vertexAttribPointer(ai.index_co_ ai.attributeSize_co_ ai.attribyteType || this._gl.FLOAT_co_ ai.normalized || false_co_ stride_co_ ai.offset)_sm_\n            this._caps.instancedArrays.vertexAttribDivisorANGLE(ai.index_co_ 1)_sm_\n        }\n    }\n    else {\n        for (var index _eq_ 0_sm_ index &lt_sm_ 4_sm_ index++) {\n            var offsetLocation _eq_ offsetLocations[index]_sm_\n            this._gl.enableVertexAttribArray(offsetLocation)_sm_\n            this._gl.vertexAttribPointer(offsetLocation_co_ 4_co_ this._gl.FLOAT_co_ false_co_ 64_co_ index * 16)_sm_\n            this._caps.instancedArrays.vertexAttribDivisorANGLE(offsetLocation_co_ 1)_sm_\n        }\n    }\n}_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tThis is not the current nightly build_co_ but it is fairly recent_co_ probably a week or two old. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAny ideas? I can post more info/code if needed.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-06-15T03:17:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tHello this is tough to help you without seeing it live. Can you reproduce on the PG or on a live server?\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"tbgeorge","Date":"2016-06-15T19:42:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_ve figured it out. I had this code in the scene.executeWhenReady function and for some reason that was causing problems_dd_ \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_scene.materials.forEach( function( mat ) {\n    mat.freeze()_sm_\n})_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tI moved it to a render loop that stops itself and it now works fine.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tInside scene.executeWhenReady() _dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_engine.runRenderLoop( freezeMaterials )_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tThe _t_freezeMaterials_t_ function_dd_ \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_function freezeMaterials() {\n    scene.materials.forEach( function( mat ) {\n        mat.freeze()_sm_\n    })_sm_\n    scene.getEngine().stopRenderLoop(freezeMaterials)_sm_\n}_lt_/code_gt__lt_/pre_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]