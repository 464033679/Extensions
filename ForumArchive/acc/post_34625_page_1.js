[{"Owner":"BlackMojito","Date":"2017-12-18T07:10:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi Folks_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have a question about the shaders used in Babylon. I saw some special stuff like the line below. I have searched __decl__lihghtFragment but I could not find it. And also this lines seems not to be standard grammar of GLSL. Could someone explain how it works? \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_color_dd_#d73a49_sm_font-size_dd_12px_sm_text-align_dd_left_sm__qt__gt_#include_lt_/span_gt__lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#24292e_sm_font-size_dd_12px_sm_text-align_dd_left_sm__qt__gt_&lt_sm___decl__lightFragment&gt_sm_[_lt_/span_gt__lt_span style_eq__qt_color_dd_#005cc5_sm_font-size_dd_12px_sm_text-align_dd_left_sm__qt__gt_0_lt_/span_gt__lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#24292e_sm_font-size_dd_12px_sm_text-align_dd_left_sm__qt__gt_..maxSimultaneousLights]_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe background is that I am using the CustomMaterial made by NasamiAsl and I would like to add some custom uniforms like the lights. So the stuff above interests me.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-12-18T21:43:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello this is used by Babylon.js to compile shaders for webgl1 or 2\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAccording to webGL version it will either pick one of these two files_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t* _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Shaders/ShadersInclude/lightFragmentDeclaration.fx_qt_ ipsnoembed_eq__qt_true_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Shaders/ShadersInclude/lightFragmentDeclaration.fx_lt_/a_gt_ (webgl1)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tor \n_lt_/p_gt_\n\n_lt_p_gt_\n\t* _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Shaders/ShadersInclude/lightUboDeclaration.fx_qt_ ipsnoembed_eq__qt_true_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Shaders/ShadersInclude/lightUboDeclaration.fx_lt_/a_gt_ (webgl2)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"BlackMojito","Date":"2017-12-19T02:15:00Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_198985_qt_ data-ipsquote-contentid_eq__qt_34625_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1513633417_qt_ data-ipsquote-userid_eq__qt_4442_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t4 hours ago_co_ Deltakosh said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tHello this is used by Babylon.js to compile shaders for webgl1 or 2\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tAccording to webGL version it will either pick one of these two files_dd_\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t* _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Shaders/ShadersInclude/lightFragmentDeclaration.fx_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Shaders/ShadersInclude/lightFragmentDeclaration.fx_lt_/a_gt_ (webgl1)\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tor \n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t* _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Shaders/ShadersInclude/lightUboDeclaration.fx_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Shaders/ShadersInclude/lightUboDeclaration.fx_lt_/a_gt_ (webgl2)\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tOK. So basically _qt__lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#24292e_sm_font-size_dd_12px_sm_text-align_dd_left_sm__qt__gt___decl__lightFragment_lt_/span_gt__qt_ is just a placeholder here? Hum...what is [0...maxSimultaneousLights] translated to in native glsl shader? Just declare another uniform variable called maxSimultaneousLights?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-12-19T21:02:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tIt will generate x uniforms (one per light from 0 to maxSimultaneousLIghts value)\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]