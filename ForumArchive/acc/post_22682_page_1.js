[{"Owner":"JBlack_UTD","Date":"2016-05-20T20:36:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_d like to access the babylonScene.ShadowGeneratorsList that SceneBuilder.Lights.cs uses_co_ but I can_t_t seem to find any variable that doesn_t_t come up as undefined after I_t_ve called the SceneLoader.Load\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_private void GenerateShadowsGenerator(Light light)\n        {\n            var generator _eq_ new BabylonShadowGenerator\n            {\n                lightId _eq_ GetID(light.gameObject)_co_\n                usePoissonSampling _eq_ light.shadows _eq__eq_ LightShadows.Soft_co_\n                mapSize _eq_ 256 + 256 * QualitySettings.GetQualityLevel()_co_\n                bias _eq_ light.shadowBias / 10.0f_co_\n                useBlurVarianceShadowMap _eq_ light.shadows _eq__eq_ LightShadows.Soft\n            }_sm_\n\n            var renderList _eq_ new List&lt_sm_string&gt_sm_()_sm_\n            foreach (var gameObject in gameObjects)\n            {\n                //why not deliver the boolean to the scene? I could use that boolean to manually create shadows inside babylon.\n                var meshFilter _eq_ gameObject.GetComponent&lt_sm_MeshFilter&gt_sm_()_sm_\n                var renderer _eq_ gameObject.GetComponent&lt_sm_Renderer&gt_sm_()_sm_\n                if (meshFilter !_eq_ null &amp_sm_&amp_sm_ renderer.shadowCastingMode !_eq_ ShadowCastingMode.Off)\n                {\n                    renderList.Add(GetID(gameObject))_sm_\n                    continue_sm_\n                }\n\n                var skinnedMesh _eq_ gameObject.GetComponent&lt_sm_SkinnedMeshRenderer&gt_sm_()_sm_\n                if (skinnedMesh !_eq_ null &amp_sm_&amp_sm_ renderer.shadowCastingMode !_eq_ ShadowCastingMode.Off)\n                {\n                    renderList.Add(GetID(gameObject))_sm_\n                }\n            }\n\n            generator.renderList _eq_ renderList.ToArray()_sm_\n\n            babylonScene.ShadowGeneratorsList.Add(generator)_sm_ //***How do i access this list in babylon?***\n        }_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tThe end goal here would be to emulate the Unity mesh renderer option to cast shadows or not. The exporter does this_co_ but if I can_t_t access the shadow generator list_co_ I can_t_t determine which meshes to push into the wanted shadow generators.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThat_t_s my understanding of the problem at least.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAs an aside_co_ I_t_ve created shadow generators for two point lights (manually)_co_ and I_t_m importing one spot light which I_t_ve positively determined has a shadow generator created for it somewhere.\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt__qt_shadowGenerators_qt__dd_[{_qt_mapSize_qt__dd_1536_co__qt_bias_qt__dd_0.005_co__qt_lightId_qt__dd__qt_c21fd6a4-701a-4377-86b9-868b221c1c96_qt__co__qt_useVarianceShadowMap_qt__dd_false_co__qt_usePoissonSampling_qt__dd_true_co__qt_useBlurVarianceShadowMap_qt__dd_true_co__qt_blurScale_qt__dd_0_co__qt_blurBoxOffset_qt__dd_0_co__qt_renderList_qt__dd_[_qt_f808b945-1605-4e8f-8233-f75b89e55c71_qt__co__qt_0cc9fd1e-1a23-4c9e-9cef-5b0c87faf717_qt__co__qt_36d7e455-a32f-490a-b837-3043d6f30691_qt__co__qt_5091d4f8-2767-4e7e-acb6-a7c179b33583_qt__co__qt_c5313fc0-4edd-43d7-8dcf-85f76e83905f_qt__co__qt_d3d119e6-37f5-4725-af03-f470a755ac93_qt__co__qt_d5d11567-f959-4291-b784-ffb07089e6bd_qt__co__qt_9141800a-91a8-4d51-bceb-85df54d49e39_qt__co__qt_acce9ece-cd8f-42fb-98e7-53ff7de56315_qt__co__qt_cd22cc1d-07f7-4845-9de2-967f42eabf5b_qt__co__qt_0ad378ab-6f73-4861-91a9-bc649ffd4759_qt__co__qt_a8e8b351-71a2-4bb9-a995-736b637615a6_qt__co__qt_385b2d6a-a789-4a2a-ba99-73c45f096c8a_qt__co__qt_d056b786-d3d8-45dc-ae61-509a34b17f1a_qt__co__qt_0bf62911-a3cf-4bd8-a0b4-96fd20a89fd2_qt__co__qt_fdfc93be-5a6c-4049-80de-c6912168f1c8_qt__co__qt_25efb981-7f78-4c5c-8e28-cfde40b304f5_qt__co__qt_1bf1b3b6-b0fe-4fe5-a5af-1509ed156dbc_qt__co__qt_673a7d44-10c1-47e4-9d12-2c55322f3b28_qt__co__qt_aa4d1889-0951-4d43-81d8-5d774a7012d2_qt__co__qt_157582a5-5887-4661-bbf8-29aaa6da108c_qt__co__qt_7b3f2c8d-447b-41fa-9366-d007137e6a3c_qt__co__qt_c4860f5e-d38e-4285-a098-3a158564dd8e_qt__co__qt_f5e3a43a-4475-4c67-941d-bab8a377290e_qt__co__qt_49374c28-a289-471b-83df-2af6773d18b2_qt__co__qt_d8511075-b08c-47ea-a779-7720c91351ae_qt__co__qt_e2807f9b-3807-4ae0-bdff-86ab12195672_qt__co__qt_d730e55a-948c-4ac5-beef-a9eb8ae12479_qt_]}]_co__qt_skeletons_qt__dd_[]_co__qt_actions_qt__dd_null}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tThe only thing left I have to do is determine which meshes can cast shadows_co_ and then push those meshes into the shadow generator render lists.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThank you for your time.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-05-20T21:54:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tthere is no shadow generator list generated at loading time but you can go through all lights and check for light.getShadowGenerator()\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JBlack_UTD","Date":"2016-05-20T22:55:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThat seems to have done the trick! Thanks.\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_for (var i _eq_ 0_sm_ i &lt_sm_ newScene.lights.length_sm_ i++){\n\n    if(newScene.lights[i].getShadowGenerator()){\n      console.log(_qt_dingdingding._qt_)_sm_\n      newScene.meshes.forEach(function(mesh) {\n        newScene.lights[i].getShadowGenerator().getShadowMap().renderList.push(mesh)_sm_\n      })_sm_\n      continue_sm_\n    }\n    ...\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]