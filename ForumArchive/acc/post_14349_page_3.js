[{"Owner":"jerome","Date":"2015-05-22T17:56:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_After some tests in many directions_co_ included the usual blocking ones (+PI / 2_co_ + PI /2_co_ + PI/2_co_ etc)_co_ it seems to keep coherent and working._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Well_co_ some more tests this week-end... and if nothing wrong happens_co_ there will be a new candidate for math.ts next week_lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_// axis1 to 3 are three orthogonal vectors_co_ oriented left-handed// they are the target system to set a mesh along for instancevar rot _eq_ BABYLON.Vector3.AxisToEuler(axis1_co_ axis2_co_ axis3)_sm_ // returns a vector3 _dd_ (pitch_co_ yaw_co_ roll)mesh.rotation _eq_ rot_sm_mesh.position _eq_ new_position_sm_  // these two last lines are now the former rebase() function_lt_/pre_gt__lt_p_gt_The name could be changed also _dd_ _lt_em_gt_VectorsToEuler_lt_/em_gt_ ? _lt_em_gt_SystemToEuler_lt_/em_gt_ ? _lt_em_gt_RotationFromVectors_lt_/em_gt_ ? _lt_em_gt_RotationFromAxis _lt_/em_gt_? etc_lt_/p_gt__lt_p_gt_I believe I prefer _lt_em_gt_RotationFromAxis() _lt_/em_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Any ideas_co_ people ?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_@DK _dd_ should this function be in Vector3 or in Axis class ?_lt_/p_gt__lt_p_gt_Imho_co_ it_t_s vector handling_co_ so it would be better in Vector3_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JohnK","Date":"2015-05-22T19:14:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Been following your progress on this. I am truly impressed. As you are obtaining a rotation from an orthogonal axis system then I would agree on _lt_em_gt_RotationFromAxis() ._lt_/em_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-05-22T19:44:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Agree!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_And my favorite is RotationFromAxis_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-05-22T20:33:46Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_sold ! RotationFromAxis() in Vector3 class._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_@JohnK_lt_/p_gt__lt_p_gt_I really feel proud of this algo because I spent almost a full week of charge (not duration what is about 2+ weeks) upon and it was really difficult for me despite the process validation from two different math profs._lt_/p_gt__lt_p_gt_Process is just... a concept._lt_/p_gt__lt_p_gt_Implementation is really harder because we face some unpredicted behavior or many process/concept oversights/failures (easy to say _dd_ _qt_choose the best of 4 possible solutions_co_ then do this_qt_... very hard to define/implement what is the best of 4 possible solutions_co_ the best in terms of what ?)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Maybe is there a best way to do_co_ a shorter way_co_ a smarter way_co_ a simpler way ? Probably. I don_t_t know. _lt_/p_gt__lt_p_gt_I wish someone tells me some day the most elegant or the most computational way._lt_/p_gt__lt_p_gt_The lone I found so far on the web (maybe I don_t_t write the right request...despite decades of using web search engine ?) was the one about angles/atan2 approach and had an all ready C implementation. But it didn_t_t work for negative angles (or &gt_sm_ PI) and had really bad approximation about _lt_em_gt_roll_lt_/em_gt_ angle (+/- 2 degrees !)_co_ unless I did big mistakes in copying it. So far_co_ mine is accurate about 0.001 degrees in average tests._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I guess my sleep will become quiet back now _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Alby","Date":"2015-05-23T13:49:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hip_co_ hip_co_ hip_co_ hooray! Hats off to Jerome!!_lt_/p_gt__lt_p_gt_How to kill a nightmare in one week! _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_Hope you will not hate us too much (Wingy and me) to cause you such sufferings by our request_co_ watch out  little light_t_s candles ! _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Really thank you for the time you spent_co_ torturing your brain_co_ finding this solution. Hope it will be useful for a lot of people!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Of course_co_ if you agree_co_ I will put it in _qt_my_qt_ centralisation of user functions_co_ if you could just give me a short explanation not too abstract (think about newbies _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ ) of what it exactly do and the link to last demo _co_ like you did before _dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_em_gt__qt_a _lt_strong_gt_localRebase(origin_co_ axis1_co_ axis2_co_ axis3_lt_/strong_gt_) method _dd_ this will need to set mesh as updatable and will allow to change the mesh position/orientation after building in its local space. The mesh is modified in its local space. This is quite the prototype function._lt_/em_gt__lt_/p_gt__lt_p_gt__lt_em_gt_If this function could be called within the mesh constructor_co_ it wouldn_t_t be necessary to set the mesh as updatable... but it would need an extra parameter to pass the target base._lt_/em_gt__lt_/p_gt__lt_p_gt__lt_em_gt_Hard choice._lt_/em_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_em_gt_a _lt_strong_gt_worldRebase(origin_co_ axis1_co_ axis2_co_ axis3)_lt_/strong_gt_ method (not yet even thought_co_ too busy mind) _dd_ this will allow to keep a mesh non-updatable and will rebase the mesh in the world in the same way that the former method does. This will not modify the mesh in its local space. This should only modify the mesh.worldMatrix._qt__lt_/em_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I will do the same with showAxis(size)_co_ just to know who is the _qt_creator_t__co_ is it you?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Well hope you had a good rest _co_ after climbing ( and succeeding) that hard joyfull math mountain!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Be well_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-05-23T15:56:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_@Alby _dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_about _dd_ _lt_em_gt_RotationFromAxis()_lt_/em_gt__lt_/p_gt__lt_p_gt_I hope this function will be helpful to many people as it is a recurrent need (it_t_s one fo mines) _dd_ how to rotate something in order to set in this know orientation._lt_/p_gt__lt_p_gt_Don_t_t put it in your personal collection as it will be integrated soon in BJS._lt_/p_gt__lt_p_gt_I will write the relating doc which is quite simple _dd_ give the function 3 left-handed orthogonal vectors (target system) in space and it returns you the 3 rotation angles needed to reach this target system from the world system._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_about _lt_em_gt_rebase()_lt_/em_gt_ _dd__lt_/p_gt__lt_p_gt_Well_co_ it_t_s not needed any longer_co_ because _lt_em_gt_rebase()_lt_/em_gt_ is now just _dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var rot _eq_ BABYLON.Vector3.AxisToEuler(axis1_co_ axis2_co_ axis3)_sm_ // returns a vector3 _dd_ (pitch_co_ yaw_co_ roll)mesh.rotation _eq_ rot_sm_mesh.position _eq_ new_position_sm__lt_/pre_gt__lt_p_gt_However you can keep the old PG _lt_em_gt_rebase(). _lt_/em_gt_Just remember it modifies the mesh itself_co_ in its local space_co_ instead of simply rotating it _dd_ it just rebuilds the mesh ... rotated._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-05-23T17:16:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_@Alby_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_about showAxis(size) _dd_ yep_co_ it was mine_lt_/p_gt__lt_p_gt_Maybe the name would be rather _lt_em_gt_showWorldAxis(size)_lt_/em_gt__lt_/p_gt__lt_p_gt_cleaned up here _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#2L9DCA_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#2L9DCA_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_here_co_ you_t_ve got the Temechon_t_s one _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#UTDZF_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#UTDZF_lt_/a_gt__lt_/p_gt__lt_p_gt_showing any mesh local system_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-05-23T21:23:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_@Jerome_dd_ please document it directly inside the code. THis will be easier for users to discover it_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-05-23T21:24:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_ok boss_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-05-26T08:13:41Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_PRed_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-05-27T04:49:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_demo _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#VYM1E%232_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#VYM1E#2_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I have here two spheres at given positions._lt_/p_gt__lt_p_gt_I want to set a textured plane from one to the other sphere and I want this plane to always _qt_face_qt_ the cam._lt_/p_gt__lt_p_gt_I don_t_t know anything about angles or whatever _dd__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-05-27T16:27:57Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Vector3.RotationFromAxis is now live. You can use it on the playground _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]