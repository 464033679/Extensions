[{"Owner":"Dad72","Date":"2015-04-19T19:44:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hello_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_div_gt_Do you think that would be appropriate to paint decals roads on terrain?_lt_/div_gt__lt_div_gt_I think decal because it seems the easiest to achieve_co_ but I told myself that this is not the best ways to do this (can be)._lt_/div_gt__lt_div_gt_I use the basic WorldMonger (demo available at BabylonJS) that automatically painted textures_co_ but I would like an option to make manual adjustments_co_ but I do not really know how._lt_/div_gt__lt_div_gt_ _lt_/div_gt__lt_div_gt_Thank you in advance for your advice_co_ support ..._lt_/div_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"joshcamas","Date":"2015-04-19T21:22:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Decals is not. Using a canvas is much better!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_By using dynamic texture!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_If you use a chunk system such as below_co_ (I_t_ll explain more in a PM) then each chunk will contain this function. The _x and _y is calculated  as such_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_div_gt_var _x _eq_ pickInfo.pickedPoint.x* (this.chunk.texSize.width / this.chunk.parent.chunkSize)_sm__lt_/div_gt__lt_div_gt_var _y _eq_ pickInfo.pickedPoint.z* (this.chunk.texSize.height / this.chunk.parent.chunkSize)_sm__lt_/div_gt__lt_div_gt_ _lt_/div_gt__lt_div_gt_Here_t_s an example of chunks_dd__lt_/div_gt__lt_div_gt__lt_a href_eq__qt_http_dd_//i.imgur.com/xcJKauG.png_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//i.imgur.com/xcJKauG.png_lt_/a_gt__lt_/div_gt__lt_div_gt_Basically many different meshes_co_ each with seperate textures and vertices._lt_/div_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_this.paint _eq_ function(_x_co__y) {\t\tthis.chunk.parent.unsavedChanges.texture _eq_ true_sm_\t\tvar size _eq_ this.options.brushSize_sm_\t\tvar _width _eq_ Game.data.brushes[this.options.selectedBrush].img.width_sm_\t\tvar _height _eq_ Game.data.brushes[this.options.selectedBrush].img.height_sm_\t\tthis.chunk.textureContext.save()_sm_\t\t//Mask\t\tthis.chunk.maskcontext.clearRect(0_co_0_co_this.chunk.texSize.width_co_this.chunk.texSize.height)_sm_\t\tthis.chunk.maskcontext.save()_sm_\t\tvar wx _eq_ _x - (this.chunk.x*this.chunk.texSize.width)_sm_\t\tvar wy _eq_ _y - (this.chunk.y*this.chunk.texSize.height)_sm_\t\twy _eq_ this.chunk.texSize.height - wy_sm_\t\tthis.chunk.maskcontext.drawImage(Game.data.masks[this.options.selectedMask].img_co_0_co_0_co_Game.data.masks[this.options.selectedMask].img.width_co_Game.data.masks[this.options.selectedMask].img.height_co_wx-(size)_co_wy-(size)_co_size*2_co_size*2)_sm_\t\tthis.chunk.maskcontext.globalCompositeOperation _eq_ _t_source-in_t__sm_\t\t//Paint Mode\t\tthis.chunk.brushcontext.clearRect(0_co_0_co_this.chunk.texSize.width_co_this.chunk.texSize.height)_sm_\t\tthis.chunk.brushcontext.save()_sm_\t\tif(this.options.paintType _eq__eq_ _qt_texture_qt_) {\t\t\tif (this.options.paintMode _eq__eq_ _qt_Tiled_qt_) {\t\t\t\tvar scale _eq_ 1_sm_\t\t\t\tvar _x _eq_ (Math.ceil(_x/_width) -1)*_width\t\t\t\tvar _y _eq_ (Math.ceil(_y/_height) -1)*_height\t\t\t\t//After...\t\t\t\t_x _eq_ _x - (this.chunk.x*this.chunk.texSize.width)_sm_\t\t\t\t_y _eq_ _y - (this.chunk.y*this.chunk.texSize.height)_sm_\t\t\t\t_y _eq_ this.chunk.texSize.height - Game.data.brushes[this.options.selectedBrush].img.height - _y_sm_\t\t\t\t//Compute the width and height of the looper\t\t\t\tvar mx _eq_ Math.ceil(size/_width) + 1_sm_\t\t\t\tvar my _eq_ Math.ceil(size/_height) + 1_sm_\t\t\t\t//Back\t\t\t\tfor(lx_eq_0_sm_lx&lt_sm_mx_sm_lx++) {\t\t\t\t\tfor(ly_eq_0_sm_ly&lt_sm_my_sm_ly++) {\t\t\t\t\t\tthis.chunk.brushcontext.drawImage(Game.data.brushes[this.options.selectedBrush].img_co_0_co_0_co__width_co__height_co__x-(lx*_width)_co__y-(ly*_height)_co__width_co__height)_sm_\t\t\t\t\t\tthis.chunk.brushcontext.drawImage(Game.data.brushes[this.options.selectedBrush].img_co_0_co_0_co__width_co__height_co__x+(lx*_width)_co__y-(ly*_height)_co__width_co__height)_sm_\t\t\t\t\t\tthis.chunk.brushcontext.drawImage(Game.data.brushes[this.options.selectedBrush].img_co_0_co_0_co__width_co__height_co__x-(lx*_width)_co__y+(ly*_height)_co__width_co__height)_sm_\t\t\t\t\t\tthis.chunk.brushcontext.drawImage(Game.data.brushes[this.options.selectedBrush].img_co_0_co_0_co__width_co__height_co__x+(lx*_width)_co__y+(ly*_height)_co__width_co__height)_sm_\t\t\t\t\t}\t\t\t\t}\t\t\t}\t\t} else if (this.options.paintType _eq__eq_ _qt_color_qt_) {\t\t\tthis.chunk.brushcontext.fillStyle_eq_ this.options.brushColor_sm_\t\t\tthis.chunk.brushcontext.fillRect(0_co_0_co_this.chunk.texSize.width_co_this.chunk.texSize.height)_sm_\t\t}\t\t//Now transfer to mask the image\t\tthis.chunk.maskcontext.drawImage(this.chunk.brushcanvas_co_0_co_0)_sm_\t\tthis.chunk.maskcontext.restore()_sm_\t\tthis.chunk.textureContext.drawImage(this.chunk.maskcanvas_co_0_co_0)_sm_\t\tthis.chunk.textureContext.restore()_sm_\t\tthis.chunk.texture.update()_sm_\t}_lt_/pre_gt__lt_p_gt_Basically each chunk has two contexts_co_ and a dynamic texture._lt_/p_gt__lt_p_gt_One context contains the mask - a transparent image with a black shape. This shape is what shape the brush is_dd__lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//i.imgur.com/FCZo2Gi.png_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//i.imgur.com/FCZo2Gi.png_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The other context contains the actual image you painting. So the editor gets where you clicked_co_ realigns the area so it fits relative to the chunk_co_ and draws squares of texture._lt_/p_gt__lt_p_gt_My version is a bit complex_co_ in that if the texture is super small and smaller than the mask_co_ it repeats so it fills it._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Then_co_ on the mask context_co_ it enables globalCompositeOperation _eq_ _t_source-in_t_. This makes so whatever is painted next_co_ will only be visible where there is black._lt_/p_gt__lt_p_gt_Then the texture context is painted on the mask context_co_ and then the texture is saved to the dynamic texture!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_(And if the mode is painting color_co_ it just draws a colored box quickly instead of textures)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Pretty complex_co_ sadly. _dd_S_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-04-20T00:17:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_div_gt_Josh. Can you take the _lt_a href_eq__qt_http_dd_//www.babylonjs.com/Scenes/Worldmonger/index.html_qt_ rel_eq__qt_external nofollow_qt__gt_WorldMonger demo babylon_lt_/a_gt_ (_lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Samples/tree/master/Scenes/WorldMonger_qt_ rel_eq__qt_external nofollow_qt__gt_download_lt_/a_gt_) and create your approach (simpler). I do not manage to understand the code you send me that is specific to your editor. This would help me a lot to have a more concrete example from a base I use._lt_/div_gt__lt_br_gt__lt_div_gt_ _lt_/div_gt__lt_br_gt__lt_div_gt_Thank you in advance. I really appreciate._lt_/div_gt__lt_br_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-04-20T19:34:04Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_div_gt_I feel that having made WorldMonger use as a base for my terrain editor was a very bad idea in terms paint textures on the ground._lt_/div_gt__lt_br_gt__lt_div_gt_Or I have not understood how to paint a texture on it existing. I do not understand as drawImage and textureDynamic and masks. I am total newbie on that. any help would be appreciated. _lt_/div_gt__lt_br_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"joshcamas","Date":"2015-04-21T03:09:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt__lt_strong_gt_EDIT_dd_ THIS TUTORIAL DOES NOT WORK DUE TO CROSS ORIGIN STUFF. IF SOMEONE COULD ADD THIS IMAGE TO THE PLAYGROUND_dd__lt_/strong_gt__lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//steinhauer.x10.mx/links/mask_1.png_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//steinhauer.x10.mx/links/mask_1.png_lt_/a_gt__lt_/p_gt__lt_p_gt__lt_strong_gt_I COULD GET IT WORKING _lt_/strong_gt__lt_/p_gt__lt_p_gt__lt_strong_gt_THANKS_lt_/strong_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Sadly I do not have time to actually make a demo... but if you want I can explain how canvas works..._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_So_co_ first off_dd_ dynamic texture is a canvas. You can draw _qt_stuff_qt_ onto a canvas. Here are some examples_dd__lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.w3schools.com/html/html5_canvas.asp_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.w3schools.com/html/html5_canvas.asp_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Ok_co_ so first you create a dynamic texture_co_ like so_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var texture _eq_ new BABYLON.DynamicTexture(_qt_dynamic texture_qt__co_ 500_co_ scene_co_ true)_sm_var textureContext _eq_ texture.getContext()_sm__lt_/pre_gt__lt_p_gt_Sweet! So now you can draw stuff! Here_t_s a simple example of that_dd__lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1OQFOC_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1OQFOC_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Ok_co_ so now we need to detect clicks_co_ and draw a square there._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_After this_co_ we need to change things up. To do this_co_ we need to create 2 new canvases - brushCanvas and maskCanvas._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_brushCanvas holds whatever new changes we_t_re adding - a square of color_co_ some texture_co_ whatever. This needs to be done in case we have several steps_co_ like sevreal images._lt_/p_gt__lt_p_gt_maskCanvas simply at first holds a black circle - and then we paste everything on the brushCanvas on top - whatever is black will show brushCanvas. So in other words_co_ we_t_ll end up with a circle_lt_/p_gt__lt_p_gt_of texture/color! Then_co_ finally_co_ we copy and paste whatever_t_s on the mask onto the actual dynamic texture._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Example of mask_dd_ (Doesn_t_t work)_lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1OQFOC%234_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1OQFOC#4_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Temechon","Date":"2015-04-21T06:11:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Great explanations Josh !_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_For your mask_co_ just put it in a dropbox public folder (or google drive) _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1OQFOC%235_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1OQFOC#5_lt_/a_gt__co_ and it will work _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Xeonzinc","Date":"2015-04-21T07:19:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Josh_co_ what kind of performance do you get with your chunk system? Any sign of upper limits on how many dynamic textures can be handled? How would you handle a wide open terrain stretching off into the horizon?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Dad72 - I_t_ve used worldmonger as the basis for some of my work_co_ given that it uses 4/5 textures and applys them based on GPU to height_co_ if you were applying josh_t_s method in a basic way (to each of the ground textures for each chunk) you would need_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_4 (base textures) x 2 (fill &amp_sm_ mask for each) x Y chunks _eq_ Lots of dynamic textures_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Although I think that is not a clever way to do it. A much better might be to keep worldmonger as it is_co_ but adopt Josh_t_s code to add a chunk system ontop (so you have 4 tiled textures for worldmonger_co_ and then lots of chunk textures not tiled). It would only need a small re-write of the worldmonger ground shader in order to draw the chunk textures on top of the existing worldmonger logic where alpha is visible. It would be interesting to know how many chunks can be handled in this way_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-04-21T09:19:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_div_gt_Thank you very much for your explanations Josh I think that will help me a lot. I think I begin to understand. Thank you Temechon for the fix_co_ it helps me to have a concrete overview._lt_/div_gt__lt_br_gt__lt_div_gt_If I understand correctly_co_ you need a dynamic texture and a canvas / layer of texture?_lt_/div_gt__lt_br_gt__lt_div_gt_ _lt_/div_gt__lt_br_gt__lt_div_gt_Me_co_ after I prefer to work on a single tile/terrain and in the future when the LOD system in the terrain would be done_co_ I would use it to make large terrain. Meanwhile I use octree allows cutting the ground also._lt_/div_gt__lt_br_gt__lt_div_gt_ _lt_/div_gt__lt_br_gt__lt_div_gt_I agreement Xeonzinc _co_ it would be good to change this WorldMonger demo._lt_/div_gt__lt_br_gt__lt_div_gt_ _lt_/div_gt__lt_br_gt__lt_div_gt_Thank you again Josh for the explanations. _lt_/div_gt__lt_br_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-04-21T10:40:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I have some questions_dd__lt_/p_gt__lt_ul_gt__lt_li_gt__lt_span style_eq__qt_color_dd_rgb(40_co_40_co_40)_sm_font-family_dd_helvetica_co_ arial_co_ sans-serif_sm__qt__gt_you need a dynamic texture and a canvas / layer of texture?_lt_/span_gt__lt_/li_gt__lt_li_gt_How to save and load the textures generate?_lt_/li_gt__lt_li_gt_How to have an opacity between each layer to make the mixture? (maskcontext.globalAlpha _eq_ 0.4_sm_ is ok ?)_lt_/li_gt__lt_/ul_gt__lt_p_gt_Update demo playground_dd__lt_br_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1OQFOC%2312_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1OQFOC#12_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"joshcamas","Date":"2015-04-21T22:09:04Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_@Xeonzinc_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Well_co_ for my editor I have not tested having a million chunks. The reason why chunks are useful is because they can be hidden_co_ (less rendering) or even deleted if their far away._lt_/p_gt__lt_p_gt_The editor uses dynamic texture_co_ which may be somewhat worse than in-game - within the game the chunks just have the texture image itself as a diffuse._lt_/p_gt__lt_p_gt_If you added a feature where far away chunks downloaded lower resolutions_co_ that would even be better!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_@dad72_dd__lt_/p_gt__lt_p_gt_1) There are three components - dynamic texture_co_ and it_t_s canvas. Then a textureCanvas_co_ (Think of it as brushCanvas) and then maskCanvas._lt_/p_gt__lt_p_gt_Yes_co_ to allow transfering. So if you wanted to do several steps_co_ (Such as a repeating texture) it won_t_t work to paste each step onto the mask - the mask only works with a single image being pasted._lt_/p_gt__lt_p_gt_Basically textureCanvas (Or brushCanvas) holds the current image. MaskCanvas holds the mask_co_ and the dynamic texture holds the already painted stuff from before._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_2) I use php_dd_ Here_t_s how I send it_co_ not including directory creation/cleaning and POST variables_lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_function saveImg($img_co_$finalDir_co_$title) {\t\t$img _eq_ str_replace(_t_data_dd_image/png_sm_base64_co__t__co_ _t__t__co_ $img)_sm_\t\t$img _eq_ str_replace(_t_ _t__co_ _t_+_t__co_ $img)_sm_\t\t$data _eq_ base64_decode($img)_sm_\t\t$file _eq_ $finalDir.$title._t_.png_t__sm_\t\t$success _eq_ file_put_contents($file_co_ $data)_sm_\t\techo _qt_Success_dd_ _qt_.$success_sm_\t}_lt_/pre_gt__lt_p_gt_Basically you send the image data_co_ and it saves it to a certain directory._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_3) Not sure what you mean... I noticed in the newest demo there is no transparency when the mask is partly transparent_co_ which is strange. Do you mean this?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I_t_ll try to add the mask transparency and make it so you can drag the mouse around in the next few days. _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-04-21T23:33:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Thank you Josh for your help._lt_br_gt_ _lt_br_gt_for part 3. I mean_co_ do textures blend. for example_co_ a grass texture with an opacity above a ground texture. exemple_dd__lt_br_gt_ _lt_br_gt__lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_04_2015/post-5292-0-95807700-1429658886.png_qt_ rel_eq__qt_external nofollow_qt__gt__lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_04_2015/post-5292-0-95807700-1429658886.png_qt_ data-fileid_eq__qt_4111_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_post-5292-0-95807700-1429658886.png_qt__gt__lt_/a_gt__lt_br_gt_ _lt_/p_gt__lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt__gt__lt_div_gt__lt_p_gt_I_t_ll try to add the mask transparency and make it so you can drag the mouse around in the next few days._lt_/p_gt__lt_/div_gt__lt_/blockquote_gt__lt_br_gt__lt_p_gt_Yes_co_ it would help me._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I have 1 questions._lt_/p_gt__lt_p_gt_How I should do for the texture repeats this several times because this pixelated? (vScale and uScale not work)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thank you again for help Josh_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"joshcamas","Date":"2015-04-22T22:43:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_So first you need to add scaling. Here_t_s the function to scale without blurring_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var resizeImage _eq_ function( img_co_ scale ) {    // Takes an image and a scaling factor and returns the scaled image    // The original image is drawn into an offscreen canvas of the same size    // and copied_co_ pixel by pixel into another offscreen canvas with the    // new size.    var widthScaled _eq_ img.width * scale_sm_    var heightScaled _eq_ img.height * scale_sm_    var orig _eq_ document.createElement(_t_canvas_t_)_sm_    orig.width _eq_ img.width_sm_    orig.height _eq_ img.height_sm_    var origCtx _eq_ orig.getContext(_t_2d_t_)_sm_    origCtx.drawImage(img_co_ 0_co_ 0)_sm_    var origPixels _eq_ origCtx.getImageData(0_co_ 0_co_ img.width_co_ img.height)_sm_    var scaled _eq_ document.createElement(_t_canvas_t_)_sm_    scaled.width _eq_ widthScaled_sm_    scaled.height _eq_ heightScaled_sm_    var scaledCtx _eq_ scaled.getContext(_t_2d_t_)_sm_    var scaledPixels _eq_ scaledCtx.getImageData( 0_co_ 0_co_ widthScaled_co_ heightScaled )_sm_    for( var y _eq_ 0_sm_ y &lt_sm_ heightScaled_sm_ y++ ) {        for( var x _eq_ 0_sm_ x &lt_sm_ widthScaled_sm_ x++ ) {            var index _eq_ (Math.floor(y / scale) * img.width + Math.floor(x / scale)) * 4_sm_            var indexScaled _eq_ (y * widthScaled + x) * 4_sm_            scaledPixels.data[ indexScaled ] _eq_ origPixels.data[ index ]_sm_            scaledPixels.data[ indexScaled+1 ] _eq_ origPixels.data[ index+1 ]_sm_            scaledPixels.data[ indexScaled+2 ] _eq_ origPixels.data[ index+2 ]_sm_            scaledPixels.data[ indexScaled+3 ] _eq_ origPixels.data[ index+3 ]_sm_        }    }    scaledCtx.putImageData( scaledPixels_co_ 0_co_ 0 )_sm_\tvar exported _eq_ new Image()_sm_\texported.src _eq_ scaled.toDataURL(_qt_image/png_qt_)_sm_\treturn exported_sm_} _lt_/pre_gt__lt_p_gt_To repeat texture_co_ you basically compute the scaling of brush and the size of the texture. Here_t_s my code for my editor_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_//Compute the width and height of the looper\tvar mx _eq_ Math.ceil(size/_width) + 1_sm_\tvar my _eq_ Math.ceil(size/_height) + 1_sm_\tfor(lx_eq_0_sm_lx&lt_sm_mx_sm_lx++) {\t\tfor(ly_eq_0_sm_ly&lt_sm_my_sm_ly++) {\t\tthis.chunk.brushcontext.drawImage(Game.data.brushes[this.options.selectedBrush].img_co_0_co_0_co__width_co__height_co__x-(lx*_width)_co__y-(ly*_height)_co__width_co__height)_sm_\t\tthis.chunk.brushcontext.drawImage(Game.data.brushes[this.options.selectedBrush].img_co_0_co_0_co__width_co__height_co__x+(lx*_width)_co__y-(ly*_height)_co__width_co__height)_sm_\t\tthis.chunk.brushcontext.drawImage(Game.data.brushes[this.options.selectedBrush].img_co_0_co_0_co__width_co__height_co__x-(lx*_width)_co__y+(ly*_height)_co__width_co__height)_sm_\t\tthis.chunk.brushcontext.drawImage(Game.data.brushes[this.options.selectedBrush].img_co_0_co_0_co__width_co__height_co__x+(lx*_width)_co__y+(ly*_height)_co__width_co__height)_sm_\t\t}\t}_lt_/pre_gt__lt_p_gt_(Note_dd_ The variables aren_t_t the same_co_ but I don_t_t have time to implement it into the demo for now. Maybe when I find time?)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_And yes_co_ adding opacity to the mask would work perfectly - draw_co_ then switch textures. This would give the effect you wish._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-04-23T13:00:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I do not understand where I should use resizeImage(img_co_ scale).  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ alt_eq__qt__dd_(_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  at what time you use it? You have a small example please._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_span style_eq__qt_color_dd_rgb(40_co_40_co_40)_sm_font-family_dd_helvetica_co_ arial_co_ sans-serif_sm__qt__gt_Thank you_lt_/span_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-04-24T11:56:00Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I tried your resizeImage function and this is even more pixeliser the pictures while I painted._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_oh and I have of masks for you _dd_  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/applications/core/interface/file/attachment.php?id_eq_4140_qt__gt_brushes.zip_lt_/a_gt_ _eq_&gt_sm_ I advise you to resize images in 64 * 64_co_ the brush is faster and it also loads faster._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-04-25T12:33:41Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I improve your function saveImag() Josh to compress the final image. an image of 1024 * 1024 is reduced to 2.0 MB _eq_&gt_sm_ 1.60 MB._lt_/p_gt__lt_p_gt_I also add permissions with chmod. locally it is not necessary_co_ but once online is necessary._lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_&lt_sm_?phpheader(_t_Content-Type_dd_ text/html_sm_ charset_eq_UTF-8_t_)_sm_header(_t_Content-Type_dd_ image/png_t_)_sm_function saveImg($img_co_ $finalDir_co_ $nameImage) {\t$img _eq_ str_replace(_t_data_dd_image/png_sm_base64_co__t__co_ _t__t__co_ $img)_sm_\t$img _eq_ str_replace(_t_ _t__co_ _t_+_t__co_ $img)_sm_\t$data _eq_ base64_decode($img)_sm_\t$file _eq_ $finalDir.$nameImage._t_.png_t__sm_\tchmod($file_co_ 0777)_sm_\t$success _eq_ file_put_contents($file_co_ $data)_sm_\t\t$im _eq_ imagecreatefrompng($file)_sm_\timagepng($im_co_ $file_co_ 9)_sm_\tchmod($file_co_ 0644)_sm_\t}saveImg($_POST[_t_image_t_]_co_ _qt_./path/images/_qt__co_ $_POST[_t_terrainName_t_])_sm_?&gt_sm__lt_/pre_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"dbawel","Date":"2015-04-25T19:12:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Keep this post going!  This is one of the best topics I_t_ve seen in a while_co_ and am having a blast just trying to keep up with everything that_t_s being covered. I was sitting down today to begin working on a multi-user creative drawing application (just for fun_co_) and this discussion has caused me to change my approach - and will already save me loads of time.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_You guys are brilliant!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"joshcamas","Date":"2015-04-25T19:34:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_How does compression work? Does it make it look fuzzier or make it so the resolution less? It sounds awesome!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_All the resize image function does is make it so the image isn_t_t fuzzy when scaled. This is useful for retro_co_ if you don_t_t want this feature just ignore it. Even so probably a better idea to just not add that until later. _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Also_co_ yeah when I uploaded the image I think it got bigger. And thanks for the brushes_co_ their amazing!!!!!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I_t_ll get to working on the demo for a bit _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"joshcamas","Date":"2015-04-25T19:43:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Looks like the mask link is broken_co_ and I can_t_t seem to get it working on my dropbox. Dad72 wanna try it on yours? _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_EDIT_dd_ Got it working!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Here_t_s my newest version. All I added was so you can drag._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1OQFOC%2313_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1OQFOC#13_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I_t_m not sure what_t_s up with the opacity not working! It should..._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Also_co_ we need to make it so the image doesn_t_t overlap and stuff. If you want to see an example_co_ hop over to this link_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//steinhauer.x10.mx/projects/editor/0.55/editor/_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//steinhauer.x10.mx/projects/editor/0.55/editor/_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Instructions_dd_ Under the _qt_project_qt_ panel_co_ press _qt_load project_qt_. Then select _qt_terrainExample_qt__co_ and load. Now go to the _qt_Map_qt_ on the topbar_co_ and click _qt_select map_qt_._lt_/p_gt__lt_p_gt_Create a new map._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Now you can go to _qt_Terrain_qt__co_ then _qt_New terrain_qt_. Create terrain. Now you can sculpt and paint! If you select your mask/texture_co_ notice how it paints in a seemless texture. we need this!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Note_dd_ Right click to move camera_co_ left click to interact_co_ middle click to select_co_ and spacebar to move camera to selection._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_BTW this version seems to be very very buggy_co_ so be warned! Stuff has been breaking a lot today!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-04-25T20:59:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_80171_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_13924_qt_ data-ipsquote-username_eq__qt_joshcamas_qt_ data-cite_eq__qt_joshcamas_qt_ data-ipsquote-timestamp_eq__qt_1429990450_qt__gt__lt_div_gt__lt_p_gt_How does compression work? Does it make it look fuzzier or make it so the resolution less? It sounds awesome!_lt_/p_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt__lt_/p_gt__lt_p_gt_The texture remains as it is. it does not become blurred or anything bad._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I_t_ll watch your link_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-04-25T21:26:34Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_div_gt_I have reproduced the problem I have at home (pixelation/zoom/big of the image)_lt_/div_gt__lt_div_gt_ _lt_/div_gt__lt_div_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1OQFOC%2314_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1OQFOC#14_lt_/a_gt__lt_/div_gt__lt_div_gt_ _lt_/div_gt__lt_div_gt_The problem I think is that I work directly on large ground. You_co_ you work on several small ground_co_ which causes this problem at my huge textures._lt_/div_gt__lt_div_gt_ _lt_/div_gt__lt_div_gt_How to solve this?_lt_/div_gt__lt_div_gt_ _lt_/div_gt__lt_div_gt_I like the results on your demo of your editor_co_ this is what I seek_co_ also with the opacity_co_ but it is not working on your editor yet._lt_/div_gt__lt_div_gt_ _lt_/div_gt__lt_div_gt_Thanks_lt_/div_gt__lt_p_gt_ _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"joshcamas","Date":"2015-04-25T22:31:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Ahhh I see! What we need to implement is scaling! I haven_t_t even added this feature to mine_co_ LOL! Well_co_ it_t_s time_co_ I guess xD For my editor I will be not working on the terrain editing_co_ because my current project does not use terrain at all. _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_First step is implementing repeating and seamless texture._lt_/p_gt__lt_p_gt_I changed the texture to something tiny_co_ where we can see the image repeating._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Here_t_s what I have so far. Now the texture _qt_fits_qt_ correctly_co_ but... everything is so wrong._lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1OQFOC%2315_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1OQFOC#15_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I_t_m having lots of trouble getting my old code merged with this new stuff.... idk why_co_ exactly. _dd_/_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-04-26T00:11:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_div_gt_I only see a white image on your example. but I put the grass texture_co_ it always zoom in on the image_co_ it would have to face the opposite. the image must have a resolution more higher._lt_/div_gt__lt_br_gt__lt_div_gt_I have confessed really struggling with full functionality to draw on a canvas._lt_/div_gt__lt_br_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"joshcamas","Date":"2015-04-26T01:19:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_The white image has a black line around it_co_ usually. It_t_s the same one as my editor_co_ the default brush._lt_/p_gt__lt_p_gt_And yeah_co_ visualizing this canvas stuff in a 3D space can be really hard_co_ it hurts my brain too. _dd_c_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-04-27T08:22:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I do not see _lt_span style_eq__qt_color_dd_rgb(40_co_40_co_40)_sm_font-family_dd_helvetica_co_ arial_co_ sans-serif_sm__qt__gt_black line around._lt_/span_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1OQFOC%2317_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1OQFOC#17_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_div_gt_try this. you can still see the image zooms. we close track. it should be the reverse._lt_/div_gt__lt_div_gt_Have you been able to continue this demo. for example I brushScale that you add is not used._lt_/div_gt__lt_div_gt_ _lt_/div_gt__lt_div_gt_Again thank you Josh. I have over this feature with the opacity of the texture by layer to finish to complete the V2.3 of my editor and start creating a game demo to finalize the editor and the site_lt_/div_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-04-28T12:45:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I succeeded in setting up the scale textures and alpha texture_co_ but the pixels are large for scale.  Can be that it still misses something_co_ but I do not see what._lt_br_gt_ _lt_br_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1OQFOC%2325_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1OQFOC#25_lt_/a_gt__lt_br_gt_ _lt_br_gt__lt_span style_eq__qt_color_dd_#282828_sm__qt__gt__lt_span style_eq__qt_font-family_dd_helvetica_co_ arial_co_ sans-serif_sm__qt__gt_Thank you_lt_/span_gt__lt_/span_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]