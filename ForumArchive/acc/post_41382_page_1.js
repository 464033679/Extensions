[{"Owner":"oschakravarthi","Date":"2018-11-19T17:31:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am trying to build navigation mesh programatically for my flat (apartment) model\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe logic I could think of_co_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\t1. I know all the floor meshes of my model. I keep them in an array.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t2. I create a empty CSG and add (union) of CSG of all floor meshes. \n_lt_/p_gt_\n\n_lt_p_gt_\n\t3. For each non-floor mesh_co_ I check if it is intersects with any of the floor mesh. If yes_co_ then substract that part from my unioned CSG. (It makes a hole)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t4. Build a new mesh from the unioned CSG.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe below is a rough implementation of this idea. Can you please suggest a better approach?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks in advance.  \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tvar buildNavMesh _eq_ function (scene_co_ floorMeshes) {_lt_br /_gt_\n\t            var navigationCSG _eq_ new BABYLON.CSG()_sm__lt_br /_gt_\n\t            floorMeshes.forEach(floorMesh _eq_&gt_sm_ {_lt_br /_gt_\n\t                var floorMeshCSG _eq_ BABYLON.CSG.FromMesh(floorMesh)_sm__lt_br /_gt_\n\t                navigationCSG.unionInPlace(floorMeshCSG)_sm__lt_br /_gt_\n\t            })_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t            var nonFloorMeshes _eq_ []_sm__lt_br /_gt_\n\t            scene.meshes.forEach(mesh _eq_&gt_sm_ {_lt_br /_gt_\n\t                if (floorMeshes.indexOf(mesh) &lt_sm_ 0) {_lt_br /_gt_\n\t                        nonFloorMeshes.push(mesh)_sm__lt_br /_gt_\n\t                        mesh.position.y -_eq_ 0.2_sm__lt_br /_gt_\n\t                    }\n_lt_/p_gt_\n\n_lt_p_gt_\n\t            })_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t            scene.render()_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t            for (var i _eq_ 0_sm_ i &lt_sm_ floorMeshes.length_sm_ i++) {_lt_br /_gt_\n\t                var floorMesh _eq_ floorMeshes_lt_em_gt__sm__lt_/em_gt__lt_br /_gt__lt_em_gt_\n\t                nonFloorMeshes.forEach(nonFloorMesh _eq_&gt_sm_ {_lt_/em_gt__lt_br /_gt__lt_em_gt_\n\t                    if (nonFloorMesh.intersectsMesh(floorMesh)) {_lt_/em_gt__lt_br /_gt__lt_em_gt_\n\t                        var nonFloorMeshCSG _eq_ BABYLON.CSG.FromMesh(nonFloorMesh)_sm__lt_/em_gt__lt_br /_gt__lt_em_gt_\n\t                        navigationCSG.subtractInPlace(nonFloorMeshCSG)_sm_    _lt_/em_gt__lt_br /_gt__lt_em_gt_\n\t                    }_lt_/em_gt__lt_br /_gt__lt_em_gt_\n\t                })_sm__lt_/em_gt__lt_br /_gt__lt_em_gt_\n\t            }\n_lt_/em_gt__lt_/p_gt_\n_lt_em_gt_\n\n_lt_/em_gt__lt_p_gt__lt_em_gt_\n\t            nonFloorMeshes.forEach(mesh _eq_&gt_sm_ {_lt_/em_gt__lt_br /_gt__lt_em_gt_\n\t                mesh.position.y +_eq_ 0.2_sm__lt_/em_gt__lt_br /_gt__lt_em_gt_\n\t            })_sm__lt_/em_gt__lt_br /_gt__lt_em_gt_\n\t            var navMesh _eq_ navigationCSG.toMesh(_qt_csg4_qt__co_ null_co_ scene_co_ true)_sm__lt_/em_gt__lt_br /_gt__lt_em_gt_\n\t        _lt_/em_gt__lt_br /_gt__lt_em_gt_\n\t            scene.removeMesh(navMesh)_sm_\n_lt_/em_gt__lt_/p_gt_\n_lt_em_gt_\n\n_lt_/em_gt__lt_p_gt__lt_em_gt_\n\t            return navMesh_sm__lt_/em_gt__lt_br /_gt__lt_em_gt_\n\t        }_sm__lt_/em_gt__lt_br /_gt__lt_em_gt_\n\t \n_lt_/em_gt__lt_/p_gt_\n_lt_em_gt_\n_lt_/em_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"oschakravarthi","Date":"2018-11-20T17:10:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/29361-trevordev/?do_eq_hovercard_qt_ data-mentionid_eq__qt_29361_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/29361-trevordev/_qt_ rel_eq__qt__qt__gt_@trevordev_lt_/a_gt__co_ Can you please help me?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"trevordev","Date":"2018-11-20T18:43:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/32904-oschakravarthi/?do_eq_hovercard_qt_ data-mentionid_eq__qt_32904_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/32904-oschakravarthi/_qt_ rel_eq__qt__qt__gt_@oschakravarthi_lt_/a_gt_ That sounds like an ok approach (however I havn_t_t used nav meshes before) I would also use the objects bounding box instead of the raw object for csg. \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]