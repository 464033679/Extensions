[{"Owner":"JohnK","Date":"2015-07-10T16:02:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_It all started when two meshes in the project I am doing would only show an intersection when they were overlapping by several units. Rather than try to explain the steps needed to reproduce what was happening in the project I thought I would see what happened in the playground. Now I must have done something stupid because_lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_box1.intersectsMesh(box0_co_ false)_lt_/pre_gt__lt_p_gt_always read true whatever the positions of box0 and box1._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_My trial is at _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#MABFZ_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#MABFZ_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I have tried it with and without setting checkCollisions for the meshes and the scene._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Waiting to kick myself when someone points out what I have done wrong._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-07-10T17:08:03Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_This is because your test is done before the first render so world matrices are not computed yet._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Here is the fix (just call computeWorldMatrix manually)_dd__lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#MABFZ%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#MABFZ#1_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_​_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JohnK","Date":"2015-07-10T17:25:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Thank you DK. Need to keep remembering that code can be done before rendering and that calling computeWorldMatrix solves a lot of problems._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Partially solves the project problem provided I do not scale the meshes_co_ which I want to do. Will keep working on the code to see if I can work out where to adjust._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Vousk-prod.","Date":"2015-12-14T18:33:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hey_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I_t_ve just played a bit with intersectsMesh and I see something strange happening._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#11JY4O%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#11JY4O#1_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Here we can move the objects with the mouse. The green cube is the _qt_collider one_qt_._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_For the mesh currently moved (red sphere for instance)_co_ I record the current position if no intersection occur. When intersectMesh with the green box returns true_co_ I don_t_t record the current position_co_ and instead I reposition the object to the latest safe position recorded (where no intersection previously occured). Since this position has been calculated as _qt_safe_qt_ by intersectMesh_co_ no intersection should be detected there. But while it works well the first two or three times_co_ then intersection strangely occurs also in safe recorded positions._lt_/p_gt__lt_p_gt_You can check the console to see locations logged._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Am I doing something wrong_co_ or intersectMesh doesn_t_t give always same answer for two identical situations (maybe it is processed at the quantum level _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_laugh.png_qt_ alt_eq__qt__dd_lol_dd__qt__gt_ ) ?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-12-14T23:16:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hum..this works for me _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Vousk-prod.","Date":"2015-12-15T12:33:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Oww_co_ you_t_re right_co_ I tried in IE and Chrome and it works_co_ the problem occurs only in Firefox. What a strange fact... how can this be possible ??! _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_blink.png_qt_ alt_eq__qt__dd_blink_dd__qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Vousk-prod.","Date":"2015-12-21T16:05:00Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_109195_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_15651_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt_ data-cite_eq__qt_Deltakosh_qt_ data-ipsquote-timestamp_eq__qt_1450134967_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt_Hum..this works for me _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Hmm_co_ in fact_co_ after some new checks with Wingnut_co_ it appears that it doesn_t_t work so nice in IE and Chrome_co_ after all._lt_/p_gt__lt_p_gt_It works for the first moves_co_ but after some tries the object stay stuck against the green box._lt_/p_gt__lt_p_gt_ _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JohnK","Date":"2015-12-22T12:41:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_The technique that DK gave to me in this thread seems to alleviate the problem._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Line added before checking intersection_lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_currentMesh.computeWorldMatrix(true)_lt_/pre_gt__lt_p_gt_However the jump from intersection to safe can be sometimes not smooth. Something to do with when the timing when rendering and intersect checking takes place????_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#11JY4O%236_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#11JY4O#6_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]