[{"Owner":"lst60916","Date":"2017-08-08T14:27:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi my friends_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tRecently I read the tutorial of PBRMaterial here\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//doc.babylonjs.com/overviews/physically_based_rendering_master_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//doc.babylonjs.com/overviews/physically_based_rendering_master_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI wanna display the object exporting from Blender by Tower of Babel (TOB)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHowever_co_ it comes out with all-black on my object(mesh)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe code is jus like the following _dd_  \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_var texture_from_file _eq_ new BABYLON.Texture(_qt_dress.jpg_qt__co_ scene)_sm_\n        \nvar pbr _eq_ new BABYLON.PBRSpecularGlossinessMaterial(_qt_pbr_qt__co_ scene)_sm_\n\nfor (var i _eq_ 0_sm_ i &lt_sm_ scene.meshes.length_sm_ i++){\n            scene.meshes[i].material.diffuseTexture _eq_ texture_from_file_sm_\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tAny advice to let me display the mesh with PBRMaterial (or similar texture) ? \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThank you so much\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-08-08T17:05:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tYou may need to affect the pbr material to meshes _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"lst60916","Date":"2017-08-08T17:08:22Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_ Deltakosh\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou mean affecting in blender or BabylonJS ?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCould you explain it more ?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThank you very much\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-08-08T17:14:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tin babylon.js _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ you will have to cycle through all meshes and set mesh.material _eq_ pbr\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"lst60916","Date":"2017-08-08T18:17:18Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSorry that I don_t_t explain well!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tActually I set all mesh.material _eq_ pbr.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt shows all-black color\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m wondering the reason .\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks so much\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-08-08T19:27:41Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tDo you mind reproducing the PBR setup you used in the playground?\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"lst60916","Date":"2017-08-10T09:19:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_184833_qt_ data-ipsquote-contentid_eq__qt_32233_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1502220461_qt_ data-ipsquote-userid_eq__qt_4442_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tOn 2017/8/9 at 3_dd_27 AM_co_ Deltakosh said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tDo you mind reproducing the PBR setup you used in the playground?\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tHi_co_ Deltakosh !\n_lt_/p_gt_\n\n_lt_p_gt_\n\tsorry for the late reply.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI find it hard to implement on the playground since I don_t_t know how to import Qi / TOB.js file .\n_lt_/p_gt_\n\n_lt_p_gt_\n\tthe source code is just like this_co_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_// You have to create a function called createScene. This function must return a BABYLON.Scene object\n// You can reference the following variables_dd_ scene_co_ canvas\n// You must at least define a camera\n// More info here_dd_ https_dd_//doc.babylonjs.com/generals/The_Playground_Tutorial\n\n\n\n\nvar createScene _eq_ function() {\n\n    var imported _eq_ document.createElement(_t_script_t_)_sm_\n    imported.src _eq_ _qt_https_dd_//palmer-jc.github.io/lib/QueuedInterpolation.1.1.min.js_qt__sm_\n    document.head.appendChild(imported)_sm_\n\n    var imported _eq_ document.createElement(_t_script_t_)_sm_\n    imported.src _eq_ _qt_https_dd_//tteset.000webhostapp.com/TOB_body_pg.js_qt__sm_\n    document.head.appendChild(imported)_sm_\n\n\n\tvar scene _eq_ new BABYLON.Scene(engine)_sm_\n\tvar camera _eq_ new BABYLON.ArcRotateCamera(_qt_Camera_qt__co_ 0_co_ Math.PI / 2_co_ 12_co_ BABYLON.Vector3.Zero()_co_ scene)_sm_\n\tcamera.attachControl(canvas_co_ true)_sm_\n\n\n    var human_sm_\n\n//    var left _eq_ document.getElementById(_qt_left_qt_)_sm_\n\n        var canvas _eq_ document.getElementById(_qt_renderCanvas_qt_)_sm_\n        var engine _eq_ new BABYLON.Engine(canvas_co_ true)_sm_\n\n        //scene _eq_ new BABYLON.Scene(engine)_sm_\n\n        TOB_body_pg.initScene(scene)_sm_\n        /*\n        var camera _eq_ scene.getCameraByID(_qt_Camera_qt_)_sm_\n        camera.wheelPrecision _eq_ 10_sm_\n        var light _eq_ new BABYLON.PointLight(_qt_spot_qt__co_ BABYLON.Vector3.Zero()_co_ scene)_sm_\n        light.intensity _eq_ 1.0_sm_\n        */\n        \n        scene.autoClear _eq_ false_sm_ // keep bg white\n\n        // Creates_co_ angles_co_ distances and targets the camera\n\t    var camera _eq_ new BABYLON.ArcRotateCamera(_qt_Camera_qt__co_ 0_co_ 0_co_ 10_co_ new BABYLON.Vector3(0.2 _co_ -0.7_co_ -2.0)_co_ scene)_sm_\n        \n        // This positions the camera\n        scene.activeCamera _eq_ camera_sm_\n        camera.setPosition(new BABYLON.Vector3(0.2 _co_ -0.7_co_ -5.0))_sm_\n\n        // This attaches the camera to the canvas\n        camera.attachControl(canvas_co_ true)_sm_\n        \n\t   /**************************************************************/\n\n        // This creates a light_co_ aiming 0_co_1_co_0 - to the sky (non-mesh)\n        //var light _eq_ new BABYLON.HemisphericLight(_qt_light_qt__co_ new BABYLON.Vector3(0_co_ 1_co_ 0)_co_ scene)_sm_\n\t    //Create a light\n        var light1 _eq_ new BABYLON.HemisphericLight(_qt_Omni1_qt__co_ new BABYLON.Vector3(-1.8_co_ -1.5_co_ -2.0)_co_ scene)_sm_\n        var light2 _eq_ new BABYLON.HemisphericLight(_qt_Omni2_qt__co_ new BABYLON.Vector3( 1.8_co_ -1.5_co_ -2.0)_co_ scene)_sm_\n\n        console.log(camera.position)_sm_\n        \n        scene.beforeCameraRender _eq_ function () {\n            //light1.position _eq_ camera.position_sm_\n            //light2.position _eq_ camera.position_sm_\n            light1.intensity _eq_ 0.7_sm_\n            light2.intensity _eq_ 0.7_sm_    \n            \n        }_sm_\n\n        /************************* Load Human *************************************/\n        \n        var pbr _eq_ new BABYLON.PBRMaterial(_qt_pbr_qt__co_ scene)_sm_\n        human _eq_ scene.meshes[0]_sm_\n        human.material _eq_ pbr_sm_\n        pbr.albedoTexture _eq_ new BABYLON.Texture(_qt_https_dd_//tteset.000webhostapp.com/dress.jpg_qt__co_ scene)_sm_\n        pbr.reflectivityColor _eq_ new BABYLON.Color3(1.0_co_ 0.766_co_ 0.336)_sm_\n\n        pbr.useMicroSurfaceFromReflectivityMapAlpha _eq_ true_sm_\n    \n        \n        human.position _eq_ new BABYLON.Vector3(0.2 _co_ -1.5_co_ -2.0)_sm_            \n        human.alwaysSelectAsActiveMesh _eq_ true_sm_\n        human.material.specularColor _eq_ BABYLON.Color3.Black()_sm_\n        \n \n   \n        console.log(scene.meshes)_sm_\n\n        scene.executeWhenReady(function() {\n            engine.runRenderLoop(function () { \n                scene.render()_sm_                 \n                var fpsLabel _eq_ document.getElementById(_qt_fpsLabel_qt_)_sm_\n                fpsLabel.innerHTML _eq_ engine.getFps().toFixed() + _qt_ fps_qt__sm_\n            \n                     })_sm_\n        })_sm_\n        \n\n        //Resize\n        window.addEventListener(_qt_resize_qt__co_ function () {\n            engine.resize()_sm_\n        })_sm_\n\n\n\n\n\n\n\treturn scene_sm_\n}_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tcould you give me some advice to make PBR material on TOB output come true ?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThank you so much\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2017-08-10T14:49:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_ I make Tower of Babel exporter_co_ but do not know about pbr.  Couple of things_dd_\n_lt_/p_gt_\n\n_lt_ul_gt__lt_li_gt_\n\t\tI made a playground _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#7A1HBH_qt_ rel_eq__qt_external nofollow_qt__gt_template _lt_/a_gt_for TOB.  You just paste the output file at the bottom of the editor window.  When you wish to save it_co_ and you get a too big error.  Then you will have to host your TOB export file as well.  This is primatives.js in the example.  Any loads will fail the first time_co_ when you have 2 dynamic JS scripts_co_ but it is sufficient to use for help.\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\tAlso_co_ while it is not my bandwidth_co_ you should probably point to your own version of QI_co_ not the one I have I.  1.1 is not quite done_co_ so this might be good for now_co_ but later you will have much better control publishing your own work with a copy you control.\n\t_lt_/li_gt_\n_lt_/ul_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"lst60916","Date":"2017-08-10T15:11:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_185109_qt_ data-ipsquote-contentid_eq__qt_32233_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1502376563_qt_ data-ipsquote-userid_eq__qt_8492_qt_ data-ipsquote-username_eq__qt_JCPalmer_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t19 minutes ago_co_ JCPalmer said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tHi_co_ I make Tower of Babel exporter_co_ but do not know about pbr.  Couple of things_dd_\n\t\t_lt_/p_gt_\n\n\t\t_lt_ul_gt__lt_li_gt_\n\t\t\t\tI made a playground _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#7A1HBH_qt_ rel_eq__qt_external nofollow_qt__gt_template _lt_/a_gt_for TOB.  You just paste the output file at the bottom of the editor window.  When you wish to save it_co_ and you get a too big error.  Then you will have to host your TOB export file as well.  This is primatives.js in the example.  Any loads will fail the first time_co_ when you have 2 dynamic JS scripts_co_ but it is sufficient to use for help.\n\t\t\t_lt_/li_gt_\n\t\t\t_lt_li_gt_\n\t\t\t\tAlso_co_ while it is not my bandwidth_co_ you should probably point to your own version of QI_co_ not the one I have I.  1.1 is not quite done_co_ so this might be good for now_co_ but later you will have much better control publishing your own work with a copy you control.\n\t\t\t_lt_/li_gt_\n\t\t_lt_/ul_gt__lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tHi_co_ JCPalmer !\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThank you for the advice and great work!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt is really meaningful to me.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI updated the playground and showd the fail case.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt can be displayed by clicking _t_run_t_ button\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#EQY50J_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#EQY50J_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThank you so much\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2017-08-10T15:54:17Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSure.  Couple things I can see are_dd_\n_lt_/p_gt_\n\n_lt_ul_gt__lt_li_gt_\n\t\twhen I rotate the mesh_co_  it seems like there are 2.  Is that supposed to like that?  If the non-moving one is a cape_co_  adding a material to it might make it more easy to see your mesh. Leaving it out might even be better.\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\tYou added renderloop &amp_sm_ resize code.  This is required in your code_co_ but the playground takes care of this for you.  Makes it easier to demonstrate issues.\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\tIf you are going to have 1 of these you do not need to use MeshFactory_co_ or even generate one.\n\t_lt_/li_gt_\n_lt_/ul_gt__lt_pre_gt_\n_lt_code_gt_var face_mesh _eq_ new TOB_body_pg.Body(_qt_body_qt__co_ scene)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tThe material part_co_ you need someone else to look at.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"lst60916","Date":"2017-08-12T07:38:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks for your advice!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHowever the material I still need some help.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWould you please tell me who is familiar with this topic?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks  a lot\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]