[{"Owner":"insane_joe","Date":"2015-12-29T18:33:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I have an issue with meshes_co_ which lies on the ground_dd_ when I move camera - they appears and disappears. Can you help me to fix this?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_link_dd_ _lt_a href_eq__qt_https_dd_//ptg-logistic-ts-insane-joe.c9users.io/_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//ptg-logistic-ts-insane-joe.c9users.io/_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I tried to use _updateBoundingBox and others._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Babylon v_dd_ 2.2.0_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"insane_joe","Date":"2015-12-29T19:51:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_The code for add ground_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var _ground _eq_ BABYLON.Mesh.CreateGround(_qt_ground_qt__co_            config.ground.width_co_            config.ground.height_co_            config.ground.subdivisions_co_            scene_co_ false_co_ function () {                    })_sm_        _ground.material _eq_ groundMaterial_sm_            _ground.setPivotMatrix(BABYLON.Matrix.Translation(config.ground.width / 2_co_ 0_co_ config.ground.height / 2))_sm_    _ground.position _eq_ new BABYLON.Vector3(+(config.coords.boxCoords.lon) * +(config.coords.multiplicator)_co_ 0_co_ +(config.coords.boxCoords.lat) * +(config.coords.multiplicator))_sm_        camera.setTarget( _ground.position )_sm_        XHRGetter.get(_t_/decorations/building/by-location/_t_ + config.coords.boxCoords.lat + _t_/_t_ + config.coords.boxCoords.lon_co_ function (buildingsIds) {        var ids _eq_ JSON.parse(buildingsIds)_sm_                ids.forEach(function (buildingId) {            var b _eq_ new CBuildingMesh(buildingId)_sm_        })_sm_                console.log(_t_UPLADED BOX BUILDINGS FOR BOX_dd_ _t_ + config.coords.boxCoords.lat + _t_\\/_t_ + config.coords.boxCoords.lon_co_ _t_TOTAL BUILDINGS_dd_ _t_ + ids.length)_sm_    })_sm__lt_/pre_gt__lt_p_gt_The code for building (disappearing mesh) _dd_ _lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_function vectorFromCoords(coordsPoint_co_ useCoordsMultiplicator_dd_bool)_dd_BABYLON.Vector3 {    if (useCoordsMultiplicator) {        return new BABYLON.Vector3(+(coordsPoint.lon) * +(config.coords.multiplicator)_co_ 0_co_ +(coordsPoint.lat) * +(config.coords.multiplicator))_sm_    } else {        return new BABYLON.Vector3(+(coordsPoint.lon)_co_ 0_co_ +(coordsPoint.lat))_sm_    }    }export class CBuildingMesh extends CGroundDecoration {    public walls_dd_BABYLON.AbstractMesh[] _eq_ []_sm_    public points_dd_[]_sm_        constructor(pointsOrId) {        super(_t_building_t__co_ scene)_sm_                if (Array.isArray(pointsOrId)) {            this.points _eq_ pointsOrId_sm_            this.drawBuilding(true)_sm_        } else {            var self _eq_ this_sm_                        XHRGetter.get(_t_/decorations/building/_t_ + pointsOrId_co_ function (data) {                self.points _eq_ JSON.parse(data)_sm_                                self.drawBuilding(false)_sm_            })_sm_        }            }        drawBuilding(useCoordsMultiplicator) {        var startPoint _eq_ vectorFromCoords(this.points[0]_co_ useCoordsMultiplicator)_sm_                var resultVectors _eq_ []_sm_                for(var i _eq_ 0_sm_ i &lt_sm_ (this.points.length)_sm_ i++) {            var vector1 _eq_ vectorFromCoords(this.points[i]_co_ useCoordsMultiplicator)_sm_            //var vector2 _eq_ vectorFromCoords(this.points[i + 1]_co_ useCoordsMultiplicator)_sm_                        resultVectors.push(vector1.subtract(startPoint))_sm_            //resultVectors.push(vector2.subtract(startPoint))_sm_        }                // console.log(resultVectors)_sm_                var roofPath _eq_ [].concat(resultVectors)_sm_        roofPath.pop()_sm_        var roofMesh _eq_ this.createFreeGround(_t_buildingRoof_t__co_ roofPath_co_ scene_co_ false)_sm_        roofMesh.material _eq_ ROOF_MATERIAL_sm_                roofMesh.parent _eq_ this_sm_                resultVectors _eq_ resultVectors.map(function (x) {            return new BABYLON.Vector3(x.x_co_ x.z_co_ 0)_sm_        })_sm_                var buildingShape _eq_ BABYLON.Mesh.ExtrudeShape(_t_buildingShape_t__co_ resultVectors_co_ [BABYLON.Vector3.Zero()_co_ new BABYLON.Vector3(0_co_0_co_-config.buildings.height)]_co_ 1_co_ 0_co_ 0_co_ scene_co_ false_co_ BABYLON.Mesh.DOUBLESIDE)_sm_        buildingShape.rotate(new BABYLON.Vector3(1_co_0_co_0)_co_ Math.PI / 2)_sm_        buildingShape.rotate(new BABYLON.Vector3(0_co_0_co_1)_co_ Math.PI)_sm_        buildingShape.rotate(new BABYLON.Vector3(1_co_0_co_0)_co_ Math.PI)_sm_                buildingShape.material _eq_ WALL_MATERIAL_sm_                buildingShape.parent _eq_ this_sm_        this.position _eq_ startPoint_sm_    }}_lt_/pre_gt__lt_p_gt_ground attached in project by src_eq__qt_built/main-objects/ground.js_qt__co_ building attached by src_eq__qt_built/classes/decorations/building/index.js_qt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"insane_joe","Date":"2015-12-29T21:07:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I think_co_ i found a bug in my code in this part_dd_ _lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_resultVectors _eq_ resultVectors.map(function (x) {            return new BABYLON.Vector3(x.x_co_ x.z_co_ 0)_sm_        })_sm_                var buildingShape _eq_ BABYLON.Mesh.ExtrudeShape(_t_buildingShape_t__co_ resultVectors_co_ [BABYLON.Vector3.Zero()_co_ new BABYLON.Vector3(0_co_0_co_-config.buildings.height)]_co_ 1_co_ 0_co_ 0_co_ scene_co_ false_co_ BABYLON.Mesh.DOUBLESIDE)_sm_        buildingShape.rotate(new BABYLON.Vector3(1_co_0_co_0)_co_ Math.PI / 2)_sm_        buildingShape.rotate(new BABYLON.Vector3(0_co_0_co_1)_co_ Math.PI)_sm_        buildingShape.rotate(new BABYLON.Vector3(1_co_0_co_0)_co_ Math.PI)_sm__lt_/pre_gt__lt_p_gt_I get buildings walls by extruding lines verically over Y axis_co_ but i haven_t_t found any option to extrude it over Y-axis and used extrude over Z (which worked normally) and then have two rotations to get shape vertically extruded. Can you help me with extrude shape vertically?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_for example vectors_co_ I try to extrude over Y_dd_ _lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_[  {_qt_x_qt__dd_0_co__qt_y_qt__dd_0_co__qt_z_qt__dd_0}_co_  {_qt_x_qt__dd_-1.1400000001303852_co__qt_y_qt__dd_0_co__qt_z_qt__dd_-207.99000000022352}_co_  {_qt_x_qt__dd_428.25_co__qt_y_qt__dd_0_co__qt_z_qt__dd_-208.74000000022352}_co_  {_qt_x_qt__dd_429.23999999975786_co__qt_y_qt__dd_0_co__qt_z_qt__dd_-28.75}_co_  {_qt_x_qt__dd_306.25_co__qt_y_qt__dd_0_co__qt_z_qt__dd_-28.540000000037253}_co_  {_qt_x_qt__dd_306.04999999981374_co__qt_y_qt__dd_0_co__qt_z_qt__dd_-66.29000000003725}_co_  {_qt_x_qt__dd_58.299999999813735_co__qt_y_qt__dd_0_co__qt_z_qt__dd_-65.86000000033528}_co_  {_qt_x_qt__dd_58.66000000014901_co__qt_y_qt__dd_0_co__qt_z_qt__dd_-0.09999999962747097}_co_  {_qt_x_qt__dd_0_co__qt_y_qt__dd_0_co__qt_z_qt__dd_0}]_lt_/pre_gt__lt_p_gt_but I use vectorsX0Z -&gt_sm_ map -&gt_sm_ vectorsXZ0 and then extrude over Z and rotate it over X and Z axises that is why my buildings is under the ground._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Playgound demo_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1YZBCH_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1YZBCH_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_can you help please?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-12-29T21:32:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_For extrusion_co_ the _lt_u_gt_model_lt_/u_gt_ shape MUST always be defined in the xOy plane... well_co_ a 2D shape._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Then you can extrude it in any direction you want. _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"insane_joe","Date":"2015-12-29T21:35:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_But it doesn_t_t work - see play ground demo _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1YZBCH_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1YZBCH_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"insane_joe","Date":"2015-12-29T21:42:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I make extrudion with Ribbon directly and now all my Meshes are over the ground. But they still continues blinking when I rotating camera..._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"insane_joe","Date":"2015-12-29T22:18:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I applied babylon v. 2-3 alpha version to project_co_ and when I run SceneOptimizer over debug layer - all builnding meshes are disappears. May be - this is the key to bug in my code?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"insane_joe","Date":"2015-12-29T22:24:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_You can turn on debug layer over Dat.GUI interface in top-right corner (bottom flag). I have no idea - what can I change to fix this blinks to continue move forward )_lt_br_gt_ _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"insane_joe","Date":"2015-12-29T22:35:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I checked all vertices of buildings - if they are under the Y_eq_0 with this code_dd_ _lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_buildings _eq_ scene.meshes.filter(function (x) {return x.name.indexOf(_t_building_t_) !_eq__eq_ -1_sm_})_sm_buildings.forEach(function (building) {   verticesArrays _eq_ []_sm_   building.getChildren().forEach(function (x) {verticesArrays.push(x.getVerticesData(BABYLON.VertexBuffer.PositionKind))})_sm_   verticesArrays.forEach(function (currentVerticeArray) {      for (var i _eq_ 0_sm_ i &lt_sm_ currentVerticeArray.length / 3_sm_ i++) {         pY _eq_ currentVerticeArray[i*3+1]_sm_         if (pY &lt_sm_ 0) {            console.log(pY)_sm_         }      }   })_sm_})_sm__lt_/pre_gt__lt_p_gt_it haven_t_t log anything._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ground vertices are_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_scene.meshes.filter(function (x) {return x.name.indexOf(_t_ground_t_) !_eq__eq_ -1_sm_})[0].getVerticesData(BABYLON.VertexBuffer.PositionKind)[-500_co_ 0_co_ 500_co_ 500_co_ 0_co_ 500_co_ -500_co_ 0_co_ -500_co_ 500_co_ 0_co_ -500]_lt_/pre_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"insane_joe","Date":"2015-12-29T22:38:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Even I kill the _t_ground_t_ _lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_scene.meshes.filter(function (x) {return x.name.indexOf(_t_ground_t_) !_eq__eq_ -1_sm_})[0].dispose()_lt_/pre_gt__lt_p_gt_roofs still continue blinking on buildings_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"c75","Date":"2015-12-30T07:47:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Try _lt_strong_gt_PolygonMeshBuilder _lt_/strong_gt_method to build your buildings. it_t_s more suitable for your task._lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#EALGM%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#EALGM#1_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"insane_joe","Date":"2015-12-30T08:18:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_span_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/user/17062-carcinogen75/_qt_ title_eq__qt__qt__gt_carcinogen75_lt_/a_gt__lt_/span_gt__lt_p_gt__lt_span_gt_Sorry_co_ but it doesn_t_t help too (((_lt_/span_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_span_gt__lt_a href_eq__qt_https_dd_//ptg-logistic-ts-insane-joe.c9users.io/_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//ptg-logistic-ts-insane-joe.c9users.io/_lt_/a_gt__lt_/span_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_span_gt_Now I make it_dd_ _lt_/span_gt__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var resultVectors _eq_ []_sm_                for(var i _eq_ 0_sm_ i &lt_sm_ (this.points.length)_sm_ i++) {            var vector1 _eq_ vectorFromCoords(this.points[i]_co_ useCoordsMultiplicator)_sm_                        resultVectors.push(vector1.subtract(startPoint))_sm_        }........        var shape _eq_ resultVectors.map(function (v) { return new BABYLON.Vector2(v.x_co_ v.z)_sm_ })_sm_                var buildingShape _eq_ new BABYLON.PolygonMeshBuilder(_t_buildingShape_t_ + this.timestampCreate_co_ shape_co_ scene).build(true_co_ config.buildings.height)_sm_        buildingShape.enableEdgesRendering()_sm_        buildingShape.material _eq_ ROOF_MATERIAL_sm_                buildingShape.parent _eq_ this_sm_        this.position _eq_ startPoint.clone()_sm_        this.position.y _eq_ config.buildings.height_sm__lt_/pre_gt__lt_p_gt_Any indeas?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"insane_joe","Date":"2015-12-30T08:32:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_May be I create ground with bugs?_lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var _ground_co_    groundMaterial _eq_ new BABYLON.StandardMaterial(_qt_ground_qt__co_ scene)_sm_    groundMaterial.diffuseTexture _eq_ new BABYLON.Texture(_qt_src/ground/grass.png_qt__co_ scene)_sm_    groundMaterial.diffuseTexture.uScale _eq_ 6_sm_    groundMaterial.diffuseTexture.vScale _eq_ 6_sm_    groundMaterial.specularColor _eq_ new BABYLON.Color3(0_co_ 0_co_ 0)_sm_var _ground _eq_ BABYLON.Mesh.CreateGround(_qt_ground_qt__co_            config.ground.width_co_            config.ground.height_co_            config.ground.subdivisions_co_            scene_co_ true_co_ function () {                    })_sm_        _ground.material _eq_ groundMaterial_sm_            _ground.setPivotMatrix(BABYLON.Matrix.Translation(config.ground.width / 2_co_ 0_co_ config.ground.height / 2))_sm_    _ground.position _eq_ new BABYLON.Vector3(+(config.coords.boxCoords.lon) * +(config.coords.multiplicator)_co_ 0_co_ +(config.coords.boxCoords.lat) * +(config.coords.multiplicator))_sm_        camera.setTarget( _ground.position )_sm__lt_/pre_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"c75","Date":"2015-12-30T08:51:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I think you have problem that I _lt_span_gt_have seen _lt_/span_gt_before. Check this thread _lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/topic/18593-hi-value-positions-glitch/_qt__gt_http_dd_//www.html5gamedevs.com/topic/18593-hi-value-positions-glitch/_lt_/a_gt_ and demo from first post_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"insane_joe","Date":"2015-12-30T09:21:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_span_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/user/17062-carcinogen75/_qt_ title_eq__qt__qt__gt_carcinogen75_lt_/a_gt__lt_/span_gt__lt_p_gt__lt_span_gt_Thanx!!! This - helps me!_lt_/span_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_span_gt_in future cases_dd_ if you use extra big coords - you have troubles with dynamic zIndex. To fix this problem - add to material useLogarithmicDepth setted to true._lt_/span_gt__lt_/p_gt__lt_p_gt__lt_span_gt_Something like that_dd__lt_/span_gt__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_const WALL_MATERIAL _eq_ new BABYLON.StandardMaterial(_qt_wallMaterial_qt__co_ scene)_sm_WALL_MATERIAL.diffuseTexture _eq_ new BABYLON.Texture(_qt_src/materials/bricks.jpg_qt__co_ scene)_sm_WALL_MATERIAL.diffuseTexture.uScale _eq_ 10_sm_WALL_MATERIAL.diffuseTexture.vScale _eq_ 10_sm_WALL_MATERIAL.useLogarithmicDepth _eq_ true_sm_const ROOF_MATERIAL _eq_ new BABYLON.StandardMaterial(_t_roofMaterial_t__co_ scene)_sm_ROOF_MATERIAL.diffuseColor _eq_ BABYLON.Color3.Gray()_sm_ROOF_MATERIAL.useLogarithmicDepth _eq_ true_sm__lt_/pre_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]