[{"Owner":"Phuein","Date":"2018-09-16T04:05:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_m working on a camera that behaves as if tracking a spaceship. The Z axis rotation shouldn_t_t affect looking up/down and right/left_co_ as if I_t_m the pilot in the cockpit of the ship in space_co_ up is always my local up.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI tried the FollowCamera_co_ but it only lets me rotate the target mesh so the camera yaws_co_ but doesn_t_t roll or pitch. I tried the Free/Universal cameras_co_ but rotating the camera to roll skews the yaw and pitch_co_ as if they_t_re in global dimensions - instead of local. I couldn_t_t find a local/global rotation option_co_ or figure out using quaternions/matrices with it_co_ no matter how much I read about those and tweaked the code.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI know I could make this spaceship camera from scratch_co_ using an empty/mesh as a pivot_co_ but I don_t_t want to miss on using the quality code that comes with the engine already. Any suggestions?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img alt_eq__qt_Image result for roll pitch yaw_qt_ src_eq__qt_https_dd_//upload.wikimedia.org/wikipedia/commons/thumb/c/c1/Yaw_Axis_Corrected.svg/250px-Yaw_Axis_Corrected.svg.png_qt_ /_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"coolroar","Date":"2018-09-16T13:29:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi Phuein_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI also believe BJS should have a _qt_flying_qt_ camera. Here is a thread that led to my solution_dd_\n_lt_/p_gt_\n_lt_iframe allowfullscreen_eq__qt__qt_ data-controller_eq__qt_core.front.core.autosizeiframe_qt_ data-embedcontent_eq__qt__qt_ data-embedid_eq__qt_embed2748558541_qt_ scrolling_eq__qt_no_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/topic/39622-yaw-pitch-roll/?tab_eq_comments&amp_sm_do_eq_embed&amp_sm_comment_eq_226953&amp_sm_embedComment_eq_226953&amp_sm_embedDo_eq_findComment#comment-226953_qt_ style_eq__qt_height_dd_290px_sm_max-width_dd_500px_sm__qt__gt__lt_/iframe_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_font-size_dd_18px_sm__qt__gt_I used it in _lt_a href_eq__qt_https_dd_//jounce.space_qt_ rel_eq__qt_external nofollow_qt__gt_ZOOM_lt_/a_gt_ my _qt_flying through space_qt_ game._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd here I added flight simulator functionality_dd_\n_lt_/p_gt_\n_lt_iframe allowfullscreen_eq__qt__qt_ data-controller_eq__qt_core.front.core.autosizeiframe_qt_ data-embedcontent_eq__qt__qt_ data-embedid_eq__qt_embed4470205318_qt_ scrolling_eq__qt_no_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/topic/39983-flight-simulation-experiment/?tab_eq_comments&amp_sm_do_eq_embed&amp_sm_comment_eq_228059&amp_sm_embedComment_eq_228059&amp_sm_embedDo_eq_findComment#comment-228059_qt_ style_eq__qt_height_dd_219px_sm_max-width_dd_500px_sm__qt__gt__lt_/iframe_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_font-size_dd_18px_sm__qt__gt_)))))))))))))))))))))))))))))))))))))))                                                      Best luck to ya!  _lt_span class_eq__qt_ipsEmoji_qt__gt_☘️_lt_/span_gt_ _lt_span class_eq__qt_ipsEmoji_qt__gt_✅_lt_/span_gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Phuein","Date":"2018-09-16T14:02:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_228268_qt_ data-ipsquote-contentid_eq__qt_40028_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1537104583_qt_ data-ipsquote-userid_eq__qt_30630_qt_ data-ipsquote-username_eq__qt_coolroar_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t1 hour ago_co_ coolroar said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tHi Phuein_co_\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tI also believe BJS should have a _qt_flying_qt_ camera. Here is a thread that led to my solution_dd_\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tI like the colors in your flight demo _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt_. Can you show a PG with your _lt_span style_eq__qt_background-color_dd_#23241f_sm_color_dd_#a6e22e_sm_font-size_dd_14px_sm__qt__gt_addYawPitchRollFunction_lt_/span_gt_ function with roll upside down and around to make sure right stays right_co_ left stays left_co_ up is up_co_ and so on? The flight example doesn_t_t let me move that much around_co_ so it_t_s hard to tell.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"coolroar","Date":"2018-09-16T14:37:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi Phuein_co_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tBefore I made _lt_span style_eq__qt_background-color_dd_#23241f_sm_color_dd_#a6e22e_sm_font-size_dd_14px_sm__qt__gt_addYawPitchRollFunction_lt_/span_gt__lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_  I did it like this_dd_ _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/index.html#2UFUC3_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/index.html#2UFUC3_lt_/a_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOtherwise t_lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_o keep left left_co_ right right_co_ &amp_sm_ up up_co_ you will need a_lt_strong_gt_ manual roll control _lt_/strong_gt_for your space craft._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_Imagine heading North_co_ then applying up pitch. As you pass straight up_co_ down &amp_sm_ up will reverse._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_But remember_co_ in real space there is no UNIVERSAL up_co_ left_co_ etc. _lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_Try my zoom game to as an example where you can move around a lot! _lt_a href_eq__qt_https_dd_//jounce.space/zoom?deep_eq_5_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//jounce.space/zoom?deep_eq_5_lt_/a_gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Phuein","Date":"2018-09-16T14:52:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tNeither example has roll_co_ to freely test all directions. It would be awesome if you link a PG example with free movement in all directions including yaw.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTo clarify_co_ in real space_co_ when you_t_re the pilot_co_ yaw and pitch are ALWAYS local to you. You never fly to your right and it_t_s not your right.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"coolroar","Date":"2018-09-16T16:18:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOk_co_ try this_dd_ _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/index.html#Q1RH6C_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/index.html#Q1RH6C_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tEdit_dd_ add playground instructions_dd_\n_lt_/p_gt_\n\n_lt_div style_eq__qt_background-color_dd_#fffffe_sm_color_dd_#000000_sm_font-size_dd_14px_sm__qt__gt_\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#008000_sm__qt__gt_///// Mouse point to desired yaw pitch_lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#008000_sm__qt__gt_///// Left-right arrow keys for roll._lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#008000_sm__qt__gt_///// _lt_/span_gt_\n\t_lt_/div_gt_\n_lt_/div_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_font-size_dd_22px_sm__qt__gt__lt_span class_eq__qt_ipsEmoji_qt__gt_✨_lt_/span_gt_                            _lt_span class_eq__qt_ipsEmoji_qt__gt_✈️_lt_/span_gt_                    _lt_img alt_eq__qt__dd_lol_dd__qt_ data-emoticon_eq__qt__qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_laugh.png_qt_ title_eq__qt__dd_lol_dd__qt_ /_gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t\t\t\n\n_lt_span class_eq__t_ipsType_reset ipsType_medium ipsType_light_t_ data-excludequote_gt_\n\t_lt_strong_gt_Edited _lt_time datetime_eq__t_2018-09-16T19_dd_36_dd_52Z_t_ title_eq__t_09/16/2018 07_dd_36  PM_t_ data-short_eq__t_Sep 16_t__gt_September 16_lt_/time_gt_ by coolroar_lt_/strong_gt_\n\t\n\t\t_lt_br_gt_add playground instructions\n\t\n\t\n_lt_/span_gt_\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Phuein","Date":"2018-09-17T03:18:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tCool_co_ seems to work fine in this trippy example. _lt_span_gt__lt_img alt_eq__qt__dd_P_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_tongue.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/tongue@2x.png 2x_qt_ title_eq__qt__dd_P_qt_ width_eq__qt_20_qt_ /_gt_ Instructions definitely needed!_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_So_co_ in your experience that function works fine? Test plenty? If so_co_ it looks like a solution. I_t_d say this should be applied to the Universal camera_co_ so it can move in 3D freely out-of-the-box. Have you considered pulling this into the engine? Say at _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Cameras/Inputs/babylon.freeCameraMouseInput.ts#L122_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Cameras/Inputs/babylon.freeCameraMouseInput.ts#L122_lt_/a_gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"coolroar","Date":"2018-09-17T14:14:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tTested only in examples referred to in this topic and at _lt_a href_eq__qt_https_dd_//jounce.space_qt_ rel_eq__qt_external nofollow_qt__gt_ZOOM_lt_/a_gt_.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAgree _lt_span style_eq__qt_font-size_dd_16px_sm__qt__gt__qt__lt_span style_eq__qt_background-color_dd_rgb(255_co_255_co_255)_sm_color_dd_rgb(53_co_60_co_65)_sm__qt__gt_this should be applied to the Universal camera_co_ so it can move in 3D freely out-of-the-box_lt_/span_gt__qt_._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI don_t_t know how to merge to the code-base_co_ and I don_t_t care to learn it at this time.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut I_t_d be happy if someone else were to do that.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere it is with both  yawPitchRoll() and autoBank()_co_ plus clearYawPitchRoll().\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_function addYawPitchRollFunction(ob_co_ gravity) {\n    ob.rotationQuaternion  _eq_ new BABYLON.Quaternion()_sm_\n    ob.rotationQuaternion _eq_ BABYLON.Quaternion.RotationYawPitchRoll(ob.rotation.y_co_ ob.rotation.x_co_ ob.rotation.z)_sm_\n    ob.myGrav _eq_ gravity_sm_\n\n    ob.yawPitchRoll _eq_ function(yaw_co_ pitch_co_ roll) {\n        var axis _eq_ new BABYLON.Vector3(0_co_ 0_co_ -1)_sm_\n        var partRotQuat  _eq_ new BABYLON.Quaternion()_sm_\n\n        BABYLON.Quaternion.RotationAxisToRef(axis_co_ roll_co_ partRotQuat)_sm_\n        this.rotationQuaternion.multiplyInPlace(partRotQuat)_sm_\n\n        BABYLON.Quaternion.RotationAxisToRef(axis.set(-1_co_ 0_co_ 0)_co_ pitch_co_ partRotQuat)_sm_\n        this.rotationQuaternion.multiplyInPlace(partRotQuat)_sm_\n\n        BABYLON.Quaternion.RotationAxisToRef(axis.set(0_co_ 1_co_ 0)_co_ yaw_co_ partRotQuat)_sm_\n        this.rotationQuaternion.multiplyInPlace(partRotQuat)_sm_\n\n        this.rotationQuaternion.toEulerAnglesToRef(this.rotation)_sm_\n    }\n\n    ob.autoBank _eq_ function(yaw_co_ pitch_co_ speed) {\n        var axis _eq_ new BABYLON.Vector3(0_co_ 0_co_ -1)_sm_\n        var partRotQuat  _eq_ new BABYLON.Quaternion()_sm_\n\n        var roll _eq_ Math.atan2(-yaw*222*speed_co_ this.myGrav)_sm_\n        this.rotationQuaternion _eq_ BABYLON.Quaternion.RotationYawPitchRoll(this.rotation.y_co_ this.rotation.x_co_ roll)_sm_\n\n        BABYLON.Quaternion.RotationAxisToRef(axis.set(-1_co_ 0_co_ 0)_co_ pitch_co_ partRotQuat)_sm_\n        this.rotationQuaternion.multiplyInPlace(partRotQuat)_sm_\n\n        BABYLON.Quaternion.RotationAxisToRef(axis.set(0_co_ 1_co_ 0)_co_ yaw_co_ partRotQuat)_sm_\n        this.rotationQuaternion.multiplyInPlace(partRotQuat)_sm_\n\n        this.rotationQuaternion.toEulerAnglesToRef(this.rotation)_sm_\n    }\n\n    ob.clearYawPitchRoll _eq_ function() {\n        this.rotationQuaternion.set(0_co_ 0_co_ 0_co_ 1)_sm_\n        this.rotation.set(0_co_0_co_0)_sm_\n    }\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tCheers -- _lt_span class_eq__qt_ipsEmoji_qt__gt_👀_lt_/span_gt_ _lt_span class_eq__qt_ipsEmoji_qt__gt_✅_lt_/span_gt_ _lt_span class_eq__qt_ipsEmoji_qt__gt_✨_lt_/span_gt_!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Phuein","Date":"2018-09-18T03:58:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tPlease add comments to the functions. _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt_  Isn_t_t clear [for me] what autoBank does_co_ what_t_s expected.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLooks good.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"coolroar","Date":"2018-09-18T12:14:50Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSorry my code is so obscure &amp_sm_ cryptic_co_ but I_t_m not inclined to add anything except that you can see autoBank() in use here_dd_ _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#UL7W2M_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#UL7W2M_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tGood luck with your projects.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Phuein","Date":"2018-09-18T12:22:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI saw the demo_co_ but I_t_m still not clear on what it does. The 222 multiplier_co_ and why RotationAxisToRef twice? Also_co_ how does the yawPitchRoll function work_co_ in regards to calling RotationAxisToRef three times? Seems mysterious without some explanation.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"coolroar","Date":"2018-09-18T15:10:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOk. fine. sheesh.\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_function addYawPitchRollFunction(ob_co_ gravity) {\n    ob.rotationQuaternion  _eq_ new BABYLON.Quaternion()_sm_\n    ob.rotationQuaternion _eq_ BABYLON.Quaternion.RotationYawPitchRoll(ob.rotation.y_co_ ob.rotation.x_co_ ob.rotation.z)_sm_// Initialize to current rotation.\n    ob.myGrav ﻿_eq_ gravity_sm_﻿ // Set some gravity for autoBank() function.\n\n    ob.yawPitchRoll _eq_ function(yaw_co_ pitch_co_ roll) {\n        var axis _eq_ new BABYLON.Vector3(0_co_ 0_co_ -1)_sm_ // Set an axis to _t_z_t_ (roll).\n        var partRotQuat  _eq_ new BABYLON.Quaternion()_sm_ // A var to hold partial rotation.\n\n        BABYLON.Quaternion.RotationAxisToRef(axis_co_ roll_co_ partRotQuat)_sm_ // put roll in partRotQuat\n        this.rotationQuaternion.multiplyInPlace(partRotQuat)_sm_ // Apply roll to rotationQuaternion.\n\n        //  Set axis to _t_-x_t_ (pitch) and put pitch in partRotQuat.\n        BABYLON.Quaternion.RotationAxisToRef(axis.set(-1_co_ 0_co_ 0)_co_ pitch_co_ partRotQuat)_sm_\n        this.rotationQuaternion.multiplyInPlace(partRotQuat)_sm_ // Apply pitch to rotationQuaternion.\n\n        //  Set axis to _t_y_t_ (yaw) and put yaw in partRotQuat.\n        BABYLON.Quaternion.RotationAxisToRef(axis.set(0_co_ 1_co_ 0)_co_ yaw_co_ partRotQuat)_sm_\n        this.rotationQuaternion.multiplyInPlace(partRotQuat)_sm_ // Apply yaw to rotationQuaternion.\n\n        this.rotationQuaternion.toEulerAnglesToRef(this.rotation)_sm_ // Apply rotationQuaternion to  (camera.rotation)\n    }\n\n    ob.autoBank _eq_ function(yaw_co_ pitch_co_ speed) {\n        var axis _eq_ new BABYLON.Vector3(0_co_ 0_co_ -1)_sm_ // Set an axis to _t_z_t_ (roll).\n        var partRotQuat  _eq_ new BABYLON.Quaternion()_sm_ // A var to hold partial rotation.\n\n        var fudge _eq_ 222_sm_ // Whatever_co_ change to make bank angle seem appropriate.\n        var roll _eq_ Math.atan2(-yaw*fudge*speed_co_ this.myGrav)_sm_// Roll (bank) based on speed_co_ turn rate_co_ &amp_sm_ gravity.\n\n        // get current camera.rotation_co_ substitute roll for camera.rotation.z.\n        this.rotationQuaternion _eq_ BABYLON.Quaternion.RotationYawPitchRoll(this.rotation.y_co_ this.rotation.x_co_ roll)_sm_\n\n\n        //  Set axis to _t_-x_t_ (pitch) and put pitch in partRotQuat.\n        BABYLON.Quaternion.RotationAxisToRef(axis.set(-1_co_ 0_co_ 0)_co_ pitch_co_ partRotQuat)_sm_\n        this.rotationQuaternion.multiplyInPlace(partRotQuat)_sm_ // Apply pitch to rotationQuaternion.\n\n        //  Set axis to _t_y_t_ (yaw) and put yaw in partRotQuat.\n        BABYLON.Quaternion.RotationAxisToRef(axis.set(0_co_ 1_co_ 0)_co_ yaw_co_ partRotQuat)_sm_\n        this.rotationQuaternion.multiplyInPlace(partRotQuat)_sm_ // Apply yaw to rotationQuaternion.\n\n        this.rotationQuaternion.toEulerAnglesToRef(this.rotation)_sm_// Apply rotationQuaternion to  (camera.rotation)\n    }\n\n    ob.clearYawPitchRoll _eq_ function() {\n        this.rotationQuaternion.set(0_co_ 0_co_ 0_co_ 1)_sm_\n        this.rotation.set(0_co_0_co_0)_sm_\n    }\n}﻿_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_font-size_dd_26px_sm__qt__gt__lt_span class_eq__qt_ipsEmoji_qt__gt_🙄_lt_/span_gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"SvenFrankson","Date":"2018-09-18T15:26:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIn case it help_co_ I did some camera for flying spaceship for this _lt_a href_eq__qt_https_dd_//svenfrankson.github.io/#project/space-scout_qt_ rel_eq__qt_external nofollow_qt__gt_demo_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere is the script about the flying camera following the spaceship _dd_ _lt_a href_eq__qt_https_dd_//github.com/SvenFrankson/space-scout/blob/master/scripts/SpaceShipCamera.ts_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/SvenFrankson/space-scout/blob/master/scripts/SpaceShipCamera.ts_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLine 55_co_ there_t_s an update loop for the camera.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMain idea is that I keep an empty mesh at a fixed position relatively to the spaceship (it_t_s the vector named _targetPosition)_co_ and lerp to it each frame with a smoothness factor.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt makes the camera go to a point with some delay_co_ so when spaceship accelerates you feel it a little more because it goes further.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tA Slerp make the camera rotationQuaternion go to the spaceship rotationQuaternion_co_ so barrel rolls are smoothed too.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFor the most part it_t_s inspired from the Galactic StarFighter mode of Star Wars The Old Republic.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHope it helps_co_ good luck !\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Phuein","Date":"2018-09-19T15:56:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks! Now the code makes full sense. _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt_ I_t_m sure others will enjoy it_co_ too.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tCool space example_co_ Sven. Thanks for sharing. Could you add comments to the code? I_t_m not entirely sure how you chose your logic there. What_t_s focalLength() about? And focalPlane? Why _checkInputs() checks on the ship_t_s worldMatrix? I do generally get that you basically used a rotationQuaternion like coolroar_t_s example_co_ which seems like what_t_s missing from the FreeCamera/UniversalCamera.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Phuein","Date":"2018-09-26T17:48:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSay coolroar_co_ did you notice that your rotation method loses the straight angle when it goes over a certain degree?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhen implementing your method_co_ I noticed that I get an issue with the camera slowly rolling_co_ when I rotate the camera on X and Y. It doesn_t_t happen in your example - but that_t_s not a free rolling camera either - but it does show when changing the angle enough.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_09/image.png.0317c37c8c9a6c059c52b7455fdc1cbc.png_qt_ data-fileid_eq__qt_20210_qt_ rel_eq__qt__qt__gt__lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_20210_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_09/image.thumb.png.b11ab7084b23ac4a762b0b3493b90ab5.png_qt_ alt_eq__qt_image.thumb.png.b11ab7084b23ac4a762b0b3493b90ab5.png_qt_ /_gt__lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"coolroar","Date":"2018-09-27T13:40:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tDoes _qt__lt_span style_eq__qt_font-size_dd_18px_sm__qt__gt__lt_span style_eq__qt_color_dd_#2980b9_sm__qt__gt_._lt_/span_gt__lt_/span_gt__lt_span style_eq__qt_font-size_dd_16px_sm__qt__gt__lt_span style_eq__qt_color_dd_#2980b9_sm__qt__gt_.._lt_span style_eq__qt_background-color_dd_rgb(255_co_255_co_255)_sm__qt__gt_loses the straight angle_lt_/span_gt__lt_span style_eq__qt_background-color_dd_rgb(255_co_255_co_255)_sm__qt__gt_﻿..._lt_/span_gt__lt_/span_gt__lt_/span_gt__qt_ mean _qt_..._lt_span style_eq__qt_font-size_dd_16px_sm__qt__gt__lt_span style_eq__qt_color_dd_#e67e22_sm__qt__gt_the screen point for zero attitude change..._lt_/span_gt__lt_/span_gt__qt__lt_strong_gt_?_lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI think I noticed that once. If true_co_ I don_t_t know why.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWork-a-round_dd_ periodic re-center_dd_  _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/index.html#Q1RH6C%231_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/index.html#Q1RH6C#1_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_qt__lt_span style_eq__qt_font-size_dd_16px_sm__qt__gt__lt_span style_eq__qt_color_dd_#2980b9_sm__qt__gt_..._lt_span style_eq__qt_background-color_dd_rgb(255_co_255_co_255)_sm__qt__gt_camera slowly rolling..._lt_/span_gt__lt_/span_gt__lt_/span_gt__lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt__qt_ I_t_m not sure what you mean. You know of course that _lt_/span_gt__lt_span style_eq__qt_font-size_dd_14px_sm__qt__gt__lt_span style_eq__qt_background-color_dd_rgb(255_co_255_co_255)_sm_color_dd_rgb(53_co_60_co_65)_sm__qt__gt_you _lt_/span_gt__lt_/span_gt__lt_span style_eq__qt_font-size_dd_16px_sm__qt__gt__lt_span style_eq__qt_background-color_dd_rgb(255_co_255_co_255)_sm_color_dd_rgb(53_co_60_co_65)_sm__qt__gt__lt_strong_gt_will get roll_lt_/strong_gt__lt_/span_gt__lt_/span_gt__lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_ as you_lt_/span_gt__lt_span style_eq__qt_font-size_dd_16px_sm__qt__gt__lt_span style_eq__qt_background-color_dd_rgb(255_co_255_co_255)_sm_color_dd_rgb(53_co_60_co_65)_sm__qt__gt__lt_strong_gt_ yaw_lt_/strong_gt__lt_/span_gt__lt_/span_gt__lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_ when _lt_/span_gt__lt_strong_gt__lt_span style_eq__qt_font-size_dd_16px_sm__qt__gt__lt_span style_eq__qt_background-color_dd_rgb(255_co_255_co_255)_sm_color_dd_rgb(53_co_60_co_65)_sm__qt__gt_pitch !_eq_ 0_lt_/span_gt__lt_/span_gt__lt_/strong_gt__lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_font-size_dd_22px_sm__qt__gt__lt_span class_eq__qt_ipsEmoji_qt__gt_☘️_lt_/span_gt_ _lt_span class_eq__qt_ipsEmoji_qt__gt_😏_lt_/span_gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Phuein","Date":"2018-09-27T18:27:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_qt_Loses the straight angle_qt_ means it has an unwanted roll.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhy do you get a roll from yaw and pitch? You can take an object and yaw and pitch it without any roll.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"coolroar","Date":"2018-09-27T19:22:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tClarification of my previous post_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt__qt_..._lt_span_gt_ _lt_/span_gt__lt_/span_gt__lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt__lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm__qt__gt_you_lt_span_gt_ _lt_/span_gt__lt_/span_gt__lt_/span_gt__lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_16px_sm__qt__gt__lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm__qt__gt__lt_strong_gt_will get roll_lt_/strong_gt__lt_/span_gt__lt_/span_gt__lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt__lt_span_gt_ _lt_/span_gt_as you_lt_/span_gt__lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_16px_sm__qt__gt__lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm__qt__gt__lt_strong_gt__lt_span_gt_ _lt_/span_gt_yaw_lt_/strong_gt__lt_/span_gt__lt_/span_gt__lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt__lt_span_gt_ _lt_/span_gt_when_lt_span_gt_ _lt_/span_gt__lt_/span_gt__lt_strong style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt__lt_span style_eq__qt_font-size_dd_16px_sm__qt__gt__lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm__qt__gt_pitch !_eq_ 0_qt_ _lt_/span_gt__lt_/span_gt__lt_/strong_gt_ should be_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_qt_ the horizon _lt_strong_gt_will tilt_lt_/strong_gt_ (relative to your craft) _lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt_as you_lt_/span_gt__lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_16px_sm__qt__gt__lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm__qt__gt__lt_strong_gt__lt_span_gt_ _lt_/span_gt_yaw_lt_/strong_gt__lt_/span_gt__lt_/span_gt__lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt__lt_span_gt_ _lt_/span_gt_when_lt_span_gt_ _lt_/span_gt__lt_/span_gt__lt_strong style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm_font-size_dd_14px_sm__qt__gt__lt_span style_eq__qt_font-size_dd_16px_sm__qt__gt__lt_span style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#353c41_sm__qt__gt_pitch !_eq_ 0_qt_._lt_/span_gt__lt_/span_gt__lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe _lt_strong_gt_tilted horizon_lt_/strong_gt_ makes you think your craft rolled.  (Since at computer we lack the physical sensations of yaw_co_ pitch_co_ &amp_sm_ roll).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tImagine_dd_\n_lt_/p_gt_\n\n_lt_ol_gt_\n\t_lt_li_gt_\n\t\tYou are heading North_co_ straight and level.\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\tThen you pitch to straight up.\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\tThen you yaw PI/2 to the left.\n\t_lt_/li_gt_\n_lt_/ol_gt_\n\n_lt_p_gt_\n\tWhat is your heading? Describe the horizon as seen looking straight ahead.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou are headed West_co_ the horizon appears vertical with the ground out the left window. _lt_strong_gt_With no craft roll!_lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPitch(PI/2)_co_ Yaw(PI/2) _eq_ Roll(PI/2)_co_ Pitch(PI/2) _eq_ Yaw(PI/2)_co_ Roll(PI/2)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tA series of yaws and pitches can equal a roll_dd_ _lt_strong_gt_Roll(PI/2) _eq_  Pitch(PI/2)_co_  Yaw(PI/2)_co_  Pitch(-PI/2)_lt_/strong_gt_.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t(Check my work? _lt_span class_eq__qt_ipsEmoji_qt__gt_🙄_lt_/span_gt_)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI hope I_t_m not blathering stuff you already know.  _lt_span style_eq__qt_font-size_dd_18px_sm__qt__gt__lt_span class_eq__qt_ipsEmoji_qt__gt_😏_lt_/span_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFor the benefit of others_co_ I_t_ll also post this to \n_lt_/p_gt_\n_lt_iframe allowfullscreen_eq__qt__qt_ data-controller_eq__qt_core.front.core.autosizeiframe_qt_ data-embedcontent_eq__qt__qt_ data-embedid_eq__qt_embed7157190891_qt_ scrolling_eq__qt_no_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/topic/40130-cameras-discussion-inputs-incongruity/?do_eq_embed_qt_ style_eq__qt_height_dd_336px_sm_max-width_dd_500px_sm__qt__gt__lt_/iframe_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Phuein","Date":"2018-09-28T14:05:34Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_ll mark this topic as solved_co_ and direct any followup to the other topic_co_ which builds on this. _lt_span class_eq__qt_ipsEmoji_qt__gt_👌_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n_lt_iframe allowfullscreen_eq__qt__qt_ data-controller_eq__qt_core.front.core.autosizeiframe_qt_ data-embedcontent_eq__qt__qt_ data-embedid_eq__qt_embed5310027597_qt_ scrolling_eq__qt_no_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/topic/40130-cameras-discussion-inputs-incongruity/?do_eq_embed_qt_ style_eq__qt_height_dd_339px_sm_max-width_dd_502px_sm__qt__gt__lt_/iframe_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]