[{"Owner":"Saafine","Date":"2016-08-04T22:42:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_strong_gt_PLAYGROUND_lt_/strong_gt_ _dd_ _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#1GM4YQ%23123_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#1GM4YQ#123_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_PROBLEM_lt_/strong_gt__dd_ Clicking on GREY boxes displays wrong message. Should work the same as clicking on RED boxes.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_MORE INFO_lt_/strong_gt__dd_ One function is creating elements from predefined array. Second function is dynamically creating elements using FOR loop and I don_t_t quite understand why it is not working properly.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAs you can see on the playground_dd_ clicking on RED boxes works just fine. The browser correctly displays clicked box_t_s index. However_co_ clicking on GREY boxes always displays the same message.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThank you for reading_co_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tSaafine\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-08-05T15:35:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHiya _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/23067-saafine/?do_eq_hovercard_qt_ data-mentionid_eq__qt_23067_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/23067-saafine/_qt_ rel_eq__qt__qt__gt_@Saafine_lt_/a_gt__co_ welcome to the forum!  What a nicely-done playground_co_ thx for that.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd isn_t_t it strange?  In the not-working looper... the _t_x_t_ variable of the actions (the alerts) was using the last value of x.  (which is now xx_co_ for no real reason).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTo help explain to others_co_ let_t_s pretend we had FOUR gray boxes being generated.  ALL the alert (_t_box _t_ + xx + _t_was clicked_t_)... returned 4.  No matter which box is clicked_co_ it reported box 4.  It acts like the framework waits for the for-loop to finish_co_ and THEN adds the actions to the actionManagers.  By that time_co_ xx _eq__eq_ 4... so all 4 boxes get a _qt_box 4 was clicked_qt_ alert.  It_t_s weird!  Totally totally weird.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tThe actionManager says _qt_Yeah_co_ I know you want some actions registered now_co_ but_co_ I_t_ll get to it later.  I_t_m busy with a FOR-loop at the moment._qt_  hehe.  Meantime_co_ xx _eq__eq_ 4_co_ and all the registered actions... say _qt_box 4 was clicked_qt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tANYway... I found a work-around. \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#1FJFZD_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#1FJFZD_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhenever an actionManager triggers an executeCodeAction_co_ for convenience_co_ it automatically sends an event object as a parameter to the code being executed.  I made a func called codeAction_co_ as you can see.  Just like other event objects and handling_co_ it has a source_co_ and for BJS_co_ that source is a mesh_co_ with a .name property.  It works.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut ain_t_t that weird?  *scratch scratch*  Almost like actionManagers queue their registerAction()_co_ and actually register it a bit later.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  Or something.  Welcome again.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JohnK","Date":"2016-08-05T16:40:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/23067-saafine/?do_eq_hovercard_qt_ data-mentionid_eq__qt_23067_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/23067-saafine/_qt_ rel_eq__qt__qt__gt_@Saafine_lt_/a_gt_ and welcome from me_co_ look again at line 49\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_action[x] _eq_ new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnPickTrigger_co_ function () { alert(_t_i clicked _t_ + x + _t_ box_t_)_sm_ })_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tThis sets up the action on the boxes and is fired only after the for loop has been completed and a box has been clicked on_sm_ at which time x will be the last value assigned to it after all the code has been run. As the loop stops when x _eq_ 2_co_ this is the current value of x and is the one that will be read by the OnPickTrigger function. So _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5733_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/_qt_ rel_eq__qt__qt__gt_@Wingnut_lt_/a_gt__t_s solution is not so much a workaround as the way to do it as it picks up the actual name of the box clicked.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOne more thing using MeshBuilder requires an object as its second parameter_co_ since 50 is not an object the CreateBox uses the default settings for the object properties and so the box sizes are all 1.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe corrected format in the playgrounds are\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#1GM4YQ%23124_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#1GM4YQ#124_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#1FJFZD%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#1FJFZD#1_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2016-08-05T17:12:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIs there any reason not to create one ExecuteCodeAction and one ActionManager?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#1FJFZD%232_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#1FJFZD#2_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tif you wanted some boxes to do a different combo of actions on click it would make sense to create other ExecuteCodeActions and ActionManagers.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#1FJFZD%233_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#1FJFZD#3_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Saafine","Date":"2016-08-05T21:42:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5733_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/_qt_ rel_eq__qt__qt__gt_@Wingnut_lt_/a_gt_ Thank you ! _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ I wanted my function to do exactly that. It_t_s a real pleasure to read your responses. I really appreciate that.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/14282-johnk/?do_eq_hovercard_qt_ data-mentionid_eq__qt_14282_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/14282-johnk/_qt_ rel_eq__qt__qt__gt_@JohnK_lt_/a_gt_ Thank you for explaining. It took me a few hours to wrap my head around why it was not working. And thank you for pointing out the mistake in setting up the MeshBuilder.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4289_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/_qt_ rel_eq__qt__qt__gt_@adam_lt_/a_gt_ Good point. No reason to create more than one of these in this case.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAlso_co_ I_t_ve kept digging and came across _t_Self-Invoking Functions_t_ in javascript. It looks really messy_co_ but seems to work too_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#1FJFZD%234_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#1FJFZD#4_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nabroski","Date":"2016-08-06T05:21:47Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tit_t_s seems cloning is the new thing here in the forum_lt_br /_gt__lt_br /_gt__lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#M8580%230_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#M8580#0_lt_/a_gt__lt_br /_gt__lt_br /_gt_\n\tBest\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-08-06T15:31:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWow_co_ _lt_u_gt_cool code_lt_/u_gt_ from BOTH _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/23067-saafine/?do_eq_hovercard_qt_ data-mentionid_eq__qt_23067_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/23067-saafine/_qt_ rel_eq__qt__qt__gt_@Saafine_lt_/a_gt_ and _lt_span_gt__lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/21965-nabroski/?do_eq_hovercard_qt_ data-mentionid_eq__qt_21965_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/21965-nabroski/_qt_ rel_eq__qt__qt__gt_@Nabroski_lt_/a_gt__lt_/span_gt_... just that quick.  Nice_co_ you guys!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLook at that debris in Nab_t_s render loop_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_i % 24 _eq__eq_ 0 ?(g[a].material _eq_ material_co_\n\tg[a].rotation.y +_eq_ 3_co_\n\t\tg[a++].rotation.y -_eq_ .3) _dd_\n\t(a _eq__eq_ 10 ? a _eq_ 0 _dd_ !0)_co_ i++_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tWow!  It almost looks like regexp.  _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt_  (droooool)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf I could code like that_co_ I_t_d be somebody.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]