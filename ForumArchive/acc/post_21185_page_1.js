[{"Owner":"Hagop","Date":"2016-03-14T21:40:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi all\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis might sound a simple question but i don_t_t seem to to figure out the solution.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have a mesh for example a box (_lt_strong_gt_box _eq_ BABYLON.Mesh.CreateBox(_qt_box_qt__co_ 40_co_ scene_lt_/strong_gt_)_sm_.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have enabled collisions by using _lt_strong_gt_scene.collisionsEnabled _eq_ true_sm__lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI also have a _lt_strong_gt_freecamera _lt_/strong_gt_and another imported mesh for example a _lt_strong_gt_shelve _lt_/strong_gt_which is at a fixed position. .\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf I try to move the _lt_strong_gt_freecamera _lt_/strong_gt_through the _lt_strong_gt_sheve _lt_/strong_gt_it collides and everything is fine.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHowever_co_ if I attach the _lt_strong_gt_box _lt_/strong_gt_to the _lt_strong_gt_freecamera _lt_/strong_gt_so that the box is constantly ahead of the freecamera\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_color_dd_#FF0000_sm__qt__gt_scene.registerBeforeRender(function () {_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_color_dd_#FF0000_sm__qt__gt_box.position.z _eq_ scene.activeCamera.position.z + 100 _sm_ _lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_color_dd_#FF0000_sm__qt__gt_})_sm__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tand as I move the camera and the _lt_strong_gt_box _lt_/strong_gt_through the _lt_strong_gt_shelve _lt_/strong_gt_the box _lt_u_gt__lt_em_gt_passes through_lt_/em_gt__lt_/u_gt_ the shelve_co_ whilst the camera collides with it.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tUsing the code below I can verify that the _lt_strong_gt_box _lt_/strong_gt_intersects with the _lt_strong_gt_shelve_lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_color_dd_#FF0000_sm__qt__gt_if (box.intersectsMesh(shelve_co_ false)) {_lt_br_gt_\n\t                                      box.material.emissiveColor _eq_ new BABYLON.Color4(1_co_ 0_co_ 0_co_ 1)_sm__lt_br_gt_\n\t                                    } else {_lt_br_gt_\n\t                                      box.material.emissiveColor _eq_ new BABYLON.Color4(1_co_ 1_co_ 1_co_ 1)_sm__lt_br_gt_\n\t                                    }_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have also added ellipsoid to the box but no difference\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_color_dd_#FF0000_sm__qt__gt_box.ellipsoid _eq_ new BABYLON.Vector3(0.5_co_ 1.0_co_ 0.5)_sm__lt_/span_gt__lt_br_gt__lt_span style_eq__qt_color_dd_#FF0000_sm__qt__gt_box.ellipsoidOffset _eq_ new BABYLON.Vector3(0_co_ 1.0_co_ 0)_sm__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhat am I missing? \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"eboo","Date":"2016-03-14T22:35:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tmesh move collision work with box.moveWithCollisions(BABYLON.Vectro3D(...)) only\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t(i believe)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-03-15T02:03:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\teboo is correct _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt_true_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Hagop","Date":"2016-03-15T08:31:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tbad news\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"iiceman","Date":"2016-03-15T11:28:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHave you tried to move the box and append the camera to the box?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Hagop","Date":"2016-03-15T15:48:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tiiceman. I tried your suggestion  by adding keypress event listeners to the box and make the freecamera  to follow to the box but same problem. What do you mean by appending?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-03-19T00:49:38Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi Hagop.  I_t_m just saying hi_co_ and wondering if you have had any success.  I think iceman meant... use mesh.moveWithCollisions to move your box with keypresses.  And parent the camera to the box... or use a follow[Arc]Cam targeted to follow the box. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere... _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#LYCSQ%23315_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#LYCSQ#315_lt_/a_gt_   ...   is one of the nicest playgrounds EVER (not mine).  It uses cursor keys and its full-powered moveWithCollisions sits at line 166.  This uses a standard ArcRotateCam_co_ but notice the sweet camera LERP in line 174 of the renderLoop.  That gives the camera a nice lagging follow_co_ eh?  That_t_s PRO stuff there_co_ baby.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt_true_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt__gt__lt_/p_gt_\n\n_lt_p_gt_\n\tWould your project work okay with ONLY the box having collisions_co_ and no collisions on the camera itself?  Or do you NEED camera collisions (along with box collisions)?  Thoughts?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Hagop","Date":"2016-03-20T08:52:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi Wingnut\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThank you for the link. It looks great.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNo need for parenting.No need for keyboard entry as well (freecamera silently listens to them). I didn_t_t want to use movewithcollisions but non the less. Here is part of the code I used. I need to check rotations further...\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_em_gt__lt_span style_eq__qt_font-size_dd_10px_sm__qt__gt_scene.registerBeforeRender(function () {_lt_br_gt_\n\t                                                         _lt_br_gt_\n\t                    if(scene.isReady())_lt_br_gt_\n\t                        {_lt_br_gt_\n\t                        registerCameraPosition _eq_ scene.activeCamera.position.clone()_sm__lt_br_gt_\n\t                        registerCameraRotation _eq_ scene.activeCamera.rotation.clone()_sm__lt_br_gt_\n\t                   _lt_br_gt_\n\t                        _lt_br_gt_\n\t                        xDiff _eq_ registerCameraPosition.x - registerCamera_lastPosition.x_sm__lt_br_gt_\n\t                        yDiff _eq_ registerCameraPosition.y - registerCamera_lastPosition.y_sm__lt_br_gt_\n\t                        zDiff _eq_ registerCameraPosition.z - registerCamera_lastPosition.z_sm__lt_br_gt_\n\t                                                _lt_br_gt_\n\t                _lt_br_gt_\n\t                        globalCart.rotation.y _eq_ scene.activeCamera.rotation.y _sm__lt_br_gt_\n\t                        globalCart.moveWithCollisions(new BABYLON.Vector3(xDiff_co_yDiff_co_zDiff))_sm__lt_/span_gt__lt_/em_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"iiceman","Date":"2016-03-20T20:38:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYeah_co_ Wingnut is right. I meant the parenting.. but well_co_ if you update the camera position yourself_co_ that_t_s cool_co_ too. _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt_true_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]