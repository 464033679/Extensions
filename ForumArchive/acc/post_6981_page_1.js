[{"Owner":"Dad72","Date":"2014-06-05T22:19:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi_co__lt_br_gt_ _lt_br_gt_I try to paint the grass with the instance and pick system. When I pick the first time_co_ my grass is displayed_co_ but the second time_co_ it disappears._lt_br_gt_I have my number of active models increases but no grass showing on the scene._lt_br_gt_ _lt_br_gt_What am I doing wrong?_lt_br_gt_ _lt_br_gt_I also get this error in the console_dd__lt_br_gt__lt_span style_eq__qt_font-family_dd_Consolas_co_ _t_Lucida Console_t__co_ monospace_sm__qt__gt__lt_span style_eq__qt_font-size_dd_12px_sm__qt__gt_[.WebGLRenderingContext]GL ERROR _dd_GL_INVALID_OPERATION _dd_ glDrawElementsInstancedANGLE_dd_ attempt to access out of range vertices in attribute 2_lt_/span_gt__lt_/span_gt__lt_br_gt_ _lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint lang-auto_qt__gt_var currentPosition_co_ that _eq_ this_co_ pickInfo_co_ this.instanceGrass _eq_ 0_sm_\t\tthis._onBeforeRender _eq_ function () {            \tif (!currentPosition) return_sm_\tvar pickTerrain _eq_ that._ground.getScene()_co_ posX _eq_ currentPosition.x _co_ posY _eq_ currentPosition.y_sm_\t\tpickInfo _eq_ pickTerrain.pick(posX_co_ posY)_sm_\t\t\t\t\tswitch(that.MODE_CONTROLE)\t{\t\tcase WORLDCASTOR.ElevationControl.MODE_CONTROLE_GRASS_dd_\t\t\t\t\t\tif(pickInfo.pickedMesh _eq__eq_ that._ground) {\t\t\t\t\t\t\t\t\tif(that.instanceGrass _eq__eq_ 0) {\t\t\t\t\tthat.Grass _eq_ BABYLON.Mesh.CreatePlane(_qt_grass_qt__co_ 0.4_co_ scene)_sm_\t\t\t\tthat.Grass.position _eq_ new BABYLON.Vector3(pickInfo.pickedPoint.x_co_ parseFloat(pickInfo.pickedPoint.y+0.31)_co_ pickInfo.pickedPoint.z)_sm_\t\t\t\tthat.Grass.material _eq_ that.materialGrass_sm_\t\t\t\tthat.instanceGrass _eq_ 1_sm_\t\t\t} else {\t\t\t\tvar instance_Grass _eq_ that.Grass.createInstance(_qt_grass_qt_+ that.instanceGrass)_sm_\t\t\t\tinstance_Grass.position _eq_ new BABYLON.Vector3(pickInfo.pickedPoint.x_co_ parseFloat(pickInfo.pickedPoint.y+0.31)_co_ pickInfo.pickedPoint.z)_sm_\t\t\t\tthat.instanceGrass++_sm_\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t\t\tbreak_sm_\t\t}\t\t\t}_sm__lt_/pre_gt__lt_p_gt_Thank you for help_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-06-05T22:39:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_How many instances do you have?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2014-06-05T22:49:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_div_gt_I is not number instance defined. it is a pick()_co_ when I click on the stage._lt_/div_gt__lt_br_gt__lt_div_gt_ _lt_/div_gt__lt_br_gt__lt_div_gt_As raise vertex on worlmonger_co_ but here_co_ I painted grass._lt_/div_gt__lt_br_gt__lt_div_gt_ _lt_/div_gt__lt_br_gt__lt_div_gt_This does not pass through a loop for()_co_ but loop onBeforeRender()_lt_/div_gt__lt_br_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-06-05T22:50:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_need to see it live as usual _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2014-06-05T23:25:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_div_gt_OK. I used woldmonger and I add a button Grass._lt_/div_gt__lt_div_gt_ _lt_/div_gt__lt_div_gt_Zoom in on the ground  (to see what happens) Select the button grass and click once_co_ the grass appears for a while and disappears immediately._lt_/div_gt__lt_div_gt_ _lt_/div_gt__lt_div_gt_I have the same error in the console. _lt_/div_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.actifgames.com/babylon/WorldMonger/index.html_qt_ rel_eq__qt_external nofollow_qt__gt_index.html_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-06-06T01:26:50Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Huhu just use a material with backFaceCulling _eq_ false and you will see your grass _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2014-06-06T09:57:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_div_gt_Not this changes nothing._lt_/div_gt__lt_br_gt__lt_div_gt_ _lt_/div_gt__lt_br_gt__lt_div_gt_have look you on my demo. look near the ground when you add from the grass_co_ it appears correctly and disappears immediately. the problem isn_t_t that the face is hide_co_ it is that it is remove from the scene once add. _lt_/div_gt__lt_br_gt__lt_div_gt_ _lt_/div_gt__lt_br_gt__lt_div_gt_If I comment the part instance_co_ my grass is display and does not disappear._lt_/div_gt__lt_br_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-06-06T17:08:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Ok my bad_co_ I had a big awful bug _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I fixed it and published it to github_dd_)_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2014-06-06T17:39:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Yes they are display_co_ but if I put 20 plane_co_ has 40 active objects (the double) on the scene._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-06-06T17:49:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_How do you evaluate the active objects? Do you have a mirror?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2014-06-06T18:19:31Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_With_dd_  mydiv.innerHTML _eq_ scene._activeMeshes.length_sm__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2014-06-06T20:08:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_div_gt_in fact it is not double_co_ because I_t_ve put 7 plan on the ground and it displays me 148 active mesh._lt_/div_gt__lt_br_gt__lt_div_gt_and FPS are down with 7 plan displays._lt_/div_gt__lt_br_gt__lt_div_gt_ _lt_/div_gt__lt_br_gt__lt_div_gt__lt_br_gt__lt_div_gt_[edited] in fact the displays are random. instances that create well but most are invisible on the stage._lt_/div_gt__lt_br_gt__lt_div_gt_So what you have fix_co_ a partially solved the problem._lt_/div_gt__lt_br_gt__lt_/div_gt__lt_br_gt__lt_div_gt_ _lt_/div_gt__lt_br_gt__lt_div_gt_Even the screen_dd__lt_/div_gt__lt_br_gt__lt_div_gt__lt_/div_gt__lt_br_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-06-07T14:56:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_You are using a miror for the water which increment the number of active mesh_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_COuld you check the list of activeNesh using debugger to see names of active meshes ?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2014-06-07T15:10:38Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_div_gt_I made this comparison. When I put 10 mesh_co_ only 2-5 are visible (randomly)._lt_/div_gt__lt_br_gt__lt_div_gt_ _lt_/div_gt__lt_br_gt__lt_div_gt_so I have good numbers with scene._activeMeshes_co_ but the wrong number of what is on the visible scene._lt_/div_gt__lt_br_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-06-09T15:49:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_do you think you can create a small repro without all the world around?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2014-06-09T17:14:47Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_With your woldmonger demo. I put a day babylon with the previous correction._lt_br_gt_ _lt_br_gt__lt_a href_eq__qt_http_dd_//www.actifgames.com/babylon/WorldMonger/index.html_qt_ rel_eq__qt_external nofollow_qt__gt_index.html_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Vous remarquerez que le nombre de modèle actif augmente ( a coté de FPS j_t_ai ajouter Active en haut a droite)_co_ mais pas le nombre visible sur la scène. ou en continuant de peindre de l_t_herbe_co_ avec un gros temps de retard_co_ il apparaisse_co_ mais le nombre ne correspond pas._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Le seule fichier que j_t_ai modifier de plus important c’est dans _qt_elevationControl.js_qt_ a partir de la ligne 71 et ainsi que dans le constructeur pour initialiser les materiaux._lt_/p_gt__lt_p_gt_Je charge le premier modeles a la ligne 74 et je créer les instance a la ligne 82. a la ligne 81 j_t_ai ajouter un petit sleep pour faire un petit temps de pause léger quand on peint l_t_herbes._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Voila j’espère que cela aide._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_PS_dd_ j_t_ai pris la demo de worldmonger car c’est ce que j_t_utilise sur mon projet pour peindre de l_t_herbes._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-06-09T17:16:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Il me faudrait juste l_t_herbe sur un plan en fait. parce que la avec tous les shaders actifs c_t_est la mort a debugger_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2014-06-09T17:21:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Ah ok_co_ je vais essayer de faire ça dans la soirer ou pour demain_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2014-06-09T19:08:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Voila je vous est fait une scène toute simple. _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_La camera est fixe mais orienter vers le sol pour que vous puissiez voir l_t_herbes que vous peignez. je vous est mis dans le title de la fenêtres les FPS et le nombres de mesh actif._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Vous avez juste a cliquer sur le sol pour peindre de l_t_herbes. le premier plan d_t_herbes pas de problème c_t_est instantanée_co_ mais des que l_t_on arrive sur les instances_co_ ça s_t_affiche avec un enorme temps de retard et le nombres afficher n_t_est pas celui du nombre actif. Il faut peindre de façons a arriver entre 30 et 40 mesh actif pour que enfin on en voie apparaître 10 a 20 plan d_t_un coup_co_ mais une partie reste invisible ou en mémoire peut être et le nombre de non afficher est aléatoire._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.actifgames.com/babylon/instance/index.html_qt_ rel_eq__qt_external nofollow_qt__gt_index.html_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Merci Deltakosh_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-06-09T19:46:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_This is perfect dad72! thanks to you I found this massive bug _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_should be good now_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2014-06-09T21:01:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Yes_co_ this fixe. thanks Dk_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2014-06-09T21:45:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_div_gt_[edite] If this is fixed_co_ this is what I used this_dd__lt_/div_gt__lt_br_gt__lt_div_gt_ _lt_/div_gt__lt_br_gt__lt_div_gt_if(scene._activeMeshes.length &gt_sm_ 10) scene.createOrUpdateSelectionOctree()_sm__lt_/div_gt__lt_br_gt__lt_div_gt_ _lt_/div_gt__lt_br_gt__lt_div_gt_I had to update octree that is displayed in real time with the same line each plan to create more on stage._lt_/div_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]