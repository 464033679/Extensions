[{"Owner":"Gil","Date":"2017-04-17T15:58:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_m doing a label system_co_ you can see the original post here. I don_t_t think it_t_s relevant but you get the background.\n_lt_/p_gt_\n_lt_iframe data-embedcontent_eq__qt__qt_ frameborder_eq__qt_0_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/topic/29718-tracknode-and-pivot-on-exported-mesh-with-canvas2d/?do_eq_embed_qt__gt__lt_/iframe_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt_\n\tTo make it work_co_ I created various faces on a mesh. Each faces generate a label.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTo know which one has to be displayed_co_ I would like to compare their angle to the camera to know if it_t_s facing the camera enough to be visible.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAfter some research I came with this _dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#QNJ03P%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#QNJ03P#1_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt_\n\tI_t_m pretty bad in 3D math but I already found some usefull posts and PG on the forums and the doc.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt_\n\t- I think I_t_m pretty close but I don_t_t know why my camera Quaternion doesn_t_t seems to be refreshed when I rotate the camera (except for the Y axis which switch btw 0 and -0).\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- Also I_t_m not sure how to compare both quat so that I can say if the difference is less than 40° I can display it\n_lt_/p_gt_\n\n_lt_p_gt_\n\t- And finally when I apply the function toQuaternion() on the ground it rotates it. I have the same issues with my faces and I don_t_t know if it will changes something or not.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tCould someone give some insight to finish this ?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"brianzinn","Date":"2017-04-17T19:20:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tAlso_co_ when I_t_m using a RotateArcCamera_co_ I_t_m using the alpha property to do calculations on placing Meshes_co_ so I would guess that may work well with what you are doing.  So_co_ I_t_m not using the camera Quaternion_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_var observer _eq_ scene.onAfterCameraRenderObservable.add(() _eq_&gt_sm_ {\n    this.meshToCounterRotate.rotation.y _eq_ -camera.alpha\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tCheck out the alpha/beta here_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//babylonjsguide.github.io/basics/Cameras_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//babylonjsguide.github.io/basics/Cameras_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLooks like you want to make sure the plane itself is visible enough by the angle_co_ but If you just need to see if it_t_s within the camera field of view as _qt_visible_qt_ check out mesh.isInFrustrum on this post_dd_\n_lt_/p_gt_\n_lt_iframe data-embedcontent_eq__qt__qt_ frameborder_eq__qt_0_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/topic/28714-camera-frustum/?do_eq_embed&amp_sm_comment_eq_165160&amp_sm_embedComment_eq_165160&amp_sm_embedDo_eq_findComment#comment-165160_qt__gt__lt_/iframe_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Gil","Date":"2017-04-18T16:16:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello Brianzinn_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI will give a shot to compare alpha and beta from the camera to the mesh to see if I can figure it out._lt_br /_gt_\n\tThanks.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI was going for quaternion because I read somewhere that it was the best way to compare orientation. Maybe your solution is simpler.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI already saw the frustum option but since I have many planes to get informations from any angle I think it_t_s easier to test by angle to not have the same information displayed twice.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Gil","Date":"2017-04-22T13:11:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI think I made some progress but went in another direction.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe logic I wanted is to get the camera direction_co_ then get the plane direction._lt_br /_gt_\n\tGet the angle with both direction._lt_br /_gt_\n\tThen check if they have the opposite direction with negate._lt_br /_gt_\n\tAnd finally get the difference between both.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf the difference is small the camera and the plane should be looking together.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI updated the PG _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#QNJ03P%234_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#QNJ03P#4_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tCould somebody tell me if I_t_m in the right direction and what I_t_m missing ?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Gil","Date":"2017-04-25T17:46:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tLittle bump hoping that someone can give it some time \n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-04-25T22:04:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI suggest using dot product_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#QNJ03P%235_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#QNJ03P#5_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\twhen dot(a_co_ b ) &gt_sm_ 0.95 then you are front facing\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Gil","Date":"2017-04-26T06:33:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_ Wow ! That_t_s perfect ! Thank you !\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI saw a post where you talked about that but I wasn_t_t able to connect the dots _dd_p.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Gil","Date":"2017-04-26T13:34:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_ sorry to bother you again with this but when I use the rotation of planes I export of 3ds Max I can_t_t get it work._lt_br /_gt_\n\tThe Z axis is the front axis of my planes.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe only thing I updated in the code is _qt_planeDir_qt_. I tested with both normalized and not normalized value but it doesn_t_t work (it should be normalized I think).\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_var planeDir _eq_ this.rotation.clone().normalize()_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tIf I don_t_t clone the rotation_co_ doing the operation turn the planes (which I suppose is normal ?).\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt_t_s like the only option would be to create all planes in the engine directly.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAm I doing something wrong ?\n_lt_/p_gt_\n\n_lt_p_gt__lt_a class_eq__qt_ipsAttachLink_qt_ href_eq__qt_//www.html5gamedevs.com/applications/core/interface/file/attachment.php?id_eq_12738_qt__gt_Labels.babylon_lt_/a_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2017-04-27T01:28:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tUse mesh.getDirection(localDirection) to get the world direction of whichever axis or direction you want.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Gil","Date":"2017-04-27T07:41:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYep that was it _dd_).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThank you !\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]