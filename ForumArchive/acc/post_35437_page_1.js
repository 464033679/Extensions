[{"Owner":"V!nc3r","Date":"2018-02-02T13:55:34Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi guys!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI recently start a little kind-of _lt_a href_eq__qt_https_dd_//en.wikipedia.org/wiki/Cornell_box_qt_ rel_eq__qt_external nofollow_qt__gt_cornell box_lt_/a_gt_ scene_co_ I still have some little tweaks to do before release it for everyone (... in facts_co_ you can already _lt_a href_eq__qt_https_dd_//github.com/Vinc3r/cornellBox_qt_ rel_eq__qt_external nofollow_qt__gt_grab the sources_lt_/a_gt_).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI think this will sometimes be more useful to make some tests in this little environement rather than one with default skybox and default sphere _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd_co_ in relation with _lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/topic/35347-reflection-probe-bounding-box/_qt_ rel_eq__qt__qt__gt_this topic_lt_/a_gt_ about reflection probe_co_ it_t_s precisely a scene which will be perfect to test these kind of issues.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut_co_ after many tries_co_ I never succeed to make a playground-version of my scene.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere the correct version_co_ on my personnal website _dd_ _lt_a href_eq__qt_https_dd_//www.nothing-is-3d.com/dl/babylonJS/cornellBox/BJS-PBR/_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.nothing-is-3d.com/dl/babylonJS/cornellBox/BJS-PBR/_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere my try in the playground _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#59ZXVF%235_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#59ZXVF#5_lt_/a_gt_ As you can see_co_ loading _lt_a href_eq__qt_https_dd_//github.com/Vinc3r/cornellBox/tree/master/BJS-PBR/assets/LM_qt_ rel_eq__qt_external nofollow_qt__gt_lightmaps texture_lt_/a_gt_ goes wrong.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhere am I wrong ?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tPS_dd_ we can note a _lt_strong_gt_huge _lt_/strong_gt_bug in firefox_co_ which doesn_t_t load correcly the materials! [edit_dd_ _lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/topic/35443-pbrmaterial-assignation-in-firefox-with-gltf/_qt_ rel_eq__qt__qt__gt_dedicated thread_lt_/a_gt_]\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-02-02T19:11:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThis is cool!! thanks a lot\n_lt_/p_gt_\n\n_lt_p_gt_\n\tbtw_co_ the PG does not work because there is an expection raised in the onSuccess callback of the Append method\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI fixed the code_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#59ZXVF#6_qt_ ipsnoembed_eq__qt_true_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#59ZXVF#6_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"V!nc3r","Date":"2018-02-05T08:43:50Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut! _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt__lt_br /_gt_\n\tAs you can see in the scene in _lt_a href_eq__qt_https_dd_//www.nothing-is-3d.com/dl/babylonJS/cornellBox/BJS-PBR/_qt_ rel_eq__qt_external nofollow_qt__gt_my FTP_lt_/a_gt__co_ I cycle through meshes_co_ and then through each materials of my objects_co_ to assign lightmaps on it.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img alt_eq__qt_s0x5dIU.png_qt_ class_eq__qt_ipsImage_qt_ height_eq__qt_531_qt_ src_eq__qt_https_dd_//i.imgur.com/s0x5dIU.png_qt_ width_eq__qt_805_qt_ /_gt__lt_br /_gt_\n\t_lt_br /_gt_\n\tAnd in the _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#59ZXVF%236_qt_ rel_eq__qt_external nofollow_qt__gt_playground_lt_/a_gt__co_ the original meshes are split!_lt_br /_gt_\n\t_lt_img alt_eq__qt_Nnd8onC.png_qt_ class_eq__qt_ipsImage_qt_ height_eq__qt_482_qt_ src_eq__qt_https_dd_//i.imgur.com/Nnd8onC.png_qt_ width_eq__qt_731_qt_ /_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis way is not very convenient I think_co_ _t_cause it generates weird names on submeshes_co_ and unwanted children relation between objects.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt_t_s weird because I use the same Append function_co_ isn_t_t it ?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"V!nc3r","Date":"2018-02-06T14:48:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tMay I up this thread?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe fact that gltf meshes are splitted into submeshes in BJS 3.2-alpha is a bug or a feature? In my opinion_co_ keeping the submaterials way instead of submeshes is very more convenient.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-02-06T19:01:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tPinging _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/26831-bghgary/?do_eq_hovercard_qt_ data-mentionid_eq__qt_26831_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/26831-bghgary/_qt_ id_eq__qt_ips_uid_2275_10_qt_ rel_eq__qt__qt__gt_@bghgary_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd to summarize_dd_ it is a feature to be more consistent with gltf file format but I get your point\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"bghgary","Date":"2018-02-06T19:17:00Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYes_co_ I made this change to the loader because glTF has primitives under mesh that will not merge into a single Babylon mesh correctly all the time. For meshes that reuse accessors_co_ it can cause an explosion of GPU memory if the primitives are merged together. The names of the child meshes correspond to the mesh name + primitive index. This matches what is described by the glTF asset better than if we merged them together like before.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"V!nc3r","Date":"2018-02-07T09:05:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOK_co_ so instead of checking if an object as submaterials_co_ we then have to check if an object hasn_t_t a material but have _children which have each one material. I will udpate my scene at launch time to test that.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut in a 3D artist point of view it still a weird way to access to our materials _lt_img alt_eq__qt__dd_lol_dd__qt_ data-emoticon_eq__qt__qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_laugh.png_qt_ title_eq__qt__dd_lol_dd__qt_ /_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"V!nc3r","Date":"2018-02-07T10:31:44Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI assume this is the part of the gltf specification which is involved? _lt_a href_eq__qt_https_dd_//github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThen_co_ maybe in the BJS side it can be useful to be able to know if we have a parent-child relation due to the manual scene setup_co_ or due to the importer? Like a mesh property called _lt_em_gt_isSplitOnImport_lt_/em_gt_ or _lt_em_gt_isGLTFsplitted_lt_/em_gt_? (&lt_sm_- just an example/proposal). Or_co_ in the case of a gltf mesh splitted_co_ have a kind of function in the master mesh to easily select all submaterials ?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"V!nc3r","Date":"2018-02-07T14:29:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHop!\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#59ZXVF%239_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#59ZXVF#9_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-02-07T17:28:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tExcellent!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"V!nc3r","Date":"2018-02-08T08:37:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI just have to add the BJS logo somewhere_co_ and the scene will be good _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t(and a little usage doc of course)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-02-08T17:37:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tExcellent!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]