[{"Owner":"negrant","Date":"2016-12-19T22:42:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi guys! I make map with the dark forest and I need make center of the map with good light_co_ but the closer to the forest_co_ then map gets darker. I need something like the fog but without binding to the camera. Fog always in position 0_co_ 0_co_ 0 and if player go to coordinates 100_co_ 100_co_ 100 then his go to the dark. While I did just the fog attached to the camera and if the player closer to the forest_co_ then fog far from the player and camera. And the forest does not seem so dark. Anybody haves some ideas how do it?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_12/58586231de4f8_.png.170237f98ef15cd7756decc7f6967c0f.png_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_10847_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_12/58586231de4f8_.png.170237f98ef15cd7756decc7f6967c0f.png_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_Безымянный.png_qt__gt__lt_/a_gt__lt_/p_gt_\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_12/585862397e283_2.png.fe8c47ab8901419df78b6c1625c4d18d.png_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_10848_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2016_12/5858623aeeaa0_2.thumb.png.ee388ed27a0172787d6dd97ddb97ce57.png_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_Безымянный2.png_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-12-20T00:54:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi Negrant_co_ good to see you_co_ and nice looking scene.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have 2 non-fog ideas. \n_lt_/p_gt_\n\n_lt_p_gt_\n\t1.  All lights have .range property.  A point light above map-center... would light center well_co_ but range could _qt_fall-off_qt_ at tree line.  And don_t_t forget the included/excluded things on lights_co_ too.  You could exclude the trees from primary point light_co_ and ONLY include the trees in a low-intensity hemi-light... used only to light the forest/trees.  Unfortunately_co_ the ground might cause problems_co_ as it is the same material... center-of-map or in-woods.  Difficult to do light includes and excludes with common ground material for woods and center. \n_lt_/p_gt_\n\n_lt_p_gt_\n\t1A.  Also_co_ perhaps spotlight over center of map_co_ but light cone not wide enough to reach tree-line?  Then light entire area with low-intensity hemi.  Map center will be bright_co_ but woods will be much darker.  Careful use of .range and light Y position (on flat ground) gives soft edges.  [_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#PNJNN%233_qt_ rel_eq__qt_external nofollow_qt__gt_test scene_lt_/a_gt_]\n_lt_/p_gt_\n\n_lt_p_gt_\n\t2. Use a very high point light over center_co_ with shadow generator.  Then put a large torus beneath light.  Put only torus in shadowMap renderlist_co_ and set ground and trees to .receiveShadows _eq_ true.   There is a way to make the torus invisible_co_ and still cast soft-edge shadow.  (Perhaps create a smaller torus near-to light_co_ instead of larger torus near-to map?  Experiment.)  This torus_co_ if placed and sized properly...  _lt_em_gt_should_lt_/em_gt_ allow bright light thru center_co_ but will cast large circular soft-shadow in surrounding area (the woods).  Adjust torus settings for needed soft-shadow size.  *shrug*  [_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#PNJNN%232_qt_ rel_eq__qt_external nofollow_qt__gt_test scene_lt_/a_gt_]\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNot very good ideas_co_ eh?  I think fog is done deep in BJS engine_co_ and not easily customized.  Not sure_co_ though.  Perhaps others will comment soon_co_ too.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAddenda_dd_ _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#PNJNN_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#PNJNN_lt_/a_gt_  Shadow demo from playground examples.  Line 44 - I set torus.visibility _eq_ .99.  Shadows missing.  uh oh.  Maybe I lied.  Perhaps it is NOT easy to cast shadow with invisible torus.  hmm.  And watch that torus as it orbits.  It _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#PNJNN%231_qt_ rel_eq__qt_external nofollow_qt__gt_looks retarded_lt_/a_gt_ sometimes.  _lt_img alt_eq__qt__dd_o_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_ohmy.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/ohmy@2x.png 2x_qt_ title_eq__qt__dd_o_qt_ width_eq__qt_20_qt_ /_gt_   hmm.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"negrant","Date":"2016-12-21T22:18:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_155945_qt_ data-ipsquote-contentid_eq__qt_27177_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1482195247_qt_ data-ipsquote-userid_eq__qt_5733_qt_ data-ipsquote-username_eq__qt_Wingnut_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tOn 12/19/2016 at 6_dd_54 PM_co_ Wingnut said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tHi Negrant_co_ good to see you_co_ and nice looking scene.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tHi_co_ thank_co_ I am trying do something atmospherically and dynamically_co_ work on it _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tQuote\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\t_lt_span style_eq__qt_color_dd_rgb(39_co_42_co_52)_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_background-color_dd_rgb(255_co_255_co_255)_sm_float_dd_none_sm__qt__gt_1.  All lights have .range property.  A point light above map-center... would light center well_co_ but range could _qt_fall-off_qt_ at tree line.  And don_t_t forget the included/excluded things on lights_co_ too.  You could exclude the trees from primary point light_co_ and ONLY include the trees in a low-intensity hemi-light... used only to light the forest/trees.  Unfortunately_co_ the ground might cause problems_co_ as it is the same material... center-of-map or in-woods.  Difficult to do light includes and excludes with common ground material for woods and center. _lt_/span_gt_\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tI tried do something with this method_co_ I like this idea_co_ but I use scene.ambientColor _eq_ new BABYLON.Color3(0.3_co_ 0.3_co_ 0.3) - it add to my scene more cartoon style_co_ but then all meshes on my scene_co_ even without light looks bright. And only the fog can make it darker.\n_lt_/p_gt_\n\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tQuote\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\t_lt_span style_eq__qt_color_dd_rgb(39_co_42_co_52)_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_background-color_dd_rgb(255_co_255_co_255)_sm_float_dd_none_sm__qt__gt_2. Use a very high point light over center_co_ with shadow generator.  Then put a large torus beneath light.  Put only torus in shadowMap renderlist_co_ and set ground and trees to .receiveShadows _eq_ true.   There is a way to make the torus invisible_co_ and still cast soft-edge shadow.  (Perhaps create a smaller torus near-to light_co_ instead of larger torus near-to map?  Experiment.)  This torus_co_ if placed and sized properly... _lt_span_gt_ _lt_/span_gt__lt_/span_gt__lt_em style_eq__qt_color_dd_rgb(39_co_42_co_52)_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_background-color_dd_rgb(255_co_255_co_255)_sm__qt__gt_should_lt_/em_gt__lt_span style_eq__qt_color_dd_rgb(39_co_42_co_52)_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_background-color_dd_rgb(255_co_255_co_255)_sm_float_dd_none_sm__qt__gt__lt_span_gt_ _lt_/span_gt_allow bright light thru center_co_ but will cast large circular soft-shadow in surrounding area (the woods).  Adjust torus settings for needed soft-shadow size.  *shrug*  [_lt_/span_gt__lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#PNJNN%232_qt_ rel_eq__qt_external nofollow_qt__gt_test scene_lt_/a_gt__lt_span style_eq__qt_color_dd_rgb(39_co_42_co_52)_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_background-color_dd_rgb(255_co_255_co_255)_sm_float_dd_none_sm__qt__gt_]_lt_/span_gt_\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tI don_t_t want use the shadows_co_ because I am trying do my game more performant. I like your thought process and your ideas_co_ you are cool dude _lt_img alt_eq__qt_B)_qt_ data-emoticon_eq__qt__qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_cool.png_qt_ title_eq__qt_B)_qt_ /_gt__lt_br /_gt_\n\tI came up with another idea_co_ I am counting distance and angle to the center of my map and depending of this parameters I am changing the fogStart_co_ fogFinish and fogDensity. If player closer to the forest_co_ then I reduce the scope of the fog_co_ but if player turns round and look on center of the map_co_ then I increase the scope of the fog. This method has its flaws but I am working on this algorithm to do it more realistic. Thank for help and for ideas - it help me to look at the problem from another angle _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]