[{"Owner":"Rodrix3","Date":"2018-07-22T04:43:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI am investigating BabylonJS capabilities for creating realistic reflections and I need the community feedback to create a possible improvement.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI want to build an automatic script that will create realistic reflections for every object on scene. If it works_co_ I will share my code_co_ but first I need some conceptual approval!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis is my idea_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t   - Loop though every mesh on scene\n_lt_/p_gt_\n\n_lt_p_gt_\n\t  - For each mesh_co_ create a reflection probe with an update of 1 so that the frame is only rendered once. The reflection probe shall contain all other meshes on scene except the current mesh.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t  In this way we would get N cubemaps_co_ being N the number of meshes on scene.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t - Next for each mesh we would set the reflection texture to the one generated by its reflection probe. And set the option to use local cubemaps.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t  For the *cubemap position* we would use the center of the mesh (assuming a rectangular bounding box). And for the cubemap bounding box size we would set it to the bounding box size of the mesh.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAll reflections would be position relative and calculated once only at startup.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhat do you guys think of this approach? Did I miss anything? Could it be improved?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks so much! _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_p.s_dd_ _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_ and _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/19199-pryme8/?do_eq_hovercard_qt_ data-mentionid_eq__qt_19199_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/19199-pryme8/_qt_ rel_eq__qt__qt__gt_@Pryme8_lt_/a_gt_ I have seen you talking about local cubemaps on recent forum posts. Any ideas? Am I getting the idea of the local cubemaps right? Thanks _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tP.s.s_dd_ for the texture size we would establish a minimum and maximum. Get all meshes on scene and get maximum bounding box and get minimum. Based on that we will do a ratio and the system will decide different textures sizes according to mesh relative size Inc comparison with the rest.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t  \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-07-23T16:01:41Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWell this looks good to me _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt_true_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt__gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_It could be really memory intense if you have a lot of objects but it is worth a try _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt_true_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt__gt__lt_/span_gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Rodrix3","Date":"2018-07-25T05:01:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_ here is the first proof of concept _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#J0D279%236_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#J0D279#6_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe idea is that you could add this line on any project to generate real reflections for the whole scene_dd_\n_lt_/p_gt_\n\n_lt_div style_eq__qt_background-color_dd_#fffffe_sm_color_dd_#000000_sm_font-size_dd_14px_sm__qt__gt_\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#008000_sm__qt__gt_//Just adding this line generates real reflections for all meshes_lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_strong_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_addRealReflections(scene)_sm__lt_/span_gt__lt_/strong_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t \n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\tIf we are able to optimize this_co_ I think it could be a great asset to Babylon.\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t \n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\tTo begi_co_n I need some help. I am not sure how to define the boundingBoxSize_co_ so we can set local reflections (which is the new feature from 3.2). I used _lt_strong_gt_extendSize_co_ _lt_/strong_gt_but it doesn_t_t seem I am getting the right result._lt_br /_gt_\n\t\tWhat exact property for getBoundingInfo().boundingBox should I use to get the size?_lt_br /_gt_\n\t\t \n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_Line 17_dd_ scene.meshes_lt_em_gt_.material.reflectionTexture.boundingBoxSize _eq_ scene.meshes_lt_/em_gt__lt_em_gt__lt_em_gt_.getBoundingInfo().boundingBox._lt_/em_gt__lt_/em_gt__lt_strong_gt__lt_em_gt__lt_em_gt_extendSize_lt_/em_gt__lt_/em_gt__lt_/strong_gt__lt_em_gt__lt_em_gt__sm__lt_/em_gt__lt_/em_gt__lt_/span_gt__lt_em_gt__lt_em_gt_ _lt_/em_gt__lt_/em_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_div style_eq__qt_background-color_dd_#fffffe_sm_color_dd_#000000_sm_font-size_dd_14px_sm__qt__gt_\n\t\t\t_lt_div_gt_\n\t\t\t\t_lt_em_gt__lt_em_gt_  _lt_/em_gt__lt_/em_gt_\n\t\t\t_lt_/div_gt_\n\t\t_lt_/div_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_em_gt__lt_em_gt_My ideas to continue_dd_ _lt_/em_gt__lt_/em_gt_\n\t_lt_/div_gt_\n\t_lt_em_gt__lt_em_gt_Imagine if we could create a load screen to wait fo reflections to be created (right now the screen gets frozen until reflection probes are done). _lt_/em_gt__lt_/em_gt__lt_br /_gt_\n\t_lt_em_gt__lt_em_gt_Imagine if we could generate them once_co_ and save to disk as hdr (and not have the user never wait.. they would be generated once by the developer and then loaded into the projects)_co_ and we could make this script into a pre-deployment utility to bake all reflections. _lt_/em_gt__lt_/em_gt_ _lt_em_gt__lt_em_gt_ _lt_/em_gt__lt_/em_gt_ _lt_em_gt__lt_em_gt_ _lt_/em_gt__lt_/em_gt_\n\n\t_lt_p_gt_\n\t\t_lt_em_gt__lt_em_gt_.. well those are some ideas. _lt_/em_gt__lt_/em_gt_\n\t_lt_/p_gt_\n\t_lt_em_gt__lt_em_gt_ _lt_/em_gt__lt_/em_gt_\n\n\t_lt_p_gt_\n\t\tWhat do you think? Maybe I am using local probes in a different way than intended and this whole idea won_t_t work..\n\t_lt_/p_gt_\n\n\t_lt_p_gt_\n\t\tLet me know your thoughts _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt_\n\t_lt_/p_gt_\n\n\t_lt_p_gt_\n\t\t_lt_span_gt_Thanks so much!_lt_/span_gt__lt_em_gt__lt_em_gt_ _lt_/em_gt__lt_/em_gt_\n\t_lt_/p_gt_\n\t_lt_em_gt__lt_em_gt_ _lt_/em_gt__lt_/em_gt_\n\n\t_lt_p_gt_\n\t\t_lt_em_gt__lt_em_gt_ _lt_/em_gt__lt_/em_gt__lt_em_gt__lt_em_gt_P.S_dd_ I hope other babyloners can chip in too to see if we can make something great together _lt_/em_gt__lt_/em_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_\n\t_lt_/p_gt_\n\t_lt_em_gt__lt_em_gt_ _lt_/em_gt__lt_/em_gt_\n\n\t_lt_div_gt_\n\t\t_lt_em_gt__lt_em_gt_ _lt_/em_gt__lt_/em_gt_\n\t_lt_/div_gt_\n\t_lt_em_gt__lt_em_gt_ _lt_/em_gt__lt_/em_gt_\n\n\t_lt_div_gt_\n\t\t_lt_em_gt__lt_em_gt_  _lt_/em_gt__lt_/em_gt_\n\t_lt_/div_gt_\n\t_lt_em_gt__lt_em_gt_ _lt_/em_gt__lt_/em_gt_\n_lt_/div_gt_\n\n_lt_p_gt_\n\t_lt_em_gt__lt_em_gt_  _lt_/em_gt__lt_/em_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Rodrix3","Date":"2018-07-26T01:31:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_br /_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt__co_ any thoughts? _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt__lt_br /_gt_\n\t..and any idea how to set  the _lt_span style_eq__qt_color_dd_#000000_sm__qt__gt__lt_strong_gt_boundingBoxSize_lt_/strong_gt_ properly?_lt_br /_gt_\n\t_lt_br /_gt_\n\tI am not sure how to get the actual size of the mesh_co_ and so if you look at my demo the reflections don_t_t look as they should.._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_07/image.png.35fbf1bd0897cb16b5dea49369f5440a.png_qt_ data-fileid_eq__qt_19385_qt_ rel_eq__qt__qt__gt__lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_19385_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_07/image.thumb.png.334b01b5c7f0ffcbbe11acf87d8c924a.png_qt_ alt_eq__qt_image.thumb.png.334b01b5c7f0ffcbbe11acf87d8c924a.png_qt_ /_gt__lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-07-26T16:13:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThe main problem is that local reflection map are mostly intended for flat surface and not for spherical ones _lt_span_gt__lt_img alt_eq__qt__dd_(_qt_ data-emoticon_eq__qt_true_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ title_eq__qt__dd_(_qt_ width_eq__qt_20_qt__gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_But it should be better than that anyway_dd_ _lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_* The bounding box size is expected in world space (extendsSize is local space you must use the world version)_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_* You must also set the boundingBoxPosition_lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Rodrix3","Date":"2018-07-26T16:40:41Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI updated it!\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#J0D279%2311_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#J0D279#11_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_I added these two lines and added a cube on the center to test reflections on a flat surface_dd__lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_div style_eq__qt_background-color_dd_#fffffe_sm_color_dd_#000000_sm_font-size_dd_14px_sm__qt__gt_\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_scene.meshes_lt_em_gt_.material.reflectionTexture.boundingBoxSize _eq_ scene.meshes_lt_/em_gt__lt_em_gt__lt_em_gt_.getBoundingInfo().boundingBox.extendSizeWorld_sm__lt_/em_gt__lt_/em_gt__lt_/span_gt__lt_em_gt__lt_em_gt_ _lt_/em_gt__lt_/em_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#000000_sm__qt__gt__lt_em_gt__lt_em_gt_scene.meshes_lt_/em_gt__lt_/em_gt__lt_em_gt__lt_em_gt__lt_em_gt_.material.reflectionTexture.boundingBoxPosition _eq_ scene.meshes_lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_em_gt__lt_em_gt__lt_em_gt__lt_em_gt_.position_sm__lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_/span_gt__lt_em_gt__lt_em_gt__lt_em_gt__lt_em_gt_ _lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_/em_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_em_gt__lt_em_gt__lt_em_gt__lt_em_gt_  _lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_/em_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_strong_gt__lt_em_gt__lt_em_gt__lt_em_gt__lt_em_gt_(Are they ok?)_lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_/strong_gt__lt_em_gt__lt_em_gt__lt_em_gt__lt_em_gt_ _lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_/em_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_em_gt__lt_em_gt__lt_em_gt__lt_em_gt_  _lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_/em_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_em_gt__lt_em_gt__lt_em_gt__lt_em_gt_The results don_t_t seem as expected....Also after changing to extendSizeWorld the reflection on the floor disappeared. Maybe we are not measuring the box size correctly or the position? (Is the position world coord?). _lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_br /_gt_\n\t\t_lt_em_gt__lt_em_gt__lt_em_gt__lt_em_gt_Thanks! ..I hope we can make this work. It would be really interesting. _lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_/em_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_img alt_eq__qt_image.png.46397ef1a787c22033497fa644844109.png_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_19400_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_07/image.png.46397ef1a787c22033497fa644844109.png_qt_ /_gt__lt_em_gt__lt_em_gt__lt_em_gt__lt_em_gt_ _lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_/em_gt_\n\t_lt_/div_gt_\n_lt_/div_gt_\n\n_lt_p_gt_\n\t_lt_em_gt__lt_em_gt__lt_em_gt__lt_em_gt_  _lt_/em_gt__lt_/em_gt__lt_/em_gt__lt_/em_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Rodrix3","Date":"2018-07-26T18:49:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThe results are much better than not using local reflection probes_co_ but I hope we can improve it.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI want to test this for a bigger scene. Is there any way I can put make each reflection probe to_lt_strong_gt_ load one at a tim_lt_/strong_gt_e instead all at once and put be able to _lt_strong_gt_display on  loading screen_lt_/strong_gt_  the progress for each probe?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_This is the comparison between local and non local reflection probes. _lt_/strong_gt_There is an improvement_co_ but I am quite sure most likely I haven_t_t set the position or size of bounding box correctly_co_ so please help me double check it.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_07/image.png.e92056ed7018799dffa55182e79a306b.png_qt_ data-fileid_eq__qt_19404_qt_ rel_eq__qt__qt__gt__lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_19404_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_07/image.thumb.png.669ee52f45fe5048b44960dab97b233b.png_qt_ alt_eq__qt_image.thumb.png.669ee52f45fe5048b44960dab97b233b.png_qt_ /_gt__lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Rodrix3","Date":"2018-07-26T23:06:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHere is an update with some tweaking_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#J0D279%2314_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#J0D279#14_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe results seems to be pretty GOOD and now reflections are making more sense_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ data-fileid_eq__qt_19409_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_07/image.png.652e6f1ce208dc7c9c9b3c472e225899.png_qt_ rel_eq__qt__qt__gt__lt_img alt_eq__qt_image.thumb.png.b785f6fd504ff50cb175fea5320ebc87.png_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_19409_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_07/image.thumb.png.b785f6fd504ff50cb175fea5320ebc87.png_qt_ /_gt__lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t. I think this idea has a lot of potential_sm_ however_co_ I really need the community_t_s help. I can_t_t do this alone._lt_br /_gt_\n\tDeltakosh is always there on every post - and I thank you!\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_..but could others chip in so you can help me solve this faster?_lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_strong_gt_IMPORTANT_dd_ Even if you are not an advanced Babylon user and you are reading this you could help me with some basics (I come from ThreeJs)_dd__lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_ul_gt_\n\t_lt_li_gt_\n\t\t_lt_strong_gt_How can I get the size of a bounding box that wraps a mesh (I need a vector3 with x_co_y_co_z sides of the box)?_lt_/strong_gt__lt_br /_gt_\n\t\t_lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_mesh.getBoundingInfo().boundingBox.extendSizeWorld &lt_sm__eq_ Correct?_lt_/span_gt__lt_br /_gt_\n\t\t \n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\t_lt_strong_gt_How can I get the _lt_em_gt_world _lt_/em_gt_position of a mesh?_lt_/strong_gt__lt_br /_gt_\n\t\tmesh.position &lt_sm__eq_ correct? Or is this local position in relation to root?_lt_br /_gt_\n\t\t \n\t_lt_/li_gt_\n_lt_/ul_gt_\n\n_lt_div style_eq__qt_background-color_dd_#fffffe_sm_color_dd_#000000_sm_font-size_dd_14px_sm__qt__gt_\n\t_lt_div style_eq__qt_background-color_dd_#fffffe_sm_color_dd_#000000_sm_font-size_dd_14px_sm__qt__gt_\n\t\t_lt_ul_gt_\n\t\t\t_lt_li_gt_\n\t\t\t\t_lt_strong_gt_How can I get the size of a mesh by wrapping it with a sphere in world coord?_lt_/strong_gt__lt_br /_gt_\n\t\t\t\tmeshes_lt_em_gt_.getBoundingInfo().boundingSphere.radiusWorld &lt_sm__eq_ correct?_lt_/em_gt__lt_br /_gt_\n\t\t\t\t \n\t\t\t_lt_/li_gt_\n\t\t\t_lt_li_gt_\n\t\t\t\t_lt_b_gt_Is there any way to apply blur to a cubeTexture object? Or is there any way we can make the reflection appear blurred?_lt_/b_gt__lt_br /_gt_\n\t\t\t\treflectionTexture.blurKernel  and reflectionTexture.adaptiveblurKernel _eq_&gt_sm_ do nothing (specs says this applies to mirror texture_co_ but nothing about cubetexture)._lt_br /_gt_\n\t\t\t\tIs there any shader expert who knows how to do this via shaders? Or is there any other way to it?_lt_br /_gt_\n\t\t\t\tCould we convert it to equirectangular_co_ blur it_co_ and then reconvert it into a cubetexture? Is there a simpler way?_lt_br /_gt_\n\t\t\t\tWe are on PBR_co_ but roughness doesn_t_t seem to blur the reflection texture._lt_br /_gt_\n\t\t\t\t \n\t\t\t_lt_/li_gt_\n\t\t\t_lt_li_gt_\n\t\t\t\t_lt_strong_gt_Is there any way to convert a cubeTexture to a equirectangular format (so it can be seen on 2d) and saved to disk? or easier question_dd_ is there a way to save a cubeTexture (from a reflection probe) to disk? In dds format or whatever format._lt_/strong_gt__lt_br /_gt_\n\t\t\t\tThe purpose would be to save the cubeTexture to disk_co_ and not have it generated. We could create a tool to bake all reflections_co_ and then save to disk. _lt_br /_gt_\n\t\t\t\tSo we would calculate all reflections once_co_ save to disk_co_ and on deployment just provide the textures that would be loaded as cubemaps from equirectangular / spherical / or any other projection that can be saved in one file._lt_br /_gt_\n\t\t\t\t \n\t\t\t_lt_/li_gt_\n\t\t\t_lt_li_gt_\n\t\t\t\t_lt_em_gt_ _lt_/em_gt_ _lt_b_gt_Is there any way to get callbacks on BABYLON.ReflectionProbe and know when each has finished rendering?_lt_/b_gt__lt_br /_gt_\n\t\t\t\tI am using probe.refreshRate _eq_ BABYLON.RenderTargetTexture.REFRESHRATE_RENDER_ONCE_sm__lt_br /_gt_\n\t\t\t\t.. I would like to have on the load screen (Babylon loader) a text that shows how many probes are pending to render. Is there any way to integrate the Reflection Probes into the Babylon Loader?_lt_br /_gt_\n\t\t\t\t \n\t\t\t_lt_/li_gt_\n\t\t\t_lt_li_gt_\n\t\t\t\t_lt_em_gt_  _lt_/em_gt_ _lt_b_gt_Is there anyone who can explain more about reflectionTexture.boundingBoxSize?_lt_/b_gt__lt_br /_gt_\n\t\t\t\tI can_t_t find any information about it. I tried setting it to  mesh.getBoundingInfo().boundingBox.extendSizeWorld() and I get bad results (reflections appear too small)_dd__lt_br /_gt_\n\t\t\t\tArbitrarily I set it to getBoundingInfo().boundingBox.extendSizeWorld.scale(6) and now results are better_sm_ but I need to really understand what it means and what I am doing_co__lt_br /_gt_\n\t\t\t\tso I can set this value dynamically for all objects on scene correctly. _lt_br /_gt_\n\t\t\t\t \n\t\t\t_lt_/li_gt_\n\t\t\t_lt_li_gt_\n\t\t\t\t  _lt_b_gt_If you can_t_t answer any of the questions but you like what I am doing_co_ also please let me know!_lt_/b_gt__lt_br /_gt_\n\t\t\t\tAnd if you are an advanced user and you think my concept is a bad idea_co_ please also let me know so I don_t_t lose so much time in this investigation_co_ or so we can together make it different and better!\n\t\t\t_lt_/li_gt_\n\t\t_lt_/ul_gt_\n\n\t\t_lt_p_gt_\n\t\t\tThanks everyone! _lt_span_gt__lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt__lt_/span_gt_  \n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/div_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2018-07-27T00:43:00Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWow_co_ good work.  When I get some time ill review and lend input.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"hcmetal","Date":"2018-09-19T01:31:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tJust sharing my 2 cents here. I think this will be a solid functionality that will make Babylon even more powerful.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tEven if the reflection update is not _t_real-time-ish_t_ due to performance constrains_co_ having dynamic HDR map generation will be a great efficiency boost.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am a total newbie to Babylon_co_ but have some experience with traditional ArchViz. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo I might not be able to help with the code_co_ but I would like to try this out and provide test cases ( archviz scene with interior and exterior ) once this is functional in Babylon.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/27138-rodrix3/?do_eq_hovercard_qt_ data-mentionid_eq__qt_27138_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/27138-rodrix3/_qt_ rel_eq__qt__qt__gt_@Rodrix3_lt_/a_gt__co_ thanks for your good work. Really looking forward to this.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]