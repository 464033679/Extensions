[{"Owner":"Toushin","Date":"2015-04-10T15:57:52Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hello_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_a little about my project first_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I am trying to create an editor_co_ with which users can customize the look of products. I use babylon.js for the preview_co_ which uses a dynamic texture to display user-input. This works as intended_co_ so far._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I have 3 meshes on top of each other_co_ a background-plane_co_ a foreground-plane and a transparent plane simulating glass_co_ which uses a material with fresnel parameters._lt_/p_gt__lt_p_gt_The material for the foreground-plane uses the dynamic texture and has _qt_hasAlpha_qt_ set to true_co_ so I can show the background underneath._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Unfortunately this seems to drop some pixels_co_ especially for blured or semitransparent objects_co_ users are able to place in the editor._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Looking through the forum I found a solution for the dropped pixels_co_ by using the diffuseTexture also for the opacityTexture od the material. This seems to prevent pixels from being droped_co_ but visible parts of the texture now look like the glass-mesh isn_t_t even there._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I attached 2 screenshots to show my problem_co_ the first without opacityTexture_co_ the second with opacityTexture._lt_/p_gt__lt_p_gt__lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_04_2015/post-10928-0-82464100-1428681081.png_qt_ rel_eq__qt_external nofollow_qt__gt__lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_04_2015/post-10928-0-82464100-1428681081.png_qt_ data-fileid_eq__qt_4043_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_post-10928-0-82464100-1428681081.png_qt__gt__lt_/a_gt__lt_/p_gt__lt_p_gt__lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_04_2015/post-10928-0-16593200-1428681082.png_qt_ rel_eq__qt_external nofollow_qt__gt__lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_04_2015/post-10928-0-16593200-1428681082.png_qt_ data-fileid_eq__qt_4044_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_post-10928-0-16593200-1428681082.png_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-04-10T17:57:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hey!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Do you think you can try to reproduce it in the Playground? That_t_s far easier for us to help you then_dd_)_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jahow","Date":"2015-04-11T09:08:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hey_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The example on the left shows 2 kind of problems_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_1. jagged edges around the drawn text_dd_ this is probably due to the built-in WebGL smoothing_sm_ I_t_d advise you to try to disable it and see if the problem is still there. To do that_co_ create the engine object like so_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_engine _eq_ new BABYLON.Engine(canvas_co_ false)_sm_ _lt_/pre_gt__lt_p_gt_2. incorrect transparency around the deer (is that a deer?). This is because the mesh with the deer on it is considered _lt_strong_gt_alpha-tested_lt_/strong_gt__co_ not alpha-blended. Adding an opacity texture to it makes it alpha blended_co_ like on the right_co_ which is what you seem to want. _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/page.php?p_eq_25100_qt_ rel_eq__qt_external nofollow_qt__gt_More info here_lt_/a_gt_ (I just wrote this so I_t_m happy if that helps _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ )._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_What you can try_dd_ instead of adding an opacity texture to the material_co_ set the _lt_span style_eq__qt_color_dd_rgb(0_co_0_co_0)_sm_font-family_dd_monospace_sm_font-size_dd_13px_sm_background-color_dd_rgb(248_co_248_co_248)_sm__qt__gt_.useAlphaFromDiffuseTexture_lt_/span_gt_ property on the material to true_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Also_co_ like DK said_co_ it_t_s really hard to help you without more details on how your scene works._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Good luck!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Toushin","Date":"2015-04-13T08:57:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Ok_co_ I tried building something similar to my problem _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#17MONN%234_qt_ rel_eq__qt_external nofollow_qt__gt_here_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jahow","Date":"2015-04-13T12:32:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#17MONN%237_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#17MONN#7_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Does it look better now? The thing is_co_ in the playground you_t_ve posted_co_ the plane with the decals on it was rendered last_co_ and as such the white rectangle was drawn on top of the box with the grey fresnel effect. I_t_ve set the property _lt_span style_eq__qt_font-family_dd__t_courier new_t__co_ courier_co_ monospace_sm__qt__gt_.renderingGroupId_lt_/span_gt_ of the grey box to 1_co_ which means it will be rendered after all the other meshes (which have this property set to default_co_ which is 0)._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Toushin","Date":"2015-04-13T15:15:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Setting the .renderingGroupId doesn_t_t seem to be the solution I am looking for_co_ I extended the playground _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#17MONN%238_qt_ rel_eq__qt_external nofollow_qt__gt_here_lt_/a_gt_ to show why_co_ if I have additional meshes in the scene_co_ any mesh for which I set .renderGroupId to 1 will be visible through everything else._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I_t_ll try to strip down my program to the bare essentials and post it here_co_ that_t_ll probably be better than me trying to show something in the playground and forgetting half of the stuff I use_co_ especially since I use imported meshes._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Edit_dd_ the example can be found _lt_a href_eq__qt_https_dd_//www.dropbox.com/s/f2b5gzxl27qn43y/base%20example.rar?dl_eq_0_qt_ rel_eq__qt_external nofollow_qt__gt_here_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jahow","Date":"2015-04-14T08:04:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Another solution_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#17MONN%2311_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#17MONN#11_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_By setting the _lt_span style_eq__qt_font-family_dd__t_courier new_t__co_ courier_co_ monospace_sm__qt__gt_alphaIndex_lt_/span_gt_ property on the _t_foreground_t_ object to zero_co_ it will always be displayed before the glass material. This property overrides the depth sorting algorithm_co_ meaning that this object will always be rendered before any other transparent mesh that doesn_t_t have this property set to 0. I don_t_t think this feature is documented anywhere though..._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_You have many solutions at hand_co_ so it all depends on how your scene will be expanded. Will you add more objects around the mug? Will you have several layers of _t_foreground_t_ objects? Getting transparency right requires a little bit of planning ahead_dd_ which meshes are transparent or not_co_ is it possible that they overlap_co_ etc._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Toushin","Date":"2015-04-14T08:31:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Thanks jahow_co_ you really helped me out there._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jahow","Date":"2015-04-14T08:34:50Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_You_t_re welcome _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2015-04-14T09:28:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hey Jahow_co_ wonderful solution! This should be somehow documented. Do you have the time to update the documentation? I have never used the alphaIndex property_co_ it would be great to actually know what it does _dd_-) _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jahow","Date":"2015-04-14T12:26:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Yeah_co_ I actually found out about this property when looking at BJS_t_s depth sorting function_dd_ _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/Babylon/Rendering/babylon.renderingGroup.ts#L53_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/Babylon/Rendering/babylon.renderingGroup.ts#L53_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I updated the page about transparency_co_ so now it_t_s documented_dd_ _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/page.php?p_eq_25100_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/page.php?p_eq_25100_lt_/a_gt__lt_/p_gt__lt_div_gt_ _lt_/div_gt__lt_div_gt__lt_p_gt_To be honest I_t_m not sure about the intent of the BJS creators with this property. I_t_ve never seen it used or commented anywhere_co_ but you know_co_ it works well so why not use it _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_/div_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"NasimiAsl","Date":"2015-04-14T16:41:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt__lt_a href_eq__qt_http_dd_//eash.space/eash-preview.html?glass_alpha.0.00003_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//eash.space/eash-preview.html?glass_alpha.0.00003_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_i make this with shader_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]