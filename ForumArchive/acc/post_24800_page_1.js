[{"Owner":"royibernthal","Date":"2016-08-27T12:12:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_d like to manually rotate my ArcRotateCamera around the target by code_co_ taking into account the radius of the camera.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt should imitate how it works with user control when camera.attachControl(canvas_co_ true).\n_lt_/p_gt_\n\n_lt_p_gt_\n\te.g. something like camera.setRotation(Math.PI_co_ 0_co_ 0) - which doesn_t_t exist.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHow do I do that?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"max123","Date":"2016-08-27T12:19:41Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tinside render loop_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tmyCamera.alpha +_eq_ .01_sm_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"royibernthal","Date":"2016-08-27T14:32:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThank you\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-08-27T15:30:31Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi guys.  Although off-topic_co_ you can _qt_go weird_qt__co_ and orbit a freeCamera around a .lockedTarget_co_ too.  (or continuously set camera target in the render loop... instead of using ._lt_em_gt_lockedTarget_lt_/em_gt_).  Let_t_s try the ._lt_em_gt_lockedTarget_lt_/em_gt_ method_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#1TKWSG%230_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#1TKWSG#0_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt takes a little sine and cosine stuff in the render loop_co_ but still fun.  I always go to _lt_a href_eq__qt_http_dd_//babylonjs-playground.azurewebsites.net/?6_qt_ rel_eq__qt_external nofollow_qt__gt_our playground lights demo_lt_/a_gt_... (line 58)... to borrow that sine/cosine orbiting code (from Deltakosh).  It works for orbiting ANYTHING... mesh_co_ lights_co_ cameras_co_ etc.  It would be nice if spotlights had a .lockedTarget_co_ too_co_ but they have a workable .setDirectionToTarget(mesh.position) that can be repeatedly called in the renderLoop.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#Y8WGP%2311_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#Y8WGP#11_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis is an interesting playground.  Allow me to take us on a tour_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLine 22 - Fun.  Sometimes_co_ blue is a wimpy color.  Here we see the spotlight (light2) with a blue component of 6!  Essentially_co_ an illegal value_co_ but it works great for extra blue-ness.  All BJS color3 and color4 ... can use _qt_souped-up_qt_ over-coloring_co_ like this.  It helps tooty-frooty-up the scene colors.  heh.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLines 26/27 - The light cone.  First I rotate the cone to match the spotlight (line 26)_co_ and then _qt_bake_qt_ that rotation into the cone (line 27).  Doing that... _qt_naturalizes_qt_ the cone_t_s current rotation (in this case_co_ to match the spotlight_t_s natural ._lt_em_gt_direction_lt_/em_gt_).  Whenever you rotate a mesh_co_ then do that .bakeCurrentTransformIntoVertices()_co_ it keeps the mesh rotated as it is_co_ but sets all its .rotation values to 0_co_0_co_0 again.  It is much like re-modeling the cone... to make it _qt_naturally_qt_ have a different default rotation... even while maintaining a rotation value of 0_co_0_co_0.  Cool_co_ huh?  Needed... to make the cone match the spotlight.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLine 60 - This is saying _qt_Don_t_t let light1 (a directionalLight marked with yellow sphere) add to the lighting of the torus._qt_  In this case_co_ I ONLY want the spotlight (light2) to light the torus.  But_co_ light1 is STILL creating the black shadow.  This is what the user wanted... when this playground was assembled.  Cast shadow with light1_co_ but don_t_t affect the torus material color.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLine 68 - inside the renderLoop.  There_t_s our now-familiar orbiting line... using a variable named _lt_em_gt_alpha_lt_/em_gt_ instead of the _lt_em_gt_orbit_lt_/em_gt_ variable we used earlier.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLine 70 - there_t_s that ._lt_em_gt_setDirectionToTarget(mesh.position)_lt_/em_gt_ that I mentioned earlier (available on all light types that use a ._lt_em_gt_direction_lt_/em_gt_ property).  When put in the renderLoop_co_ it _qt_acts_qt_ like a ._lt_em_gt_lockedTarget_lt_/em_gt_ for our spotlight.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLine 71 - Because we _qt_naturalized_qt_ (baked) a rotational-transform into the light cone_co_ now we can use the handy _lt_em_gt_.lookAt()_lt_/em_gt_ function/feature found on all mesh.  Easy.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLine 72 - this keeps the orbit moving.  It_t_s easy to accidentally forget.   Be careful_co_ here.  This line is changing the _lt_strong_gt_variable_lt_/strong_gt_ named _lt_em_gt_alpha_lt_/em_gt__co_ and NOT the .alpha property on the arcRotateCamera.  This is why I used _lt_em_gt_orbit_lt_/em_gt_ in my earlier example... to avoid any confusion.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTour complete.  I like follow-spotlights with light cone gizmos attached.  They remind me of the light in the guard tower... in the Hogan_t_s Heroes TV show.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  Be well_co_ guys.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"royibernthal","Date":"2016-08-27T23:19:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tI learned a few new things _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-08-28T00:58:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ Good.  One more little secret.  Let_t_s look at this PG for a moment_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1HQPOD%239_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1HQPOD#9_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou see three spheres_co_ rotating via the renderLoop (lines 89-91)_co_ (just like _lt_span_gt_Max123 showed us)_co_ b_lt_/span_gt_ut how are they orbiting?  Why aren_t_t they rotating around their pivot point in the middle of each sphere?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWell_co_ let_t_s look at lines 18_co_ 21_co_ 24.  setPivotMatrix... or in other words_co_ move the pivot point.  THAT_t_s why they appear to orbit.  Cool_co_ huh?  Although setPivotMatrix is the _qt_approved_qt_ and shortest method of setting a mesh pivot point_co_ there is another way.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1HQPOD%2312_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1HQPOD#12_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhy do something with ONE line of code... when you can use THREE lines_co_ right?  _lt_img alt_eq__qt__sm_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ title_eq__qt__sm_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tCheck out lines 19-21_co_ 25-27_co_ and 31-33.  Hey_co_ there_t_s our _lt_em_gt_bakeCurrentTransformIntoVertices()_lt_/em_gt_ used once again.  I .positioned the mesh _lt_u_gt_away from_lt_/u_gt_ 0_co_0_co_0 (often called origin)... then baked_co_ then moved them BACK to origin.  It is another way to move the pivot point (the center) of a mesh.  _lt_em_gt_bakeCurrentTransformIntoVertices()_lt_/em_gt_ is quite a handy feature. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tNow forget that I showed you this_co_ because setPivotMatrix() is better and shorter.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tWhat_t_s that?  You say that we did rotation baking_co_ and position baking_co_ but now you want to try scaling baking?  Ok_co_ here we go.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1HQPOD%2313_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1HQPOD#13_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLines 23-25... up-scale the Y axis by 4_co_ do the bake_co_ report the current scaling to console. Console says { x_dd_ 1_co_ y_dd_ 1_co_ z_dd_ 1 }.  Naturalized!  The baking... reset the scaling _lt_u_gt_values_lt_/u_gt_ to 1_co_ 1_co_ 1_co_ but our sphere stayed tall.  Coooool_co_ huh? \n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou probably know all this already_co_ Royi.  Sorry.  I hope you don_t_t mind me trashing your thread with yet another _qt_Wingnut finds something fascinating_qt_ yap-fest.  Sometimes I get into _qt_tutorial mode_qt_ and lose control of my brain.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  I really don_t_t like the authoring interface to the BJS docs system.  It has a workflow akin-to putting a concrete block into a champagne glass_co_ imho.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOk_co_ time for Wingnut to .bakeCurrentChickenPotPieIntoOven().  Party on_co_ everyone!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"royibernthal","Date":"2016-08-28T12:48:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tInteresting _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]