[{"Owner":"Nitrous9","Date":"2015-10-21T19:48:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hello!_lt_/p_gt__lt_p_gt_I really love Babylonjs!  However we might not be able to use it due to an issue with how Babylon renders Sprites with and transperant mesh._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The problem we are having is that Sprites don_t_t seem to be tinted when seen through a transperant mesh.  See the example Playground_co_  I would expect the sprites that are on the other side of the red sphere to be tinted Red_dd_  _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#HW4B6%234_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#HW4B6#4_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The reason we are using SpriteManagager instead of particles is because in our game_co_ they don_t_t move.  The player moves around and things happen when they collide with a Sprite.  Having a reference to a sprite with it_t_s position_co_ color_co_ etc_co_ was much easier to work with than a particle emitter._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Does anyone know if there is a way to get the sprites to be tinted Red as if seeing them through the transperant mesh?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Babylonjs is awesome!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thank you!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-10-21T20:45:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello!!\n_lt_/p_gt_\n\n_lt_div_gt_\n\t_lt_div_gt_\n\t\t_lt_p_gt_\n\t\t\t \n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tWe have billboard for _qt_sprite mesh_qt_ _lt_a href_eq__qt_https_dd_//t.co/KOGT6WSBIX_qt_ rel_eq__qt_external nofollow_qt_ title_eq__qt_http_dd_//www.babylonjs-playground.com/#HW4B6#5_qt__gt__lt_span_gt_http_dd_//www._lt_/span_gt__lt_span_gt_babylonjs-playground.com/#HW4B6#5_lt_/span_gt__lt_/a_gt_\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t \n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tBut even better with SPS _lt_a href_eq__qt_https_dd_//t.co/mKQbzkbwsG_qt_ rel_eq__qt_external nofollow_qt_ title_eq__qt_http_dd_//www.babylonjs-playground.com/#WCDZS#3_qt__gt__lt_span_gt_http_dd_//www._lt_/span_gt__lt_span_gt_babylonjs-playground.com/#WCDZS#3_lt_/span_gt__lt_/a_gt_ (You are not forced to update particles on every frame_co_ you can literally control particles like sprite). See documentation here_dd_ _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/overviews/Solid_Particle_System_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/overviews/Solid_Particle_System_lt_/a_gt_\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/div_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-10-21T20:47:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_You can also play with renderingGroupId_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#HW4B6%236_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#HW4B6#6_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-10-21T20:54:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_OR EVEN BETTER (I_t_m unstoppable _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_) with instances_dd__lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#HW4B6%238_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#HW4B6#8_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nitrous9","Date":"2015-10-21T22:54:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Deltakosh_co__lt_/p_gt__lt_p_gt_Thank you so much for your time helping us find a solution to this problem!  I think we are so close_co_ and I think the SPS might work depending on how well it performs with many many particles. _lt_/p_gt__lt_p_gt_I think it would be easier if I listed our requirements_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Requirements_dd__lt_/p_gt__lt_p_gt_1.  We need to draw 125_co_000ish particles and have frame rate remain smooth &gt_sm_ 20 fps._lt_/p_gt__lt_p_gt_2.  We need particles to be tinted when looking through a transperant mesh based on the color of the mesh_co_ and particles between the camera and the mesh should render on top of the mesh._lt_/p_gt__lt_p_gt_3.  We need particles in an easy to use array so that we can check for collisions with the player._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Possible Solutions_dd__lt_/p_gt__lt_p_gt_1. SpirteManager is excellent at #1 we can render over 125_co_000 sprites and frame rate and loading time is still very fast.  It is also good at #3_co_ we have all of our sprites in a nice neat array.  However it fails at #2.  Hence this post._lt_/p_gt__lt_p_gt_2. Mesh based billboard plane.  Excellent at #2 and #3 but fails at #1_co_ 125k of these and frame rate is terrible._lt_/p_gt__lt_p_gt_3. SPS definitely solves #2 and I think #3_co_ however I_t_m not sure about #1.  Could you show me a version of this playground using SPS? _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#HW4B6%236_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#HW4B6#6_lt_/a_gt__lt_/p_gt__lt_p_gt_That way I can play with the numbers to see how many I draw._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thank you!!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-10-21T23:08:31Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Here is it_dd__lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#WCDZS%234_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#WCDZS#4_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Your word is my command _sm_D_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-10-21T23:41:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_And now SURPRISE_dd_ I fixed the sprites and particles scheduler._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_You should empt your cache and reclick on your own playground test_dd__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#HW4B6%234_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#HW4B6#4_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-10-21T23:57:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_There is a double semicolon too which is dragging in the code with the last PR Deltakosh_lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_Effect.prototype._cacheMatrix _eq_ function (uniformName_co_ matrix) {            if (!this._valueCache[uniformName]) {                this._valueCache[uniformName] _eq_ new BABYLON.Matrix()_sm_            }            for (var index _eq_ 0_sm_ index &lt_sm_ 16_sm_ index++) {                this._valueCache[uniformName].m[index] _eq_ matrix.m[index]_sm_            }        }_sm_        _sm__lt_/pre_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-10-22T00:04:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Correct_dd_) I_t_ll fix it!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_thanks!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nitrous9","Date":"2015-10-22T02:54:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Wow Deltakosh!  Thank you so much!  That fix satisfies all requirements now.  You are awesome!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"fenomas","Date":"2015-10-22T12:54:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Wait_co_ so what changed for sprites and particles? Particles render after transparent meshes now_co_ instead of before?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"iiceman","Date":"2015-10-22T13:09:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#2HVCC3_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#2HVCC3_lt_/a_gt_ It_t_s the same as before_co_ right?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Vousk-prod.","Date":"2015-10-22T18:25:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_102059_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_18064_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt_ data-cite_eq__qt_Deltakosh_qt_ data-ipsquote-timestamp_eq__qt_1445468911_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt_Here is it_dd__lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#WCDZS%234_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#WCDZS#4_lt_/a_gt__lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I_t_m always astonished by the perfs of SPS_co_ really well done jerome!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Vousk-prod.","Date":"2015-10-22T18:26:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_102162_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_18064_qt_ data-ipsquote-username_eq__qt_iiceman_qt_ data-cite_eq__qt_iiceman_qt_ data-ipsquote-timestamp_eq__qt_1445519388_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#2HVCC3_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#2HVCC3_lt_/a_gt_ It_t_s the same as before_co_ right?_lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Sounds like it_t_s the case._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"fenomas","Date":"2015-10-23T15:43:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_102162_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_18064_qt_ data-ipsquote-username_eq__qt_iiceman_qt_ data-cite_eq__qt_iiceman_qt_ data-ipsquote-timestamp_eq__qt_1445519388_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#2HVCC3_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#2HVCC3_lt_/a_gt_ It_t_s the same as before_co_ right?_lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_No_co_ it used to be the opposite - particles drew on top of transparent meshes regardless of depth._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Sprites seem to be different too. Can someone explain what_t_s changed?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Vousk-prod.","Date":"2015-10-23T16:08:34Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_102378_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_18064_qt_ data-ipsquote-username_eq__qt_fenomas_qt_ data-cite_eq__qt_fenomas_qt_ data-ipsquote-timestamp_eq__qt_1445614988_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt_No_co_ it used to be the opposite - particles drew on top of transparent meshes regardless of depth._lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I think iiceman means _qt_as before we decided to change the draw order several month ago_qt_. I seem to recall that in the beginning of the year we had similar discussion and the decision to draw particles above meshes was taken (but I_t_m not totally sure_co_ I don_t_t remember exactly)_co_ and now we_t_ve just reverted back._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Vousk-prod.","Date":"2015-10-23T16:09:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_102378_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_18064_qt_ data-ipsquote-username_eq__qt_fenomas_qt_ data-cite_eq__qt_fenomas_qt_ data-ipsquote-timestamp_eq__qt_1445614988_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt_Sprites seem to be different too. Can someone explain what_t_s changed?_lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I think the difference for sprites is now they take depth in account to be tinted when under a semi transparent mesh._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-10-23T17:38:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Correct_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]