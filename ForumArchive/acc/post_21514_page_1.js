[{"Owner":"dbawel","Date":"2016-03-28T04:20:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn using various file formats for a videoTexture_co_ I have an .mp4 file at 3896 KB_co_ an .ogv file at 4421 KB_co_ and a .webm file at 4421 KB. On my PC_co_ they all load and play within 1 second_co_ but on my Android devices_co_ the .mp4 file causes my mesh object (a plane) approximately 15 -30 seconds to display a black surface as if it could not find the texture_co_ and when I press my play button (a simple GUI element which initiates the play() function_co_ it takes another approximately 15 or more seconds to begin playing the .mp4 video file. However_co_ when the source is an .ogv or a .webm file both at a smaller file size_co_ they load in approximately 1 second and play in approximately 1 second after pressing my play button. I have tried practically every setting available to format the .mp4 video file to improve performance on Android devices_co_ however_co_ nothing has improved the performance.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAny thoughts on such poor performance of .mp4 files on Android would be appriciated - as well as to identify the Android OS and avoid loading .mp4 files on Android - but continue to load .mp4 on PC and MAC OS for improved quality for file size.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAlso_co_ I_t_ve tried every possible way to stop autoplay of a videoTexture on Windows_co_ but nothing appears to work. I thought that Wingnut had posted a playground scene which paused autoplay on PC_co_ although I can only find a couple that chnge playback speed and pause on a pointerUp scene event. However_co_ what I_t_d truly like to be able to do is pause every device at frame 0 or frame 1 (in .ms of course) using some functio utilizing (htmlVideo.currentTime). \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAs always_co_ thank you for your help with any of these questions.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCheers_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDB\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2016-03-28T14:33:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOn .mp4_co_ I quickly scanned you message for the word codec.  Not found.  I am only aware of one specific .mp4 codec_co_ H264.  You might try searching like _qt_android codec issues_qt_ or _qt_codec for streaming_qt_.  Some may be geared for streaming_co_ and perform very poorly for random fast forwarding.  Where as others might be great for positioning_co_ but geared for Blueray / movie theaters where that is just a 10 milli seek penalty.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have attempted a manual source code transform of JCodec_t_s Java source code (H264) to Typescript_co_ but not completed it yet.  It was pretty elaborate in size reduction.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"dbawel","Date":"2016-04-01T20:11:46Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi JC_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI read your response a couple days ago_co_ but didn_t_t have time to respond until now. Thank you for your advice_co_ and I believe I_t_ve now exhausted all possible trials of video formats_co_ codecs_co_ and compression settings. I had previously tried every possible codec for .mp4_co_ and primarily using Handbrake (but not limited to only this applcation)_co_ and I truly tested every possible format_co_ codec_co_ and configuration - which I have a background in video streaming and various codecs_co_ but as the time delays I_t_m seeing on Android are outragously long_co_ I sought out to find an answer or possible improvement in .mp4 performance on Android and other mobile devices. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAs is recommended by everyone online_co_ compressing your .mp4 file using H.264 baseline should produce the most efficient .mp4 for playback on Android and other devices. However_co_ I spent hours setting all possible conditions and combinations for .mp4 encoding_co_ and I found either no playback or the same performance as before - even though I generally knew from past experience what should work best. As mentioned_co_ a baseline H.264 profile should by far provide the best results_co_ however_co_ since I_t_ve exhausted every possible method_co_ quality setting_co_ framerate parameters_co_ audio codecs and settings_co_ etc._co_ I_t_ve come to the conclusion that the .mp4 video compression format using H.264 or H.265 is only usable if the file is loaded into local memory_co_ and not either downloading or streaming from a URL. However_co_ I am (and have been sucessful) able to convert my video files to .ogv_co_ and they play within one second consistantly on every Android and other mobile device I_t_ve teseted - even when the file size is substantially larger. It required at least 20 seconds for a 3896 KB .mp4 video and audio file to load onto an android mobile device_co_ and as autoplay is not _qt_true_qt_ by default_co_ once playback is initiate by the user_co_ it requires another 15 or more seconds to begin playback. However_co_ as for .ogv and .webm files (I prefer .ogv for compatability across multiple platforms - although I_t_ve also had great success with .webm files) these formats for the same video content as my test .mp4 file - and at a file size of 10 -13 MB per file_co_ load within approximately a second_co_ and begin playback within one second afer the user presses play_co_ I should also inform that my source is also 1280 X 720p and the quality and performance is excellent on all devices.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo I_t_m not familiar enought with HTML video playback (I don_t_t have years of experience_co_ but only months) to know if the results I_t_ve found are consistant with anyone else_t_s testing_co_ but I believe that I will begin supporting mainly .ogv files as the performance and quality are excellent on all playforms and devices I_t_ve tested - even if it is not a compressed file format. So as everyone most likely knows_co_ an .mp4 file at HD resolution will provide the smallest file size whie still maintaining the best quality. Whaereas .ogv and .webm file formats are typically not compressed_co_ and thus require larger filesize - which I would assume cause poorer performance overall compared to the efficient .mp4 file format. But if you are formatting video media for multiple devices and specificaly mobile_co_ then I would definately chose .ogv or another format such as .webm_co_ as they will provide far better performance across multiple display devices - and I find the they fuction well on every device I checked - which was everything from PC to Mac to Android_co_ and on Ipad and Iphone. However_co_ if I am only developing media for PC or IOS (not mobile)_co_ then I would certainly use .mp4 for video and audio as it supports high resolution and quality at the lowest file size - with no performance problems that I could find at all when compared to most every other video and audio file format_co_ compressed or not. and now you have the next widely used standard upon us which is H.265 which is a highly efficient codec and compression algorithm. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo unles your target is mobile or anything other than desktop and laptop running Windows or IOS_co_ I would avoid .mp4 for video file format at all costs. If it_t_s only audio_co_ I don_t_t know at what size and/or conditions .mp4 audio files lose performance compared to other formats_co_ but I_t_m sure someone will find this barrier at some point in the future.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd by the way_co_ I had asked a second question in my original post_co_ which I_t_m sure was overlooked - but if anyone can advise me how to set autoplay_dd_false on a video texture and actually have the video texture pause once loaded_co_ I would be very grateful. And I know some of you believe that you can conditionally pause video in a video texture inside a BJS script_co_ but I and others have tried every known HTML video function_co_ and have not been able to stop atuoplay from playing the video once it is loaded. I hope you read far enough down into this post_co_ and that one of the great brains out there might have of find a solution that works. I require the same performance on all devices which is to pause the video as it is automatically set to autoplay_dd_false on Android. And I have spent countless hours simply trying to stop the autoplay function and/or set this to false in every conceivable way I could think of. So please help if you can.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCheers_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDB\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2016-04-01T20:48:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYou might wish to send .mp4 for all platforms but Android.  The script from this _lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/topic/19721-detection-of-mobile/_qt_ rel_eq__qt__qt__gt_thread_lt_/a_gt_ did not go thru the website upgrade well_co_ but gryff did have a link for where he got it. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tNo clue on autoplay.  My efforts have been on H.264 encoding_co_ not decoding.  My planned use is for promotions_co_ not replay in BJS.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"MasterSplinter","Date":"2016-04-01T23:25:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t264 is what I recommend.  Have you seen the webvr Google released a few days ago.  It_t_s built in three on the s7 it gets really good performance.  However_co_ anything less than that level of phone the thing falls off.  Also_co_ their gorilla video is 1080 mp4 264...  When I have some free cycles I_t_m going to take a deeper look at their source and see if there is anything else they have under the hood.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tBtw I_t_m using either hls or mpeg dash.  I haven_t_t done test to see yet if their is a difference.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAlso_co_ I know this is kinda janky -- but you can definitely pause the video if you add it to the DOM.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere is the link-- it was kinda buried\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//github.com/google/vrview_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/google/vrview_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//developers.google.com/cardboard/vrview#supported_formats_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//developers.google.com/cardboard/vrview#supported_formats_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"dbawel","Date":"2016-04-02T21:29:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/15320-mastersplinter/?do_eq_hovercard_qt_ data-mentionid_eq__qt_15320_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/15320-mastersplinter/_qt_ rel_eq__qt__qt__gt_@MasterSplinter_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m able to pause video as a videoTexture in JavaScript_co_ but I cannot set either autoplay _eq_ false_sm_ or videoTexture.video.pause()_sm_ without attaching the second function to a DOM event which must be triggered by the user. So if you know of a method to set autoplay _eq_ false_sm_ I_t_ve tried every method I can think of. Also_co_ thanks for the links to the vrview code posted by Google - although of course they are using three.js_co_ there_t_s alot of good examples for functions in the scripts provided by them  in these directories on GitHub.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/?do_eq_hovercard_qt_ data-mentionid_eq__qt_8492_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/_qt_ rel_eq__qt__qt__gt_@JCPalmer_lt_/a_gt_ - thanks for the code example to identify devices and os - I_t_ve found similar scripts online_co_ but haven_t_t yet gotten these to work on all devices. The code example you provided originally posted by _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/7026-gryff/?do_eq_hovercard_qt_ data-mentionid_eq__qt_7026_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/7026-gryff/_qt_ rel_eq__qt__qt__gt_@gryff_lt_/a_gt_ is similar to what I_t_ve been testing_co_ but identifies more and different devices - so I_t_ll give some of the examples from this a few tests_co_ and see if I get better results.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDB\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]