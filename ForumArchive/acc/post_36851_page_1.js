[{"Owner":"Pryme8","Date":"2018-04-04T18:18:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tmmmkay I have been bashing my head for days now_co_ just trying to get a simple Blinn Phong Lighting model working... (fml)_lt_br /_gt_\n\t_lt_br /_gt_\n\tanyways I found _dd_ _lt_a href_eq__qt_http_dd_//www.mathematik.uni-marburg.de/~thormae/lectures/graphics1/code/WebGLShaderLightMat/ShaderLightMat.html_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.mathematik.uni-marburg.de/~thormae/lectures/graphics1/code/WebGLShaderLightMat/ShaderLightMat.html_lt_/a_gt__lt_br /_gt_\n\t_lt_br /_gt_\n\twhich seems to be a really simple deployment of it_co_ but I have some questions..._lt_br /_gt_\n\tfirst_co_  what is the bjs equivalent to uniform mat4 projection_co_ modelview_co_ normalMat_sm__lt_br /_gt_\n\t_lt_br /_gt_\n\tI_t_m assuming projection is worldViewProjection_co_ what what is the modelview Matrix_co_ and the normal Matrix?_lt_br /_gt_\n\tits not normal/position attributes so what are they?_lt_br /_gt_\n\t_lt_br /_gt_\n\tI have a couple other questions but well start with this._lt_br /_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-04-04T22:03:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHey! I assume you are using ShaderMaterial\n_lt_/p_gt_\n\n_lt_p_gt_\n\tso_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t* projection _eq_ projection\n_lt_/p_gt_\n\n_lt_p_gt_\n\t* modelview _eq_ worldView\n_lt_/p_gt_\n\n_lt_p_gt_\n\t* _lt_span style_eq__qt_background-color_dd_#ffffff_sm_ color_dd_#353c41_sm_ font-size_dd_14px_sm_ text-align_dd_start_qt__gt_normalMat _eq_ world (in this case)_lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2018-04-05T00:07:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThis is the stuff that is setting me back cool thanks!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2018-04-05T15:35:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWhat kinds of varying and attribute params do I have access to in a custom PostProccess?_lt_br /_gt_\n\t_lt_br /_gt_\n\tis it just vUV?  I assume vPosition is moot cause there are no vertices.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-04-05T23:39:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOnly vUV my friend _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt_1_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt__gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Shaders/postprocess.vertex.fx_qt_ ipsnoembed_eq__qt_true_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Shaders/postprocess.vertex.fx_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2018-05-04T16:36:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIm kinda struggling with some of the naming differences still._lt_br /_gt_\n\t_lt_br /_gt_\n\tIn the default material there are these uniforms_dd__lt_br /_gt_\n\tuniform mat4 viewProjection_sm__lt_br /_gt_\n\tuniform mat4 view_sm__lt_br /_gt_\n\tuniform mat4 world_sm__lt_br /_gt_\n\t_lt_br /_gt_\n\tvs a Custom Shader mat seems to come with these_dd__lt_br /_gt_\n\t_lt_br /_gt_\n\tworld_lt_br /_gt_\n\tworldView_lt_br /_gt_\n\tworldViewProjection_lt_br /_gt_\n\tview_lt_br /_gt_\n\tprojection_lt_br /_gt_\n\t_lt_br /_gt_\n\tbut see nothing about viewProjection._lt_br /_gt_\n\t_lt_br /_gt_\n\tso I assume (but am prolly wrong) that to get my viewProjection in a custom Shader I would do_lt_br /_gt_\n\tmat4 viewProjection _eq_ view * projection?_lt_br /_gt_\n\t_lt_br /_gt_\n\tthese are shots in the dark though...  Im going off of the information available here_dd__lt_br /_gt_\n\t_lt_a href_eq__qt_https_dd_//doc.babylonjs.com/how_to/shader_material_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//doc.babylonjs.com/how_to/shader_material_lt_/a_gt__lt_br /_gt_\n\t_lt_br /_gt_\n\t_lt_br /_gt_\n\tIve ended up with a Vertex Shader that looks like this_dd__lt_br /_gt_\n\t \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_precision highp float_sm_\n//Attributes\nattribute vec3 position_sm_\nattribute vec2 uv_sm_\t\nattribute vec3 normal_sm_\n// Uniforms\n\nuniform mat4 worldViewProjection_sm_\nuniform float time_sm_\n\nuniform mat4 projection_sm_\nuniform mat4 view_sm_\n\n//Varyings\nvarying vec2 vUV_sm_\nvarying vec3 vNormal_sm_\nvarying vec3 vPositionW_sm_\n\n\n#if NUM_BONE_INFLUENCERS &gt_sm_ 0\n\tuniform mat4 mBones[BonesPerMesh]_sm_\n\n\tattribute vec4 matricesIndices_sm_\n\tattribute vec4 matricesWeights_sm_\n\t#if NUM_BONE_INFLUENCERS &gt_sm_ 4\n\t\tattribute vec4 matricesIndicesExtra_sm_\n\t\tattribute vec4 matricesWeightsExtra_sm_\n\t#endif\n#endif\n\n#ifdef INSTANCES\n\tattribute vec4 world0_sm_\n\tattribute vec4 world1_sm_\n\tattribute vec4 world2_sm_\n\tattribute vec4 world3_sm_\n#else\n\tuniform mat4 world_sm_\n#endif\n\nvoid main(void) {\n   \n    vec4 p _eq_ vec4( position_co_ 1. )_sm_\n\n    #ifdef INSTANCES\n\t    mat4 finalWorld _eq_ mat4(world0_co_ world1_co_ world2_co_ world3)_sm_\n    #else\n\t    mat4 finalWorld _eq_ world_sm_\n    #endif\n\n    #if NUM_BONE_INFLUENCERS &gt_sm_ 0\n\tmat4 influence_sm_\n\tinfluence _eq_ mBones[int(matricesIndices[0])] * matricesWeights[0]_sm_\n\n\t#if NUM_BONE_INFLUENCERS &gt_sm_ 1\n\t\tinfluence +_eq_ mBones[int(matricesIndices[1])] * matricesWeights[1]_sm_\n\t#endif\t\n\t#if NUM_BONE_INFLUENCERS &gt_sm_ 2\n\t\tinfluence +_eq_ mBones[int(matricesIndices[2])] * matricesWeights[2]_sm_\n\t#endif\t\n\t#if NUM_BONE_INFLUENCERS &gt_sm_ 3\n\t\tinfluence +_eq_ mBones[int(matricesIndices[3])] * matricesWeights[3]_sm_\n\t#endif\t\n\n\t#if NUM_BONE_INFLUENCERS &gt_sm_ 4\n\t\tinfluence +_eq_ mBones[int(matricesIndicesExtra[0])] * matricesWeightsExtra[0]_sm_\n\t#endif\t\n\t#if NUM_BONE_INFLUENCERS &gt_sm_ 5\n\t\tinfluence +_eq_ mBones[int(matricesIndicesExtra[1])] * matricesWeightsExtra[1]_sm_\n\t#endif\t\n\t#if NUM_BONE_INFLUENCERS &gt_sm_ 6\n\t\tinfluence +_eq_ mBones[int(matricesIndicesExtra[2])] * matricesWeightsExtra[2]_sm_\n\t#endif\t\n\t#if NUM_BONE_INFLUENCERS &gt_sm_ 7\n\t\tinfluence +_eq_ mBones[int(matricesIndicesExtra[3])] * matricesWeightsExtra[3]_sm_\n\t#endif\n\n\tfinalWorld _eq_ finalWorld * influence_sm_\n\n    #endif\n\n    gl_Position _eq_ worldViewProjection * finalWorld * p_sm_\n    vUV _eq_ uv_sm_\n\n    mat3 normalWorld _eq_ mat3(finalWorld)_sm_\n    vNormal _eq_ normalize(normalWorld * normal)_sm_\n\n    vPositionW _eq_ vec3(finalWorld * p)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt_\n\tWhich kinda works_co_ but for some reason if applied to a ground mesh it makes it into a billboard..._lt_br /_gt_\n\tgood news is the actor mesh seems to be animated correctly_co_ but some of the shading is off which I am assuming is because I am using the wrong projection._lt_br /_gt_\n\t_lt_br /_gt_\n\t*EDIT* I think I fixed the lighting by fixing the normal_t_s after transformation.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-05-04T18:09:04Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYou should not use worldViewProjection as you found\n_lt_/p_gt_\n\n_lt_p_gt_\n\tyou can just set it up manually_dd_ _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/materialsLibrary/src/simple/babylon.simpleMaterial.ts#L210_qt_ ipsnoembed_eq__qt_true_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/materialsLibrary/src/simple/babylon.simpleMaterial.ts#L210_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2018-05-04T18:09:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYou are a boss._lt_br /_gt_\n\t_lt_br /_gt_\n\t_lt_br /_gt_\n\tASDKLFHLKASDFHLSJAFLJSAD HOLY CRAP MAN!  This library constantly blows my mind.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]