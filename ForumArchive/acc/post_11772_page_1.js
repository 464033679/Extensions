[{"Owner":"jerome","Date":"2015-01-16T09:58:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Does anyone want to implement a tube mesh ?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_A tube is more complex than a cylinder. Given a path and a radius_co_ a tube will be a kind of curved cylinder along the path._lt_/p_gt__lt_p_gt_This shape is really useful as the path could be computed from any math function._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_path _dd_ array of vector3_lt_/p_gt__lt_p_gt_radius _dd_ number_co_ the radius of the tube_lt_/p_gt__lt_p_gt_segments _dd_ number of visual segments to draw the tube_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_maybe other paramaters_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_em_gt_createTube(path_co_ radius_co_ segments_co_ scene)_lt_/em_gt_ returns a mesh_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I would like to code it (js for now) but it seems not that trivial ... If anyone has ideas about the way to start it_co_ he/she is welcome to me_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_[EDIT]_lt_/p_gt__lt_p_gt_really not trivial _dd_ _lt_a href_eq__qt_http_dd_//www.cs.indiana.edu/pub/techreports/TR425.pdf_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.cs.indiana.edu/pub/techreports/TR425.pdf_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-01-16T18:26:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_This one is clearly not easy to do_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-01-16T19:09:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I_t_m afraid it_t_s far beyond my 3D math skills  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ alt_eq__qt__dd_(_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-01-18T07:49:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I_t_m thinking about a way to do it with ribbons far simple than all those Frenet stuff and less_co_ I hope_co_ calculations ..._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I need to submit it to a math prof here before I start an implementation with _lt_em_gt_Matrix.RotationAxis()_lt_/em_gt_ if it computes _lt_a href_eq__qt_http_dd_//en.wikipedia.org/wiki/Rotation_matrix#Conversion_from_and_to_axis-angle_qt_ rel_eq__qt_external nofollow_qt__gt_what I guess._lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2015-01-19T15:41:18Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_J_co_ we got a big fat math library to simplify all of those ugly transforms.  Just sprinkle your code with Babylon-Brand Faery Dust_co_ and your code will always do what you MEANT it to do.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_When you say ribbons_co_ is that almost the same as saying _qt_rings_qt_?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Anyone who has spent any time playing with cylinders knows that Babylon cylinders are drawn in such a way that... well... they_t_re made to be efficient_co_ not easily play-around-able.  See _lt_a href_eq__qt_http_dd_//babylonjs-playground.azurewebsites.net/#RERQW_qt_ rel_eq__qt_external nofollow_qt__gt_this example_lt_/a_gt_.  See the way its drawn?  Sure we do.  It_t_s drawn linearly.  It is quite a pain to locate one _qt_ring_qt_ of this cylinder to apply a different diameter to it. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Although I did hack some math waves into it... _lt_a href_eq__qt_http_dd_//babylonjs-playground.azurewebsites.net/#SWLWB_qt_ rel_eq__qt_external nofollow_qt__gt_in this demo_lt_/a_gt__co_ I was not able to get it to animate the wave continuously thru the height subdivs.  And nobody answered my beggings in The Wingnut Chronicles... for someone else to animate it FOR me.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_But ok_co_ let_t_s look at this from my simpleton ways.  Let_t_s say we invented BABYLON.CyliTubeManager?  Know where I_t_m going?  Good_co_ because I sure don_t_t._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_It starts with a base class called ring.  A ring can be a cap_co_ either fanned or center-point pie style... so it works as a circular plane all by itself... something Dad72 and others have mentioned needing at times_co_ and I too_co_ think it would be handy._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_But a ring need not be a cap.  It can be just a ring.  And when a pile of these rings are placed into the .rings array of a BABYLON.CyliTubeManager... it makes a tube.  The manager returns a single mesh... plotted in such a way that we can easily screw-with any ring_co_ capped or not.  There is no limit to the number of rings that a CyliTubeManager can manage... but it ALWAYS returns a single mesh_co_ optimized as wanted.  AND_co_ all rings must have the same number of lateral segments (same number of points as each other)._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Now... about paths and bending the tube.  One thing I noticed in 3D Max... was the upper and lower limits of a bend modifier.  Let_t_s say your tube needs to make a 90 degree turn in the middle.  We want the tube to go straight for 33%_co_ then use the middle 33% to make the 90 degree turn_co_ and then use the final 33% to go straight (along the new angle).  One thing I_t_ve noticed... is that it smooths the bend more... IF lots of rings are used in the bend area.  More interpolator steps always means smoother transverse_co_ right?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_So_co_ what would be sweet... is if the one or many _t_bend_t_ (path?) objects that get applied to our new CyliTubeManager... have lots of power to allow the user to concentrate rings in the bend area... and minimize the rings for straight runs (an optimization).  This takes some... hmm... fuzzy logic?  *shrug*  How many rings per bend_co_ and how many bends in a single tube... all tough factors._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_What have we concluded?  Not a thing_co_ but I sure have rambled-on for a good long while.  This _qt_long version_qt_ of making a tube/cylinder... SHOULD allow me to animate my wave up/down thru the mesh much easier... because I might be able to dynamically apply diameters to rings... live._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Wanna know where this all started?  You guessed it... the cartoon cannon.  Nearly every cannon in every TV cartoon... _qt_puckers-up_qt_ before it fires.  I think this may be called _qt_anticipation_qt_ in the animation industry.  My idea of _qt_Artillery Duel_qt_ in BJS... really needs to have its cannon pucker before it fires... for good smiles.  The cannon also has to stretch-out long and thin AFTER it fires the cannonball.  In Max_co_ this might be done to a cylinder via spherify_co_ and then negative spherify.  The cartoon cannon firing... a classic_co_ and a necessity for our fun games._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Exciting_co_ huh?  Have I been thinking of tubes (and rings)_co_ lately?  You bet.  Jer... you must be psychic!  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-01-19T16:47:47Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Waaaooowww_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Very nice waves !!!_lt_/p_gt__lt_p_gt_This type of mesh exists in threejs as standard object and is called a LatheGeometry _dd_ a array of points computed from a curve function_co_ a start angle_co_ a end angle._lt_/p_gt__lt_p_gt_The curve is rotated around an axis between these two angles to form the shape._lt_/p_gt__lt_p_gt_Don_t_t you want to request to push your code in BABYLON.Mesh as a static method ?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I talked about these ribbons _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#2E9DTS%239_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#2E9DTS#9_lt_/a_gt_ because I think it will be easier than cylinders to connect them together along a curve_co__lt_/p_gt__lt_p_gt_because ribbons are themselves just defined by two curves_co_ which could here two circles... but not mandatory on parallel planes as cylinders are._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I_t_m on my way to code these tubes._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_So far_co_ given a curve function_co_ I get _dd__lt_/p_gt__lt_p_gt_the curve points (white lines)_co__lt_/p_gt__lt_p_gt_the tangent vectors on each point (red)_co_ to define an orthogonal plane_co__lt_/p_gt__lt_p_gt_a distant (radius away) vector (green) to each point and in each plane _dd_ the one I will try  to rotate along a circle in the so defined plane._lt_/p_gt__lt_p_gt_Thus I will have for each curve point a circle path orthogonal to the curve. Each circle could then become a path for my successive ribbons._lt_/p_gt__lt_p_gt_[EDIT] ooops_lt_/p_gt__lt_p_gt_forgot the link _dd_ _lt_a href_eq__qt_http_dd_//logiciels.iut-rodez.fr/proto/weathermap/test2/tube.html_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//logiciels.iut-rodez.fr/proto/weathermap/test2/tube.html_lt_/a_gt__lt_/p_gt__lt_p_gt_[\\EDIT]_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Just a question _dd__lt_/p_gt__lt_p_gt_does the _lt_em_gt_Matrix.RotationAxis(axis_co_ angle)_lt_/em_gt_ need the given axis pass thru the origin (0_co_0_co_0) ?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I_t_m trying_co_ given a vector3_co_ to rotate it around an vector (*) defined axis some angle_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_(*) french _lt_em_gt_vecteur_co__lt_/em_gt_ not point_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-01-19T19:50:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I intend to expand my ribbon object to make it even more useful _dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_createRibbon(_qt_name_qt__co_ [path1_co_ path2_co_ ..._co_ pathN]_co_ optionalOffset_co_ scene)_lt_/pre_gt__lt_p_gt_well_co__lt_/p_gt__lt_p_gt_a path is array of succesive vector3 along a curve of your choice_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_- if two paths are given_co_ it will do the same as it currently does _dd_ create a surface between these two paths_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_- if more than two are given_co_ it will create a surface between each curve_co_ re-using the vertices common to two surfaces_co_ as the same curve is then used by two consecutive ribbons (not clear ? I_t_ll code an example soon in the playground)_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_- if only one path is given_co_ the ribbon will be constructed by linking vertex n to vertex n+offset_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_example_dd_ imagine a helix curve_co_ it is a lone curve_co__lt_/p_gt__lt_p_gt_but you can link dots (to draw triangles_co_ and then faces) to other dots further on the same curve_co_ say_co_ after one complete rotation (+2*PI)_lt_/p_gt__lt_p_gt_so a lone curve can be used to design a shape too._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Imagine you have a very long rope and you wrap it around an object from the bottom to the top _dd__lt_/p_gt__lt_p_gt_it would some helix-like curve_co__lt_/p_gt__lt_p_gt_then we could draw triangles between each rope level._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_That_t_s what my versatile ribbon intends to do !_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_em_gt_(not sure I_t_m very clear though)_lt_/em_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2015-01-20T07:16:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_J_co_ I think your idea will give you angled lateral lines_co_ and thus it cannot be cleanly capped_co_ nor can the number of height subdivs be clearly set.  And I think textures will map onto it strangely angled_co_ and possibly with the texture pattern full of many triangular stretched _qt_jaggies_qt_ (disrupting the texture_t_s pattern if it has one)._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Of course_co_ you are free to coil up a ribbon in such a way_co_ but I think you will find it to have limited usefulness (possibly quite far from _qt_versatile_qt_).  But this is just my opinion.  I_t_ll reserve my final opinions until after I see you build one_co_ and see its tube ends_co_ and see a texture mapped onto it._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_A closed tube is still the objective_co_ right?  Not a coil spring (an open-air tube)_co_ correct?  Just possibly_co_ you are talking apples and I am talking oranges.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  It_t_s ok_co_ both are delicious!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I wish someone mathematically smarter than I... would join-in here.  I don_t_t think that I am doing real well at keeping-up with your visions_co_ Jerome._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_As far as folks using things I make... as part of the framework... I leave that to the experts.  If a framework maintainer/developer sees something I did that they like_co_ they are free to use it (after coding it more wisely).  I am really not much of an innovator_co_ though.  I_t_m quite good at making contorted hacks that bog cpu_t_s to a crawl_co_ though.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-01-20T08:21:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I don_t_t know what it will give_co_ that_t_s why I_t_m trying._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The classical way to do a tube is to stack many small cylinders and make some hard and heavy math (_lt_a href_eq__qt_http_dd_//en.wikipedia.org/wiki/Frenet%E2%80%93Serret_formulas_qt_ rel_eq__qt_external nofollow_qt__gt_Frenet-Serret formulas_lt_/a_gt_) to compute some smooth corners between two cylinders with different axis. This is the way many libs do (so does threejs_co_ too)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_As this way is far beyond my math skills_co_ I_t_m trying another approach with my ribbons._lt_/p_gt__lt_p_gt_Viewing the video tutorial_co_ I heard DK saying _qt_in 3D_co_ we are always faking to render things with no or less computation_qt_. This sentence gave me the idea of sticking ribbons around the shape instead of constructing it with cylinders. Mummy approach_co_ so _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  ( _lt_em_gt_BABYLON.Mesh.Mummify(_qt_returnOfTheMummy_qt__co_ [vectors3]_lt_/em_gt_ ? )_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I hope the result will fake enough about the smooth corner problem to avoid the Frenet-Serret way._lt_/p_gt__lt_p_gt_Wait and see my first tests soon _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-01-20T10:35:18Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_got a first pretty good result !_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-01-21T05:36:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_68355_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_11772_qt_ data-ipsquote-username_eq__qt_Wingnut_qt_ data-cite_eq__qt_Wingnut_qt_ data-ipsquote-timestamp_eq__qt_1421738218_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Of course_co_ you are free to coil up a ribbon in such a way_co_ but I think you will find it to have limited usefulness (possibly quite far from _qt_versatile_qt_).  But this is just my opinion.  I_t_ll reserve my final opinions until after I see you build one_co_ and see its tube ends_co_ and see a texture mapped onto it._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_A closed tube is still the objective_co_ right?  Not a coil spring (an open-air tube)_co_ correct?  Just possibly_co_ you are talking apples and I am talking oranges.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  It_t_s ok_co_ both are delicious!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_waaarrrffff_co_ so funny !!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The closed tube is not my main objective. It_t_s quite easy to draw a circular cap (*) on top of each end_co_ so this could an optional parameter._lt_/p_gt__lt_p_gt_The very difficulty of tube design is in the maths needed to represent those smooth angles. Something called the _lt_a href_eq__qt_http_dd_//www.cs.indiana.edu/pub/techreports/TR425.pdf_qt_ rel_eq__qt_external nofollow_qt__gt_parallel transport design_lt_/a_gt_ ._lt_/p_gt__lt_p_gt_That_t_s why I_t_m trying another simplier approach_co_ hopping it will do the job enough to get acceptable tubes.. with far less complexity and computation._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I meet your friendly challenge to show this kind of ribbon can be more versatile than you could expect   _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ . I currently work at implementing it as I described in _lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/topic/11772-tube-mesh/?p_eq_68324_qt__gt_this post_lt_/a_gt_ so we could construct a full mesh from a curve array at once._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_(*) BJS lacks some plane disc_co_ doesn_t_t it ? I_t_ll do this._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2015-01-21T07:34:31Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_As long as you are having fun.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  I_t_m sure you realize that all of the standard BJS shapes get most of their power from _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/Babylon/Mesh/babylon.abstractMesh.js_qt_ rel_eq__qt_external nofollow_qt__gt_babylon.abstractMesh.js_lt_/a_gt__co_ yes?  If you want your meshes to fit the criteria of a BJS basic shape_co_ yours must do the same.  That way_co_ all of the framework_t_s basic mesh have the same standard methods and properties.  These interfaces to the basic shapes are what users expect to be available on every basic shape-mesh._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_There_t_s no need to meet my challenges.  I_t_m a nobody.  The two primary challenges of any mesh tool would be to #1 meet the criteria of being a _lt_u_gt_standard_lt_/u_gt_ BJS built-in shape_co_ and #2 keep it easy/simple to use.  But you know all this already_co_ right?  Your new meshes will all have the properties and methods found on _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/Babylon/Mesh/babylon.abstractMesh.js_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/Babylon/Mesh/babylon.abstractMesh.js_lt_/a_gt__co_ I_t_m sure of it.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I hope I_t_m not being a buzzkill.  Go get _t_em_co_ Jerome!  Take no prisoners!  I might not understand everything you say_co_ but it sure is entertaining and thought-provoking to watch you think_co_ play_co_ and talk.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-01-21T08:52:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_arf... I realize my english is not that good ..._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I try to be simplier _dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_First_co_ I don_t_t want to provoke or hurt anybody. If I accidentally do_co_ it_t_s ever _lt_strong_gt_not_lt_/strong_gt_ intented and probably due to my bad english humor/jokes (as they aren_t_t the same way/mood in french). Sorry for that_co_ sincerely. _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ alt_eq__qt__dd_(_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ I_t_m probably too talkative and this increases the risk of misunderstanding !_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Then_co_ when I talk about challenges_co_ it_t_s alway friendly and just for fun. Some spitit/brain/thought/hack challenge if you like. Maybe again one of my many faults_co_ but when I hear someone in my work context says _qt_no_co_ we can_t_t_co_ it_t_s not possible_qt__co_ I just can_t_t stop answering _qt_why  do not give a try ?_qt_. I just like these little fun everyday challenges. I agree it_t_s often useless or I can rarely succeed_co_ but sometimes it brings a solution or at least a new point of view on an _lt_em_gt_a priori _lt_/em_gt_impossible problem._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_At least_co_ I didn_t_t know about the abstractMesh_co_ so thank you to teach me _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_I don_t_t feel competent enough until now to code a real BJS new mesh (as I even hadn_t_t time to learn some TS). I_t_m just working on the concept or the idea and then its implementation _dd_ easy function signature_co_ logic and computation._lt_/p_gt__lt_p_gt_I believe_co_ but maybe I_t_m wrong_co_ this elementary mesh is really convenient and powerful. As it doesn_t_t exist in threejs either_co_ I feel very motivated to make something new and useful (hope so). Maybe I misbelieve and just waste my time ... arf_co_ enthusiastic people messing around. _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_laugh.png_qt_ alt_eq__qt__dd_lol_dd__qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_My objective is just to have a final functionnal function to demonstrate in the playground._lt_/p_gt__lt_p_gt_Then I hope that someone interested in_co_ better than me and more familiar with TS and BJS integration (you ?) could get it and make it a right basic BJS shape (interfaced with abstractMesh_co_ etc) to be PR into the framework._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Elseway this will wait for me to learn TS_co_ abstractMesh_co_ PR_co_ etc. Not that important_co_ anyway _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jahow","Date":"2015-01-21T08:54:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hey_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Just a quick post in this thread to say that having the capability to generate tube/ribbon meshes dynamically and in 3 dimensions would be a-w-e-s-o-m-e! I_t_m checking in regularly_co_ just so you know _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2015-01-21T13:34:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi jahow!  I agree! _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Jerome_co_ it_t_s not that difficult to make your mesh BJS Basic Shape-ready.  It happens automatically if your mesh-building is done using some tools that are provided by the framework._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_If you look at the BABYLON.VertexData object (_lt_a href_eq__qt_http_dd_//doc.babylonjs.com/page.php?p_eq_24739_qt_ rel_eq__qt_external nofollow_qt__gt_api_lt_/a_gt_ / _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/Babylon/Mesh/babylon.mesh.vertexData.js_qt_ rel_eq__qt_external nofollow_qt__gt_code_lt_/a_gt_)_co_ this class generates all the shape information for our basic shapes.  Shape information like positions_co_ normals_co_ indices_co_ uvs_co_ colors_co_ etc._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Take a look at my goofy _lt_a href_eq__qt_http_dd_//babylonjs-playground.azurewebsites.net/#SWLWB_qt_ rel_eq__qt_external nofollow_qt__gt_wave-oscillated cylinder demo_lt_/a_gt__co_ again_co_ if you will.  Look at the plotCylinder function at line 34.  Keep it open in a window. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_In another window_co_ look at _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/Babylon/Mesh/babylon.mesh.vertexData.js#L396_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/Babylon/Mesh/babylon.mesh.vertexData.js#L396_lt_/a_gt_ .  Same function_co_ yes?  I just borrowed the CreateCylinder function from the VertexData object... and put it into my code... and then renamed it PlotCylinder.  I renamed it for a reason. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I needed to borrow one more CreateCylinder function from another object... the Mesh-class object (not abstractMesh_co_ just Mesh)... which is the function called by users to actually create the cylinder.  Look here...  _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/Babylon/Mesh/babylon.mesh.js#L1079_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/Babylon/Mesh/babylon.mesh.js#L1079_lt_/a_gt_ and you_t_ll see ANOTHER CreateCylinder function.  I stole that function_co_ too_co_ and put it into my code.... but I kept its name being CreateCylinder.  You can think of this smaller CreateCylinder function... as a layer or wrapper atop the other_co_ bigger (vertexData) CreateCylinder function_co_ but that might not be the correct terminology._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_In that 2nd smaller CreateCylinder (the one on/from Mesh)... look at lines 1089-1092 (or lines 25-28 in my demo)_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var cylinder _eq_ new Mesh(name_co_ scene)_sm_var vertexData _eq_ BABYLON.VertexData.CreateCylinder(height_co_ diameterTop_co_ diameterBottom_co_ tessellation_co_ subdivisions)_sm_vertexData.applyToMesh(cylinder_co_ updatable)_sm__lt_/pre_gt__lt_p_gt_Those are the magic lines.  1089 makes a new _lt_u_gt_blank_lt_/u_gt_ abstractMesh.  There_t_s your basic mesh_co_ without any shape.  The next line creates a vertexData object by running the CreateCylinder function on the VertexData class.  In my demo_co_ I run PlotCylinder... the same function but renamed.  It is a constructor and it returns a _qt_stocked_qt_ VertexData object... ready to be applied to a blank mesh._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The last line... applies the (cylinder shape data) vertexData object... to the blank abstract mesh._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_So_co_ if you follow these general procedures_co_ you create mesh that are BJS-fortified (properly ready to become BJS basic shapes).  You could do the same thing with your ribbon mesh.  Use my demo as a template.  Rename my PlotCylinder... to PlotRibbon and recode-it.  Rename my CreateCylinder... to CreateRibbon and recode it.  Then just adjust my line 26 to read..._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_var vertexData _eq_ PlotRibbon(arg_co_ arg_co_ arg.... etc)_sm__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Then do all your plotting work... inside the PlotRibbon function (supported/wrapped by your CreateRibbon function).  Later when you are happy with the functionality_co_ your PlotRibbon would be placed on the framework_t_s vertexData class (possibly renamed to CreateRibbon)... and your CreateRibbon function (the smaller_co_ wrapper function) gets placed on the Mesh object_co_ thus exposing it to the users.  Easy_co_ right?  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_VertexData class contains the code to make the ACTUAL shapes_co_ and the Mesh class contains the smaller wrapper methods used by users to call the shape-making functions on the vertexData class.  It_t_s a two-piece operation.  Study it for a while... it_t_s actually easier than it looks/sounds.  Try to make your mesh... using the general template in my demo._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Lastly_co_ I don_t_t see anything you do as being offensive to anyone.  Your enthusiasm is actually quite enjoyable_co_ and you have a good personality_co_ and a big chunk of active brains to top it off.  You_t_re doing great work_co_ and it was time to tell you about the conventions of making BJS-ready mesh.  Don_t_t let those conventions scare you away from continuing... because the conventions are not very difficult to work within the boundaries-of.  And if you follow these conventions_co_ you_t_re going to become (even more of...) a superstar around here.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_It might be wise to notice the _t_updatable_t_ flag parameter at the end of my line 15 and at the end of every other BJS basic shape constructor.  I don_t_t know much about it_co_ but it has to do with changing vertexData shape data (positions_co_ normals_co_ indices_co_ uvs_co_ etc) _lt_u_gt_after_lt_/u_gt_ that data has already been applied to a blank abstract mesh.  It _lt_u_gt_might_lt_/u_gt_ be involved with the life of a VertexBuffer after its been applied to a mesh.  If a mesh is constructed non-updatable_co_ the VertexData and VertexBuffer might be flagged for garbage collection_co_ as they will no longer be needed.   Don_t_t quote me on that... I am essentially guessing.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_There_t_s others nearby that know MUCH more about this subject than I do.  The best I can do is tell you what little I know and hope it gives you some insight into some things that are new to you.  I also hope that these smarter people will join us in this conversation_co_ if only to make sure I haven_t_t told you incorrect things.  Now_co_ for sure_co_ you know the _qt_trail_qt_ used to make the current library of basic mesh shapes._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_There_t_s also lots of talk about _qt_geometry_qt_ and _qt_polygons_qt_ laying around.  I don_t_t know ANYTHING about those two things.  MAYBE those apply to what you do_co_ more than my mesh-making knowledge... but we_t_ll need to find someone to explain those things to us (to me)_co_ or go on a massive internet-reading mission to learn how those things differ from _qt_mesh_qt_.  I sometimes see framework functions that have _qt_GeometryOrMesh in their function names_co_ so_co_ hmm.  Not sure what the story is_co_ there.  _dd_/_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Be well!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-01-21T17:37:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_thank you Wingut for this so detailed tutorial !!!  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I don_t_t really need other bjs basic method except the VertexData object and some math libs (rotationAxis_co_ etc)._lt_/p_gt__lt_p_gt_I don_t_t re-invent the wheel  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_tongue.png_qt_ alt_eq__qt__dd_P_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/tongue@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_My work is more about the logical way to avoid the Frenet stuff and some dedicated maths._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2015-01-21T22:24:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_My pleasure.  You understand it perfectly_co_ and long before my speech.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  But_co_ you know_co_ when a guy talks in the forum_co_ he talks to many different people at many different levels of expertise.  I over-explain quite severely_co_ often.  You_t_re using the framework mesh tools perfectly.   I don_t_t see one mention of Engine._gl in any of your code.  Tiz good.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Now if you start mucking around in THIS area_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/Babylon/babylon.engine.js#L851_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/Babylon/babylon.engine.js#L851_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_...that_t_s when we might think about placing some medical equipment near you_co_ in case you _qt_go off the deep end_qt_.  hehe_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_But seriously_co_ you might want to hijack some code out of that area of _t_Engine_t_.  You seem plenty smart enough to play around under the floorboards of the framework... closer to the _gl layer.  Just teach us everything you learn or already know.  We (at least SOME of us) are enjoying riding-along on your adventures._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-01-22T10:08:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I far away from the deep end and _gl layer_co_ very very far ! _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ alt_eq__qt__dd_(_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_I hadn_t_t see anything about web 3D before last december. It_t_s a very new world to me._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_So I just stay at the logical_co_ math or algorithmic level for now _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_tongue.png_qt_ alt_eq__qt__dd_P_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/tongue@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-01-22T10:50:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_ok let_t_s go for my first attempt._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Remember _dd__lt_/p_gt__lt_ol_gt__lt_li_gt_I want a tube mesh along a given curve_lt_/li_gt_\t_lt_li_gt_I want a simple call signature function (so it_t_s easy to use)_lt_/li_gt_\t_lt_li_gt_I don_t_t want angular junctions on my tube_co_ only smoothly rounded corners_lt_/li_gt_\t_lt_li_gt_I try to avoid to implement all the Frenet stuff which is to difficult for me_lt_/li_gt__lt_/ol_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The integration in abstractMesh will be done later ..._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_So here is my curve (white) _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#21SM6Y_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#21SM6Y_lt_/a_gt__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var curvePoints _eq_ function(l_co_ t) {  var path _eq_ []_sm_  var step _eq_ l / t_sm_  for (var i _eq_ -20_sm_ i &lt_sm__eq_ l_sm_ i +_eq_ step ) {    path.push(new BABYLON.Vector3(i_co_ Math.sin(i) * i / 2_co_ Math.cos(i) * i / 2 ))_sm_  }  return path_sm_}_sm__lt_/pre_gt__lt_p_gt_First_co_ I get  the tangent vectors (red) at every point of this curve _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#21SM6Y%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#21SM6Y#1_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Then knowing each point and each tangent vector_co_ I determine an orthogonal vector (green) in the plane normal to the tangent vector (let_t_s call it the radial plane) on this point (here_co_ I use some algorithmic human trick instead of resolving equations like intersection between a sphere and a plane). I scale this vector at _lt_em_gt_radius_lt_/em_gt_ size._lt_/p_gt__lt_p_gt_Following_co_ people ?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Take a look _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#21SM6Y%232_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#21SM6Y#2_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I can then rotate this orthogonal vector along a circle (blue) in the radial plane around the tangent vector (still following ?)._lt_/p_gt__lt_p_gt_I do this for each point _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#21SM6Y%233_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#21SM6Y#3_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_hoho_co_ starting to look like a tube !_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_At least_co_ I ribbonise all that stuff _dd_ each circle will be a path in the paths array parameter needed by _lt_em_gt_createRibbon()_lt_/em_gt__lt_/p_gt__lt_p_gt_tandadaammm _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#21SM6Y%236_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#21SM6Y#6_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_really looks like a tube now _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_some plain material_co_ et voilà _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#21SM6Y%234_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#21SM6Y#4_lt_/a_gt__lt_/p_gt__lt_p_gt_not so bad_co_ isn_t_t it ?_lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_createTube(curve_co_ radius_co_ tesselation_co_ scene)_sm__lt_/pre_gt__lt_p_gt_No Frenet stuff_co_ no sharp angular corners_co_ simple call signature !_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_But I have my tube twisted in the middle of the curve _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ alt_eq__qt__dd_(_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ (because of no parallel transport_co_ remember the orthogonal vector positions making some kind of helix)._lt_/p_gt__lt_p_gt_This feature would be cool if I wanted a plane shape (a star_co_ a square_co_ etc) to rotate gently following the curve. So I keep it for further use._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The same with no backFaceCulling _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#21SM6Y%235_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#21SM6Y#5_lt_/a_gt__lt_/p_gt__lt_p_gt_We can see some ribbon junctions inside_co_ so maybe some optimization in the ribbon normals should be done too._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_And I_t_ll try soon another similar approach to simulate the parallel transport _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-01-23T14:03:17Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Here we go_co_ ladies and gentleman !!!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_We are honored to introduce you at least a real tube _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1W1TVT%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1W1TVT#1_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I won_t_t describe here the way it is designed because my english is quite approximative and you will get bored soon._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Of course_co_ there are still some many tiny defaults if you make the material transparent for example_co_ but it_t_s due to incomplete normals declaration in the mesh ribbon (to be fixed soon)._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_So please_co_ test it along any of your curves so I_t_ll be sure it can resist any kind of twisting _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ before making it a real typescript BJS object (help needed here)._lt_/p_gt__lt_p_gt_call signature _dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_createTube(curve_co_ radius_co_ tesselation_co_ scene)_sm__lt_/pre_gt__lt_p_gt_curve _dd_ array of vector3_lt_/p_gt__lt_p_gt_radius _dd_ tube radius_lt_/p_gt__lt_p_gt_tesselation _dd_ number of radial segments_lt_/p_gt__lt_p_gt_scene _dd_ current scene_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_in the playground code _dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_line 65 _dd_ function creating a curve. You can use your own of course. We just need an array of successive Vector3 (at least two) to define a curve/path._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_em_gt_but you can forget all of that and go straight to_lt_/em_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_line 223 _dd_ scene declaration_lt_/p_gt__lt_p_gt_line 243 _dd_ path population_lt_/p_gt__lt_p_gt_line 251 _dd_ tube creation_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_&lt_sm_auto-congratulation&gt_sm__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I just want make you know that I met a math prof here at work (university) to whom I exposed on a piece of paper my design without using _lt_a href_eq__qt_http_dd_//en.wikipedia.org/wiki/Frenet%E2%80%93Serret_formulas_qt_ rel_eq__qt_external nofollow_qt__gt_Frenet formulas_lt_/a_gt_ usually needed to achieve this._lt_/p_gt__lt_p_gt_He just found it very original and smart_co_ then he validated my approach_co_ subject to he can see the final visual result because he couldn_t_t figure if/how it was appliable in the reality._lt_/p_gt__lt_p_gt_This made me proud as I remember me suffering in my distant hard math courses _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_[EDIT] Maybe many other people use the same design as me already_co_  and I finally just re-invented the wheel_co_ but I just couldn_t_t find other ways than Frenet after many many web searches [/EDIT]_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_&lt_sm_/auto-congratulation&gt_sm__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jahow","Date":"2015-01-23T14:05:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Beautiful _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-01-23T14:31:00Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_funny deformations _dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_tesselation _eq_ 2 _eq_&gt_sm_ a ribbon _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1W1TVT%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1W1TVT#1_lt_/a_gt__lt_/p_gt__lt_p_gt_tesselation _eq_ 3 _eq_&gt_sm_ triangle extruded _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1W1TVT%233_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1W1TVT#3_lt_/a_gt__lt_/p_gt__lt_p_gt_tesselation _eq_ 4 _eq_&gt_sm_ a square _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1W1TVT%234_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1W1TVT#4_lt_/a_gt__lt_/p_gt__lt_p_gt_etc_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_radius _eq_ 6 _eq_&gt_sm_ a Siamise twhin snail shell _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_laugh.png_qt_ alt_eq__qt__dd_lol_dd__qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jahow","Date":"2015-01-23T15:06:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Wait_co_ isn_t_t there something wrong with normals where the spirals shrinks? It looks like the material is much too shiny there._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_em_gt_edit_dd_ forget it_co_ this just due to the fact that the spotlight is right above this part of the mesh...  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sleep.png_qt_ alt_eq__qt_-_-_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sleep@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/em_gt__lt_em_gt_ _lt_/em_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-01-23T15:23:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_yep_lt_/p_gt__lt_p_gt_My ribbon needs some fixes about indices._lt_/p_gt__lt_p_gt_And texture UVs settings too (I need to learn about them before)._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_This tube code is just the first functional draft_co_ it probably needs some corrections here and there._lt_/p_gt__lt_p_gt_I coded it fast because I was motivated by my math design (quite simple therefore)._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_And I didn_t_t really take care about the playground scene_co_ just copied/cut a former one with lights in place _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_mellow.png_qt_ alt_eq__qt__dd_mellow_dd__qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-01-23T15:26:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_for comparison_co_ here is the same threejs tube using the embedded threejs function _dd_ _lt_a href_eq__qt_http_dd_//jerome.bousquie.fr/three/tube.html_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//jerome.bousquie.fr/three/tube.html_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//dictionnaire.reverso.net/francais-anglais/kif-kif_qt_ rel_eq__qt_external nofollow_qt__gt_kif-kif_lt_/a_gt__co_ nope ?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]