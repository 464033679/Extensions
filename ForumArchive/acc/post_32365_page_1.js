[{"Owner":"Bricktheworld","Date":"2017-08-14T15:12:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello there!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am trying to make a 3rd person plane shooter using two models. What is the best way to make the Lazer model shoot out of the X-Wing model?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere is the code_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tvar mouseX _eq_ 0_sm__lt_br /_gt_\n\tvar mouseY _eq_ 0_sm__lt_br /_gt_\n\tvar windowHalfX _eq_ window.innerWidth / 2_sm__lt_br /_gt_\n\tvar windowHalfY _eq_ window.innerHeight / 2_sm__lt_br /_gt_\n\tvar XWing_sm__lt_br /_gt_\n\tvar XWings _eq_ []_sm__lt_br /_gt_\n\tvar Tie_sm__lt_br /_gt_\n\tvar Ties _eq_ []_sm__lt_br /_gt_\n\tvar Lazerorig_sm__lt_br /_gt_\n\tvar Lazers _eq_ []_sm__lt_br /_gt_\n\tvar fire _eq_ false_sm__lt_br /_gt_\n\twindow.addEventListener(_t_DOMContentLoaded_t__co_ function() {_lt_br /_gt_\n\t  var canvas _eq_ document.getElementById(_t_canvas_t_)_sm__lt_br /_gt_\n\t  var engine _eq_ new BABYLON.Engine(canvas_co_ true)_sm__lt_br /_gt_\n\t  engine.enableOfflineSupport _eq_ false_sm__lt_br /_gt_\n\t  var domeRadius _eq_ 4000_sm__lt_br /_gt_\n\t  var randomNumber _eq_ function(min_co_ max) {_lt_br /_gt_\n\t    if (min _eq__eq__eq_ max) {_lt_br /_gt_\n\t      return (min)_sm__lt_br /_gt_\n\t    }_lt_br /_gt_\n\t    var random _eq_ Math.random()_sm__lt_br /_gt_\n\t    return ((random * (max - min)) + min)_sm__lt_br /_gt_\n\t  }_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t  // Wingy_t_s default positions_lt_br /_gt_\n\t  var myStartPositionFunction _eq_ function(worldMatrix_co_ positionToUpdate) {_lt_br /_gt_\n\t    var v3 _eq_ getCart(domeRadius)_sm__lt_br /_gt_\n\t    BABYLON.Vector3.TransformCoordinatesFromFloatsToRef(v3.x_co_ v3.y_co_ v3.z_co_ worldMatrix_co_ positionToUpdate)_sm__lt_br /_gt_\n\t  }_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t  // -------------------------------------------------------------------------------------------------_lt_br /_gt_\n\t  var myUpdateFunction _eq_ function(particles) {_lt_br /_gt_\n\t    for (var index _eq_ 0_sm_ index &lt_sm_ particles.length_sm_ index++) {_lt_br /_gt_\n\t      var particle _eq_ particles[index]_sm__lt_br /_gt_\n\t      particle.age +_eq_ this._scaledUpdateSpeed_sm__lt_br /_gt_\n\t      if (particle.age &gt_sm__eq_ particle.lifeTime) {_lt_br /_gt_\n\t        this.recycleParticle(particle)_sm__lt_br /_gt_\n\t        index--_sm__lt_br /_gt_\n\t        continue_sm__lt_br /_gt_\n\t      } else {\n_lt_/p_gt_\n\n_lt_p_gt_\n\t        particle.color _eq_ new BABYLON.Color3.White()_sm__lt_br /_gt_\n\t        particle.size _eq_ randomNumber(this.minSize_co_ this.maxSize)_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t        if (particle.color.a &lt_sm_ 0)_lt_br /_gt_\n\t          particle.color.a _eq_ 0_sm__lt_br /_gt_\n\t      }_lt_br /_gt_\n\t    }_lt_br /_gt_\n\t  }_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t  // -----------------------------------------------------------------------_lt_br /_gt_\n\t  // a gruesome stolen func - thx to..._lt_br /_gt_\n\t  // _lt_a href_eq__qt_https_dd_//rbrundritt.wordpress.com/2008/10/14/conversion-between-spherical-and-cartesian-coordinates-systems/_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//rbrundritt.wordpress.com/2008/10/14/conversion-between-spherical-and-cartesian-coordinates-systems/_lt_/a_gt__lt_br /_gt_\n\t  function getCart(radius) {_lt_br /_gt_\n\t    // var lat _eq_ DegtoRad (latlong.Latitude)_sm__lt_br /_gt_\n\t    // var lon _eq_ DegtoRad (latlong.Longitude)_sm__lt_br /_gt_\n\t    var xy _eq_ plot1()_sm_ // just below_lt_br /_gt_\n\t    var lat _eq_ xy[0]_sm__lt_br /_gt_\n\t    var lon _eq_ xy[1]_sm__lt_br /_gt_\n\t    var x _eq_ radius * Math.cos(lat) * Math.cos(lon)_sm__lt_br /_gt_\n\t    var y _eq_ radius * Math.cos(lat) * Math.sin(lon)_sm__lt_br /_gt_\n\t    var z _eq_ radius * Math.sin(lat)_sm__lt_br /_gt_\n\t    return new BABYLON.Vector3(x_co_ y_co_ z)_sm__lt_br /_gt_\n\t  }\n_lt_/p_gt_\n\n_lt_p_gt_\n\t  // -----------------------------------------------------------------------_lt_br /_gt_\n\t  // a stolen formula - claims to eliminate polar bias (clustering near poles)_lt_br /_gt_\n\t  // in use - thx to _lt_a href_eq__qt_http_dd_//rectangleworld.com/blog/archives/298_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//rectangleworld.com/blog/archives/298_lt_/a_gt__lt_br /_gt_\n\t  var plot1 _eq_ function() {_lt_br /_gt_\n\t    var theta _eq_ Math.random() * 2 * Math.PI_sm__lt_br /_gt_\n\t    var phi _eq_ Math.acos(Math.random() * 2 - 1)_sm__lt_br /_gt_\n\t    return [theta_co_ phi]_sm__lt_br /_gt_\n\t  }_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t  // -----------------------------------------------------------------------_lt_br /_gt_\n\t  var doubleColor4 _eq_ function(min_co_ max) {_lt_br /_gt_\n\t    return new BABYLON.Color4(Math.random() * 2_co_ Math.random() * 2_co_ Math.random() * 2_co_ Math.random())_sm__lt_br /_gt_\n\t  }_lt_br /_gt_\n\t  // -----------------------------------------------------------------------\n_lt_/p_gt_\n\n_lt_p_gt_\n\t  var createScene _eq_ function() {_lt_br /_gt_\n\t    var scene _eq_ new BABYLON.Scene(engine)_sm__lt_br /_gt_\n\t    scene.clearColor _eq_ new BABYLON.Color3.Black()_sm__lt_br /_gt_\n\t    var light _eq_ new BABYLON.HemisphericLight(_qt_light_qt__co_ new BABYLON.Vector3(0_co_ 0_co_ 0)_co_ scene)_sm__lt_br /_gt_\n\t    var box1 _eq_ BABYLON.Mesh.CreateBox(_qt_box1_qt__co_ 25_co_ scene)_sm__lt_br /_gt_\n\t    var box2 _eq_ BABYLON.Mesh.CreateBox(_qt_box2_qt__co_ 25_co_ scene)_sm__lt_br /_gt_\n\t    //var cylinder _eq_ BABYLON.Mesh.CreateCylinder(_qt_cylinder_qt__co_ )_lt_br /_gt_\n\t    box1.material _eq_ new BABYLON.StandardMaterial(_qt_b1mat_qt__co_ scene)_sm__lt_br /_gt_\n\t    box1.material.emissiveColor _eq_ BABYLON.Color3.White()_sm__lt_br /_gt_\n\t    box2.material _eq_ new BABYLON.StandardMaterial(_qt_b2mat_qt__co_ scene)_sm__lt_br /_gt_\n\t    box2.material.emissiveColor _eq_ BABYLON.Color3.White()_sm__lt_br /_gt_\n\t    box1.position.z _eq_ -100_lt_br /_gt_\n\t    box2.parent _eq_ box1_sm__lt_br /_gt_\n\t    box2.setPivotMatrix(BABYLON.Matrix.Translation(0_co_ 10_co_ -25))_sm__lt_br /_gt_\n\t    box1.visibility _eq_ 0_sm__lt_br /_gt_\n\t    var box3 _eq_ BABYLON.Mesh.CreateBox(_qt_Box3_qt__co_ 25_co_ scene)_sm__lt_br /_gt_\n\t    var material _eq_ new BABYLON.StandardMaterial(_qt_material1_qt__co_ scene)_sm__lt_br /_gt_\n\t    material.wireframe _eq_ true_sm__lt_br /_gt_\n\t    box3.material _eq_ material_sm__lt_br /_gt_\n\t    // BABYLON.SceneLoader.ImportMesh(_qt__qt__co_ _qt_Models/_qt__co_ _qt_Tie.babylon_qt__co__lt_br /_gt_\n\t    //   scene_co__lt_br /_gt_\n\t    //   function(newMeshes) {_lt_br /_gt_\n\t    //     Tie _eq_ newMeshes[0]_sm__lt_br /_gt_\n\t    //     Tie.parent _eq_ box1_sm__lt_br /_gt_\n\t    //_lt_br /_gt_\n\t    //   })_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t    BABYLON.SceneLoader.ImportMesh(_qt_XWing_qt__co_ _qt_Models/_qt__co_ _qt_XWing.babylon_qt__co__lt_br /_gt_\n\t      scene_co__lt_br /_gt_\n\t      function(newMeshes) {_lt_br /_gt_\n\t        XWing _eq_ newMeshes[0]_sm__lt_br /_gt_\n\t        XWing.parent _eq_ box1_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t      })_sm__lt_br /_gt_\n\t    BABYLON.SceneLoader.ImportMesh(_qt_Lazers_qt__co_ _qt_Models/_qt__co_ _qt_XWingLazers.babylon_qt__co__lt_br /_gt_\n\t      scene_co__lt_br /_gt_\n\t      function(newMeshes) {_lt_br /_gt_\n\t        Lazerorig _eq_ newMeshes[0]_sm__lt_br /_gt_\n\t        //Lazerorig.parent _eq_ box1_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t        Lazerorig.visibility _eq_ 0_sm__lt_br /_gt_\n\t      })_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t    var camera _eq_ new BABYLON.FreeCamera(_qt_camera_qt__co_ new BABYLON.Vector3(0_co_ 0_co_ -55)_co_ scene)_sm__lt_br /_gt_\n\t    scene.camera _eq_ camera_sm__lt_br /_gt_\n\t    document.addEventListener(_t_mousemove_t__co_ onDocumentMouseMove_co_ false)_sm__lt_br /_gt_\n\t    document.addEventListener(_t_mousedown_t__co_ function(){_lt_br /_gt_\n\t    }_co_ false)_sm__lt_br /_gt_\n\t    document.addEventListener(_t_mouseup_t__co_ onDocumentMouseUp_co_ false)_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t    //camera.parent _eq_ box2_sm__lt_br /_gt_\n\t    camera.target _eq_ box1_sm__lt_br /_gt_\n\t    box2.visibility _eq_ 0_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt_\n\t    var ps _eq_ new BABYLON.ParticleSystem(_qt_particles_qt__co_ 1300_co_ scene)_sm__lt_br /_gt_\n\t    ps.startPositionFunction _eq_ myStartPositionFunction_sm__lt_br /_gt_\n\t    ps.updateFunction _eq_ myUpdateFunction_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t    // Texture of each particle - set far below_lt_br /_gt_\n\t    ps.particleTexture _eq_ new BABYLON.Texture(_qt_Models/star.png_qt__co_ scene)_sm__lt_br /_gt_\n\t    //ps.particleTexture _eq_ new BABYLON.Texture(_qt_https_dd_//cdn.rawgit.com/wingnutt/misc/master/star.jpg_qt__co_ scene)_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t    // Where the particles come from_lt_br /_gt_\n\t    ps.emitter _eq_ new BABYLON.Vector3(0_co_ 15_co_ 0)_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t    ps.minEmitBox _eq_ new BABYLON.Vector3(0_co_ 0_co_ 0)_sm_ // Starting all from_lt_br /_gt_\n\t    ps.maxEmitBox _eq_ new BABYLON.Vector3(0_co_ 0_co_ 0)_sm_ // To...\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt_\n\t    // the sizing._lt_br /_gt_\n\t    ps.minSize _eq_ 20_sm__lt_br /_gt_\n\t    ps.maxSize _eq_ 30_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t    // Life time of each particle (random between..._lt_br /_gt_\n\t    ps.minLifeTime _eq_ 40000.0_sm__lt_br /_gt_\n\t    ps.maxLifeTime _eq_ 50000.0_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t    // Emission rate_lt_br /_gt_\n\t    ps.emitRate _eq_ 5000_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t    // Blend mode _dd_ BLENDMODE_ONEONE_co_ or BLENDMODE_STANDARD_lt_br /_gt_\n\t    ps.blendMode _eq_ BABYLON.ParticleSystem.BLENDMODE_ONEONE_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t    // Angular speed_co_ in radians_lt_br /_gt_\n\t    ps.minAngularSpeed _eq_ 0_sm__lt_br /_gt_\n\t    // ps.maxAngularSpeed _eq_ Math.PI*2_sm__lt_br /_gt_\n\t    ps.maxAngularSpeed _eq_ 0_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t    // Speed_lt_br /_gt_\n\t    ps.minEmitPower _eq_ 0_sm__lt_br /_gt_\n\t    ps.maxEmitPower _eq_ 0_sm__lt_br /_gt_\n\t    ps.updateSpeed _eq_ 0.005_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t    // Start the particle system_lt_br /_gt_\n\t    ps.start()_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt_\n\t    return scene_sm__lt_br /_gt_\n\t  }_lt_br /_gt_\n\t _lt_br /_gt_\n\t  function onDocumentMouseMove(event) {_lt_br /_gt_\n\t    mouseX _eq_ (event.clientX - windowHalfX)_sm__lt_br /_gt_\n\t    mouseY _eq_ (event.clientY - windowHalfY)_sm__lt_br /_gt_\n\t  }\n_lt_/p_gt_\n\n_lt_p_gt_\n\t  function onDocumentMouseDown() {_lt_br /_gt_\n\t    _lt_br /_gt_\n\t  }\n_lt_/p_gt_\n\n_lt_p_gt_\n\t  function onDocumentMouseUp(event) {_lt_br /_gt_\n\t    fire _eq_ false_sm__lt_br /_gt_\n\t  }\n_lt_/p_gt_\n\n_lt_p_gt_\n\t  var scene _eq_ createScene()_sm__lt_br /_gt_\n\t  engine.runRenderLoop(function() {_lt_br /_gt_\n\t    scene.getMeshByName(_qt_box1_qt_).rotate(BABYLON.Axis.Y_co_ mouseX * 0.00007_co_ BABYLON.Space.LOCAL)_sm__lt_br /_gt_\n\t    scene.getMeshByName(_qt_box1_qt_).rotate(BABYLON.Axis.X_co_ mouseY * 0.0001_co_ BABYLON.Space.LOCAL)_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t    scene.getMeshByName(_qt_box1_qt_).translate(BABYLON.Axis.Z_co_ 6_co_ BABYLON.Space.LOCAL)_sm__lt_br /_gt_\n\t   \n_lt_/p_gt_\n\n_lt_p_gt_\n\t    scene.render()_sm__lt_br /_gt_\n\t  })_sm__lt_br /_gt_\n\t})_sm__lt_br /_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-08-14T15:14:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tHello! can you please provide a repro in the Playground? It will be far easier for us to help you then\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Bricktheworld","Date":"2017-08-14T16:01:57Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tI am trying but I can_t_t seem to get it to work even though it works when I run a local sever on my computer\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Christoph","Date":"2017-08-14T19:41:38Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThe ImportMesh things will break it_co_ as they are not present in Playground.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]