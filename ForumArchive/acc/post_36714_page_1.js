[{"Owner":"matdav","Date":"2018-03-29T16:15:18Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_div_gt_\n\tHi guys!\n_lt_/div_gt_\n\n_lt_div_gt_\n\t \n_lt_/div_gt_\n\n_lt_div_gt_\n\tI_t_m relatively new to both Babylon JS and 3D world and I_t_m trying to understand how things work in order to use Babylon JS in my current project. So please forgive me if I_t_ll say nonsense._lt_br /_gt_\n\t_lt_br /_gt_\n\tWhat I would like to do is import assets in my scene from external files_co_ for example from a glTF or obj file_co_ manipulate objects and then save the final 3D scene in .babylon format in order to read it back later._lt_br /_gt_\n\tI_t_m getting problems when I import objects from glTF files and in particular for the textures.\n_lt_/div_gt_\n\n_lt_div_gt_\n\t \n_lt_/div_gt_\n\n_lt_div_gt_\n\tFirst of all_co_ when I import the glTF file_co_ for each texture a new blob in memory is created and the temporary object url (created with URL.createObjectURL()) is set to the texture url_co_ losing the original file name._lt_br /_gt_\n\tSecondly and more problematic_co_ the UV mappings does not seem to work anymore when reading the serialized babylon json file.\n_lt_/div_gt_\n\n_lt_div_gt_\n\tTo explain better I created a playground sample.\n_lt_/div_gt_\n\n_lt_div_gt_\n\t \n_lt_/div_gt_\n\n_lt_div_gt_\n\t_lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#KGVJR8_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//playground.babylonjs.com/#KGVJR8_lt_/a_gt_\n_lt_/div_gt_\n\n_lt_div_gt_\n\t \n_lt_/div_gt_\n\n_lt_div_gt_\n\tThe sample loads objects from two files_dd_ the original avocado.gltf file (shown on the left in the scene) and the serialized baylon file (on the right)._lt_br /_gt_\n\tTo get the babylon js file I just serialized the scene with the object obtained from the glTF file and I replaced in the resulting json the blob object urls with the file names of the textures_co_ saved to the same path as the babylon file.\n_lt_/div_gt_\n\n_lt_div_gt_\n\t_lt_br /_gt_\n\tAs you can see_co_ in the object on the right the texture coordinates are not mapped well anymore to the mesh vertices._lt_br /_gt_\n\tHowever_co_ if you look at the console_co_ you can see that the uv data seem to be there and are the same in both cases. So what could be the problem? Am I doing something wrong?\n_lt_/div_gt_\n\n_lt_div_gt_\n\t \n_lt_/div_gt_\n\n_lt_div_gt_\n\tI hope I_t_ve explained myself well_co_\n_lt_/div_gt_\n\n_lt_div_gt_\n\t \n_lt_/div_gt_\n\n_lt_div_gt_\n\tThanks_co__lt_br /_gt_\n\tMatteo\n_lt_/div_gt_\n\n_lt_div_gt_\n\t \n_lt_/div_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"bghgary","Date":"2018-03-30T16:54:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/30812-matdav/?do_eq_hovercard_qt_ data-mentionid_eq__qt_30812_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/30812-matdav/_qt_ rel_eq__qt__qt__gt_@matdav_lt_/a_gt_ The blob url thing is something we need to address and is a separate problem. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe textures are upside down. If you look at the material_t_s albedoTexture between glTF and Babylon_co_ the _invertY property is false and true respectively. It looks like the serialization code is not taking some texture flags into account.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t/cc _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-03-30T17:13:04Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tGotcha! Will fix it for next nightly _lt_img alt_eq__qt__sm_)_qt_ data-emoticon_eq__qt_1_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ title_eq__qt__sm_)_qt_ width_eq__qt_20_qt__gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"matdav","Date":"2018-03-30T18:11:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/26831-bghgary/?do_eq_hovercard_qt_ data-mentionid_eq__qt_26831_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/26831-bghgary/_qt_ rel_eq__qt__qt__gt_@bghgary_lt_/a_gt_ Thank you for investigating this problem! You_t_re right about the blob url_co_ I created the topic mainly for the UV problem._lt_br /_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_ Thanks for quick fix! \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]