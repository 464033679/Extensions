[{"Owner":"Sholand","Date":"2017-11-07T22:02:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_ I am trying to extrude a polygon using ExtrudeShapeCustom.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI need to use this because I need to access the scale function.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt seems that a polygon with concave shapes messes it up.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tcode_dd_ var c _eq_ BABYLON.Mesh.ExtrudeShapeCustom(_qt_name_qt__co_ polygon_co_ path_co_ Scale_co_ Rotation_co_ false_co_ true_co_ 3_co_ scene)_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhen creating the same with below polygonMeshBuilder it works.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tvar c _eq_ new BABYLON.PolygonMeshBuilder(_qt_name_qt__co_ polygon_co_ scene).build(1_co_depth)_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMy issue is that I need to scale down so the polygon gets smaller as it extrudes.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIs there a fix for this?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have attached screenshots of the polygonMeshBuilder (which looks ok but without any scaling) and the ExtrudeCustomShape (which is messed up) \n_lt_/p_gt_\n\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_11/5a022d200b5bf_ScreenShot2017-11-07at4_52_03PM.png.4eb7f123613ca5f9c72c9a7fb5471fb0.png_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_15576_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_11/5a022d2107d2a_ScreenShot2017-11-07at4_52_03PM.thumb.png.70eab42adb08eb77132cf7aadc39bbdd.png_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_Screen Shot 2017-11-07 at 4.52.03 PM.png_qt__gt__lt_/a_gt__lt_/p_gt_\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_11/5a022d10f1697_ScreenShot2017-11-07at4_50_36PM.png.df07c8b43fd719384f5dd7be90d67563.png_qt_ class_eq__qt_ipsAttachLink ipsAttachLink_image_qt__gt__lt_img data-fileid_eq__qt_15575_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_11/5a022d12140d2_ScreenShot2017-11-07at4_50_36PM.thumb.png.cd38ebbfca1d818d41cf0c7946a14a24.png_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_Screen Shot 2017-11-07 at 4.50.36 PM.png_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2017-11-08T13:45:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tPG please ?\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sholand","Date":"2017-11-08T16:00:17Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi Jerome_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere are the two playgrounds\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis is the one with the extrudeshapecustom.  I think it is a cap problem.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#KCFUE2%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#KCFUE2#1_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere is the one that works - (but no scaling function available)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#HVQS9P%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#HVQS9P#1_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2017-11-08T19:02:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tyes_co_ the capping process is quite simple and based on the computation of the barycenter only (not a real triangulation algo) ... something that could be improved actually.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFor now_co_ if you need a better cap_co_ you could build a polygon from the shape that you extrude (with _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/how_to/polygonmeshbuilder_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/how_to/polygonmeshbuilder_lt_/a_gt_) or that you use JohnK_t_s polygonExtruder \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JohnK","Date":"2017-11-08T19:17:03Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t Here is link for extruding polygon _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/how_to/parametric_shapes#extruded-non-regular-polygon_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/how_to/parametric_shapes#extruded-non-regular-polygon_lt_/a_gt_\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sholand","Date":"2017-11-08T20:18:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks for the help...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tUntil the cap can be improved_co_ can you think of anyway to replicate the scaling function of extrudeshapecustom where the polygon gets smaller (with a proper cap)?  See how the sides taper down?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_15599_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_11/image.png.b321b813efa5dcb521a62fd7eab94db7.png_qt_ alt_eq__qt_image.png.b321b813efa5dcb521a62fd7eab94db7.png_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sholand","Date":"2017-12-04T19:52:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi Jerome and JohnK_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIs there anyway I can request the improvement of the capping algorithm for extrudecustomshape? or pay someone to do it?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI really need to be able to run the scaling function to taper down the sides.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI appreciate your help and feedback.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks!\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JohnK","Date":"2017-12-04T22:03:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tAs an alternative extrude without caps use createPolygon or PolygonMeshBuilder to make the caps and merge the meshes.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sholand","Date":"2017-12-04T23:16:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks JohnK!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNot exactly sure how to do this but I will give it a try...\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sholand","Date":"2017-12-05T00:41:52Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIt seems that extrudecustomshape and polygonmeshbuilder come out on different planes.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCan_t_t figure out how to line them up...\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#KCFUE2%232_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#KCFUE2#2_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JohnK","Date":"2017-12-05T10:12:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tBit trickier than I thought but here it is _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#KCFUE2%233_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#KCFUE2#3_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t but I may have got it upside down so _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#KCFUE2%234_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#KCFUE2#4_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNote that because your poly data is all positive and scaling is set at the origin the shape is skewed see better with bigger chamfer  _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#KCFUE2%235_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#KCFUE2#5_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf you want to the base centres in alignment then you need to adjust your data to have the origin at the centre _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#KCFUE2%236_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#KCFUE2#6_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sholand","Date":"2017-12-05T14:37:34Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tJohnK_co_ that is amazing!  Thank you for your help.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe last one _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#KCFUE2%236_qt_ rel_eq__qt_external nofollow_qt_ style_eq__qt_background-color_dd_#ffffff_sm_color_dd_#4588c5_sm_font-size_dd_14px_sm__qt__gt_https_dd_//www.babylonjs-playground.com/#KCFUE2#6_lt_/a_gt_ looks the best.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHow would I go about reversing it so that the bigger surface is on top? so that it tapers smaller down instead of up?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JohnK","Date":"2017-12-05T14:42:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tEasiest way is to do what I did in #4   reverse lower/upper (top/Bottom) values\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#KCFUE2%237_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#KCFUE2#7_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sholand","Date":"2017-12-05T17:44:07Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThanks!  I will try and integrate into my application.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sholand","Date":"2017-12-13T17:48:47Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tJohnK - it worked perfectly.  Thank you so much for all of your help!\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]