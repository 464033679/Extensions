[{"Owner":"reddozen","Date":"2014-06-02T21:35:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Anyone have a suggestion to the best way to handle something like... inside a building vs outside or swimming vs walking? I_t_m basically looking for a programmatically cheep way to determine if I_t_m inside a volume._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Calculating distance from origin of the volume container may be too expensive as you would have to also take into account rotations and translations etc_co_ and I cannot rely on a collision detection when entering the volume_co_ or with the floor of the volume since in the water_co_ you could be suspended at any height of the volume._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Collision detection will be used for most situation. Where entering the volume changes the state using a 2 box system of staggered boxes for inside and outside triggers. The problem comes when you load into a volume_co_ or are teleported into it. In this case you wouldn_t_t trigger the collision_co_ so I have to come up with a good way to determine volume location as a situational event._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Hope this makes since._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Kilombo","Date":"2014-06-02T21:46:57Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi there_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Did you tried doing a simple iteration comparing the x and z coordinates of the volume and of the playes?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Something like_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_if ((player.posx &gt_sm_ volume.initialposx) || (player.posz &gt_sm_ volume.initialposz)){_lt_/p_gt__lt_p_gt_    trigger some function_sm__lt_/p_gt__lt_p_gt_}_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"gryff","Date":"2014-06-02T22:04:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_red_co_ I played with something like this a little while ago. Here is an example_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.3dworlds.ca/1webgl/zones/index.html_qt_ rel_eq__qt_external nofollow_qt__gt_Zones Test_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The 4 green boxes in front_co_ behind_co_ left and right detect entry/exit. The one on the right triggers changes in the blue cube at centre when you enter_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_And here is the thread on the forum_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/topic/5090-trigger-zones/_qt__gt_Trigger Zones_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Hope it helps._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_cheers_co_ gryff _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"reddozen","Date":"2014-06-03T01:51:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Yea_co_ that is basically what I_t_m hoping to do for the normal case of walking into buildings or leaving them_co_ but it doesn_t_t cover what to do if you logged into the game from inside the building_co_ or if you were teleported into it from outside. I_t_ll poke around with it and see if i can at least make something work._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"gryff","Date":"2014-06-03T03:40:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt__gt__lt_div_gt_it doesn_t_t cover what to do if you logged into the game from inside the building_co_ or if you were teleported into it from outside._lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_red_co_ most of the code has to do with construction of the scene and screen output._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The principle is the important issue - attaching a cube to the camera and then finding which zone mesh it intersects with. I worked on it to trigger actions  - like blocks falling on you_co_ gates slamming shut (or in the example changing the appearance of the centre blue block)._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_For the login situation_co_ which I assume means saved data_co_ to me it would be just an issue of setting up a few variables - like currGateNum _co_ inGate etc. Just add these variables to the saved data. Of course integrating that with your login code might be trickier._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The Teleport would depend what type of teleport we are talking about. Is it controlled teleport between Gates where again you could use the known position in different zones of each gate and change the currGateNum. Or is the teleport situation more awkward - a Random Teleport Spell cast on a player - might have to have some lookup table to associate position with a presence in a new zone._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Hope you post any new code so people can take a look._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_cheers_co_ gryff _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"reddozen","Date":"2014-06-03T13:16:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Yea_co_ if I figure something out I_t_ll share. The teleport will be more of a GM type function. I understand your point... It may just be easier to hard code port locations. If you teleport to someone else_co_ then you just inherit their inside / outside / swimming status when you get their location. That_t_s probably what I_t_ll do._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]