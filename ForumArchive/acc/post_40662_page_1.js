[{"Owner":"Tomek","Date":"2018-10-16T14:08:04Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_ this is my first post on this forum so I would like to say that _lt_strong_gt_BabylonJs_lt_/strong_gt_ is awesome and it has a great community!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m working on a project and I would like to allow the user to select a point in the space (so I could later pin a GUI button or a mesh there).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMy first idea is that if I could detect that user is trying to click on the model then I would assume that the point is on the model_co_ else if it_t_s the space I could probably use some default distance from the camera.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have read about _lt_a href_eq__qt_https_dd_//doc.babylonjs.com/babylon101/picking_collisions_qt_ rel_eq__qt_external nofollow_qt__gt_collisions_lt_/a_gt_ and end up with this example_dd_ _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#RQ2T0A%236_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#RQ2T0A#6_lt_/a_gt_. The problem is that _qt_click_qt_ handler always returns _qt_hit_dd_ false_qt_ I assume that_t_s because of the Yeti isn_t_t something like mesh created with MeshBuilder. How could I fix it?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBy the end_co_ my final goal is to create some kind of indicator that would help the user visually pick that point (maybe some crossing lines or whatever). Any suggestions would be much helpful!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-10-16T16:53:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello and welcome!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tyou are on the right track_dd_ You can use scene.pick() but you just need something to pick _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt_true_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt__gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#NU4F6Y#12_qt_ ipsnoembed_eq__qt_true_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#NU4F6Y#12_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_(I added comments in the code to explain it)_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2018-10-16T21:26:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi guys!  Welcome_co_ Tomek.  Cool invisible-plane click-in-space solution_co_ Deltakosh!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI took it a few steps further.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#NU4F6Y%2313_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#NU4F6Y#13_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWatch the JS console to try to learn what is happening.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI made Deltakosh_t_s invisible plane... a LITTLE BIT visible... and textured some bricks on it.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI also parented the wall... to the camera.  Line 24.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI put actionManagers on the red_co_ green_co_ and blue boxes... each with pick-triggers and executeCode-actions.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am testing IF/NOT we can pick the colored boxes...  THROUGH the (almost-) invisible brick wall. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo far_co_ no.  I think it might need _qt_multi-pick_qt_ to do that... which IS an available feature.  More about that_co_ below.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn current condition_co_ picking red_co_ blue_co_ or green boxes... reports a WALL HIT at the console.  The _qt_pick_qt_ cannot travel thru the wall... to hit the boxes behind the wall.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou can change _t_30_t_ to _t_60_t_ in line 25_co_ and that will move the invisible wall BEHIND the colored boxes.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTHEN... picking red_co_ green_co_ or blue (using their actionManagers)... works fine.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t----------------\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#NU4F6Y%2314_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#NU4F6Y#14_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn this demo_co_ wall is larger and farther-back (line 25)_co_ yet still parented to camera.  Picks work on invisible wall (distances over 100)_co_ yet ALSO work on red_co_ blue_co_ and green actionManagers.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnyway_co_ these are just some things to think-about and experiment-with.  Selecting things_co_ and positioning 3d cross-hairs/reticles... can be challenging.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t---------------\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWith _t_multi-pick_t_... things change a bit_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#NU4F6Y%2316_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#NU4F6Y#16_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSee the _t_multipick_t_ in line 84.  Line 85 reports ALL the mesh that were hit.  So_co_ a click in the center... reports 4 mesh (in an array) at the console.  (The little white cursor box is set isPickable _eq_ false_co_ so it is not included.)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn versions #13/#14_co_ the _lt_em_gt_pickResult _lt_/em_gt_object had many cool properties_co_ like _lt_em_gt_.pickedMesh_lt_/em_gt_ and _lt_em_gt_.pickedPoint_lt_/em_gt_ and ._lt_em_gt_distance_lt_/em_gt_. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tConversely_co_ the _lt_em_gt_pickResult_lt_/em_gt_ returned from a multi-pick... is only a simple array of ALL the mesh that were hit.  No cool properties and no automatic distance_co_ but SOME values can be calculated/measured.  Getting a _lt_em_gt_.pickedPoint _lt_/em_gt_for each returned mesh... will be difficult_co_ though.  The multipick_t_s _lt_em_gt_pickResult_lt_/em_gt_ only contains the _qt_hit mesh_qt_... and no information about WHERE they were hit.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTMI_co_ eh?  *nod*.  In general_co_ there are many ways to get the screen X/Y position of a click/pick.  It is not so easy to determine the Z-depth when clicking in _qt_empty space_qt_. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tDeltakosh installed the invisible plane... to show that _qt_clicking in space_qt_ needs to hit SOMETHING_co_ or else it won_t_t be _qt_seen_qt_ as a pick/click.  But using invisible planes for _qt_space clicks_qt_... has some _qt_block clicks upon other mesh_qt_ -issues that need to be understood.  In many cases_co_ the invisible _qt_space-plane_qt_... needs to be _lt_u_gt_behind all other scene mesh_lt_/u_gt_.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOk_co_ we have plenty of playgrounds to experiment-with.  Good luck!  Tell us of your progress and/or problems.  We_t_re here to help.  Be patient with yourself.  Soon_co_ you will be an expert.  Sorry for all the talking... I hope I have been helpful.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPS_dd_  _t_Collisions_t_ are not really a mouse-pointer thing.  They are mesh-to-mesh and freeCamera-to-mesh intersection testing/systems.   But_co_ that was some very intuitive thinking.  _t_Collision_t_ is indeed a term that COULD apply to pointer hits_co_ eh?  Not in BabylonJS_co_ though.  _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  _lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"dbawel","Date":"2018-10-16T22:32:41Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI don_t_t know if this might apply_co_ however for a recent app_co_ I used the (X_co_Y) canvas pick point to pass through_co_ and set a separate control (mouse wheel_co_ keypad) to set a dynamic Z distance from the camera in world space. This simple function allowed me to draw vertices and create meshes in three dimensions quickly and easily. I also drew a line from my camera to the (X_co_Y_co_Z) world space coordinate as a visual reference with a simple icon attached to the end point on the selected position to allow easier navigation. And for my app_t_s specific needs_co_ I provided a numeric Z depth reading in the UI with limits so that the user could set restrictions on Z depth (as well as X_co_Y world space_co_ to provide a useful_co_ selectable_co_ and accurate determination of where to select to place mesh attributes.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDB\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2018-10-17T01:19:04Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi DB.  Yeah_co_ I was thinking something similar.  Perhaps hold-down the click_co_ and then roll mousewheel... for depth-adjusting (mostly for positioning new mesh or _qt_space markers_qt_).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI think many new users of BJS... want to _qt_assemble_qt_.  Although the BJS Editor is nice_co_ sometimes it seems... that mesh could use a _qt_snap-on GUI_qt_... perhaps .guiManager.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAdd one_co_ activate it_co_ and very nice menu with arrow-buttons and readouts... happens somewhere on-screen.  You never really drag a mesh to new positions or rotations_co_ but you use the GUI panel buttons to move/rotate the mesh.  In this way_co_ the mesh sort-of carries-around its own editor.  We_t_re still positioning via pointer/clicks_co_ just... not dragging.  Instead_co_ MeshMenu v1.0.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  *shrug*  Later_co_ with add _qt_snap_qt_  _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLikely_co_ somebody has already built it. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI think I once made a right-click-on-mesh pop-open menu (context menu)... but I did it using Canvas2d.  Newer GUI system can handle it fine_co_ too.  RIght-click to pop-open a mesh_t_s _qt_personal editor_qt_?  Sounds ok_co_ eh?  \n_lt_/p_gt_\n\n_lt_p_gt_\n\tReally_co_ the GUI/funcs in my _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#PBVEM%23299_qt_ rel_eq__qt_external nofollow_qt__gt_goofy space-flyer_lt_/a_gt_ playground... is a pretty good start.  It has 6 buttons for rotate_co_ 6 buttons for position_co_ but needs 6 more buttons for scaling.  Use symbols on the buttons_co_ instead of text... and you should be able to shrink the 18+ button menu... to 15% x 15% screen space (3 inches by 3 inches).  Have that pop-open under a mesh... when the mesh is right-clicked.  Nice.  Maybe allow the readouts to also be inputs... let users type-in numbers.  Same things that dbawel speaks-of... only 1500% overkill added_co_ and never used by anyone.  _lt_span_gt__lt_span_gt__lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Tomek","Date":"2018-10-17T09:12:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi guys_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks a lot! This gives me some ideas for further research. The general impression I get is that I should apply this kind of logic_dd_\n_lt_/p_gt_\n\n_lt_ol_gt_\n\t_lt_li_gt_\n\t\tcreate a Plane far_co_ far away to be sure it_t_s behind the loaded model\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\tthen I can distinguish if the click happened on the space (when hit the plane) or else it must have been somewhere on the model\n\t_lt_/li_gt_\n_lt_/ol_gt_\n\n_lt_p_gt_\n\tRight?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tUsing multi-pick option is also interesting_co_ maybe I could do something with that information _lt_span class_eq__qt_ipsEmoji_qt__gt_🤔_lt_/span_gt_ .\n_lt_/p_gt_\n\n_lt_p_gt_\n\t _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/11286-dbawel/?do_eq_hovercard_qt_ data-mentionid_eq__qt_11286_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/11286-dbawel/_qt_ rel_eq__qt__qt__gt_@dbawel_lt_/a_gt_ Your solution seems to be close to what I_t_m looking for_co_ would you mind sharing some example? _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI will be sharing my progress.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2018-10-17T09:48:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tRemember that ALL your mesh could have actionManagers listening for picks.  So_co_ think about... ANY click that didn_t_t pickResult.hit_co_ or trigger a mesh.actionManager... MUST have been a click in space.  We don_t_t need an invisible plane.... _lt_strong_gt_IF_lt_/strong_gt_ we can eliminate all other possibilities.  If all mesh have actionManagers_co_ and none of them triggered... it HAD TO BE a _qt_miss_qt_.  _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo_co_ you can run a function such as...  _lt_strong_gt_var onMiss _eq_ function() { var whereMiss _eq_ new BABYLON.Vector2(scene.pointerX_co_ scene.pointerY)_sm_ console.log(whereMiss)_sm_ }_lt_/strong_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhen you have this _qt_where was the pointer on the screen at time of click-miss_qt_ value... things can be done with it. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI BELIEVE one operation is called _qt_unproject()_qt_... which sort-of backwards-projects an imaginary line (a direction vector)... from the center of the camera_co_ THROUGH that chosen screen X/Y... and you can use that to position mesh in _qt_space_qt_ (along that projected line).  Or maybe that is called _qt_project_qt_.  (You_t_ll need to read about it). \n_lt_/p_gt_\n\n_lt_p_gt_\n\tStill_co_ you need SOME way of determining HOW FAR along Z-depth to place it (how far from camera).  Not only that_co_ but camera can be turned... so that could cause trouble.  Maybe not.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd don_t_t forget that an actionManager is allowed on the _lt_u_gt__lt_em_gt_scene_lt_/em_gt__lt_/u_gt_ object.  I think we saw one used in one of the above playgrounds.  I_t_m not sure if THAT can test for _qt_click happened without hitting anything_qt__co_ but it might be worth study.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnyway_co_ I figured I_t_d better tell you about the handy_co_ constantly-updated... scene.pointerX and scene.pointerY properties.  If you put an actionManager with click-test on EACH mesh... then you can use these two properties to determine screen X/Y location of clicks that missed all mesh.  You don_t_t need to use pickResults or hit checks... at all.  I am not experienced in _t_unproject_t__co_ but _lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/search/?&amp_sm_q_eq_unproject&amp_sm_type_eq_forums_topic&amp_sm_nodes_eq_28_co_29_co_30_co_31_co_38_qt_ rel_eq__qt__qt__gt_a forum search about it... looks good_lt_/a_gt_.  I dunno if any of these ideas are wise or useful... just passing along what little I know.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHeck_co_ let_t_s try _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/playground/?code_eq_unproject_qt_ rel_eq__qt_external nofollow_qt__gt_a playground search for _t_unproject_t__lt_/a_gt__co_ too.  That returns a few hits.  Others are far more qualified to talk about projections... than I.  Perhaps they will tell us what they know_co_ soon.  Stay tuned_co_ party on.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Tomek","Date":"2018-10-17T11:25:18Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5733_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/_qt_ rel_eq__qt__qt__gt_@Wingnut_lt_/a_gt_ thanks a lot_co_ I really appreciate your feedback.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m missing something fundamental here. How is Mesh created with Babylon different from meshes loaded with SceneLoader (I mean `newScene.meshes` property)? Back to yeti example - I tried to create multi-pick but it always returns an empty array - _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#RQ2T0A%237_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#RQ2T0A#7_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"dbawel","Date":"2018-10-18T07:33:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/33088-tomek/?do_eq_hovercard_qt_ data-mentionid_eq__qt_33088_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/33088-tomek/_qt_ rel_eq__qt__qt__gt_@Tomek_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMy apologies - I haven_t_t been on the forum much these past few weeks. If you would still like an example of this_co_ then I expect to be able to set up a simple scene which accomplishes this.I have an insurmountable amount of work backlogged_co_ but need to move back into the community. I_t_ll try and let you know if I_t_m not able to get to this tomorrow_sm_ as it won_t_t take long to build.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDB\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"bghgary","Date":"2018-10-18T16:53:17Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/33088-tomek/?do_eq_hovercard_qt_ data-mentionid_eq__qt_33088_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/33088-tomek/_qt_ rel_eq__qt__qt__gt_@Tomek_lt_/a_gt_ I think there is a bug here perhaps related to the root transform for glTF files. There were some issues with playground you created_co_ but even after I fixed the issues_co_ the picking code still doesn_t_t work. I_t_ve filed an issue for this_dd_ _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/issues/5386_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/issues/5386_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Tomek","Date":"2018-10-19T15:48:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tUPDATE_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI think I_t_m getting somewhere. I mean I found a way with Gizmos how to position an element after it has been misplaced in space - _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#RQ2T0A%2312_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#RQ2T0A#12_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPrimarily the function of these pinpoints/anchors is to be something else_co_ but I can imagine that this Gizmo function can be triggered by something like a double-click maybe (though I didn_t_t found a way to receive double clicks) to change anchor position. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tStill_co_ I_t_m don_t_t know really how to pick a good initial Z distance from the camera (depth of anchor). Maybe something like a bounding box could help? Maybe then I could use this logic_dd_ if it_t_s a bounding-box hit then I_t_ll place an anchor on that specific place on the bounding box. If it_t_s a space I will pin an anchor to the middle of the world. I both cases the user can correct the anchor with Gizmo.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Tomek","Date":"2018-10-21T09:53:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tUPDATE_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t* I have a way to move once created anchor with a Gizmo\n_lt_/p_gt_\n\n_lt_p_gt_\n\t* I have a way to intercept clicks on the scene and add a new anchor\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe problem is I cannot properly set initial position for a new anchor after the user click.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI gave up on counting a distance between a model and camera for now. Having a gizmo set_co_ it would be good enough to just _lt_strong_gt_click on the canvas and then create an anchor right under the mouse pointer and with some default distance from the camera_lt_/strong_gt_.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut this is not easy_co_ as I don_t_t know how to take the camera position into account and set depth properly so the anchor stays under the mouse pointer. Is it possible even without some hard math?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis is where I stuck - _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#RQ2T0A%2314_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#RQ2T0A#14_lt_/a_gt_ .\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAny help would be appreciated.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JohnK","Date":"2018-10-21T15:40:04Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHere is an experiment _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#RQ2T0A%2315_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#RQ2T0A#15_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tStill a lot wrong with it_co_ as in\n_lt_/p_gt_\n\n_lt_ul_gt_\n\t_lt_li_gt_\n\t\tnot very accurate\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\tthe scaling on line 85 is made up with no logical basis though it does seem to work (?????)\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\trotating the camera means the x position of gizmo is reflected\n\t_lt_/li_gt_\n_lt_/ul_gt_\n\n_lt_p_gt_\n\tMaybe it could lead somewhere! _lt_span class_eq__qt_ipsEmoji_qt__gt_🙂_lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Tomek","Date":"2018-10-22T12:42:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/14282-johnk/?do_eq_hovercard_qt_ data-mentionid_eq__qt_14282_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/14282-johnk/_qt_ rel_eq__qt__qt__gt_@JohnK_lt_/a_gt_ thanks! I don_t_t know all of this math so I cannot improve it _lt_span class_eq__qt_ipsEmoji_qt__gt_😅_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI thought about that wall from the first examples... _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#RQ2T0A%2316_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#RQ2T0A#16_lt_/a_gt_.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere I have added a fake wall and after the click_co_ the anchor is placed always under the pointer.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThough there are some problems with this approach_dd_\n_lt_/p_gt_\n\n_lt_ol_gt_\n\t_lt_li_gt_\n\t\tit_t_s a fixed depth.\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\tif someone moves away enough from camera he will be limited to the wall size when placing anchor which also...\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\t...requires some computations probably so the wall is always bigger than the model\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\tanchors are initially placed inside the model_co_\n\t_lt_/li_gt_\n\t_lt_li_gt_\n\t\tIt_t_s an extra mesh that someone has to be aware of (?)\n\t_lt_/li_gt_\n_lt_/ol_gt_\n\n_lt_p_gt_\n\tAs of point 4 - it works better when there are no bones _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#RQ2T0A%2317_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#RQ2T0A#17_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMaybe most of these problems could be fixed with some kind of a bounding box _lt_span class_eq__qt_ipsEmoji_qt__gt_🤔_lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JohnK","Date":"2018-10-22T16:22:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHow many of your problems are solved by having a really big wall? _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#RQ2T0A%2318_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#RQ2T0A#18_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Tomek","Date":"2018-10-22T18:02:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI tried that before and I think it will be a good enough approach to what I_t_m looking for.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMy initial aim was to be able to somehow pick the exact place in the space or a model.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLet_t_s say that these anchors are gonna open up some comment_co_ it would be a cool feature if a user could just rotate a model then click a place on this model and anchor would be then pinned exactly to that place. But this gets complicated because of the _qt_Bones_qt_ (which I don_t_t get yet) and basically handling clicks outside of the model.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tStill curious about _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/11286-dbawel/?do_eq_hovercard_qt_ data-mentionid_eq__qt_11286_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/11286-dbawel/_qt_ rel_eq__qt__qt__gt_@dbawel_lt_/a_gt_ solution though _lt_span class_eq__qt_ipsEmoji_qt__gt_🙂_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI really appreciate all of the feedback you gave me.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]