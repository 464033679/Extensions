[{"Owner":"celian-garcia","Date":"2014-05-06T10:22:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hello_co__lt_br_gt_ _lt_br_gt_I have a Digital Elevation Model (DEM) formed by several grounds (tiles)._lt_br_gt_ _lt_br_gt_For each tile I want to move from wireframe to texture _lt_strong_gt_instantly_lt_/strong_gt_ so I wrote this (it works but the transition is not direct)_lt_br_gt_ _lt_br_gt_material.diffuseTexture _eq_ tex_sm__lt_br_gt_material.wireframe _eq_ false_sm__lt_br_gt_ _lt_br_gt_I saw it was not so easy_co_ then I copy the createTexture function of engine in my Utils and put my _qt_material.wireframe _eq_ false_sm__qt_ in the onload of image_co_ like that_dd__lt_br_gt_ _lt_br_gt__lt_br_gt__lt_br_gt_RANDO.Utils.createTexture _eq_ function (engine_co_ material_co_ url_co_ scene_co_ noMipmap_co_ invertY) {_lt_br_gt_    var texture _eq_ engine._gl.createTexture()_sm__lt_br_gt_    var img _eq_ new Image()_sm__lt_br_gt_    scene._addPendingData(texture)_sm__lt_br_gt_    texture.url _eq_ url_sm__lt_br_gt_    texture.noMipmap _eq_ noMipmap_sm__lt_br_gt_    texture.references _eq_ 1_sm__lt_br_gt_    engine._loadedTexturesCache.push(texture)_sm__lt_br_gt_    _lt_br_gt_    _lt_br_gt_    img.crossOrigin _eq_ _t_anonymous_t__sm__lt_br_gt_    img.onload _eq_ function() {_lt_br_gt_        prepareWebGLTexture(material_co_ texture_co_ scene_co_ img.width_co_ img.height_co_ invertY_co_ noMipmap_co_ function (potWidth_co_ potHeight) {_lt_br_gt_            var isPot _eq_ (img.width _eq__eq_ potWidth &amp_sm_&amp_sm_ img.height _eq__eq_ potHeight)_sm__lt_br_gt_            if (!isPot) {_lt_br_gt_                engine._workingCanvas.width _eq_ potWidth_sm__lt_br_gt_                engine._workingCanvas.height _eq_ potHeight_sm__lt_br_gt__lt_br_gt_                engine._workingContext.drawImage(img_co_ 0_co_ 0_co_ img.width_co_ img.height_co_ 0_co_ 0_co_ potWidth_co_ potHeight)_sm__lt_br_gt_                _lt_br_gt_                material.wireframe _eq_ false_sm__lt_br_gt_            }_lt_br_gt__lt_br_gt_            engine._gl.texImage2D(_lt_br_gt_                engine._gl.TEXTURE_2D_co__lt_br_gt_                0_co__lt_br_gt_                engine._gl.RGBA_co__lt_br_gt_                engine._gl.RGBA_co__lt_br_gt_                engine._gl.UNSIGNED_BYTE_co__lt_br_gt_                isPot ? img _dd_ engine._workingCanvas_lt_br_gt_            )_sm__lt_br_gt_            _lt_br_gt_        })_sm__lt_br_gt_       _lt_br_gt_    }_lt_br_gt_    _lt_br_gt_    img.onerror _eq_ function() {_lt_br_gt_        scene._removePendingData(texture)_sm__lt_br_gt_    }_sm__lt_br_gt_    _lt_br_gt_    img.src _eq_ url_sm__lt_br_gt_    _lt_br_gt_    return texture_sm__lt_br_gt_}_sm__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_There is again a time between wireframe disabling and texture display._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_So the time do not come from the loading of Image object but from the display of Image object ?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I don_t_t know how to do this immediate shift. If somebody have an answer..._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thank you_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-05-06T16:02:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_The time you have noticed is due to compilation time of the shader. As soon as you add a texture the shader must be recompiled to take this information in account. The best idea here should be to have a white texture always attached to your object even when in wireframe mode so that the switch to real texture won_t_t trigger a compilation_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"celian-garcia","Date":"2014-05-06T17:14:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Ah yes I didn_t_t think to that ! I_t_ll try it tomorrow (if I can wait all this time haha) _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"celian-garcia","Date":"2014-05-06T17:43:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I_t_m not really sure to understand _dd__lt_/p_gt__lt_ul_gt__lt_li_gt_I apply the material with a white texture_co_ and wireframe true_lt_/li_gt__lt_li_gt_Once the scene is ready _dd__lt_/li_gt__lt_li_gt_I use the createTexture function of engine to load my final texture._lt_/li_gt__lt_li_gt_I set the property _qt__texture_qt_ of my material.diffuseTexture with the texture just created._lt_/li_gt__lt_li_gt_Set wireframe to false_lt_/li_gt__lt_/ul_gt__lt_p_gt_I _t_ve done this but the switch is not direct._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Here is the demo so you_t_ll see the result _dd_ _lt_a href_eq__qt_https_dd_//kostar111.github.io/rando3D/_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//kostar111.github.io/rando3D/_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-05-06T18:50:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Yes but you also have to wait for the texture to be loaded_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"celian-garcia","Date":"2014-05-07T09:39:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Ok I created textures_co_ I do some others things (drape the trek etc) which take time and let textures be loaded._lt_/p_gt__lt_p_gt_After that_co_ I give these textures to the tile and it works with my computer._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_It_t_s a trick but I think I could do better if I can know exactly when the textures are loaded. Maybe this is a low level problem but if you have an element of answer about that..._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Anyway_co_ thank you for your time and for babylonjs it_t_s very simple of use _eq_)_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-05-07T15:48:00Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_you just have to check if texture.isReady() _eq__eq__eq_ true _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"celian-garcia","Date":"2014-05-13T14:23:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Ok I fixed the problem and here is my solution_lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_// Load tile_t_s textures over the DEMfunction texture () {    var count _eq_ finalTextures.length_sm_    var checked _eq_ []_sm_    for (var it in finalTextures){        checked.push(false)_sm_    }        loop()_sm_    function loop (){        var it _eq_ 0_sm_        var chunk _eq_ 50_sm_        apply()_sm_        function apply () {            var cnt _eq_ chunk_sm_            while (cnt-- &amp_sm_&amp_sm_ it &lt_sm_ finalTextures.length) {                if (!checked[it] &amp_sm_&amp_sm_ finalTextures[it].isReady) {                    checked[it] _eq_ true_sm_                    var property _eq_ tilesKeys[it]_sm_                                        // Set the texture when it_t_s loaded                    var material _eq_ scene.getMeshByName(_qt_Tile - _qt_ + property).material_sm_                    material.diffuseTexture._texture _eq_ finalTextures[it]_sm_                    material.wireframe _eq_ false_sm_                    count--_sm_                }                it++_sm_            }            if (it &lt_sm_ finalTextures.length) {                setTimeout (apply_co_ 1)_sm_            }else if (count &gt_sm_ 0) {                setTimeout (loop_co_ 1)_sm_            }        }_sm_    }    console.log(_qt_Textures applied !_qt_ + (Date.now() - RANDO.START_TIME) )_sm_}_sm__lt_/pre_gt__lt_p_gt_Basically I relaunch the loop() function while textures are not all ready._lt_/p_gt__lt_p_gt_It is not simple because the loop is very big for certain datasets. This is why I have an apply() function which divide it by chunk of 50 textures._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thank you ! Result is exactly what I expected !_lt_/p_gt__lt_p_gt__lt_a href_eq__qt_https_dd_//kostar111.github.io/rando3D/demo/v1/_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//kostar111.github.io/rando3D/demo/v1/_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2014-05-13T14:53:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_It_t_s nice to see of projects as useful done with babylon. Good luck_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-05-13T17:05:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_yes that is awesome!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"celian-garcia","Date":"2014-05-22T15:24:51Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Thank you guys ! sorry about late I close the topic _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]