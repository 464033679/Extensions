[{"Owner":"Nockawa","Date":"2018-07-04T08:54:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThis one is for _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/20193-sebavan/?do_eq_hovercard_qt_ data-mentionid_eq__qt_20193_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/20193-sebavan/_qt_ rel_eq__qt__qt__gt_@Sebavan_lt_/a_gt__co_ I use this material (a lot) and I wouldÂ _lt_strong_gt_really_lt_/strong_gt_Â appreciate if it could receive cast shadows. Currently I_t_m creating two surfaces displayed alpha blended_co_ a second one with a standard material to display the shadows but Depth Fight occurs a lot and it_t_s not something I can solve by tweaking as I have many different scales in many different objects.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCould you tell me if it_t_s something that can be done without much trouble and could be in future (beta_co_ near ? _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_Â ) releases? Or if it_t_s too much work that I have to lost hope on it?_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_Maybe you have a more tangible workaround in the meantime? I_t_m playing with zOffset in the Material and the scale of the second surface_co_ but it_t_s not working 100%..._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks !\n_lt_/p_gt_\n\n_lt_p_gt_\n\tÂ \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2018-07-05T04:27:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello _lt_span_gt__lt_span class_eq__qt_ipsEmoji_qt__gt_ðŸ™‚_lt_/span_gt__lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_This could be added to the material by taking example on the shadow only material. basically mixing the shadowonlymaterial code in the gridmaterial._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_The main issue would then be to support lights in the material cause shadows without lit area might give weird results._lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tÂ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tÂ \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"NasimiAsl","Date":"2018-07-05T06:17:41Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\thi _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/20193-sebavan/?do_eq_hovercard_qt_ data-mentionid_eq__qt_20193_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/20193-sebavan/_qt_ rel_eq__qt__qt__gt_@Sebavan_lt_/a_gt_ can you show me grid material fragment code i can mix that by custommaterial\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2018-07-05T17:26:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThis is all here_dd_Â _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/tree/master/materialsLibrary/src/grid_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/tree/master/materialsLibrary/src/grid_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Pryme8","Date":"2018-07-05T18:14:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI have no way of validating this script but I figured id post it for someone with more time then me at this moment._lt_br /_gt_\n\t_lt_br /_gt_\n\tÂ \n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_#extension GL_OES_standard_derivatives _dd_ enable\n\n#define SQRT2 1.41421356\n#define PI 3.14159\n\nprecision highp float_sm_\n\nuniform vec3 mainColor_sm_\nuniform vec3 lineColor_sm_\nuniform vec4 gridControl_sm_\nuniform vec3 gridOffset_sm_\n\nuniform vec3 vEyePosition_sm_\nuniform float alpha_sm_\n\n// Varying\n#ifdef TRANSPARENT\nvarying vec4 vCameraSpacePosition_sm_\n#endif\nvarying vec3 vPosition_sm_\nvarying vec3 vNormal_sm_\n\n#include&lt_sm___decl__lightFragment&gt_sm_[0..maxSimultaneousLights]\n#include&lt_sm_lightsFragmentFunctions&gt_sm_\n#include&lt_sm_shadowsFragmentFunctions&gt_sm_\n#include&lt_sm_clipPlaneFragmentDeclaration&gt_sm_\n\n#include&lt_sm_fogFragmentDeclaration&gt_sm_\n\nfloat getVisibility(float position) {\n    // Major grid line every Frequency defined in material.\n    float majorGridFrequency _eq_ gridControl.y_sm_\n    if (floor(position + 0.5) _eq__eq_ floor(position / majorGridFrequency + 0.5) * majorGridFrequency)\n    {\n        return 1.0_sm_\n    }  \n\n    return gridControl.z_sm_\n}\n\nfloat getAnisotropicAttenuation(float differentialLength) {\n    const float maxNumberOfLines _eq_ 10.0_sm_\n    return clamp(1.0 / (differentialLength + 1.0) - 1.0 / maxNumberOfLines_co_ 0.0_co_ 1.0)_sm_\n}\n\nfloat isPointOnLine(float position_co_ float differentialLength) {\n    float fractionPartOfPosition _eq_ position - floor(position + 0.5)_sm_ // fract part around unit [-0.5_sm_ 0.5]\n    fractionPartOfPosition /_eq_ differentialLength_sm_ // adapt to the screen space size it takes\n    fractionPartOfPosition _eq_ clamp(fractionPartOfPosition_co_ -1._co_ 1.)_sm_\n    \n    float result _eq_ 0.5 + 0.5 * cos(fractionPartOfPosition * PI)_sm_ // Convert to 0-1 for antialiasing.\n    return result_sm_    \n}\n\nfloat contributionOnAxis(float position) {\n    float differentialLength _eq_ length(vec2(dFdx(position)_co_ dFdy(position)))_sm_\n    differentialLength *_eq_ SQRT2_sm_  // Multiply by SQRT2 for diagonal length\n    \n    // Is the point on the line.\n    float result _eq_ isPointOnLine(position_co_ differentialLength)_sm_\n\n    // Add dynamic visibility.\n    float visibility _eq_ getVisibility(position)_sm_\n    result *_eq_ visibility_sm_\n    \n    // Anisotropic filtering.\n    float anisotropicAttenuation _eq_ getAnisotropicAttenuation(differentialLength)_sm_\n    result *_eq_ anisotropicAttenuation_sm_\n    \n    return result_sm_\n}\n\nfloat normalImpactOnAxis(float x) {\n    float normalImpact _eq_ clamp(1.0 - 3.0 * abs(x * x * x)_co_ 0.0_co_ 1.0)_sm_\n    return normalImpact_sm_\n}\n\nvoid main(void) {\n    #include&lt_sm_clipPlaneFragment&gt_sm_\n    vec3 viewDirectionW_eq_normalize(vEyePosition-vPositionW)_sm_\n    \n    #ifdef NORMAL\n        vec3 normalW_eq_normalize(vNormalW)_sm_\n    #else\n        vec3 normalW_eq_vec3(1.0_co_1.0_co_1.0)_sm_\n    #endif\n\n    // Scale position to the requested ratio.\n    float gridRatio _eq_ gridControl.x_sm_\n    vec3 gridPos _eq_ (vPosition + gridOffset) / gridRatio_sm_\n    \n    // Find the contribution of each coords.\n    float x _eq_ contributionOnAxis(gridPos.x)_sm_\n    float y _eq_ contributionOnAxis(gridPos.y)_sm_\n    float z _eq_ contributionOnAxis(gridPos.z)_sm_\n    \n    // Find the normal contribution.\n    vec3 normal _eq_ normalize(vNormal)_sm_\n    x *_eq_ normalImpactOnAxis(normal.x)_sm_\n    y *_eq_ normalImpactOnAxis(normal.y)_sm_\n    z *_eq_ normalImpactOnAxis(normal.z)_sm_\n    \n    // Create the grid value by combining axis.\n    float grid _eq_ clamp(x + y + z_co_ 0._co_ 1.)_sm_\n    \n    // Create the color.\n    vec3 color _eq_ mix(mainColor_co_ lineColor_co_ grid)_sm_\n\n#ifdef FOG\n    #include&lt_sm_fogFragment&gt_sm_\n#endif\n\n#ifdef TRANSPARENT\n    float distanceToFragment _eq_ length(vCameraSpacePosition.xyz)_sm_\n    float cameraPassThrough _eq_ clamp(distanceToFragment - 0.25_co_ 0.0_co_ 1.0)_sm_\n\n    float opacity _eq_ clamp(grid_co_ 0.08_co_ cameraPassThrough * gridControl.w * grid)_sm_\n   \n    vec3 diffuseBase_eq_vec3(0._co_0._co_0.)_sm_\n    lightingInfo info_sm_\n    float shadow_eq_1._sm_\n    float glossiness_eq_0._sm_\n    #include&lt_sm_lightFragment&gt_sm_[0..1]_sm_\n    \n    float sVal _eq_ (1.0-clamp(shadow_co_0._co_1.))*alpha_sm_    \n\n    gl_FragColor _eq_ vec4(mix(color.rgb_co_ vec3(0.)_co_ sVal)_co_ opacity)_sm_\n\n    #ifdef PREMULTIPLYALPHA\n        gl_FragColor.rgb *_eq_ opacity_sm_\n    #endif\n#else\n    // Apply the color.\n    gl_FragColor _eq_ vec4(color.rgb_co_ 1.0)_sm_\n#endif\n}\n\n\n\n-------------------------------------\n\nprecision highp float_sm_\n\n// Attributes\nattribute vec3 position_sm_\nattribute vec3 normal_sm_\n\n// Uniforms\nuniform mat4 projection_sm_\nuniform mat4 world_sm_\nuniform mat4 view_sm_\nuniform mat4 worldView_sm_\n\n// Varying\n#ifdef TRANSPARENT\n    varying vec4 vCameraSpacePosition_sm_\n#endif\nvarying vec3 vPosition_sm_\nvarying vec3 vNormal_sm_\n\n#include&lt_sm_fogVertexDeclaration&gt_sm_\n\nvoid main(void) {\n\n    #ifdef FOG\n    vec4 worldPos _eq_ world * vec4(position_co_ 1.0)_sm_\n    #endif\n\n    #include&lt_sm_fogVertex&gt_sm_\n    #include&lt_sm_shadowsVertex&gt_sm_[0..maxSimultaneousLights]\n\n    vec4 cameraSpacePosition _eq_ worldView * vec4(position_co_ 1.0)_sm_\n    gl_Position _eq_ projection * cameraSpacePosition_sm_\n\n    #ifdef TRANSPARENT\n        vCameraSpacePosition _eq_ cameraSpacePosition_sm_\n    #endif\n\n    vPosition _eq_ position_sm_\n    vNormal _eq_ normal_sm_\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt_\n\tIf it is valid then here is the PR_dd__lt_br /_gt_\n\t_lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/pull/4684_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/pull/4684_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"NasimiAsl","Date":"2018-07-05T18:15:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#UXCB15%2349_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#UXCB15#49_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\ti just not attach TRANSPARENT Mode in this\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#UXCB15%2350_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#UXCB15#50_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tÂ \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"NasimiAsl","Date":"2018-07-05T18:19:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#UXCB15%2351_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#UXCB15#51_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nockawa","Date":"2018-07-06T01:35:46Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIdeally I_t_d like the surface area where there_t_s no line not to be transparent at all_co_ but be able to set an opacity level and have shadow casted there. I didn_t_t have time to check your progress_co_ I really have to go to bed right now_co_ I_t_ll check tomorrow first in the morning.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks all for your help!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nockawa","Date":"2018-07-06T08:47:00Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWow _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/13038-nasimiasl/?do_eq_hovercard_qt_ data-mentionid_eq__qt_13038_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/13038-nasimiasl/_qt_ rel_eq__qt__qt__gt_@NasimiAsl_lt_/a_gt_Â I just saw your last PG_co_ it looks awesome ! I believe I going to try and import your shader code directly in my project and see if it works so well (no reason it shouldn_t_t)_co_ many thanks to you! It just would take 1 to 2 days_co_ currently the code path using the grid material with shadow is being rewritten and I need to finish it to get result on screen.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI couldn_t_t take time to go down in customizing shaders again_co_ I_t_ve not done that for a moment_co_ it got GC out of my brain since a while.. _lt_span_gt__lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nockawa","Date":"2018-07-11T10:19:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/13038-nasimiasl/?do_eq_hovercard_qt_ data-mentionid_eq__qt_13038_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/13038-nasimiasl/_qt_ rel_eq__qt__qt__gt_@NasimiAsl_lt_/a_gt_Â thanks again for your help_co_ I_t_ve tried your version of the Grid Material and apparently the lighting is not behaving the same.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou can take a look at this modified version of your PG_dd_Â _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#UXCB15%2352_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#UXCB15#52_lt_/a_gt__co_ comment line 167 to enable your material. I took a quick look but couldn_t_t find why there_t_s a difference..\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"NasimiAsl","Date":"2018-07-11T10:57:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tok iÂ  check it now\n_lt_/p_gt_\n\n_lt_p_gt_\n\tÂ \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"NasimiAsl","Date":"2018-07-11T11:02:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_div style_eq__qt_background-color_dd_#fffffe_sm_color_dd_#000000_sm_font-size_dd_14px_sm__qt__gt_\n\t_lt_div_gt_\n\t\tmm you most check this parameter\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\tÂ \n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_strong_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_material.getEffect().setVector3(_lt_/span_gt__lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt__t_mainColor_t__lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt__co__lt_/span_gt__lt_/strong_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_strong_gt__lt_span style_eq__qt_color_dd_#0000ff_sm__qt__gt_new_lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_ BABYLON.Vector3(_lt_/span_gt__lt_span style_eq__qt_color_dd_#09885a_sm__qt__gt_1_lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt__co__lt_/span_gt__lt_span style_eq__qt_color_dd_#09885a_sm__qt__gt_0.5_lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt__co__lt_/span_gt__lt_span style_eq__qt_color_dd_#09885a_sm__qt__gt_0._lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_))_sm__lt_/span_gt__lt_/strong_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_strong_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_material.getEffect().setVector3(_lt_/span_gt__lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt__t_lineColor_t__lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt__co__lt_/span_gt__lt_/strong_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_strong_gt__lt_span style_eq__qt_color_dd_#0000ff_sm__qt__gt_new_lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_ BABYLON.Vector3(_lt_/span_gt__lt_span style_eq__qt_color_dd_#09885a_sm__qt__gt_0_lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt__co__lt_/span_gt__lt_span style_eq__qt_color_dd_#09885a_sm__qt__gt_0.5_lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt__co__lt_/span_gt__lt_span style_eq__qt_color_dd_#09885a_sm__qt__gt_1._lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_))_sm__lt_/span_gt__lt_/strong_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_strong_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_material.getEffect().setVector4(_lt_/span_gt__lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt__t_gridControl_t__lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt__co__lt_/span_gt__lt_span style_eq__qt_color_dd_#0000ff_sm__qt__gt_new_lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_ BABYLON.Vector4(_lt_/span_gt__lt_span style_eq__qt_color_dd_#09885a_sm__qt__gt_0.5_lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt__co__lt_/span_gt__lt_span style_eq__qt_color_dd_#09885a_sm__qt__gt_0.0_lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt__co__lt_/span_gt__lt_span style_eq__qt_color_dd_#09885a_sm__qt__gt_1._lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt__co__lt_/span_gt__lt_span style_eq__qt_color_dd_#09885a_sm__qt__gt_0._lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_))_sm__lt_/span_gt__lt_/strong_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_strong_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_material.getEffect().setVector3(_lt_/span_gt__lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt__t_gridOffset_t__lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt__co__lt_/span_gt__lt_span style_eq__qt_color_dd_#0000ff_sm__qt__gt_new_lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_ BABYLON.Vector3(_lt_/span_gt__lt_span style_eq__qt_color_dd_#09885a_sm__qt__gt_1_lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt__co__lt_/span_gt__lt_span style_eq__qt_color_dd_#09885a_sm__qt__gt_0.5_lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt__co__lt_/span_gt__lt_span style_eq__qt_color_dd_#09885a_sm__qt__gt_0._lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_))_sm__lt_/span_gt__lt_/strong_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\tÂ \n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#UXCB15%2353_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#UXCB15#53_lt_/a_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_strong_gt__lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_gridControl is important settingÂ _lt_/span_gt__lt_/strong_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_strong_gt__lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_but for correct answer i most ping _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/20193-sebavan/?do_eq_hovercard_qt_ data-mentionid_eq__qt_20193_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/20193-sebavan/_qt_ rel_eq__qt__qt__gt_@Sebavan_lt_/a_gt__lt_/span_gt__lt_/strong_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\tÂ \n\t_lt_/div_gt_\n_lt_/div_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nockawa","Date":"2018-07-11T11:08:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tyes_co_ I did_co_ I look at the Material_t_s implementation on GitHub to know how to set the gridControl parameter_co_ and in the PG I gave the settings of both your custom material and the Grid Material are the same (at least for the grid settings).\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"NasimiAsl","Date":"2018-07-11T11:13:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tr u see this ?Â _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#UXCB15%2353_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#UXCB15#53_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nockawa","Date":"2018-07-11T11:17:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI don_t_t know what you changed between version 51 and 53. If you look at my version (52) and switch the material on line 167 you will see the original GridMaterial is much brighter.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"NasimiAsl","Date":"2018-07-11T11:19:50Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_div style_eq__qt_background-color_dd_#fffffe_sm_color_dd_#000000_sm_font-size_dd_14px_sm__qt__gt_\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#c0392b_sm__qt__gt_51 _lt_/span_gt__lt_span style_eq__qt_color_dd_#bdc3c7_sm__qt__gt__dd_Â material.getEffect().setVector4(_t_gridControl_t__co_new BABYLON.Vector4(_lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_1_lt_/span_gt__lt_span style_eq__qt_color_dd_#bdc3c7_sm__qt__gt__co__lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_0.5_lt_/span_gt__lt_span style_eq__qt_color_dd_#bdc3c7_sm__qt__gt__co_0._co_0.))_sm__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#c0392b_sm__qt__gt_53 _lt_/span_gt__lt_span style_eq__qt_color_dd_#bdc3c7_sm__qt__gt__dd_Â material.getEffect().setVector4(_t_gridControl_t__co_new BABYLON.Vector4(_lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_0.5_lt_/span_gt__lt_span style_eq__qt_color_dd_#bdc3c7_sm__qt__gt__co_0.0_co__lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_1._lt_/span_gt__lt_span style_eq__qt_color_dd_#bdc3c7_sm__qt__gt__co_0.))_sm__lt_/span_gt_\n\n\t\t_lt_div style_eq__qt_background-color_dd_#fffffe_sm_color_dd_#000000_sm_font-size_dd_14px_sm__qt__gt_\n\t\t\t_lt_div_gt_\n\t\t\t\tÂ \n\t\t\t_lt_/div_gt_\n\t\t_lt_/div_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\tÂ \n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\tÂ \n\t_lt_/div_gt_\n_lt_/div_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nockawa","Date":"2018-07-11T12:14:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThese are the settings to change the Grid line spacing.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m talking about the color of the material_co_ look at the screenshot below\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ data-fileid_eq__qt_19152_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_07/image.png.6dd585a469b16d6ab3605d992e8cb548.png_qt_ rel_eq__qt__qt__gt__lt_img alt_eq__qt_image.thumb.png.670add1d81a82449fbf51380e407f0fb.png_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_19152_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_07/image.thumb.png.670add1d81a82449fbf51380e407f0fb.png_qt_ /_gt__lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLeft part is your shader_co_ right part is the GridMaterial_co_ it_t_s much brighter.v\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"NasimiAsl","Date":"2018-07-11T12:27:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tthat is all about light and shadow effect attached to color\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nockawa","Date":"2018-07-11T12:33:18Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_221350_qt_ data-ipsquote-contentid_eq__qt_38623_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1531312021_qt_ data-ipsquote-userid_eq__qt_13038_qt_ data-ipsquote-username_eq__qt_NasimiAsl_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t5 minutes ago_co_ NasimiAsl said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tthat is all about light and shadow effect attached to color\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tbut the rendering should be the same if I useÂ the same material color and light properties_co_ right?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"NasimiAsl","Date":"2018-07-11T12:39:17Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tdear _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/18979-nockawa/?do_eq_hovercard_qt_ data-mentionid_eq__qt_18979_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/18979-nockawa/_qt_ rel_eq__qt__qt__gt_@Nockawa_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tthat is result with out light and shadowÂ _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#UXCB15%2357_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#UXCB15#57_lt_/a_gt_Â use with customMaterial\n_lt_/p_gt_\n\n_lt_p_gt_\n\tso i think the light change that same as standard material\n_lt_/p_gt_\n\n_lt_p_gt_\n\tbut you can channage it before fragcolor tooÂ \n_lt_/p_gt_\n\n_lt_div style_eq__qt_background-color_dd_#fffffe_sm_color_dd_#000000_sm_font-size_dd_14px_sm__qt__gt_\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_material.Fragment_Before_FragColor(_lt_/span_gt__lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_`_lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_float f1 _eq_ 1.2_sm__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_if(vPositionW.x &gt_sm_ 0.){_lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_color.x _eq_ pow(color.x_co_f1)*f1_sm__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_color.y _eq_ pow(color.y_co_f1)*f1_sm__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_color.z _eq_ pow(color.z_co_f1)*f1_sm__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_color.w _eq_ 1._sm__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_}_lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\tÂ \n\t_lt_/div_gt_\n\tÂ \n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#a31515_sm__qt__gt_`_lt_/span_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt_)_sm__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\tÂ \n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#UXCB15%2356_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#UXCB15#56_lt_/a_gt_\n\t_lt_/div_gt_\n_lt_/div_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nockawa","Date":"2018-07-11T12:43:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tok thank you_co_ I now understand better. I think the GridMaterial_t_s implementation has a different lighting model_co_ more simple than Standard/Custom material.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_ll try take a closer look at how I could emulate the same result.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks again for you help_co_ time and patience!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]