[{"Owner":"CodeIain","Date":"2015-10-28T12:20:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi All_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Am working on a project and could do with some help._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Basically I would like to create a plane with a sphere on top of it and when the user moves the mouse the plane tilts and the sphere rolls around._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I have managed to create my plane and stuff but I cant work out how to tilt the plane using the mouse._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_any help would be great._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2015-10-28T12:44:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_A good start can be found in the playground - _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/?18_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/?18_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_There are many ways to implement this_co_ they all come down to the pointer-down and pointer-up JS events _dd_-)_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2015-10-28T14:28:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi guys!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_   Ok_co_ I ran-with this a bit...  _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#8KNKC%232_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#8KNKC#2_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Dragging on the red plane tilts it nicely... but I am not able to turn-on the physics in line 12._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Line 107 does the plane-tilting fine when scene physics is OFF... but when scene physics is ON_co_ we need to orient/rotate the physicsBody.body  (pBody.body).    The Euler-based rotation in line 107 ... does not do that._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Visit here for a moment...  OimoPhysics source code comments...  _lt_a href_eq__qt_http_dd_//urbanproductions.com/wingy/babylon/misc/j2h02.htm_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//urbanproductions.com/wingy/babylon/misc/j2h02.htm_lt_/a_gt_  (basic Oimo docs)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Search for com.element.oimo.physics.dynamics.  That namespace has a class called RigidBody (our pBody.body is one of those).  Item 9 is a quaternion called _qt_orientation_qt_... and item 14 is a 3x3 matrix called _t_rotation_t_.   Both might be useful for us._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Enable line 12... and that will activate lines 124 and 125... and you will then see these two values printed to console (while attempting failed plane tilting). _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Line 107... the Euler tiltplane rotater... needs to be adjusted so that it rotates that quaternion or matrix.  In other words_co_ once scene.physics is activated_co_ then you/we must SOMEHOW set pBody.body.orientation or pBody.body.rotation.  As you can see_co_ they are not changing when we drag the tilt plane... because line 107 is not doing the correct activity._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_And_co_ I don_t_t know how to fix that_co_ but there are experts here who probably do... or maybe _lt_strong_gt_you_lt_/strong_gt_ know how_co_ Codelain. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Sorry I couldn_t_t be more help.  This is an interesting project_co_ though.  Remember those _qt_roll the balls around until they all fall into the indentations_qt_ games of old?  I had plenty of them in my childhood_co_ and it_t_s all good memories.  Wow_co_ that was a long time ago. _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Addenda_dd_  Keep in mind that those quaternion and matrix are probably Oimo objects and not Babylon objects_co_ so... go to that _lt_a href_eq__qt_http_dd_//urbanproductions.com/wingy/babylon/misc/j2h02.htm_qt_ rel_eq__qt_external nofollow_qt__gt_same big fat Oimo doc_lt_/a_gt_ and search for com.element.oimo.math ... to learn about the methods and properties of _lt_u_gt_Oimo_lt_/u_gt_ _t_quat_t_ and _t_mat33_t_._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"CodeIain","Date":"2015-10-28T20:58:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I just have to say thank you so much _lt_span_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/user/5733-wingnut/_qt_ title_eq__qt__qt__gt__lt_span_gt_Wingnut_lt_/span_gt__lt_/a_gt_ that_t_s a great help and you have pointed me on the right direction._lt_/span_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_span_gt_I have never used O​imo before. so if anyone could help with this it would be great._lt_/span_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2015-10-28T21:06:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Why is physics needed actually?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"CodeIain","Date":"2015-10-28T21:08:52Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_i thought about just applying gravity thus it would cause the ball to roll but i couldnt get that to work_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_if there is another whay to do it without physics then I am open to anything._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2015-10-28T21:16:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Oh! sorry_co_ Now I get it. Yep_co_ the physics engine is the right choice. You will probably need to update the plane_t_s body position constantly_co_ let me try making a simple playground to show you what I mean._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2015-10-28T21:26:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Using eingnut_t_s example_co_ I extended the rotate part_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#8KNKC%233_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#8KNKC#3_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Can serve as a nice prototype!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The Oimo plugin doesn_t_t work for some reason_co_ I need to check why. But cannon works fine_co_ use it _dd_-)_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2015-10-28T21:34:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_With an interesting hack_co_ Oimo plugin works as well - just don_t_t move the mouse too quick. This can be of course fixed_co_ but it is Oimo.js_t_ design_co_ not a bug._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#8KNKC%234_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#8KNKC#4_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"CodeIain","Date":"2015-10-28T21:47:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi RaanaW you cannon example works really well!_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_am having a issue with cannon tho everytime I try ur code in my project I get_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_cannon.js_dd_10958 Uncaught TypeError_dd_ Cannot use _t_in_t_ operator to search for _t_friction_t_ in 0.04000000000000001_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_and I cant see why as my code is the same as yours._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_regards_co__lt_/p_gt__lt_p_gt_Iain_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2015-10-28T21:51:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Make sure you are using the latest cannon (0.6.2) and not the old one delivered with babylon under 2.3. You can find it in the dist/preview on github or download it from cannonjs.org_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"CodeIain","Date":"2015-10-28T21:55:57Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_i have 0.6.2 from there github site via bower._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_could this be a issue with the version od Babylon as am using 2.2_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2015-10-28T21:56:44Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_oh yes _dd_-)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_use 2.3 _co_ physics were totally revamped._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"CodeIain","Date":"2015-10-28T22:07:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Thanks your help has been amazing_co_ just need to work out how to stop it bouncing and going if the edge but am sure I can work that out._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thanks_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2015-10-29T08:07:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi guys!  Good advancing going on here! _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#8KNKC%235_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#8KNKC#5_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Nothing much new in that demo.  I made the tilt plane a big bigger_co_ set line 12 scene gravity to -100 (10 times Earth norm)_co_ and set line 43 sphere mass to 100.  The ball still hops-off the plane... even with all that mass and gravity.  I_t_m not sure why.  Higher settings for mass and gravity will cause the sphere to fall through the tilt plane_co_ sometimes._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I_t_m not sure WHAT the solution would be_co_ here._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_This COULD be done without a physics engine.  It would take some serious work...  especially true if the sphere needs to _qt_roll_qt_ (where it has a texture and sphere roll can be seen).  The sphere would also need to accelerate and decelerate properly.  Not easy_co_ and it would likely be just as _qt_slow motion_qt_ as the current JS-based physics engines._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#8KNKC%236_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#8KNKC#6_lt_/a_gt_  (Still uses the physics plugin. I added texture to the sphere so we can see it roll_co_ and I set some tilt plane material transparency.)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Raanan... I could not get the #4 Oimo example to work for me.  No ball roll.  Thoughts?  (thx)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Maybe we should try Raanan_t_s physics engine.  I heard he wrote his own!   Genius!  (drool)  I want to be like him when I grow up._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"CodeIain","Date":"2015-10-29T15:29:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I don_t_t mind the bouncing to much but what I cant work out is how to limit the tilt._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I have tried to getHeightAtCoordinates(50_co_0_co_50) no matter when on the tilt plane I try I only get 0 as its being moved by the physics and I cant find how to get the current tilt._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2015-10-29T20:52:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_103292_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_18216_qt_ data-ipsquote-username_eq__qt_Wingnut_qt_ data-cite_eq__qt_Wingnut_qt_ data-ipsquote-timestamp_eq__qt_1446106029_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt_Raanan... I could not get the #4 Oimo example to work for me.  No ball roll.  Thoughts?  (thx)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Maybe we should try Raanan_t_s physics engine.  I heard he wrote his own!   Genius!  (drool)  I want to be like him when I grow up._lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_About Oimo - no idea_co_ it is working for me. Is the ball _qt_falling_qt_ ? Try this - _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#8KNKC%237_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#8KNKC#7_lt_/a_gt_ _co_ the ball should be falling the minute the scene starts (very slowly) _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_About about my physics engine - working hard on starting! _dd_-) first thing - looking for a name! But I am a huge procrastinator. It might be finished in summer 2017 or something like that._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2015-10-29T21:25:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_ _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_   Been there.  Slept through it.  (I love sleeping!)  And yes_co_ that Oimo version works... rough... but it works.  Thanks for the attention._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Codelain... let_t_s see... _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#8KNKC%238_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#8KNKC#8_lt_/a_gt_  See Raanan_t_s lines 112 and 113?  Line 112 is a different kind of _t_rotate_t__co_ I think.  It is quaternion... yaw_co_ pitch and roll (not to be confused with ya_t_ll duck and cover).  (I got bad comedy writers)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_See my old line 111 sitting there?  We were still in Euler values back then_co_ but the physics _qt_rigidBody_qt_ doesn_t_t like Euler... and thus... line 113 wasn_t_t working.   I was changing the Euler rotation in 111_co_ but 113 isn_t_t concerned with Euler.  It wants Quat._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_See my console.log in Line 102?  Open the console and do some tilting.  You will see the FOUR-value quaternion displayed every tilt.  I think the general explanation of quaternions... is... the x_co_ y_co_ and z values aim an invisible arrow_co_ and the _t_w_t_ value is the amount of rotation around that arrow shaft.  Quaternions avoid an undesired Euler-rotation problem... called _qt_gimbal lock_t_.  Don_t_t mark my words_co_ I_t_m not very intelligent.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Want it more sane?  Change 102 to...  console.log(currentMesh.rotationQuaternion.toEulerAngles())_sm__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Now you might have some abilities... at the line 102 area... to do..._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_if (currentMesh.rotationQuaternion.toEulerAngles().x &gt_sm_ foo || currentMesh.rotationQuaternion.toEulerAngles().x &lt_sm_ bar) {_lt_/p_gt__lt_p_gt_    return_sm__lt_/p_gt__lt_p_gt_}_lt_/p_gt__lt_p_gt_else if (currentMesh.rotationQuaternion.toEulerAngles().z &gt_sm_ foo || currentMesh.rotationQuaternion.toEulerAngles().z &lt_sm_ bar) {_lt_/p_gt__lt_p_gt_    return_sm__lt_/p_gt__lt_p_gt_}_lt_/p_gt__lt_p_gt_// else it continues with the tilt move._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_(replace occurrences of _t_foo_t_ and _t_bar_t_ with some numeric values_co_ of course)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_But... toEulerAngles() sucks... I hear.  Inconsistent or something (worldwide).  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  Watch the Euler numbers as you do the tilting.  They might be inconsistent and unusable for IF/THEN checking._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_If you figure out how to _qt_constrain_qt_ the tilt... based-upon the quaternion value itself (no toEulerAngles() call)_co_ then testing would work better_co_ I think.  Maybe.  This is WAY over my head.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  Fun_co_ though._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2015-10-29T22:06:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_103406_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_18216_qt_ data-ipsquote-username_eq__qt_Wingnut_qt_ data-cite_eq__qt_Wingnut_qt_ data-ipsquote-timestamp_eq__qt_1446153948_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt_But... toEulerAngles() sucks... I hear.  Inconsistent or something (worldwide).  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  Watch the Euler numbers as you do the tilting.  They might be inconsistent and unusable for IF/THEN checking._lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_Yep_co_ it_t_s an international thing _dd_-)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_103406_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_18216_qt_ data-ipsquote-username_eq__qt_Wingnut_qt_ data-cite_eq__qt_Wingnut_qt_ data-ipsquote-timestamp_eq__qt_1446153948_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt_If you figure out how to _qt_constrain_qt_ the tilt... based-upon the quaternion value itself (no toEulerAngles() call)_co_ then testing would work better_co_ I think.  Maybe.  This is WAY over my head.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  Fun_co_ though._lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_This hack I build (the rotate 0.01 thing) is simply because I am lazy and the fact that it works. This can (and should) be implemented better. Unless it is fine the way it is _dd_-)_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_And yes_co_ you are totally right - the physics engine requires quaternions_co_ and this is the reason your rotation didn_t_t work._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2015-10-29T22:18:17Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt__lt_a href_eq__qt_http_dd_//thebiggamehunter.com/wp-content/uploads/2013/02/Hop-Scotch-Game-handheld-ball-puzzle.jpg_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//thebiggamehunter.com/wp-content/uploads/2013/02/Hop-Scotch-Game-handheld-ball-puzzle.jpg_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Surface dimples by Uncle Raanan_t_s physics-active displaceMaps?  You bet!  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2015-10-30T13:53:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_img alt_eq__qt__dd_)_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ data-emoticon_eq__qt__qt_ /_gt_  Ya_t_ll know what CodeIain is going to ask next_co_ right? \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_qt_Does anyone know how to test tiltplane.rotationQuaternion... to limit the tilt of the plane?_qt_  _lt_img alt_eq__qt__dd_)_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ data-emoticon_eq__qt__qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tCodelain_co_ I heard a rumor_co_ once.  The rumor said _qt_You don_t_t EDIT quaternions_co_ you replace them._qt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLet_t_s look at the Babylon quaternion class... _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/classes/2.2/Quaternion_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/classes/2.2/Quaternion_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt has a few cool properties and methods on it.  One of the more interesting...\n_lt_/p_gt_\n\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tQuote\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_div_gt_\n\t\t\t_lt_p_gt_\n\t\t\t\t \n\t\t\t_lt_/p_gt_\n\n\t\t\t_lt_p_gt_\n\t\t\t\tstatic RotationYawPitchRoll(yaw_co_ pitch_co_ roll) → Quaternion\n\t\t\t_lt_/p_gt_\n\n\t\t\t_lt_p_gt_\n\t\t\t\t \n\t\t\t_lt_/p_gt_\n\n\t\t\t_lt_p_gt_\n\t\t\t\tCreates a quaternion from yaw_co_ pitch and roll values\n\t\t\t_lt_/p_gt_\n\t\t_lt_/div_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tOk_co_ we now know we can MAKE a quaternion from some airplane-like yaw_co_ pitch_co_ and roll Euler values.  Cool!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBack to our demo... _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#8KNKC%238_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#8KNKC#8  _lt_/a_gt_\n_lt_/p_gt_\n\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tQuote\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_div_gt_\n\t\t\t_lt_p_gt_\n\t\t\t\t \n\t\t\t_lt_/p_gt_\n\n\t\t\t_lt_p_gt_\n\t\t\t\t// This does a on-the-mesh-itself quaternion rotation_lt_br /_gt_\n\t\t\t\t111.  currentMesh.rotate(new BABYLON.Vector3(forback_co_ 0_co_ leftright * -1).normalize()_co_ 0.01)_sm_\n\t\t\t_lt_/p_gt_\n\n\t\t\t_lt_p_gt_\n\t\t\t\t \n\t\t\t_lt_/p_gt_\n\n\t\t\t_lt_p_gt_\n\t\t\t\t// This tells the physics imposter (currentMesh.body.body) to copy the mesh quaternion._lt_br /_gt_\n\t\t\t\t112.  currentMesh.updatePhysicsBodyPosition()_sm_\n\t\t\t_lt_/p_gt_\n\t\t_lt_/div_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tNot sure about those comments_co_ but I THINK that_t_s what is happening.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tNow_co_ let_t_s look at something different...\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#1VNAYW%237_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#1VNAYW#7_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere we have some yaw/pitch/roll work happening (in the render loop).  This time_co_ there is no updatePhysicsBodyPosition() because we are actually installing a _lt_u_gt_new_lt_/u_gt_ Babylon quaternion... onto the mesh.body.body... with Oimo_t_s .setQuaternion() method... located on its imposter class. (line 38).  Cannon_t_s imposter classes probably have a .setQuaternion() method as well.\n_lt_/p_gt_\n\n_lt_p_gt_\n\ttarget.body.body is not a BabylonJS object_co_ it is an Oimo/Cannon object.  And the Oimo/Cannon object _qt_calls the shots_qt_.  It is the boss over Babylon.Mesh.rotationQuaternion (only when mesh is set physics-active and scene.physicsEnabled_eq_true)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo... no need for .updatePhysicsBodyPosition().  When you set the quaternion on the physics imposter_co_ the mesh will adjust itself to match_co_ automatically.  We can see our box spinning without using updatePhysicsBodyPosition() (and without any applyImpulse)_co_ because we are forcing a new quaternion onto the imposter... every rendering.  Isn_t_t that just the cooooooolest?  (it_t_s not MY code... Temechon showed it to me)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo_co_ the theory here_co_ is...  somewhere in your project... YOU store currentYaw_co_ currentPitch_co_ and currentRoll.  When the user tries to tilt the plane... you go check your stored yaw/pitch/roll values... and if they are OK_co_ you allow change to your stored values a bit_co_ then make a new quaternion (line 36)... and then poke it into currentMesh.body.body... just like line 38 (target/currentMesh... change names_co_ of course).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe render loop is always... constantly... _qt_poking_qt_ a new quaternion into currentMesh.body.body... but if the user doesn_t_t change the tilt... it will be the same values poked over and over_co_ and no tilting change will happen. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tIF a user tries to do a tilt... you first check your stored currentYaw_co_ currentPitch_co_ and currentRoll values_co_ and only change the values inside your quaternion poker... IF they are within your tilt limits.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tOne of the local boys will code-up a nice example for you... using the #8KNKC demo series. I know they will.  _lt_img alt_eq__qt__dd_)_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ data-emoticon_eq__qt__qt_ /_gt_  Everyone is climbing aboard Codelain_t_s campfire project_co_ eh?  Gotta love it.  _lt_img alt_eq__qt__dd_)_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ data-emoticon_eq__qt__qt_ /_gt_  Others might have better ideas than this_co_ too (let_t_s hope).  heh\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]