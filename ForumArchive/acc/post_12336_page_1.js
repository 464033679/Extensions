[{"Owner":"iiceman","Date":"2015-02-07T16:05:31Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hey folks_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I am trying to understand a bit more about shaders/customMaterials/shaderMaterials... I didn_t_t get into alot yet_co_ I just wanted to play around a bit so I did follow this tutorial_dd_ _lt_a href_eq__qt_http_dd_//blogs.msdn.com/b/eternalcoding/archive/2013/08/06/babylon-js-creating-a-convincing-world-for-your-game-with-custom-shaders-height-maps-and-skyboxes.aspx_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//blogs.msdn.com/b/eternalcoding/archive/2013/08/06/babylon-js-creating-a-convincing-world-for-your-game-with-custom-shaders-height-maps-and-skyboxes.aspx_lt_/a_gt_ and tried to fill the gaps with _lt_a rel_eq__qt_external nofollow_qt__gt_this_dd_ http_dd_//blogs.msdn.com/b/eternalcoding/archive/2014/04/17/learning-shaders-create-your-own-shaders-with-babylon-js.aspx_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Based on that I modified a previous scene I had to get this output_dd_ _lt_a href_eq__qt_http_dd_//p215008.mittwaldserver.info/moveWithCollisions/_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//p215008.mittwaldserver.info/moveWithCollisions/_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The problem now is_co_ that if you jump into the water (click to move) the part of the player model that is under the water is not visible (same for the ramps and the cube). I thought I could set some kind of transparency on the mesh or the material but it somehow didn_t_t work the usual way._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_What would I have to do to get this kind of transparency for the water?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-02-07T17:02:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Just add your player to the render list of the refraction texture _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"iiceman","Date":"2015-02-07T17:21:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I already did that_co_ I can see the players reflection in the water. What I meant was that when he walks into the water_co_ like the water is up to his hips... it looks like his legs disappeared... I want to see trough the water a little bit. Same for the ramps.. i don_t_t see where the ramps start_co_ so its hard to walk on it if half of them is invisible because it_t_s under the water surface. I hope I explained it tight...you know what I mean_co_ right? _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-02-07T18:57:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_If you add the ramp or whatever in the REFRACTION texture render list it will be rendered like the ground which you can see under the water. There is no transparency_co_ just refraction_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"iiceman","Date":"2015-02-07T22:30:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hmm... I updated the example and added the meshes to the render list for the reflection texture but the problem still exists. I can see the reflection of the part that is above the water_co_ but I don_t_t see the part of the mesh that is under the water. I attached a screenshot to show what I mean. Am I misunderstand you - or are you misunderstanding me - or both? _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_tongue.png_qt_ alt_eq__qt__dd_P_qt_ srcset_eq__qt_&lt_sm_fileStore.core_Emoticons&gt_sm_/emoticons/tongue@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt__lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_02_2015/post-12304-0-20907700-1423348097.jpg_qt_ rel_eq__qt_external nofollow_qt__gt__lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_02_2015/post-12304-0-20907700-1423348097_thumb.jpg_qt_ data-fileid_eq__qt_3650_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_post-12304-0-20907700-1423348097_thumb.j_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-02-07T22:54:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Ah_co_ yes_co_ if the subject is not completely under water_co_ it does seem to work. I never paid attention to this. That_t_s a good observation._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2015-02-08T14:01:18Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Just as DK said_co_ you are missing the objects in the refraction (not reflection) list. You add the ramp_co_ rampLarge and meshPlayer to the reflection list but only the skybox and the ground to the refraction list._lt_/p_gt__lt_p_gt_Here_dd__lt_/p_gt__lt_p_gt__lt_img src_eq__qt_http_dd_//s22.postimg.org/j4yvcgmov/Capture.png_qt_ alt_eq__qt_Capture.png_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2015-02-08T14:26:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_like this_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint lang-auto_qt__gt_if(objet3D.getChildren().length &gt_sm_ 0) { //in the case of sub-objects    for(var i _eq_ 0_sm_ i &lt_sm_ objet3D.getChildren().length_sm_ i++) {        waterMaterial.refractionTexture.renderList.push(objet3D.getChildren()[i])_sm_    }} else {    waterMaterial.refractionTexture.renderList.push(objet3D)_sm_ }_lt_/pre_gt__lt_p_gt_objet3D _eq_ your objet underwater_lt_br_gt_waterMaterial _eq_ you material user for water_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"iiceman","Date":"2015-02-08T15:41:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Ohhw.. I see... totally my bad_co_ I confused reflection and refraction (looks so similar..even has the same length) _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_tongue.png_qt_ alt_eq__qt__dd_P_qt_ srcset_eq__qt_&lt_sm_fileStore.core_Emoticons&gt_sm_/emoticons/tongue@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ I added to the _lt_strong_gt_refraction_lt_/strong_gt_ list now. One more question though_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I can see the lower part of his body now_co_ but at the same time I see the upper part in the water_co_ too_co_ even if that part is not under water.... is that normal? Did I do something wrong again? _dd_-/_lt_/p_gt__lt_p_gt__lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_02_2015/post-12304-0-60241300-1423410054.jpg_qt_ rel_eq__qt_external nofollow_qt__gt__lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_02_2015/post-12304-0-60241300-1423410054.jpg_qt_ data-fileid_eq__qt_3653_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ alt_eq__qt_post-12304-0-60241300-1423410054.jpg_qt__gt__lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"pathogen","Date":"2015-06-26T15:03:57Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_71150_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_12336_qt_ data-ipsquote-username_eq__qt_iiceman_qt_ data-cite_eq__qt_iiceman_qt_ data-ipsquote-timestamp_eq__qt_1423410087_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt_One more question though_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I can see the lower part of his body now_co_ but at the same time I see the upper part in the water_co_ too_co_ even if that part is not under water.... is that normal? Did I do something wrong again? _dd_-/_lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I have just come across this when implementing the water shader also._lt_/p_gt__lt_p_gt_It will have to do with having an opacity setting in the shader I think? Or blending the original back into the output of the shader in one way or another._lt_/p_gt__lt_p_gt_Shaders are still pretty magical to me_co_ so if anybody has any hints that would be fantastic!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"iiceman","Date":"2015-06-29T22:09:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi pathogen_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_sorry for the kinda late reply... somehow your post must have moved to the second page before I had a chance to see it (kinda busy and can_t_t check the forum as often as I would like to _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ )_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I have no clue about shaders either_co_ so I can_t_t really help I fear. I am pushing this to see if somebody else can enlighten us because I am still very interested in that matter. Back then I settle the whole thing for myself with_dd_ that_t_s just how it is because the whole mesh gets reflected and not just the under water part. But I didn_t_t really know how to confirm that (and I still don_t_t - no no idea if that_t_s really how things work _dd_-/ )._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_So again... what could be done to avoid the reflection of the upper half and make that a bit more realistic looking?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"prvi_treti","Date":"2015-07-06T16:11:17Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Apart from the fact that it never moved when clicked (at Firefox or IE 11) _co_ I just wondered reason behind its poor performance even at my (Xeon E3 / GTX 560) computer._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"iiceman","Date":"2015-07-06T21:05:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hmm_co_ true. I just checked in IE. I assume the event handling works differently in firefox an IE_co_ I_t_ll check that if I have time. In chrome it works fine _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The performance_dd_ I donno. Might be the shader? I guess that water thingy is kinda expensive... here is a version without the water matirial_dd_ _lt_a href_eq__qt_http_dd_//p215008.mittwaldserver.info/moveWithCollisions/#noShader_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//p215008.mittwaldserver.info/moveWithCollisions/#noShader_lt_/a_gt_ Does that work better for you? _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"prvi_treti","Date":"2015-07-07T00:31:29Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Well_co_ I know it sounds blasphemous but I don_t_t use Chrome (yet) actually I hate Google_t_s metrics collecting browser thing._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_And without water _co_ performance is fine now but maybe you should have some kind of emissive water exempt of light effects for testing._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"iiceman","Date":"2015-07-07T09:15:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Yeah_co_ I was just playing around with it and wanted to try things out. And of course the events should work in all browsers. I_t_ll have to check whats wrong with that... if I have time/mood _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_strong_gt_Edit_lt_/strong_gt__dd_ I think I figured the event thing out_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_window.addEventListener(_qt_mousedown_qt__co_ mouseDownEvent)_sm_window.addEventListener(_qt_pointerdown_qt__co_ mouseDownEvent)_sm_window.addEventListener(_qt_mouseup_qt__co_ mouseUpEvent)_sm_window.addEventListener(_qt_pointerup_qt__co_ mouseUpEvent)_sm__lt_/pre_gt__lt_p_gt_The event has different names in different browsers. if I add listeners to mouse{eventname} as well as pointer{eventname} it seems to work in chrome and IE as well (firefox not tested but I assume the use the same event names as IE). I updated the demo_co_ let me know if there still are problems._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]