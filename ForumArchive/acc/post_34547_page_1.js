[{"Owner":"JohnK","Date":"2017-12-13T11:47:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOn colliding with a box the camera sees through the box.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn the following PGs I have used camera.ellipsoidOffset to place the camera at the middle of the ellipsoid (line 86) and used two viewposts. The lower viewport uses a second camera slightly above and behind the main camera. I have added a cone to represent the main camera with an ellipsoid around it. I have also customized the key input behaviour. Up and down arrow keys move the camera forward and backward _co_ left and right arrow keys turn the camera. I have also lowered the speed of the camera.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFace a box and walk towards it until it collides and will not move forward. You can see through the box.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#DHMD1C_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#DHMD1C_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThere is also another mystery as the camera moves forward it rises upward as can be seen by the spheres parent to the main camera. At the start you can only see the top of the sphere then as it moves the whole of the sphere becomes visible. You can see the changes in y in the console.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPerhaps they are to do with my customised input manager but no - I removed it and did a PG with default behaviour same problem\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#DHMD1C%231_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#DHMD1C#1_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTLDR_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThese issues came to light as I am in the middle of writing a PBT (playground based tutorial) for camera collisions_co_ gravity and customized camera inputs and have been following this _lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/topic/34423-cameras-ellipsoid-from-above-missing/?page_eq_3_qt_ rel_eq__qt__qt__gt_thread_lt_/a_gt_ with interest. Last week I never noticed the gravity issue or the see through the box issue. Now whether changes instigated as a result of this thread \n_lt_/p_gt_\n_lt_iframe allowfullscreen_eq__qt__qt_ data-controller_eq__qt_core.front.core.autosizeiframe_qt_ data-embedcontent_eq__qt__qt_ data-embedid_eq__qt_embed7469606885_qt_ scrolling_eq__qt_no_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/topic/34423-cameras-ellipsoid-from-above-missing/?do_eq_embed&amp_sm_comment_eq_197972&amp_sm_embedComment_eq_197972&amp_sm_embedDo_eq_findComment_qt_ style_eq__qt_height_dd_228px_sm_max-width_dd_500px_sm__qt__gt__lt_/iframe_gt_\n\n_lt_p_gt_\n\thas altered some property of the camera or I am mis-remembering what I saw a week ago or was just too focused on the code for the PBT I am not sure but the mystery is there now.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-12-13T13:46:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#DHMD1C%233_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#DHMD1C#3_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHi JK.   Any changes?  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tCamera.minZ was fooling us into believing we can see thru the box.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAlso_co_ I turned on camera._needMoveForGravity _eq_ true... which caused the camera to move upward at scene-load... which tells me that something was positioned too low_co_ and ellipsoids are Y-overlapping.  Thus_co_ the camera rises when first cam-nav happens (in earlier demo).  A vertical _qt_scrub-off_qt_.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLastly... extra white space at bottom of posts?  ahem.  heh.  (hug)  I hope I_t_ve been helpful.  Just more things to document_co_ eh?  *nod*  (sorry)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JohnK","Date":"2017-12-13T13:56:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_198488_qt_ data-ipsquote-contentid_eq__qt_34547_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1513172808_qt_ data-ipsquote-userid_eq__qt_5733_qt_ data-ipsquote-username_eq__qt_Wingnut_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t8 minutes ago_co_ Wingnut said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tAlso_co_ I turned on camera._needMoveForGravity _eq_ true... which caused the camera to move upward at scene-load... which tells me that something was positioned too low_co_ and ellipsoids are Y-overlapping.  Thus_co_ the camera rises when first cam-nav happens (in earlier demo).  A vertical _qt_scrub-off_qt_.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tNeed time to digest this - perhaps I should have taken wine with it!_lt_img alt_eq__qt__dd_rolleyes_dd__qt_ data-emoticon_eq__qt__qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_rolleyes.gif_qt_ title_eq__qt__dd_rolleyes_dd__qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-12-13T13:59:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  I hear ya.  These _qt_things_qt_ messed-with ME_co_ TOO_co_ when I worked with those collision barrels_co_ and the minZ thing got me when working-with Kurhlaa_t_s _qt_which side of the plane_qt_ collision issue.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMinZ is sneaky.  That SOB will bite you at the ODDEST times.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd don_t_t forget engine.collisionsEpsilon  ...  that_t_s _qt_how far out-of-alignment must two pushing-on-each-other ellipsoids BE... before scrub-off happens?_qt_ - setting.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd remember that... while holding down camera forward key against a collision... camera vertical jiggle can happen... USUALLY because camera gravity is on_co_ and the camera is trying an ellipsoid _qt_scrub-over_qt_ (climb-over)... but keeps falling back to the ground (and back-sliding) because of cam gravity.  That one took a while to fig.  Mostly happens with small obstacles_co_ or obstacles which are somewhat buried in the ground.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt can also happen with a camera ellipsoid dive-under (belly scrub - heh)... when ground collisions is set true.  Camera tries to dive-under/scrub-under a slightly-elevated obstacle_co_ yet ground refuses to let camera zoid... enter into ground zoid.  Same kind of fighting_co_ but camera gravity is not a factor.  Wedging is happening_co_ between ground ellipsoid and obstacle zoid.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tOn another note_dd_  I_t_m puzzled how Splash got his stairs to work _lt_u_gt_so nicely_lt_/u_gt_.  I tried showEllipsoid on the stairs_co_ and the collider is way off to the side and up in the air.  Yet... those merged-box stairs work just great.  How?  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  It would be nice if we could sprinkle some of that SAME _qt_magic dust_qt_ onto the polyMesh/extrudeShape versions of stairs.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JohnK","Date":"2017-12-13T14:53:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_198488_qt_ data-ipsquote-contentid_eq__qt_34547_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1513172808_qt_ data-ipsquote-userid_eq__qt_5733_qt_ data-ipsquote-username_eq__qt_Wingnut_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t1 hour ago_co_ Wingnut said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\twhich tells me that something was positioned too low\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tYep you_t_re right. One of those stupid errors_co_ the ellipsoid is 2 units high so half the height is 1 not 0.5\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBy not setting camera.minZ the camera _t_saw through_t_ my ellipsoid lines_co_ next job re-position them so they are out of view of the camera. That_t_s the way it goes solve one problem create another. Party on............ (who say_t_s that??? _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-12-13T15:08:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOh yeah... .ellipsoid values are radii_co_ right?  Not diameters.  I always forget THAT_co_ too.  Ow... there_t_s TOO MUCH to know... I_t_m out-of brain space!  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tJK_co_ I added a little section about dive-under... to my prev post.  It might be something to _qt_cover_qt_ in the docs_co_ too.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDive-under wedging between ground and raised obstacle... is something I have not tested very much.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTo test_co_ I think collisionsEpsilon will need to be set _qt_thick_qt_... to avoid sideways scrub-off during the wedging tests.  Maybe not.  Get zoids left/right aligned nice... no chance of sideways scrub-off.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  (no_co_ readers... don_t_t REALLY set it to _t_thick_t_.  Set it to a number that makes scrub-offs seem thick.)  _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tThen... yeah_co_ ram a camera between a slighty-elevated obstacle_co_ and the ground.  I wonder if it will jiggle_co_ or just wedge-in tight and stop dead.  hmm.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tWhy has a mental image of an elephant trying to pass thru a thick grove of bamboo... come to me?  _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt_  Sort of like... bowling with elephants.  heh \n_lt_/p_gt_\n\n_lt_p_gt_\n\tFlying a camera thru a ball pit.  Ellipsoid-plowing festival.  (Wingy plants a field of ThinZoid sweet-corn_co_ and polishes his bowling ball.)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHaving a good grasp on moveWithCollisions()... is handy in this area of town.  Is it_t_s parameter a _lt_em_gt_distance_lt_/em_gt_?  Is it a _lt_em_gt_velocity_lt_/em_gt_?  (is a velocity... a direction with magnitude?)  (same as a _lt_em_gt_force_lt_/em_gt_?) \n_lt_/p_gt_\n\n_lt_p_gt_\n\tFolks think about them there thangs_co_ sometimes.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI heard a rumor... that moveWithCollisions(possiblyMisNamedParameter) may have happened.  This may cause the need for some documentation _qt_explaining_qt_.   Not sure.  Good adventure.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]