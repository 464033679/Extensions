[{"Owner":"GrayFox","Date":"2014-09-05T11:24:04Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt__lt_span style_eq__qt_font-family_dd_arial_co_ sans-serif_sm__qt__gt__lt_span style_eq__qt_font-size_dd_10.5pt_sm__qt__gt_Hello guys_co__lt_/span_gt__lt_/span_gt__lt_/p_gt__lt_p_gt__lt_span style_eq__qt_font-family_dd_arial_co_ sans-serif_sm__qt__gt__lt_span style_eq__qt_font-size_dd_10.5pt_sm__qt__gt_im trying to join two meshes (spheres) with a cylinder.( maybe basic but i_t_m having hard times as a beginner). The problem is that the default cylinder constructor leaves you with just the ability to only set the size _co_ diameter of both top and bottom_co_ and tessellation_lt_/span_gt__lt_/span_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_span style_eq__qt_font-family_dd_symbol_sm__qt__gt__lt_span style_eq__qt_font-size_dd_10pt_sm__qt__gt_·         _lt_/span_gt__lt_/span_gt__lt_strong_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt__lt_span style_eq__qt_font-family_dd_arial_co_ sans-serif_sm__qt__gt__lt_span style_eq__qt_font-size_dd_13pt_sm__qt__gt_Mesh.CreateCylinder(name_co_ height_co_ diameterTop_co_ diameterBottom_co_ tessellation_co_ scene_co_ updatable)_lt_/span_gt__lt_/span_gt__lt_/span_gt__lt_/strong_gt__lt_/p_gt__lt_p_gt__lt_strong_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt__lt_span style_eq__qt_font-family_dd_arial_co_ sans-serif_sm__qt__gt__lt_span style_eq__qt_font-size_dd_13pt_sm__qt__gt_ _lt_/span_gt__lt_/span_gt__lt_/span_gt__lt_/strong_gt__lt_/p_gt__lt_p_gt__lt_strong_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt__lt_span style_eq__qt_font-family_dd_arial_co_ sans-serif_sm__qt__gt__lt_span style_eq__qt_font-size_dd_10.5pt_sm__qt__gt_​_lt_/span_gt__lt_/span_gt__lt_/span_gt__lt_/strong_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt__lt_span style_eq__qt_font-family_dd_arial_co_ sans-serif_sm__qt__gt__lt_span style_eq__qt_font-size_dd_10.5pt_sm__qt__gt_when i need to do something like _lt_/span_gt__lt_/span_gt__lt_/span_gt__lt_/p_gt__lt_p_gt__lt_span style_eq__qt_font-family_dd_symbol_sm__qt__gt__lt_span style_eq__qt_font-size_dd_10pt_sm__qt__gt_·         _lt_/span_gt__lt_/span_gt__lt_strong_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt__lt_span style_eq__qt_font-family_dd_arial_co_ sans-serif_sm__qt__gt__lt_span style_eq__qt_font-size_dd_13pt_sm__qt__gt_New Cylinder(vectorStart_co_ vectorEnd_co_ scene) _lt_/span_gt__lt_/span_gt__lt_/span_gt__lt_/strong_gt__lt_/p_gt__lt_p_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt__lt_span style_eq__qt_font-family_dd_arial_co_ sans-serif_sm__qt__gt__lt_span style_eq__qt_font-size_dd_10.5pt_sm__qt__gt_​_lt_/span_gt__lt_/span_gt__lt_/span_gt__lt_/p_gt__lt_p_gt__lt_span style_eq__qt_color_dd_#000000_sm__qt__gt__lt_span style_eq__qt_font-family_dd_arial_co_ sans-serif_sm__qt__gt__lt_span style_eq__qt_font-size_dd_10.5pt_sm__qt__gt_i_t_ve tried something like_dd__lt_/span_gt__lt_/span_gt__lt_/span_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_em_gt_Cylinder _eq_ function(vstart_co_vend_co_ scene){_lt_/em_gt__lt_/p_gt__lt_div_gt__lt_em_gt_  var HALF_PI _eq_ Math.PI/2 _sm__lt_/em_gt__lt_/div_gt__lt_div_gt__lt_em_gt_  var distance _eq_ BABYLON.Vector3.Distance(vstart_co_ vend)_sm__lt_/em_gt__lt_/div_gt__lt_div_gt__lt_em_gt_  var position _eq_ vend.clone().add(vstart).divide(new BABYLON.Vector3(2_co_2_co_2))_sm__lt_/em_gt__lt_/div_gt__lt_div_gt_ _lt_/div_gt__lt_div_gt__lt_em_gt_  var material _eq_ new BABYLON.StandardMaterial(_qt_kosh_qt__co_ scene)_sm__lt_/em_gt__lt_/div_gt__lt_div_gt__lt_em_gt_  var cylinder _eq_ BABYLON.Mesh.CreateCylinder(_qt_cylinder_qt__co_ distance_co_ 1_co_ 1_co_ 36_co_ scene_co_ true)_sm__lt_/em_gt__lt_/div_gt__lt_div_gt_ _lt_/div_gt__lt_div_gt__lt_em_gt_   var orientation _eq_ new BABYLON.Matrix()_sm__lt_/em_gt__lt_/div_gt__lt_div_gt__lt_em_gt_    var offsetRotation _eq_ new BABYLON.Matrix()_sm__lt_/em_gt__lt_/div_gt__lt_div_gt__lt_em_gt_    orientation _eq_ BABYLON.Matrix.LookAtLH(vstart_co_ vend_co_ new BABYLON.Vector3(0_co_1_co_0))_sm__lt_/em_gt__lt_/div_gt__lt_div_gt__lt_em_gt_    offsetRotation _eq_BABYLON.Matrix.RotationX(HALF_PI)_sm__lt_/em_gt__lt_/div_gt__lt_div_gt__lt_em_gt_    orientation.multiply(offsetRotation)_sm__lt_/em_gt__lt_/div_gt__lt_div_gt__lt_em_gt_    cylinder.bakeTransformIntoVertices(orientation)_sm__lt_/em_gt__lt_em_gt__sm__lt_/em_gt__lt_/div_gt__lt_div_gt__lt_em_gt_    cylinder.position _eq_ position_sm__sm_ _lt_/em_gt__lt_/div_gt__lt_div_gt__lt_em_gt_}_lt_/em_gt__lt_/div_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_but it doesn_t_t seem to work ._lt_/p_gt__lt_p_gt_maybe i_t_m having a really bad approach of the problem but actually i really don_t_t know what to do ._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Can someone have any idea for me ? help will be so appreciated   _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_thanks in advance ! . _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-09-06T17:02:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Can you create a playground sample? This way we will be able to help you debug your code _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"GrayFox","Date":"2014-09-09T01:25:57Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_53495_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_9015_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt_ data-cite_eq__qt_Deltakosh_qt_ data-ipsquote-timestamp_eq__qt_1410022939_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt_Can you create a playground sample? This way we will be able to help you debug your code _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Sure @Deltakosh _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ Thank you so much for spending your precious time on this._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Please find here _lt_a href_eq__qt_http_dd_//www.babylonjs.com/playground/#1RWE59%2310_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs.com/playground/#1RWE59#9_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_As i don_t_t know well about the playground and it_t_s ability to parse and handle inner functions_co_ i_t_ve just pasted an inline version of the initial function_co_ assuming the result will be the same.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Please_co_ also bear in mind that i keep on searching too and stay open to any new idea. Maybe i_t_m doing it the wrong way  and  taking a bad approach to solve this problem._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_will keep  you posted on any new updates._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Again_co_ Thanks a lot. _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-09-10T00:47:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_And here is the result_dd__lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs.com/playground/#1RWE59%2312_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs.com/playground/#1RWE59#12_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Code for reference_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_    var vstart _eq_ whiteSphere.position_sm_    var vend _eq_ redSphere.position_sm_    var distance _eq_ BABYLON.Vector3.Distance(vstart_co_vend )_sm_        var material _eq_ new BABYLON.StandardMaterial(_qt_kosh_qt__co_ scene)_sm_    var cylinder _eq_ BABYLON.Mesh.CreateCylinder(_qt_cylinder_qt__co_ distance_co_ 1_co_ 1_co_ 36_co_ scene_co_ true)_sm_        // First of all we have to set the pivot not in the center of the cylinder_dd_    cylinder.setPivotMatrix(BABYLON.Matrix.Translation(0_co_ -distance / 2_co_ 0))_sm_     // Then move the cylinder to red sphere    cylinder.position _eq_ redSphere.position_sm_    // Then find the vector between spheres    var v1 _eq_ vend.subtract(vstart)_sm_    v1.normalize()_sm_    var v2 _eq_ new BABYLON.Vector3(0_co_ 1_co_ 0)_sm_        // Using cross we will have a vector perpendicular to both vectors    var axis _eq_ BABYLON.Vector3.Cross(v1_co_ v2)_sm_    axis.normalize()_sm_    console.log(axis)_sm_        // Angle between vectors    var angle _eq_ BABYLON.Vector3.Dot(v1_co_ v2)_sm_    console.log(angle)_sm_        // Then using axis rotation the result is obvious    cylinder.rotationQuaternion _eq_ BABYLON.Quaternion.RotationAxis(axis_co_ -Math.PI / 2 + angle)_sm__lt_/pre_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"GrayFox","Date":"2014-09-11T18:20:38Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_@DeltaKosh ... you my Hero !_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ you pretty awesome _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_ !!!!  we are always told to keep things simple but  it seems to never stick in my that**head ! _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_ i_t_ve made it a constructor because the cylinder which is in fact a molecular bound needs to manage itself depending the view mode (Balls_co_ Sticks_co_ Balls &amp_sm_ Sticks) and it works like a charm ! _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Again_co_ Big Thanks _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2014-09-11T22:08:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Love to see the final result _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"GrayFox","Date":"2014-09-18T08:22:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Sure @DeltaKosh._lt_/p_gt__lt_p_gt_here is one mol (Ethanol)  in 2 views (Ball and Ball &amp_sm_ stick) from the same moldata depending of the view mode._lt_/p_gt__lt_p_gt__lt_a href_eq__qt_https_dd_//onedrive.live.com/redir?resid_eq_7D7331A0F4BA7D14!1552&amp_sm_authkey_eq_!AOSdoYCGIHMYxl0&amp_sm_v_eq_3&amp_sm_ithint_eq_photo%2Cpng_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//onedrive.live.com/redir?resid_eq_7D7331A0F4BA7D14!1552&amp_sm_authkey_eq_!AOSdoYCGIHMYxl0&amp_sm_v_eq_3&amp_sm_ithint_eq_photo%2cpng_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Again_co_ Thanks _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"ravuya","Date":"2015-01-18T01:48:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hey Deltakosh_co__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Thanks for the excellent post. I ran into a little bit of a problem when I lifted and reused it._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The situation happens when you run into the case where v1 _eq_ -v2. In my case_co_ it happened with the two points (10_co_ 20_co_ -2) and (10_co_ 2_co_ -2) are input into your example code._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_In this situation_co_ the resultant cylinder is turned in the exact opposite direction from point A. This is apparently a common problem with this method of devising a quaternion based on a vector between two points._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The problem was exacerbated by the fact I couldn_t_t just do an if(v1.equals(v2.negate()) statement. Because of numerical instability I ended up with v1 _eq_ (0_co_ -0.9999999..._co_ 0) and v2 _eq_ (0_co_ 1_co_ 0). I didn_t_t see anything in the Babylon API that handles this case_co_ so I wrote my own quick hack_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var vectorEqualsCloseEnough _eq_ function(v1_co_ v2_co_ tolerance) {  if(typeof(v2) !_eq__eq_ _t_object_t_) { throw(_qt_v2 is supposed to be an object_qt_)_sm_ }  if(typeof(v1) !_eq__eq_ _t_object_t_) { throw(_qt_v1 is supposed to be an object_qt_)_sm_ }  if(!tolerance) {    tolerance _eq_ 0.00002_sm_  }  if(v1.x &lt_sm_ v2.x - tolerance || v1.x &gt_sm_ v2.x + tolerance ) {    return false_sm_  }  if(v1.y &lt_sm_ v2.y - tolerance || v1.y &gt_sm_ v2.y + tolerance ) {    return false_sm_  }  if(v1.z &lt_sm_ v2.z - tolerance || v1.z &gt_sm_ v2.z + tolerance ) {    return false_sm_  }  return true_sm_}_sm__lt_/pre_gt__lt_p_gt_And this is my version of your function that calls it_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_var createCylinderBetweenPoints _eq_ function(pointA_co_ pointB_co_ name_co_ diameter_co_ scene) {  var distance _eq_ BABYLON.Vector3.Distance(pointA_co_ pointB)_sm_  var cylinder _eq_ BABYLON.Mesh.CreateCylinder(name_co_ distance_co_ diameter_co_ diameter_co_ 20_co_ scene_co_ true)_sm_  // Pivot from the end of the cylinder_co_ not the centre  cylinder.setPivotMatrix(BABYLON.Matrix.Translation(0_co_ -distance / 2_co_ 0))_sm_  // Move the cylinder to start at pointB  cylinder.position _eq_ pointB_sm_  // Find direction vector between points (v1) and cross it with a y-up vector (v2)  // to find the pivot axis for our quaternion  var v1 _eq_ pointB.subtract(pointA)_sm_  v1.normalize()_sm_  var v2 _eq_ new BABYLON.Vector3(0_co_ 1_co_ 0)_sm_  var axis _eq_ BABYLON.Vector3.Cross(v1_co_ v2)_sm_  axis.normalize()_sm_  // Now figure out what the angle should be with a dot product  if(vectorEqualsCloseEnough(v1_co_ v2.negate())) {    cylinder.position _eq_ pointA_sm_    return_sm_  }  var angle _eq_ BABYLON.Vector3.Dot(v1_co_ v2)_sm_  // Generate the quaternion  cylinder.rotationQuaternion _eq_ BABYLON.Quaternion.RotationAxis(axis_co_ -Math.PI / 2 + angle)_sm_}_sm__lt_/pre_gt__lt_p_gt_Hope this helps! Thank you for the great original code_co_ it really helped me out._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_If you know of a function in the Babylon API that does _qt_close enough_qt_ vector equality I_t_d love to replace my ugly hack with it._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2015-01-19T01:46:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Yes you can use vector3._lt_span style_eq__qt_color_dd_rgb(121_co_93_co_163)_sm_font-family_dd_Consolas_co_ _t_Liberation Mono_t__co_ Menlo_co_ Courier_co_ monospace_sm_font-size_dd_12px_sm__qt__gt_equalsWithEpsilon() _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/span_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"lsharir","Date":"2015-01-25T23:37:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_It didn_t_t quite work as expected for me._lt_/p_gt__lt_p_gt_I altered the code a bit (converted the dot product to an angle using Math.acos)_lt_/p_gt__lt_p_gt_This works great for me._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1RWE59%2313_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1RWE59#13_lt_/a_gt__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_// You have to create a function called createScene. This function must return a BABYLON.Scene object// You can reference the following variables_dd_ scene_co_ canvas// You must at least define a camera// More info here_dd_ _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/wiki/The-Playgroundvar_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/wiki/The-Playgroundvar_lt_/a_gt_ createScene _eq_ function () {    var scene _eq_ new BABYLON.Scene(engine)_sm_        var light _eq_ new BABYLON.PointLight(_qt_Omni_qt__co_ new BABYLON.Vector3(10_co_ 50_co_ 50)_co_ scene)_sm_    var camera _eq_ new BABYLON.ArcRotateCamera(_qt_Camera_qt__co_ 0_co_ 1.2_co_ 30_co_ new BABYLON.Vector3(-10_co_0_co_0)_co_ scene)_sm_light.intensity _eq_ 1_sm_    camera.attachControl(canvas_co_ false)_sm_    var whiteSphere _eq_ BABYLON.Mesh.CreateSphere(_qt_sphere1_qt__co_ 16_co_ 2_co_ scene)_sm_    whiteSphere.position _eq_ new BABYLON.Vector3(-20_co_0_co_0)_sm_        var redSphere _eq_ BABYLON.Mesh.CreateSphere(_qt_sphere2_qt__co_ 16_co_ 2_co_ scene)_sm_    redSphere.position_eq_  new BABYLON.Vector3(0_co_5_co_0)_sm_    var redMat _eq_ new BABYLON.StandardMaterial(_qt_kosh_qt__co_ scene)_sm_    redMat.diffuseColor _eq_ new BABYLON.Color3(1_co_ 0_co_ 0)_sm_    redSphere.material _eq_ redMat_sm_          var vstart _eq_ whiteSphere.position_sm_    var vend _eq_ redSphere.position_sm_    var distance _eq_ BABYLON.Vector3.Distance(vstart_co_vend )_sm_        var material _eq_ new BABYLON.StandardMaterial(_qt_kosh_qt__co_ scene)_sm_    var cylinder _eq_ BABYLON.Mesh.CreateCylinder(_qt_cylinder_qt__co_ distance_co_ 1_co_ 1_co_ 36_co_ scene_co_ true)_sm_        // First of all we have to set the pivot not in the center of the cylinder_dd_    cylinder.setPivotMatrix(BABYLON.Matrix.Translation(0_co_ -distance / 2_co_ 0))_sm_     // Then move the cylinder to red sphere    cylinder.position _eq_ redSphere.position_sm_    // Then find the vector between spheres    var v1 _eq_ vend.subtract(vstart)_sm_    v1.normalize()_sm_    var v2 _eq_ new BABYLON.Vector3(0_co_ 1_co_ 0)_sm_        // Using cross we will have a vector perpendicular to both vectors    var axis _eq_ BABYLON.Vector3.Cross(v1_co_ v2)_sm_    axis.normalize()_sm_    console.log(axis)_sm_        // Angle between vectors    var angle _eq_ Math.acos(BABYLON.Vector3.Dot(v1_co_ v2))_sm_    console.log(angle)_sm_        // Then using axis rotation the result is obvious    cylinder.rotationQuaternion _eq_ BABYLON.Quaternion.RotationAxis(axis_co_ -angle)_sm_          scene.registerBeforeRender(function () {        light.position _eq_ camera.position_sm_    })_sm_    return scene_sm_}_sm__lt_/pre_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"dbs2000","Date":"2015-08-10T17:32:50Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_53840_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_9015_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt_ data-cite_eq__qt_Deltakosh_qt_ data-ipsquote-timestamp_eq__qt_1410310056_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_And here is the result_dd__lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs.com/playground/#1RWE59%2312_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs.com/playground/#1RWE59#12_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Code for reference_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_    var vstart _eq_ whiteSphere.position_sm_    var vend _eq_ redSphere.position_sm_    var distance _eq_ BABYLON.Vector3.Distance(vstart_co_vend )_sm_        var material _eq_ new BABYLON.StandardMaterial(_qt_kosh_qt__co_ scene)_sm_    var cylinder _eq_ BABYLON.Mesh.CreateCylinder(_qt_cylinder_qt__co_ distance_co_ 1_co_ 1_co_ 36_co_ scene_co_ true)_sm_        // First of all we have to set the pivot not in the center of the cylinder_dd_    cylinder.setPivotMatrix(BABYLON.Matrix.Translation(0_co_ -distance / 2_co_ 0))_sm_     // Then move the cylinder to red sphere    cylinder.position _eq_ redSphere.position_sm_    // Then find the vector between spheres    var v1 _eq_ vend.subtract(vstart)_sm_    v1.normalize()_sm_    var v2 _eq_ new BABYLON.Vector3(0_co_ 1_co_ 0)_sm_        // Using cross we will have a vector perpendicular to both vectors    var axis _eq_ BABYLON.Vector3.Cross(v1_co_ v2)_sm_    axis.normalize()_sm_    console.log(axis)_sm_        // Angle between vectors    var angle _eq_ BABYLON.Vector3.Dot(v1_co_ v2)_sm_    console.log(angle)_sm_        // Then using axis rotation the result is obvious    cylinder.rotationQuaternion _eq_ BABYLON.Quaternion.RotationAxis(axis_co_ -Math.PI / 2 + angle)_sm__lt_/pre_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_It seems there is a problem with the code here (_lt_a href_eq__qt_http_dd_//www.babylonjs.com/playground/#1RWE59%2312_qt_ title_eq__qt_External link_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs...ound/#1RWE59#12_lt_/a_gt_)_lt_/p_gt__lt_p_gt_If I change the positions of the spheres then the cylinder would no longer connect_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Like if i change this_lt_/p_gt__lt_p_gt__lt_span style_eq__qt_color_dd_rgb(0_co_0_co_255)_sm__qt__gt_whiteSphere.position _eq_ new BABYLON.Vector3(-20_co_0_co_0)_sm__lt_/span_gt__lt_/p_gt__lt_p_gt_to_lt_/p_gt__lt_p_gt__lt_span style_eq__qt_color_dd_rgb(0_co_0_co_255)_sm__qt__gt_whiteSphere.position _eq_ new BABYLON.Vector3(-20_co_-20_co_0)_sm__lt_/span_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_then then it will not work. Am I doing something wrong here. I took the code wrapped it up in a functions but for most of the cylinders one side would connect to one of the points but the other side one would not connect to the other point._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2015-08-10T21:59:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1RWE59%2331_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1RWE59#31_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"dbs2000","Date":"2015-08-21T21:45:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Thanks Adam...  this worked... sorry about later reply..._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2015-08-22T14:51:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_If the answer was set to this comment_co_ you probably wouldn_t_t have had this issue._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/topic/9015-cylinder-between-two-points/?p_eq_69031_qt__gt_http_dd_//www.html5gamedevs.com/topic/9015-cylinder-between-two-points/?p_eq_69031_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Nikos123","Date":"2015-12-28T19:51:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Thanks I _lt_a href_eq__qt_https_dd_//github.com/QuantumInformation/Density-Wars/blob/gh-pages/lib/weapons/Laser.ts#L51_qt_ rel_eq__qt_external nofollow_qt__gt_used_lt_/a_gt_ this to good effect in my _lt_a href_eq__qt_http_dd_//quantuminformation.github.io/Density-Wars/_qt_ rel_eq__qt_external nofollow_qt__gt_game_lt_/a_gt_._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"captainleighwalker","Date":"2017-12-22T19:50:14Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tDear all.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am also new to Babylon and need this functionality.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe above seems to rotate the link. You can see it using a box _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1RWE59%2398_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1RWE59#98_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI need to keep them flat to the xz plane.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have spent quite a bit of time trying to make this happen but its not happening. Any help would be appreciated.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks in advance.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-12-22T22:07:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi CLW_co_ welcome to the forum.  How_t_s this look...\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#1RWE59%23101_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#1RWE59#101_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLines 35-87 is one big function_co_ now.  In lines 90-93_co_ that function is called 4 times.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tChange the _t_false_t_ to _t_true_t_ in line 93_co_ to see what that does.  (it is essentially addEndingSphere true/false)  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tNotice that every Y value in the vector3_t_s... in lines 90-93... are all set _eq__eq_ 0.  No height.  All points are on the ground.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHope this helps. \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"captainleighwalker","Date":"2017-12-22T22:32:18Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi Wingnut\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks for your efforts but I cant have explained properly!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe ends need to go up in Z but in the playground I showed it rotates the boxes around their local Y.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span style_eq__qt_float_dd_none_sm_background-color_dd_transparent_sm_color_dd_rgb(53_co_60_co_65)_sm_font-family_dd_Roboto_co_ _t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-variant_dd_normal_sm_font-weight_dd_400_sm_letter-spacing_dd_normal_sm_text-align_dd_left_sm_text-decoration_dd_none_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm__qt__gt_ _lt_/span_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1RWE59%2398_qt_ rel_eq__qt_external nofollow_qt_ style_eq__qt_background-color_dd_transparent_sm_color_dd_rgb(61_co_101_co_148)_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-variant_dd_normal_sm_font-weight_dd_400_sm_letter-spacing_dd_normal_sm_text-align_dd_left_sm_text-decoration_dd_underline_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm__qt__gt_http_dd_//www.babylonjs-playground.com/#1RWE59#98_lt_/a_gt__lt_span style_eq__qt_float_dd_none_sm_background-color_dd_transparent_sm_color_dd_rgb(53_co_60_co_65)_sm_font-family_dd_Roboto_co_ _t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-variant_dd_normal_sm_font-weight_dd_400_sm_letter-spacing_dd_normal_sm_text-align_dd_left_sm_text-decoration_dd_none_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm__qt__gt_ _lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis is what I am trying to make..\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img alt_eq__qt_black_skypod-534x400.jpg_qt_ class_eq__qt_ipsImage_qt_ height_eq__qt_400_qt_ src_eq__qt_https_dd_//www.eygtrade.co.uk/wp-content/uploads/2014/12/black_skypod-534x400.jpg_qt_ width_eq__qt_534_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-12-22T23:56:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#1RWE59%23109_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#1RWE59#109_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI suppose you want all the pieces... parented to  gizmo... so you can position/rotate/scale the skylight frame... easily?  (by moving the gizmo)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI haven_t_t determined how to use a central parent on this_co_ yet.  Shifted pivot-points are causing issues.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBUT_co_ you want all the span-mesh... to lay flat_co_ right?  Flat sides facing up.  Yep_co_ bet so.  (You explained it perfectly... but I am slow_co_ mentally.)  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_ll keep thinking.  Perhaps smarter people that I... will reply soon.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSorry for misunderstanding.  I think I understand objective_co_ now.  hmm.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe span-mesh (arms) in the picture... look somewhat triangular_co_ eh?  Should be do-able_co_ somehow.  Nice challenge!  _sm_o\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-12-23T00:55:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#1RWE59%23110_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#1RWE59#110_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnother interesting kludge... using lookAt with offsets_co_ and some tweaking (and no quaternion stuff other-than what comes with lookAt). \n_lt_/p_gt_\n\n_lt_p_gt_\n\tGruesome!  But all the triangular spans are rotated somewhat correctly.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere_t_s another_co_ using 4-sided spans.  _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#1RWE59%23112_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#1RWE59#112_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tJust bad.  It has the precision and symmetry of a pile of mashed potatoes.  _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt_  hmm.   (Wingnut starts power-drinking_co_ and thinks some more).   _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#1RWE59%23116_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#1RWE59#116_lt_/a_gt_  (all parts parented to a _t_gizmo_t_)  (slightly raised all upper points except line 99 cross-bar)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"captainleighwalker","Date":"2017-12-23T09:35:06Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tNice one Wingnut you seem to have cracked it.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI didn_t_t know about that lookAt. I was starting to go down the Path3D method with \n_lt_/p_gt_\n\n_lt_p_gt_\n\t     var v1 _eq_ new BABYLON.Vector3.RotationFromAxis(binormals[0]_co_ normals[0]_co_ tangents[0])_sm__lt_br /_gt_\n\t            polygon.rotation _eq_ v1_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut I couldn_t_t get that to work.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tYes they are more like triangles. Hopefully I will be getting the shape data to make an extruded polygon.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHow does that gizmo come into it?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI would have liked to lerp the spans to change the size of the roof but I will get to that later!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks for your help.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-12-23T11:02:03Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tCool!   The _lt_strong_gt_gizmo_lt_/strong_gt_ just makes it easier to position_co_ rotate_co_ and perhaps scale... the entire structure.  Consider it a _qt_grouper_qt_.  If you need the structure to be 10 units off the ground_co_ simply raise the gizmo.position.y_co_ and entire structure rises.  A gizmo can also be called _t__lt_strong_gt_handle_lt_/strong_gt__t__co_ _t__lt_strong_gt_proxy_lt_/strong_gt__t__co_ and _t__lt_strong_gt_root_lt_/strong_gt__t__co_ sometimes.  There are probably other names_co_ too.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn my most-recent demo_co_ I did a slow rotation of the gizmo (in the renderLoop)_co_ and the entire structure rotates.  All parts are parented to it.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt takes a certain kind of bravery to attempt to dynamically-generate this shape... with math/calculating.  I_t_m impressed with your adventuresome spirit!   The structure could be modeled in a modeller such as Blender or 3DsMax_co_ too.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI like dynamic models_co_ too.  I think they are sometimes called _qt_parametric shapes_qt_.  I call it _qt_manual plotting_qt_.  _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#1UHFAP%237_qt_ rel_eq__qt_external nofollow_qt__gt_Here is one_lt_/a_gt_ I did early in my BJS days (I call it _qt_the plottery barn_qt_)... built when I was still learning how vertex data works (barely learned_co_ now).  I use a little utility called _t_boxify_t_ to help me know which vertex... is located where.  Boxify sometimes needs mods... when flat-shaded mesh such as BJS boxes... is used.  More than one vert can be at the same location.  _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#13AEVX%2311_qt_ rel_eq__qt_external nofollow_qt__gt_Here is a scene_lt_/a_gt_ where stacked boxify was used to help me plot UVs for a woodgrain texture.  It _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#13AEVX%2312_qt_ rel_eq__qt_external nofollow_qt__gt_turned out_lt_/a_gt_ that the top piece_t_s wood-grain was vertically flipped_co_ and I never fixed it.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  User who I was helping... had needs for obtuse and acute angles in his hand railings_co_ and I bailed due to being scared/stupid.  _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tLater I did an _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#UKD4ZI%234_qt_ rel_eq__qt_external nofollow_qt__gt_Air-Cooled High-Performance-Pointing Racing Arrow_lt_/a_gt__co_ which is pretty and fun.  I rarely take it out-of the garage_co_ because it points TOO HARD and TOO FAST.  Children could get hurt.  heh\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd even later_co_ I built a _qt__lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/debug#PBVEM%23158_qt_ rel_eq__qt_external nofollow_qt__gt_flying bobsled_lt_/a_gt__qt_ using parametric shapes that were invented by our geometry God _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5453-jerome/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5453_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5453-jerome/_qt_ rel_eq__qt__qt__gt_@jerome_lt_/a_gt_.  Its gizmo-box is physics-engine-active_co_  so it has _qt_thrusting keys_qt_.  Press/hold _lt_strong_gt_shifted_lt_/strong_gt_ arrowkeys + pgUp/pgDown for translation_co_ and _lt_strong_gt_control _lt_/strong_gt_arrowkeys + pgUp/pgDown for rotation.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMy age_co_ and coding styles.... are pretty _qt_old school_qt__co_ and I_t_m far from a math expert.  There are FAR better shape-plotters than I.  You could surely math-plot your skylight frame_co_ using _t_plottery barn_t_ methods_co_ if you enjoy that kind of pain. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tA nice chap named _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/27658-arte/?do_eq_hovercard_qt_ data-mentionid_eq__qt_27658_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/27658-arte/_qt_ rel_eq__qt__qt__gt_@Arte_lt_/a_gt_ is also into parametric cabinets/shelving.  He showed us some movies of his project... _lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/topic/34120-parametric-cabinet/_qt_ rel_eq__qt__qt__gt_here_lt_/a_gt_. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tA cool adventurer named _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/25131-afalcon/?do_eq_hovercard_qt_ data-mentionid_eq__qt_25131_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/25131-afalcon/_qt_ rel_eq__qt__qt__gt_@aFalcon_lt_/a_gt_ is doing some mesh/terrain plotting _lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/topic/34397-solved-mesh-editor-edit-ribbon-vertices/?do_eq_findComment&amp_sm_comment_eq_197726_qt_ rel_eq__qt__qt__gt_here_lt_/a_gt_.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf you try plotting your skylight frame_co_ could you share it with us? \n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn fact_co_ if you wish_co_ show_t_n_t_tell (share) EVERYTHING that you do.  We love looking-at scenes around here_co_ and especially if they are mad-scientist _t_demented experiments_t_!   We love _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/_qt_ rel_eq__qt_external nofollow_qt__gt_the BJS playground_lt_/a_gt_.  Demos put in there... can be messed-with by anyone_co_ so everyone learns.   There are various ways to _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/playground_qt_ rel_eq__qt_external nofollow_qt__gt_search the playground database_lt_/a_gt_... also handy and packed with learning.  (You probably know all this already - sorry if so).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHave you ever seen our _t_spherical harmonics_qt_ demo?  Jerome has a _lt_a href_eq__qt_http_dd_//jerome.bousquie.fr/BJS/demos/_qt_ rel_eq__qt_external nofollow_qt__gt_nice version on his website_lt_/a_gt_... worth seeing.  Math gods - they are my heroes.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tYOU are probably a math God_co_ too.  If you are willing to go LERPing_co_ you are certainly math-brave to SOME degree.  _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  I look forward to your _qt_stuff_qt_.  Party on!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPS_dd_ Wasn_t_t there a children_t_s song about LERP?  _qt_Here we go LERP-dee-log()_co_  here we go LERP-dee-light.  Here we go SLERP-dee-LERP_co_  all on a Saturday night._qt_  _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"captainleighwalker","Date":"2017-12-23T12:27:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi Wingnut\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks for all the info! Bit of an overload to start with!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI come from AutoCAD background and 3Ds Max so setting your own normal etc. is new.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis is my main program _lt_a href_eq__qt_http_dd_//www.windowsoftware.co.uk/_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.windowsoftware.co.uk/_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI think I will get it all in to Babylon eventually!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"captainleighwalker","Date":"2017-12-24T00:22:22Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_ve been using MeshBuilder.ExtrudePolygon because I thought I could update the depth later but this has not been added in Babylon.js.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo I looked at ExtrudeShape where I can have a 2 point path and modify the points.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis works but calling convertToFlatShadedMesh()_sm_ messes it up!\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#165IV6%23163_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#165IV6#163_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2017-12-24T11:47:57Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHiya CLW!  Sorry for the slow response.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#165IV6%23164_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#165IV6#164_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLine 37 is an _qt_updater_qt_ or _qt_appender_qt_.  It adds more extrusion shape... to an already-existing extruded shape.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo_co_ you need to wait until AFTER that line... to call your flat shader. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tFlat shading... adds vertices.  For example_co_ if 3 _qt_faces_qt_ intersect at a single vertex_co_ flat shading will add 2 more verts atop the first one.   This is why BJS boxes are 24 verts_co_ and not 8 verts.  They are flat-shaded by default.  Some mesh... when flat-shaded... go over 3 times their original vert-count.  _lt_img alt_eq__qt__dd_o_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_ohmy.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/ohmy@2x.png 2x_qt_ title_eq__qt__dd_o_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tI don_t_t think the extrude-appender... can handle those extra vertices.  So we wait until after the shape is completed_co_ and then convert.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tParty on!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]