[{"Owner":"Keslinger","Date":"2017-03-07T19:17:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m playing with a wearables system to load clothes pieces and associate them with a baseMesh_t_s skeleton (not unlike the XBox avatar stuff).\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//babylonjs-playground.com/#WDMRY%2323_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//babylonjs-playground.com/#WDMRY#23_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThere should be two models_co_ one clapping and one cheering.  They should be wearing different wearables (loaded during runtime and set via wearableMesh.skeleton _eq_ baseMesh.skeleton)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_ve run into a weird issue on devices that run out of uniforms for skinned models.  Works great on my desktop (Chrome)_co_ but on my Nexus 6_co_ I see shader compiler errors and messages that say it will fall back to CPU skinning.  The CPU fallback doesn_t_t work_co_ though.  The end result is the skeletons are not associated properly with the skinned mesh pieces (wearables). Which parts are wrong varies from load to load.  The same thing happens on other mobile devices that have to fallback.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI understand that I can reduce the number of bones in a mesh to ensure I take advantage of GPU skinning (and I will eventually)_co_ but CPU fallback should work_co_ right?  Is there something else I_t_m doing wrong? \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks!\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tEdit_dd_  A much cleaner example_co_ just loading the same file twice\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//babylonjs-playground.com/#1XQ32V_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//babylonjs-playground.com/#1XQ32V_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t\t\t\n\n_lt_span class_eq__t_ipsType_reset ipsType_medium ipsType_light_t_ data-excludequote_gt_\n\t_lt_strong_gt_Edited _lt_time datetime_eq__t_2017-03-08T11_dd_32_dd_07Z_t_ title_eq__t_03/08/2017 11_dd_32  AM_t_ data-short_eq__t_1 yr_t__gt_March 8_co_ 2017_lt_/time_gt_ by Keslinger_lt_/strong_gt_\n\t\n\t\t_lt_br_gt_Added cleaner example\n\t\n\t\n_lt_/span_gt_\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Keslinger","Date":"2017-03-08T12:27:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tAfter some more documentation spelunking...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf I iterate through all the meshes and set _qt_computeBonesUsingShaders _eq_ false_qt_ for each mesh_co_ it skins properly on mobile.  How do I know (programmatically) when I should do that and when it_t_s okay to use the shader?  \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-03-09T00:22:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tHello are you on 3.0-alpha? I think we fixed the fallback bug recently\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-03-09T00:49:17Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOk we did not really fixed it _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tNow it is good (clear your cache and your PG should work even on iOS)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Keslinger","Date":"2017-03-09T00:58:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHaha.. you researched_co_ merged and deployed faster than I could figure out what property of the engine contained the version.  Too cool.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYup_co_ that fixed it!  Thanks!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHmm.. still... Is there a way for me to know if the engine had to fall back to CPU?  I think (one day) I_t_d like to notify the user_co_ swap assets_co_ etc. if I know they are on a lower end device.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks again.  \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p style_eq__qt_color_dd_rgb(39_co_42_co_52)_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_background-color_dd_rgb(255_co_255_co_255)_sm__qt__gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-03-09T17:49:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThe best option could be to test is  _lt_span style_eq__qt_color_dd_rgb(39_co_42_co_52)_sm_font-family_dd__t_Helvetica Neue_t__co_ Helvetica_co_ Arial_co_ sans-serif_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-weight_dd_normal_sm_letter-spacing_dd_normal_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm_background-color_dd_rgb(255_co_255_co_255)_sm_float_dd_none_sm__qt__gt_computeBonesUsingShaders_lt_span_gt_ _lt_/span_gt__lt_/span_gt_ _eq__eq_- false at rendering time\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Keslinger","Date":"2017-03-09T18:24:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tPerfect.  \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tMarked as Solved.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]