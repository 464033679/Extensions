[{"Owner":"adam","Date":"2016-06-03T01:52:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tI_t_ve been experimenting with shape keys to pose my character_t_s face in Blender.  Is there currently anyway to export and use shape keys in BJS?\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"gryff","Date":"2016-06-03T03:18:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_span_gt_@adam_dd_ You might want to have a look at these links_dd__lt_/span_gt_\n_lt_/p_gt_\n_lt_iframe data-embedcontent_eq__qt__qt_ frameborder_eq__qt_0_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/topic/18886-skeletal-animation-picking-info-and-morph-shapes/?do_eq_embed&amp_sm_embedComment_eq_127845&amp_sm_embedDo_eq_findComment_qt__gt__lt_/iframe_gt_\n\n_lt_p_gt_\n\tand\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Extensions/tree/master/QueuedInterpolation/Blender_qt_ rel_eq__qt_external nofollow_qt__gt_Tower of Babel Exporter_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tScroll down to New In 4.0\n_lt_/p_gt_\n\n_lt_p_gt_\n\tcheers_co_ gryff _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2016-06-03T12:02:50Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThis looks great.  Are there any simple examples of shape keys in the PG?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhere can I find the QI.Mesh class?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tEdit_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI see JCP linked to his test scene in that post_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//16133f78f07b2eee3540cf35e266c69a27b82b71.googledrive.com/host/0B6-s6ZjHyEwUNnEwREtwekRiLTg/_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//16133f78f07b2eee3540cf35e266c69a27b82b71.googledrive.com/host/0B6-s6ZjHyEwUNnEwREtwekRiLTg/_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m not seeing how to use shape keys_co_ though.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2016-06-03T17:50:09Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tI have a shape key for blinking.  Do I need to add that to an animation in Blender before I can use it in BJS?\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2016-06-03T20:14:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t_lt_span_gt__lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/?do_eq_hovercard_qt_ data-mentionid_eq__qt_8492_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/_qt_ rel_eq__qt__qt__gt_@JCPalmer_lt_/a_gt_ where can I find the QI classes that are referenced in the tower of babel export file?_lt_/span_gt_\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2016-06-03T21:04:46Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tYou cannot.  This is not ready.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2016-06-03T21:19:44Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tOK_co_ thanks.  It looks promising.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2016-06-04T20:26:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHere is a simple QI class I wrote (not the official one).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tInclude this in your code before your tower of babel export file.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThen in your code_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t            var myShapeKeyGroup _eq_ mesh.shapeKeyGroups[_qt_ENTIRE_MESH_qt_]_sm__lt_br /_gt_\n\t            myShapeKeyGroup.shapeKeys[_qt_Key 1_qt_].value _eq_ .5_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tto morph your mesh using a shape key you created in Blender.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tsimple example_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1RH0J8%234_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1RH0J8#4_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tanimation examples_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1RH0J8%235_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1RH0J8#5_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1RH0J8%237_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1RH0J8#7_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a class_eq__qt_ipsAttachLink_qt_ data-fileid_eq__qt_8006_qt_ href_eq__qt_//www.html5gamedevs.com/applications/core/interface/file/attachment.php?id_eq_8006_qt_ rel_eq__qt__qt__gt_QI.js_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a class_eq__qt_ipsAttachLink_qt_ data-fileid_eq__qt_8005_qt_ href_eq__qt_//www.html5gamedevs.com/applications/core/interface/file/attachment.php?id_eq_8005_qt_ rel_eq__qt__qt__gt_QI.ts_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"gryff","Date":"2016-06-06T01:49:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tAn animated _qt_Suzanne_qt_ - very neat adam _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_  Would give it 5 likes if I could_lt_img alt_eq__qt__dd_o_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_ohmy.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/ohmy@2x.png 2x_qt_ title_eq__qt__dd_o_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tWhere did the data come from for the Float32Arrays? From the TOB exporter?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tcheers_co_ gryff _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2016-06-06T09:59:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_131392_qt_ data-ipsquote-contentid_eq__qt_22947_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1465177783_qt_ data-ipsquote-userid_eq__qt_7026_qt_ data-ipsquote-username_eq__qt_gryff_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t8 hours ago_co_ gryff said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tWhere did the data come from for the Float32Arrays? From the TOB exporter?\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tyes_lt_br /_gt_\n\t    \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2016-06-06T10:03:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tDoes anyone know of a cleaner way to set up that animation?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThis didn_t_t work_dd__lt_br /_gt_\n\tvar animationBox _eq_ new BABYLON.Animation(_qt_tutoAnimation_qt__co_ _qt_mesh.shapeKeyGroups[_t_ENTIRE_MESH_t_].shapeKeys[_t_KEY 1_t_].value_qt__co_ 30_co_ BABYLON.Animation.ANIMATIONTYPE_FLOAT_co__lt_br /_gt_\n\t                                                                    BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE)_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThat_t_s why I resorted to this_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tmesh.shapeKey _eq_ mesh.shapeKeyGroups[_t_ENTIRE_MESH_t_].shapeKeys[_t_KEY 1_t_]_sm__lt_br /_gt__lt_br /_gt_\n\tvar animationBox _eq_ new BABYLON.Animation(_qt_tutoAnimation_qt__co_ _qt_shapeKey.value_qt__co_ 30_co_ BABYLON.Animation.ANIMATIONTYPE_FLOAT_co__lt_br /_gt_\n\t                                                                    BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE)_sm__lt_br /_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_br /_gt_\n\t    \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2016-06-06T15:32:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThe actual ShapeKeyGroups are implemented as an beforerender on the mesh.  Each group has a queue of new targets to morph to.  There is also a pose queue for skeleton interpolations.  I am starting to think about bringing out QueuedInterpolation without anything specific to MakeHuman to start.  It be supported by Tower of Babel 5.0_co_ which is been completely re-factored into 17 files &amp_sm_ distributed as a .zip file.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThere will be no documentation changes for TOB_co_ or any documentation for QI.  There could be breaking changes without apology.  It still would better than what you are doing.  There is plenty of code comments_co_ &amp_sm_ Javadoc like code arg descriptions.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2016-06-06T15:42:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_131477_qt_ data-ipsquote-contentid_eq__qt_22947_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1465227140_qt_ data-ipsquote-userid_eq__qt_8492_qt_ data-ipsquote-username_eq__qt_JCPalmer_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t11 minutes ago_co_ JCPalmer said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tThere could be breaking changes without apology.  It still would better than what you are doing.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tThat is so very nice of you_co_ Jeff.  _lt_img alt_eq__qt__dd_angry_dd__qt_ data-emoticon_eq__qt__qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_angry.png_qt_ title_eq__qt__dd_angry_dd__qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m glad I got you to move_co_ though.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"dbawel","Date":"2016-06-06T23:43:47Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4289_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/_qt_ rel_eq__qt__qt__gt_@adam_lt_/a_gt_ -\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSorry to chime in so late_co_ but I was out of town the past few days. Obviously_co_ you have been provided examples on how to export/import blend shape keys. However_co_ in many years of working on rigging game characters_co_ if you don_t_t require extreme close-ups by the camera of the character_t_s face and specifically their eyes_co_ then the rotation of half or smaller parts of simple colored and/or textured spheres are by far the best method with the least computation in a scene. And this method specifically limits various conflicts and concerns when translating and transforming your character in the game.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBy maintaining the mesh_t_s center in the center of the partial sphere and rotating simple sphere geometry from the local center won_t_t contribute to the additive effects of using other bend shapes on the face.  Just make certain that you maintain or re-position your sphere_t_s center position to rotate the lids correctly - as many surface operations to reduce the polygons to a half or 1/3rd sphere often repositions the mesh_t_s center to the average position of its remaining polys. And on any console game ever released where I have any rigged characters_co_ no one has ever noticed that I wasn_t_t using blend shapes to open and close the upper and lower eyelids.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd FYI - it_t_s allot less work with virtually the same results - unless as I say again_co_ you require facial closeups for expressive emotions directly to camera - which even then doesn_t_t often require blend shapes for eyelids_co_ unless we_t_re talking extreme closeups and emotions.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDB\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2016-06-07T00:33:26Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tHi _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/11286-dbawel/?do_eq_hovercard_qt_ data-mentionid_eq__qt_11286_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/11286-dbawel/_qt_ rel_eq__qt__qt__gt_@dbawel_lt_/a_gt_.  That_t_s what I was planning on doing.  Deltakosh fixed an attachToBone bug a few days ago for me that allows me to use separate eyelids for blinking.  I_t_m going to use this morphing code to make my character squint and close his eyes.  The separate eyelid meshes looked terrible for that.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]