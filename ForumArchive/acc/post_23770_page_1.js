[{"Owner":"jellix","Date":"2016-07-12T09:20:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\twhen I setup a ReflectionTexture for a Skybox_co_ I give a path to the six textures and the frameworks loads the textures automatically.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI would like to preload these textures before with the AssetManager and afterwards use them for my skybox.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo how is the correct workflow for that?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks for tips!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-07-12T23:56:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/21403-jellix/?do_eq_hovercard_qt_ data-mentionid_eq__qt_21403_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/21403-jellix/_qt_ rel_eq__qt__qt__gt_@jellix_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t  Have you seen the assetsManager docs?  _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/tutorials/How_to_use_AssetsManager_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/tutorials/How_to_use_AssetsManager_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThere_t_s some image/texture info in there... might help.  Sorry for the slow reply.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jellix","Date":"2016-07-13T10:11:38Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHI _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5733_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5733-wingnut/_qt_ rel_eq__qt__qt__gt_@Wingnut_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tthe examples just show how to load one file per texture. A Skybox has a CubeTexture that consist of 6 files.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo I could preload the 6 files with the AssetManager and afterwards create the CubeTexture like_dd_\n_lt_/p_gt_\n\n_lt_pre style_eq__qt_background-color_dd_#2b2b2b_sm_color_dd_#a9b7c6_sm_font-family_dd__t_Courier New_t__sm__qt__gt_\n_lt_span style_eq__qt_color_dd_#cc7832_sm_font-weight_dd_bold_sm__qt__gt_new _lt_/span_gt_BABYLON.CubeTexture(_lt_span style_eq__qt_color_dd_#cc7832_sm_font-weight_dd_bold_sm__qt__gt_this_lt_/span_gt_._lt_span style_eq__qt_color_dd_#9876aa_sm__qt__gt__skyboxPath_lt_/span_gt__lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt__co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#9876aa_sm_font-style_dd_italic_sm__qt__gt_scene_lt_/span_gt_)_lt_span style_eq__qt_color_dd_#cc7832_sm__qt__gt__sm__lt_/span_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tBut by that the six files are loaded again. And in that case not with the AssetManager.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMaybe I should change my question to _qt_How do I load a CubeTexture (that consists of six files) with the AssetManager_qt_?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-07-13T13:35:38Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi again_co_ J.  That is a great question... and likely needs someone smarter than I... to answer.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe situation MIGHT be automatic_co_ though.  Let me show you what I found.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFirst_co_  let_t_s visit _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Materials/Textures/babylon.cubeTexture.js_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Materials/Textures/babylon.cubeTexture.js_lt_/a_gt_  See line 20?  It seems that cubeTexture goes to the cache FIRST_co_ and then uses standard loading if that fails.  Let_t_s take a look at the _getFromCache function... which resides on an ancestor called baseTexture.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Materials/Textures/babylon.baseTexture.js#L101_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Materials/Textures/babylon.baseTexture.js#L101_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLooks like it digs-into _lt_em_gt_scene.getEngine().getLoadedTexturesCache()_lt_/em_gt__sm_  That_t_s sounds good to us_co_ right? \n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo_co_ although I am no expert_co_ I would say (guess/assume/speculate) that you are automatically in good shape.  BabylonJS looks in its cache FIRST_co_ to get needed textures.  Seemingly_co_ it goes to the web (at cubeTexture construction time) ONLY as a fallback to the cache-fetch.  But I_t_m not sure.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHopefully_co_ smarter people than I... can verify that to be true.  You might be able to do some tests to PROVE it_t_s true_co_ too_co_ though I_t_m not sure how to structure that test.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI tried a test where I pre-fetched the skybox textures with the assetsManager_co_ and put the entire cubeTexture source code... into the playground (an act I call hijacking).\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#NBVF0%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#NBVF0#1_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf you watch your JS console_co_ you can see that the skybox is using OUR in-playground (hijacked) cubeTexture code_co_ and not the default cubeTexture class from the framework itself.  You can also see notifications from the pre-loads.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI was hoping to ONLY enable cache loading_co_ and disable run-time loading (within the hijacked code_co_ somehow).  But_co_ I_t_m not sure how to do that.  Maybe you_t_ll have better success.  Perhaps others will help us.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAll in all_co_ it_t_s a good testing playground to cause trouble-within.  It still doesn_t_t PROVE that this skybox is using cached/prefetched images_co_ though.  Not yet.  I was hoping to prove our theory_co_ and I haven_t_t.  Experts?  Help?  (thx_co_ everyone).\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"chicagobob123","Date":"2016-07-13T13:49:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI am not sure what you are asking exactly but I am going to try to help. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI needed several ground image tiles 512x512 to load before I built my ground. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI organized the image names to make them easy to load then used a simple counter \n_lt_/p_gt_\n\n_lt_p_gt_\n\t        var cnt _eq_ 1_sm__lt_br /_gt_\n\t        for(var i_eq_0_sm_i&lt_sm_4_sm_i++) _lt_br /_gt_\n\t         {\n_lt_/p_gt_\n\n_lt_p_gt_\n\t       for(var j_eq_0_sm_j&lt_sm_ 6_sm_j++) _lt_br /_gt_\n\t           {\n_lt_/p_gt_\n\n_lt_p_gt_\n\t            grnd[cnt].src_eq__qt_texture/ground/r_qt_+(i+1)+_qt__c_qt_+(j+1)+_qt_.png_qt__sm_          _lt_br /_gt_\n\t            grnd[cnt].onload_eq_function() _lt_br /_gt_\n\t             { // tiles are square_lt_br /_gt_\n\t              grndcnt++_sm__lt_br /_gt_\n\t             }_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t            cnt++_sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t          } \n_lt_/p_gt_\n\n_lt_p_gt_\n\t       }\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn \n_lt_/p_gt_\n\n_lt_p_gt_\n\t      scene.registerBeforeRender(function()_lt_br /_gt_\n\t       {_lt_br /_gt_\n\t      \n_lt_/p_gt_\n\n_lt_p_gt_\n\t        if(grndcnt_eq__eq_cnt)_lt_br /_gt_\n\t         {_lt_br /_gt_\n\t          createDynamicGround()_sm__lt_br /_gt_\n\t          grndcnt_eq_0_sm_ _lt_br /_gt_\n\t         }\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHope this helps a bit. \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]