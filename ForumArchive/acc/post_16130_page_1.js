[{"Owner":"dbs2000","Date":"2015-07-31T21:49:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I am facing a strange problem.  I am trying to draw tubes between points. The points are determined based on some mathematical logic. Strange thing is that for some combination of coordinated the tubes don_t_t show up. Below is an example._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_div_gt__lt_span style_eq__qt_color_dd_#0000cd_sm__qt__gt_var path _eq_ []_sm__lt_/span_gt__lt_/div_gt__lt_div_gt__lt_span style_eq__qt_color_dd_#0000cd_sm__qt__gt_path.push(new BABYLON.Vector3(22_co_ -3.1945000000000014_co_ 0)) //_lt_strong_gt_point 1A_lt_/strong_gt__lt_/span_gt__lt_/div_gt__lt_div_gt__lt_span style_eq__qt_color_dd_#0000cd_sm__qt__gt_//path.push(new BABYLON.Vector3(22_co_ -3.1944000000000017_co_ 0)) //_lt_strong_gt_point 1B_lt_/strong_gt__lt_/span_gt__lt_/div_gt__lt_div_gt__lt_span style_eq__qt_color_dd_#0000cd_sm__qt__gt_path.push(new BABYLON.Vector3(22_co_ 24.25_co_ 0)) //_lt_strong_gt_point 2_lt_/strong_gt__lt_/span_gt__lt_/div_gt__lt_div_gt__lt_span style_eq__qt_color_dd_#0000cd_sm__qt__gt_var tube _eq_ BABYLON.Mesh.CreateTube(_qt_tube_qt__co_ path_co_ .15_co_ 16_co_ null_co_ 0_co_ scene_co_ false_co_ BABYLON.Mesh.FRONTSIDE)_lt_/span_gt__lt_/div_gt__lt_div_gt_ _lt_/div_gt__lt_div_gt_If I run the above code the tube will NOT show. But if i comment _qt_point 1A_qt_ and uncomment _qt_point 1B_qt_ then the line will show up. If you notice the difference between _qt_point 1A_qt_ &amp_sm_ _qt_point 1B_qt_ is in value of _qt_y_qt_. Its a very small difference. For some combination of points the tube totally disappears. For slightly higher or lower values of _qt_y_qt_ it again shows up._lt_/div_gt__lt_div_gt_ _lt_/div_gt__lt_div_gt_Another thing is the sequence.. If I add the _qt_point 2_qt_ before _qt_point  1B_qt_ then also the tube does not show._lt_/div_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-08-01T07:04:46Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_a PG maybe ?_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2015-08-01T13:21:37Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1EVT9Z%232_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1EVT9Z#2_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Rem line 25_co_ activate 26_co_ tube appears.  *scratch scratch*_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-08-01T14:51:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1EVT9Z%233_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1EVT9Z#3_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Ok_co_ it seems the problem is not related to the number of points in the tube path_co_ but more to the way the underlying _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/page.php?p_eq_25090_qt_ rel_eq__qt_external nofollow_qt__gt_path3D_lt_/a_gt_ is computed (probably the way the first normal and tangent are computed)_lt_/p_gt__lt_p_gt_If you set y value other than -3.194 to the fist path point_co_ it seems to work in your case._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I did a change in the path3D algorythm a month ago in order to simplify the code_co_ but it seems to have imply this bug._lt_/p_gt__lt_p_gt_I need to check it when I will be back at work at the end of august. Sorry for the delay_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2015-08-01T23:31:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_You don_t_t get to code-play at home_co_ Jeromino?  What_t_s the story there?  (like it_t_s any of MY beeswax)  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Need a home puter?  I got a used VIC-20 here that I_t_m sure would run Knoppix.  Want me to mail it to you?  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_If it_t_s your girl... demanding quality time... well... you_t_re pretty much screwed_co_ there.  I can_t_t help with that.  I traded all my girlfriends... for 6 Western Digital 4tb external hard drives.  What a great deal!  heh_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-08-02T06:02:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_ _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ alt_eq__qt__dd_D_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"dbs2000","Date":"2015-08-03T14:43:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_The problem is that these positions are calculated dynamically. I am trying to build a 3 dimensional topology structure made of objects that are connected with tubes. This structure would be driven by a data file &amp_sm_ hence it would be dynamic &amp_sm_ can have different number &amp_sm_ combination of objects with connections depending on what is there in the data file. So as you can understand the positions of the tubes (rather the position of the _qt_to_qt_ &amp_sm_ _qt_from_qt_ points of the tube )  is not hard coded &amp_sm_ is calculated at runtime. So hard coding is not a option. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_So what you guys suggest me here? Is there some logic that I can use to avoid some specific _qt_points_qt_ to create the _qt_path_qt_ tube. Some logic that I would apply on the calculated values. If it does not pass then I use the nearest value &amp_sm_ so on &amp_sm_ so forth. Basically some logic to bypass this bug that is there. Otherwise_co_ I am_co_ kind of hitting a wall here._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-08-03T19:11:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_No_co_ no_co_ don_t_t change anything please_lt_/p_gt__lt_p_gt_The tube should work with any path. Actually there might be a problem in the path3D computation _dd_ a path3D object is created on the tube path parameter._lt_/p_gt__lt_p_gt_It used to work pretty well with the original implementation that I stressed heavily to test it. I guess the modification done recently in the path3D code brought this erratic behavior on limit cases _dd_ the tube path maybe collinear with one of the world axis_co_ I don_t_t really know._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I will investigate as soon as I will get back to work... the only place where I dig in BJS  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_wink.png_qt_ alt_eq__qt__sm_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/wink@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2015-08-03T19:36:46Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_91520_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_16130_qt_ data-ipsquote-username_eq__qt_dbs2000_qt_ data-cite_eq__qt_dbs2000_qt_ data-ipsquote-timestamp_eq__qt_1438613015_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt_The problem is that these positions are calculated dynamically. I am trying to build a 3 dimensional topology structure made of objects that are connected with tubes. This structure would be driven by a data file &amp_sm_ hence it would be dynamic &amp_sm_ can have different number &amp_sm_ combination of objects with connections depending on what is there in the data file. So as you can understand the positions of the tubes (rather the position of the _qt_to_qt_ &amp_sm_ _qt_from_qt_ points of the tube )  is not hard coded &amp_sm_ is calculated at runtime. So hard coding is not a option. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_So what you guys suggest me here? Is there some logic that I can use to avoid some specific _qt_points_qt_ to create the _qt_path_qt_ tube. Some logic that I would apply on the calculated values. If it does not pass then I use the nearest value &amp_sm_ so on &amp_sm_ so forth. Basically some logic to bypass this bug that is there. Otherwise_co_ I am_co_ kind of hitting a wall here._lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Simply use an older version of BJS while you are waiting for the fix.  _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_See if this one works_dd__lt_/p_gt__lt_p_gt__lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/tree/c8400bee9880c4dc44a668c554e5dfeabd48c539/dist/preview%20release%20-%20alpha_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/tree/c8400bee9880c4dc44a668c554e5dfeabd48c539/dist/preview%20release%20-%20alpha_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"dbs2000","Date":"2015-08-03T21:27:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Ok.. Thanks for the replies... I will wait for the fix &amp_sm_ in the meantime will check with an older version... If you can kindly post a reply on this post once fixed that will be great!... thanks..._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-08-03T22:28:19Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_if your path has only two points_co_ maybe could you use a Cylinder instead of a tube meantime ?_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_here are the last path3D commits _dd__lt_/p_gt__lt_p_gt__lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/commit/9b91bee3d693d692ebdcc9da83c898f1f52455d2_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/commit/9b91bee3d693d692ebdcc9da83c898f1f52455d2_lt_/a_gt__lt_/p_gt__lt_p_gt__lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/commit/c68262975a13ccce604a395ca653ebdf2ce7898b_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/commit/c68262975a13ccce604a395ca653ebdf2ce7898b_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I_t_ll check at the end of august_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"dbs2000","Date":"2015-08-10T17:25:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Thanks Jerome... Yes_co_ I have tried with cylinder using this link (code from deltakosh).._lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.html5gamedevs.com/topic/9015-cylinder-between-two-points/_qt__gt_http_dd_//www.html5gamedevs.com/topic/9015-cylinder-between-two-points/_lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_But it seems there is a problem with this code._lt_/p_gt__lt_p_gt_If I change the positions of the spheres then the cylinder would no longer connect_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Like if i change this_lt_/p_gt__lt_p_gt__lt_span style_eq__qt_color_dd_#0000ff_sm__qt__gt_whiteSphere.position _eq_ new BABYLON.Vector3(-20_co_0_co_0)_sm__lt_/span_gt__lt_/p_gt__lt_p_gt_to_lt_/p_gt__lt_p_gt__lt_span style_eq__qt_color_dd_#0000ff_sm__qt__gt_whiteSphere.position _eq_ new BABYLON.Vector3(-20_co_-20_co_0)_sm__lt_/span_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_then then it will not work_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-08-10T18:26:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tPlease take a look at this _dd_ _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/overviews/How_Rotations_and_Translations_Work_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/overviews/How_Rotations_and_Translations_Work_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_qt_Generating a rotation from a target system_qt_ section\n_lt_/p_gt_\n\n_lt_p_gt_\n\t with this PG example _dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#VYM1E%235_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#VYM1E#5_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-09-01T14:01:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Ok_lt_/p_gt__lt_p_gt_This should be fixed now._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_The problem was this one _dd__lt_/p_gt__lt_p_gt_The Path3D normals and binormals are computed in a point of the curve path from the tangent in this point and from an arbitrary vector chosen as non-collinear to this tangent._lt_br_gt_If the tangent normalization is approximated_co_ the choice of the arbitrary vector gave in in some limit cases something collinear with the tangent._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2015-09-01T14:04:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_merged. Thanks Jerome!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2015-09-01T14:23:21Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_de nada_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]