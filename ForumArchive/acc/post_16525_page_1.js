[{"Owner":"JohnK","Date":"2015-08-17T09:11:46Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_For my project I form a model from a number of meshes (which may not be adjoining) by assigning them the same parent and forming a bounding container around them. I then check to see if two different models are in contact by first using intersectsMesh on the two bounding containers and if true checking to see if any of the meshes from model A are in contact with any of the meshes from model B and only in this case putting contact of models to be true._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Would this be possible be merging the meshes to form a model instead and if so would it be any more efficient.._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_A playground example is here _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#1XNAP4%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#1XNAP4#1 _lt_/a_gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_When box1_co_ box2 and box3 are merged into box and cube1_co_ cube2 and cube3 into cube it appears I lose access to the original meshes._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_What I would like to do is when cube intersects with box I want to check if boxes 1_co_ 2 or 3 are in contact with any of cubes 1_co_ 2 or 3._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_In the case of_lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_cube.position _eq_ new BABYLON.Vector3(-9_co_ 3_co_ 0)_sm__lt_/pre_gt__lt_p_gt_I need a function that returns false_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_and in the case of_lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_cube.position _eq_ new BABYLON.Vector3(-12_co_ 3_co_ 0)_sm__lt_/pre_gt__lt_p_gt_the function should return true._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2015-08-17T14:46:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi John!  I just have a few thoughts_co_ nothing wonderful.  _lt_u_gt_As best I understand merged meshes_lt_/u_gt_... you don_t_t lose COMPLETE access to merged meshes.  You still have access to each box_t_s vertexData.  The vertexData(positionKind) for the resulting BOX mesh (the master mesh)... SHOULD contain 24 vertices... 8 for each sub-box.  So_co_ you can still rotate_co_ translate_co_ and carefully scale... each sub-box.... by using something like transformCoordinates() or addInPlace().\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo_co_ yes_co_ you lose access in one way_co_ but you still have SOME access.  You_t_ll need to make sure you set box and cube updatable _eq_ true... so that the engine knows to use a DynamicVertexBuffer instead of a static VBO.   Sprites and particles are done like this_co_ I believe.  Each particle in our particleSystem is part of a _lt_u_gt_single_lt_/u_gt_ mesh.  Each are drawn in such a way as to make them _lt_u_gt_appear_lt_/u_gt_ to be many separate quads/planes. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt_t_s one mesh_co_ but its parts are not _lt_u_gt_all_lt_/u_gt_ connected together with indices.  You see how well our particles fly... appearing well-separated from each other.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Particles/babylon.particleSystem.js#L86_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Particles/babylon.particleSystem.js#L86_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThat is the _qt_iterate thru the particles array_qt_ area... with the actual particle-moving section starting at line 96.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLet_t_s take a quick look at _qt_particle_qt_.  _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Particles/babylon.particle.js_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Particles/babylon.particle.js _lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFascinating_co_ eh?  It_t_s not a mesh_co_ it_t_s an object _qt_structure_qt_?  Your box1_co_ box2_co_ and box3 could be similar. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAre you starting to see something cool_co_ here?  *nod*  This method of mesh-wrangling is the reason why our particleSystem can have SO MANY quads moving at the same time_co_ and still maintain high-performance.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo_co_ you see_co_ you might want to invent a NEW method of adding_co_ removing_co_ rotating_co_ positioning_co_ and scaling your sub-boxes.  You might want to do each.... by adding_co_ removing_co_ and transforming/addInPlace groups of 8 vertices (boxes)... to/from the MASTER mesh_t_s dynamicVBO.  You could have 1000 boxes in the scene_co_ and they are all part of a single master mesh.  And that means... FAST! \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI suggest that you totally get to know our particleSystem.  There_t_s many playgrounds available where folks have _qt_hijacked_qt_ the entire particle system into a playground... here_t_s one... _lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#1UNX9H_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#1UNX9H_lt_/a_gt_  Unfortunately_co_ it doesn_t_t work anymore... framework changes caused my hijacking to go stale.  (somebody fix at will_co_ thx)  Notice the heavily-modified update function at line 128... most of the addInPlace() funcs for flying the particles... are disabled.  This scene (when working) placed stationary particles on the ground around the knot... to simulate ground fog.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou can still get the idea.  Take a moment to get to know the particleSystem_co_ and it MIGHT lead you to a new way of dealing-with sub-boxes... something that could deliver super performance.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tStart off by pretending _qt_particleSystem_qt_ and _qt_this_qt_  _eq__eq_  AllJohnsBoxes.  Pretend _qt_particle_qt_ _eq__eq_ oneJohnBox.  Let that soak-in.  _lt_img alt_eq__qt__dd_)_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ data-emoticon_eq__qt__qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tCan you imagine all the extra fun that you can have... knowing that all your boxes are really particles?  Drop them from the sky into their positions_co_ blow them up in all directions_co_ slide them into the scene from the side_co_ spin them around axes_co_ all sorts of fun things.  You will have the performance you need... to do those fancy things... IF you build your project based around the tech found in our ParticleSystem.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m not sure HOW MUCH this idea differs from other subMeshing methods.  I once had some time to study our particleSystem.  I found it fascinating and full of learning_co_ and I fell in love with it.  (I fall in love with nearly anything - plight of the lonely)  _lt_img alt_eq__qt__dd_)_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ data-emoticon_eq__qt__qt_ /_gt_  I think you will_co_ too_co_ and I think you will be able to apply its tech and speeds... to your project. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tGood luck_co_ keep us posted.  Surely_co_ others will have more comments (better ones)_co_ and maybe correct the wrong things that I_t_ve likely said here.  _lt_img alt_eq__qt__dd_)_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ data-emoticon_eq__qt__qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2015-08-17T15:33:03Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOooookay_co_ I just thought about something.  You might have folks sliding boxes around with controllers and keypresses... and therefore... that is why you are concerned with intersects and overlaps... which I did not address in my previous post.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYuh yuh yuh...  see the brain tumor that grew out of the middle of my forehead_co_ just now?  Yep... John_t_s new .makeSureNotOverlapping() function caused that .  heh   Yep_co_ when treating subMeshes as if they were separate mesh (geometries?)...  then... hmmm... you are going to need quite a fancy Al Gore Rithm ... to make sure your geometries (subMeshes in the dynamicVBO)... are not overlapping... and not allowed to do so.  Phew.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYeah_co_ it can be done.  I_t_m glad it_t_s YOU coding it_co_ and not me.  hah\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut... maybe... hmm... maybe we should ask one of the Gods to write some special framework code that can help with this.  You will need to be updating VBO positionKind data WHILE a mouse drag is happening... and WHILE constantly checking for overlapping and preventing it (stopping the mouse drag when the result of the move would cause overlap).  Wow.  Coooooooooool.  (Wingy rubs his new brain tumor_co_ and makes a grunting noise).  _lt_img alt_eq__qt__dd_)_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ data-emoticon_eq__qt__qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tBut I have an idea.  When PLACING a box... the user is dragging a standard babylon box... and thus we can check for intersects and proper _qt_butting_qt_ more easily.  Then_co_ when the user releases the mouse button (finishes the drag)_co_ then delete the standard box_co_ and add 8 vertices to the VBO buffer (and add needed indices to define the box shape) and update both vertexData arrays.  (permanentize the box)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSpeaking-of the indicesKind data that needs to travel with those 8-packs of positionKind data for each subBox... THOSE indices determine the separation lines of each box in the master vbo box.  In simpler words... you can choose whether to SHOW or HIDE the lines between the boxes of a wall of boxes. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf a user had a pyramid of stacked boxes... you would likely use IndicesKind adjustments... to allow user to see the subBox lines_co_ or not.  Maybe the subBox lines would only be turn-on when in EDIT MODE.  *shrug*   Seams on/off.  _lt_img alt_eq__qt__dd_)_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ data-emoticon_eq__qt__qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tI suppose you want to let the users select permanentized boxes that are part of the master vbo_co_ too_co_ eh?  That would require the opposite actions...  removing 8 vertices (and their indicesKind data) from the dvbo.  Ow!  _lt_img alt_eq__qt__dd_)_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ data-emoticon_eq__qt__qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tCaptain John_t_s Super Sonic Box Stacker v1.0... look out!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou_t_re going to need _qt_snap_qt__co_ too.  That won_t_t be easy... using a dynamicVBO.  Got balls?  _lt_img alt_eq__qt__dd_)_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ data-emoticon_eq__qt__qt_ /_gt_  (John says _qt_NO_co_ I GOT BOXES!_qt_)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tA snap algorithm based-on vbo geometry overlaps.  Oh my goodness.  I sure hope I don_t_t have to code that.  Maybe you should stay-with using standard boxes and bail from my goofy dvbo idea.  _lt_img alt_eq__qt__dd_)_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ data-emoticon_eq__qt__qt_ /_gt_  Maybe you should completely ignore everything I have said today.  heh\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JohnK","Date":"2015-08-17T17:26:57Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Really enjoy reading your posts Wingnut. So far I will stick with my method it does work after all. I select my models with the mouse and move them with keys. Have you had a play with Cubees yet or the Lathe? Would like to know what you think. _lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2015-08-18T12:04:39Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Yes I have_co_ and they are well done and fascinating.  Nice work.  Sorry_co_ I forgot that you were using these cube shapes as _qt_holders_qt_ for other shapes.  Somewhere I got the idea that it was all boxes and no shapes IN those boxes... and so my previous posts don_t_t perfectly apply to your project.  Sorry about that.  But you should know that Jerome and Jahow? were recently able to addMeshShape() to the SPS particle system... and that... would work for you_co_ though quite a drastic modification from your current way. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I wouldn_t_t mind seeing a Cubee scene with LOTS of shapes... to see how the performance holds-up.  I_t_m not sure if using SPS would gain you any performance.  Maybe.  All in all_co_ somebody would need to build a HUGE Cubee scene to see if performance is an issue at all.  Can you programmatically fill a scene with Cubees... maybe... 500 of _t_em_co_ and let us browse it?  It doesn_t_t have to look pretty.  We just need a _qt_load_qt_... to test-with_co_ on various machines._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I also think the rotation commands should be on keypresses and buttons on the _lt_u_gt_main screen_lt_/u_gt__co_ and not require choosing selection menu.  Maybe SHIFTED cursor keys and shifted &lt_sm_&gt_sm_ for _lt_u_gt_rotating_lt_/u_gt_ a Cubee (in 90 degree steps_co_ of course).  *shrug*  No biggie_co_ of course. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I don_t_t see many/any issues at all... with your project.  It just plain looks good and works good.  Shall we talk about child attention spans.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I see a potential _qt_line of patience_qt_ that could be a concern.  Real young children will need to be TOLD that those shapes are trees and chairs and houses... because... they see real trees and chairs and houses... in real life.  They are sure to ask _qt_Why doesn_t_t it look like a tree?_qt_.  For us almost-adults_co_ we see that it is a tree_co_ because of its general shape.  But kids might not be so understanding.  I suspect an average USA child would throw a temper tantrum until mom bought them a real tree.  hehe. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I have a feeling that they will_co_ instead_co_ boot dad_t_s SpinTires game and use the same cursor keys as mom/dad... to spin trucks around in the mud and go crashing through the woods_co_ crushing trees and climbing rocks.  I think children quickly become bored and impatient... and will be drawn-away to more exciting things._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Hey_co_ you wanted my opinion.  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  I think it_t_s coded great_co_ and it functions perfectly.  And_co_ it_t_s an excellent idea! _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I think it would be wise to eventually have gamepad controller options_co_ and it might be cool if you attached a _qt_periodic funny thing_qt_ side-function... based on delta time.  Even if a child is not building_co_ they MIGHT stay around longer if they are watching for the next fun/goofy thing happening.  I_t_d say build a character... a buddy for the children...  Captain Cubee.  Sometimes he runs thru a scene or construction room_co_ waving.  Sometimes he flies past... waving... his cape fluttering in the wind.  Sometimes he walks out onto the screen and start talking in gibberish_co_ then waves and walks-off... or cartwheels-off.   _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Another area to exploit... is children_t_s love of pets.  If you can build animations of cats_co_ birds_co_ hamsters_co_ dogs and rabbits... even flat animated gifs on planes that can be put into dog houses_co_ doll houses_co_ rabbit cages_co_ or just visit the scene from time to time_co_ that would make the kids be entertained as they construct.  Those features could be turned-off_co_ of course_co_ and these types of things can be added later. _lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Don_t_t let me adjust your objectives_co_ though.  If you have a plan (you obviously do)_co_ and if you see a user base_co_ then you are perfectly on-target.   You seem to have everything needed to be a great tool/game writer... smart_co_ creative_co_ innovative_co_ nice guy_co_ and you are certainly putting your ideas into action.  I enjoy your BJS work... in all areas_co_ and I really like reading your posts_co_ too.  You rock_co_ John!  I really like hanging around with you_co_ and I_t_m glad you_t_re with us.  Don_t_t ever leave_co_ ok?  _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt_  Party on!_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JohnK","Date":"2015-08-18T17:39:52Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_You are right about having the rotations on the main page_co_ at some stage I_t_ll do something about it. Wasn_t_t really thinking about children that young but the teacher in me goes - fun what fun get on with your learning. However you could well be correct on the level of concentration. Perhaps I could take it further so that having put together the models into a scene they could make a simple game with it._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]