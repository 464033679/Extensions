[{"Owner":"Deltakosh","Date":"2017-12-20T19:08:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tMy problem is that I do not repro the performance issue anywhere not even on my phone. Sponza is running at 60fps even on my old Surface book\n_lt_/p_gt_\n\n_lt_p_gt_\n\tYou can turn off physics completely by not referencing Cannon or Oimo.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tEDIT_dd_ WAIT I KNOW WHY _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt_1_qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt__gt_ Please stay tuned\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"MackeyK24","Date":"2017-12-20T19:11:45Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHave you checkef out my space shooter 2 demo with physics... to see the problem\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//mackey.cloud/games/space2_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//mackey.cloud/games/space2_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-12-20T19:13:03Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/24012-mackeyk24/?do_eq_hovercard_qt_ data-mentionid_eq__qt_24012_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/24012-mackeyk24/_qt_ rel_eq__qt__qt__gt_@MackeyK24_lt_/a_gt_ I guess this is because we fixed the way step is computed for physics. Let me ping _lt_span_gt__lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/10310-raananw/?do_eq_hovercard_qt_ data-mentionid_eq__qt_10310_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/10310-raananw/_qt_ rel_eq__qt__qt__gt_@RaananW_lt_/a_gt__lt_/span_gt_\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"thrice","Date":"2017-12-20T19:15:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_199194_qt_ data-ipsquote-contentid_eq__qt_33800_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1513796922_qt_ data-ipsquote-userid_eq__qt_4442_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t4 minutes ago_co_ Deltakosh said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tYou can turn off physics completely by not referencing Cannon or Oimo.\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t \n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tRight_co_ but I am not referencing in my project at all_co_ and still seeing the performance issue.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_199194_qt_ data-ipsquote-contentid_eq__qt_33800_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1513796922_qt_ data-ipsquote-userid_eq__qt_4442_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t5 minutes ago_co_ Deltakosh said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\t \n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_199194_qt_ data-ipsquote-contentid_eq__qt_33800_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1513796922_qt_ data-ipsquote-userid_eq__qt_4442_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t4 minutes ago_co_ Deltakosh said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tMy problem is that I do not repro the performance issue anywhere not even on my phone. Sponza is running at 60fps even on my old Surface book\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tYou can turn off physics completely by not referencing Cannon or Oimo.\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t \n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tEDIT_dd_ WAIT I KNOW WHY _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ Please stay tuned\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tFingers crossed _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-12-20T19:26:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p style_eq__qt_background-color_dd_ transparent_sm_ box-sizing_dd_ border-box_sm_ color_dd_ rgb(53_co_ 60_co_ 65)_sm_ font-family_dd_ &amp_sm_quot_sm_roboto&amp_sm_quot_sm__co_&amp_sm_quot_sm_helvetica neue&amp_sm_quot_sm__co_helvetica_co_arial_co_sans-serif_sm_ font-size_dd_ 14px_sm_ font-style_dd_ normal_sm_ font-variant_dd_ normal_sm_ font-weight_dd_ 400_sm_ letter-spacing_dd_ normal_sm_ orphans_dd_ 2_sm_ text-align_dd_ left_sm_ text-decoration_dd_ none_sm_ text-indent_dd_ 0px_sm_ text-transform_dd_ none_sm_ -webkit-text-stroke-width_dd_ 0px_sm_ white-space_dd_ normal_sm_ word-spacing_dd_ 0px_sm__qt__gt_\n\tSo it was because of the VRExperienceHelper which was turning scene picking on for interaction. I fixed that and the experience should be far better now.\n_lt_/p_gt_\n\n_lt_p style_eq__qt_background-color_dd_ transparent_sm_ box-sizing_dd_ border-box_sm_ color_dd_ rgb(53_co_ 60_co_ 65)_sm_ font-family_dd_ &amp_sm_quot_sm_roboto&amp_sm_quot_sm__co_&amp_sm_quot_sm_helvetica neue&amp_sm_quot_sm__co_helvetica_co_arial_co_sans-serif_sm_ font-size_dd_ 14px_sm_ font-style_dd_ normal_sm_ font-variant_dd_ normal_sm_ font-weight_dd_ 400_sm_ letter-spacing_dd_ normal_sm_ orphans_dd_ 2_sm_ text-align_dd_ left_sm_ text-decoration_dd_ none_sm_ text-indent_dd_ 0px_sm_ text-transform_dd_ none_sm_ -webkit-text-stroke-width_dd_ 0px_sm_ white-space_dd_ normal_sm_ word-spacing_dd_ 0px_sm__qt__gt_\n\tCan you try Sponza again (after having cleared your cache) ?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"thrice","Date":"2017-12-20T19:57:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_199199_qt_ data-ipsquote-contentid_eq__qt_33800_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1513797968_qt_ data-ipsquote-userid_eq__qt_4442_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t23 minutes ago_co_ Deltakosh said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p style_eq__qt_background-color_dd_transparent_sm_color_dd_rgb(53_co_60_co_65)_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-variant_dd_normal_sm_font-weight_dd_400_sm_letter-spacing_dd_normal_sm_text-align_dd_left_sm_text-decoration_dd_none_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm__qt__gt_\n\t\t\tSo it was because of the VRExperienceHelper which was turning scene picking on for interaction. I fixed that and the experience should be far better now.\n\t\t_lt_/p_gt_\n\n\t\t_lt_p style_eq__qt_background-color_dd_transparent_sm_color_dd_rgb(53_co_60_co_65)_sm_font-size_dd_14px_sm_font-style_dd_normal_sm_font-variant_dd_normal_sm_font-weight_dd_400_sm_letter-spacing_dd_normal_sm_text-align_dd_left_sm_text-decoration_dd_none_sm_text-indent_dd_0px_sm_text-transform_dd_none_sm_white-space_dd_normal_sm_word-spacing_dd_0px_sm__qt__gt_\n\t\t\tCan you try Sponza again (after having cleared your cache) ?\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tOk so on my macbook pro_co_ if I reduce screen size to about 50% of screen_co_ I am now getting 30 fps consistent (when stationary). If I reduce to 1/4 screen size I get to 60 fps_co_ that_t_s good news. Soon as I move however_co_ it drops down to &lt_sm_ 10 even with the smaller screen size. I think it may still be slower than it used to be_co_ but I_t_m not entirely sure to be honest. -- And I can confirm that on my phone_co_ performance is fine (60FPS)_co_ even when moving around (iphonex)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCan you let me know when there is a npm push with these changes so I can attempt to update within my project again_co_ to see if performance is better now there?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-12-20T20:22:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tWe will update it this friday I guess\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn the meantime let me check if the VRExperienceHelper is not also turning on some unwanted postprocesses\n_lt_/p_gt_\n\n_lt_p_gt_\n\tEdit_dd_ nope we are good so please let me now when you will update to this version\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2017-12-20T20:22:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/24012-mackeyk24/?do_eq_hovercard_qt_ data-mentionid_eq__qt_24012_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/24012-mackeyk24/_qt_ rel_eq__qt__qt__gt_@MackeyK24_lt_/a_gt__co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am not sure how fast the scene should run_co_ but for me it runs smoothly.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCannon is having a bit of a problem calculating the contacts to all of your impostors_co_ so it is taking some processing power but still_co_ the game runs in 60 FPS and with plenty of idle time. Sharing what I see (and note that it is a bit low-fps because of the recorder_co_ not the game)_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_16329_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_12/5a3ac651de671_BabylonPlayground.gif.ceba93bbeca7ca7ef8d90189bd5fab1d.gif_qt_ alt_eq__qt_5a3ac651de671_BabylonPlayground.gif.ceba93bbeca7ca7ef8d90189bd5fab1d.gif_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"MackeyK24","Date":"2017-12-20T22:06:57Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tTake a look at first space shooter\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//mackey.cloud/games/space_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//mackey.cloud/games/space_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThat is hoe it should play... and all the collisions are fine\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"thrice","Date":"2017-12-20T23:17:01Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_199206_qt_ data-ipsquote-contentid_eq__qt_33800_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1513801333_qt_ data-ipsquote-userid_eq__qt_4442_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t2 hours ago_co_ Deltakosh said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tWe will update it this friday I guess\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tIn the meantime let me check if the VRExperienceHelper is not also turning on some unwanted postprocesses\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tEdit_dd_ nope we are good so please let me now when you will update to this version\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tI can give the update a try tomorrow if the nightly is what triggers the npm build (so whenever fix is pushed to npm)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-12-21T02:01:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tNope we push to npm manually ( _lt_span_gt__lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/10310-raananw/?do_eq_hovercard_qt_ data-mentionid_eq__qt_10310_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/10310-raananw/_qt_ rel_eq__qt__qt__gt_@RaananW_lt_/a_gt__lt_/span_gt_ would you mind pushing the current alpha to npm?)\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-12-21T04:02:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIf you are not using the VRExperienceHelper_co_ I don_t_t think it will change something.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBy any chance_co_ can you share two pages somewhere with your code? One without the perf issue and one with? I could then compare both\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2017-12-21T09:45:49Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_ - 3.2.0-alpha0 was just published to NPM.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-12-21T18:01:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tThanks man!\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"MackeyK24","Date":"2017-12-21T23:05:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYo _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/10310-raananw/?do_eq_hovercard_qt_ data-mentionid_eq__qt_10310_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/10310-raananw/_qt_ rel_eq__qt__qt__gt_@RaananW_lt_/a_gt_  did you take a look at the first version using the 3.1 alpha before the cannon time step fix... its just way smoother and collision are are way better.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhat can I do to my toolkit/code (babylon.js side) to get it back to the way it was using cannon...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAlso.. Have you heard any news regarding Energy.js physics for babylon ?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tCheck out the first version_dd_ _lt_a href_eq__qt_http_dd_//mackey.cloud/games/space_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//mackey.cloud/games/space_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2017-12-22T11:42:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/24012-mackeyk24/?do_eq_hovercard_qt_ data-mentionid_eq__qt_24012_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/24012-mackeyk24/_qt_ rel_eq__qt__qt__gt_@MackeyK24_lt_/a_gt_ - Why won_t_t you apply more force to make it faster?I am not sure what the problem is...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tthe implementation of the step in 3.0 was (partly) wrong_co_ and was fixed in 3.1. meaning_co_ 3.1 is more physics-realistic when it comes to cannon. I am not sure how you move your objects_co_ but if it is using liner velocity_co_ simply double it. if it is using gravity_co_ double the gravity. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tyou have many objects created and disposed constantly_co_ i once saw ca. 200 bodies registered in cannon. This is in general not a problem_co_ maybe try creating collision groups (demoed here - _lt_a href_eq__qt_https_dd_//github.com/schteppe/cannon.js/blob/master/demos/collisionFilter.html_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/schteppe/cannon.js/blob/master/demos/collisionFilter.html_lt_/a_gt_ _co_ can be added using the native elements in the impostor options). But again_co_ this is CPU related_co_ and not speed related like you describe.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"thrice","Date":"2017-12-23T00:23:20Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tSo_co_ I just update to most recent npm build and now I_t_m getting &lt_sm_ 5 FPS  _lt_img alt_eq__qt__dd_(_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ title_eq__qt__dd_(_qt_ width_eq__qt_20_qt_ /_gt_ _co_ may or may not be related to whatever was going wrong originally_co_ because this seems to be something gone horribly wrong. ugh.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"thrice","Date":"2017-12-23T00:44:18Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tLink to cpu profile of app using 3.2 (now FUBAR) version _lt_a href_eq__qt_https_dd_//www.dropbox.com/s/dfppq3nfauwpciq/dm_bad_with_resize_CPU-20171222T173429.cpuprofile?dl_eq_0_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.dropbox.com/s/dfppq3nfauwpciq/dm_bad_with_resize_CPU-20171222T173429.cpuprofile?dl_eq_0_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAnd screenshot of the same _lt_a class_eq__qt_ipsAttachLink ipsAttachLink_image_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_12/5a3da5f029229_Screenshot2017-12-2217_37_30.png.ba6520517c8cbd9d47bef882a21e8c4a.png_qt_ data-fileid_eq__qt_16375_qt_ rel_eq__qt__qt__gt__lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_16375_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_12/5a3da5f10ff98_Screenshot2017-12-2217_37_30.thumb.png.39ff7020561cf3de221eb311cd238a5d.png_qt_ alt_eq__qt_5a3da5f10ff98_Screenshot2017-12-2217_37_30.thumb.png.39ff7020561cf3de221eb311cd238a5d.png_qt_ /_gt__lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI hardly know where to start with this though_co_ since when I initially created this thread when I updated to 3.1.0-alpha3.7_co_ I was seeing a 30ish FPS drop. Now I am seeing consistent &lt_sm_ 1 FPS _co_ totally unplayable_co_ can barely move my mouse around the screen. So it_t_s may be even harder to narrow down what the cause is_co_ since there could be multiple causes now.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"thrice","Date":"2017-12-23T01:30:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tOk so_dd_ lets forget about the FUBAR version for now and go back in time to original upgrade -- In an effort to narrow down the scope of the issue_co_ I tried upgrading from alpha 3.5 to alpha 3.6_co_ and I am seeing the 30ish FPS drop there. -- so_co_ it appears that the initial FPS drop happened between 3.5 and 3.6 - ALSO_co_ this is the first time that cannon is being included as part of the package as well. Seems suspicious. (once again not referencing cannon in MY code directly_co_ but it does get included in the build since it was added as a BJS dependency)\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"thrice","Date":"2017-12-23T14:20:22Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tGrasping at straws_co_ but I really want to point the finger at cannon (even though I am not using cannon in my project)_co_ the dramatic performance drop as soon as it_t_s included as part of build seems really suspicious. I am also see a strange (but in the past has been harmless)_co_ message from webpack_co_ i.e.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tWARNING in ./~/cannon/build/cannon.js_lt_br /_gt_\n\tCritical dependencies_dd__lt_br /_gt_\n\t24_dd_432-439 This seems to be a pre-built javascript file. Though this is possible_co_ it_t_s not recommended. Try to require the original source to get better results._lt_br /_gt_\n\t @ ./~/cannon/build/cannon.js 24_dd_432-439\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo it makes me wonder if maybe_co_ since cannon uses alot of the same class/function names as babylon_co_ somehow upon compilation something is going wrong and is being overwritten by cannon. Once again seems unlikely but_co_ IDK...\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"MackeyK24","Date":"2017-12-23T22:33:18Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_199390_qt_ data-ipsquote-contentid_eq__qt_33800_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1513942968_qt_ data-ipsquote-userid_eq__qt_10310_qt_ data-ipsquote-username_eq__qt_RaananW_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\tOn 12/22/2017 at 1_dd_42 AM_co_ RaananW said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/24012-mackeyk24/?do_eq_hovercard_qt_ data-mentionid_eq__qt_24012_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/24012-mackeyk24/_qt_ rel_eq__qt__qt__gt_@MackeyK24_lt_/a_gt_ - Why won_t_t you apply more force to make it faster?I am not sure what the problem is...\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tthe implementation of the step in 3.0 was (partly) wrong_co_ and was fixed in 3.1. meaning_co_ 3.1 is more physics-realistic when it comes to cannon. I am not sure how you move your objects_co_ but if it is using liner velocity_co_ simply double it. if it is using gravity_co_ double the gravity. \n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tyou have many objects created and disposed constantly_co_ i once saw ca. 200 bodies registered in cannon. This is in general not a problem_co_ maybe try creating collision groups (demoed here - _lt_a href_eq__qt_https_dd_//github.com/schteppe/cannon.js/blob/master/demos/collisionFilter.html_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/schteppe/cannon.js/blob/master/demos/collisionFilter.html_lt_/a_gt_ _co_ can be added using the native elements in the impostor options). But again_co_ this is CPU related_co_ and not speed related like you describe.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tI didn_t_t think that would be my solution.. only because I thought gravity was really -9.81 so I would have to double that_co_ that seemed a bit weird so I didn_t_t think that was the FINAL solution to problem that would go into my toolkit for everyone to use.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tabout the 200 bodies... I was really creating and destroying to see HOW MUCH IT COULD HANDLE (and version 3.1 alpha was pretty smooth). And I was also testing my DISPOSE CHAIN making sure everything got disposed when using my manager.safeDestroy method... if 200 bodies are still registered then something in cannon is NOT UNREGISTERING on disposal... I will have to look at that... Is there a way to manually _qt_UNREGISTER_qt_ a physics body_co_ if so I will put that in object disposal code...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI was really gonna clean up the asteroid and enemy ships and RECYCLE from pre-created asteroids or dynamically create up to a certain number then start recycling... Something like that.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut if you say to simply DOUBLE all the velocity values (still a little concerned about having to double gravity which should be 9.81) but I will give that shot _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tThanks for the help _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-12-26T19:05:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_span_gt__lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/24959-thrice/?do_eq_hovercard_qt_ data-mentionid_eq__qt_24959_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/24959-thrice/_qt_ rel_eq__qt__qt__gt_@thrice_lt_/a_gt__dd_ _lt_u_gt_I need to get a live repro her_lt_/u_gt_e. We are shooting in the dark without that. _lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_Other option_dd_ can you do a diff between babylon.max.js in bot package (3.5 and 3.6)_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_span_gt_30fps is HUGE._lt_/span_gt_ There must be something obvious and based on your screenshot there is NOTHING below 5% of CPU time\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tonly problem is that 81% spend in Chrome _qt_program_qt_. Which means that the culprit is in NATIVE code (or idle).\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"thrice","Date":"2017-12-27T14:21:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_199661_qt_ data-ipsquote-contentid_eq__qt_33800_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1514315124_qt_ data-ipsquote-userid_eq__qt_4442_qt_ data-ipsquote-username_eq__qt_Deltakosh_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t19 hours ago_co_ Deltakosh said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\t_lt_span_gt__lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/24959-thrice/?do_eq_hovercard_qt_ data-mentionid_eq__qt_24959_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/24959-thrice/_qt_ rel_eq__qt__qt__gt_@thrice_lt_/a_gt__dd_ _lt_u_gt_I need to get a live repro her_lt_/u_gt_e. We are shooting in the dark without that. _lt_/span_gt_\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t_lt_span_gt_Other option_dd_ can you do a diff between babylon.max.js in bot package (3.5 and 3.6)_lt_/span_gt_\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t_lt_span_gt_30fps is HUGE._lt_/span_gt_ There must be something obvious and based on your screenshot there is NOTHING below 5% of CPU time\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\t \n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tonly problem is that 81% spend in Chrome _qt_program_qt_. Which means that the culprit is in NATIVE code (or idle).\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tI get that we_t_re shooting in the dark without it_co_ that_t_s why I_t_ve tried to be as detailed as I could with the profiling so hopefully someone would see something that would lead me to the issue. -- Unfortunately_co_ can_t_t produce a live repro atm due to app being wrapped with electron_co_ and even then I still have a rails/node server separate that need to be run for it to work_co_ so it_t_s not possible atm.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThat_t_s a good idea on the .max file_co_ I tried looking through the commits on github but wasn_t_t easy to see what all changed between versions. I_t_ll give that a shot\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"MackeyK24","Date":"2018-01-06T23:32:05Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tYo _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/10310-raananw/?do_eq_hovercard_qt_ data-mentionid_eq__qt_10310_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/10310-raananw/_qt_ rel_eq__qt__qt__gt_@RaananW_lt_/a_gt_ or _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4442_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4442-deltakosh/_qt_ rel_eq__qt__qt__gt_@Deltakosh_lt_/a_gt_ What is the PROPER way to DISPOSE a mesh with a physics imposter on it ???\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHow do I make sure that instance is UNREGISTERED with physics engine so I dont have 200 bodies still registered in cannon ???\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe latest physics changes to how we deal with cannon not only screwed (or how I was using it before does not quite work) the movement_co_ but my disposal code as well.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPlease bro_co_ help help to clarify what I got do in my framework to deal with the Cannon Js changes from 3.1\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"RaananW","Date":"2018-01-07T20:32:27Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThere were no major cannon.js changes in 3.1... Nothing really  changed other than the ticker. and the parenting system (which is a general issue_co_ not cannon_t_s).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDisposing - dispose the impostor and then the mesh itself. if it doesn_t_t work_co_ please let me know so I can investigate it.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tTe reason for this is - A mesh and an impostor are loosely coupled. you CAN set mesh.physicsImpostor_co_ but it is certainly not a must. It was mainly done since not only meshes can have a physics impostor. you_co_ as a developer_co_ need to take care of your impostors and dispose them manually. It is like that since 2.3 (If I am not mistaken)_co_ has nothing to do with 3.1 changes.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]