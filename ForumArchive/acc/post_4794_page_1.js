[{"Owner":"Dad72","Date":"2014-03-15T15:58:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Hi_co__lt_br_gt_ _lt_br_gt_I create a small script of LOD and I want to share it. I don_t_t know if it_t_s the best ways to make_co_ so if you want to improve it please do not hesitate._lt_br_gt_ _lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint lang-auto_qt__gt_\t\t\tvar BABYLON _eq_ BABYLON || {}_sm_\t\t\t(function () {\t\t\t\t\t// DistanceLOD1 _eq_ medium\t\t\t\t// DistanceLOD2 _eq_ low\t\t\t\t// DistanceMax _eq_ hide\t\t\t\tBABYLON.DistanceLOD1 _eq_ 10_sm_\t\t\t\tBABYLON.DistanceLOD2 _eq_ 30_sm_ \t\t\t\tBABYLON.DistanceMax _eq_ 50_sm_\t\t\t\t\t\t\t\t\t\t\t// LOD_0 _eq_ hight\t\t\t\t// LOD_1 _eq_ medium\t\t\t\t// LOD_2 _eq_ low\t\t\t\t\tBABYLON.LOD _eq_ function(Camera_co_ LOD_0_co_ LOD_1_co_ LOD_2)\t\t\t\t{\t\t\t\t\tthis.camera _eq_ Camera_sm_\t\t\t\t\tthis._verifInProgress _eq_ false_sm_\t\t\t\t\t\t\t\t\tthis._distance _eq_ 0_sm_\t\t\t\t\tthis.LOD0 _eq_ LOD_0_sm_\t\t\t\t\tthis.LOD1 _eq_ LOD_1_sm_\t\t\t\t\tthis.LOD2 _eq_ LOD_2_sm_ \t\t\t\t\tthis.positionLOD0 _eq_ this.LOD0.position_sm_\t\t\t\t\tif (this.LOD1 !_eq_ undefined) this.LOD1.setEnabled(false)_sm_      \t\t\t\t\tif (this.LOD2 !_eq_ undefined) this.LOD2.setEnabled(false)_sm_ \t\t\t\t}_sm_   \t\t\t\t\t\t\t\tBABYLON.LOD.prototype._distanceTransition _eq_ function() \t\t\t\t{\t\t\t\t\tif (this.LOD1 !_eq_ undefined || this.LOD2 !_eq_ undefined)\t\t\t\t\t{\t\t\t\t\t\tthis._distance _eq_ this.camera.position.subtract(this.positionLOD0).length()_sm_\t\t\t\t\t\t\t\t\t\t\tvar enableLOD0 _eq_ this._distance &lt_sm_ BABYLON.DistanceLOD1_sm_\t\t\t\t\t\tthis.LOD0.setEnabled(enableLOD0)_sm_\t\t\t\t\t\tvar enableLOD1 _eq_ !enableLOD0 &amp_sm_&amp_sm_ this._distance &lt_sm_ BABYLON.DistanceLOD2_sm_\t\t\t\t\t\tif (this.LOD1 !_eq_ undefined)\t\t\t\t\t\t{\t\t\t\t\t\t\tthis.LOD1.setEnabled(enableLOD1)_sm_\t\t\t\t\t\t}\t\t\t\t\t\tif (this.LOD2 !_eq_ undefined)\t\t\t\t\t\t{\t\t\t\t\t\t\tthis.LOD2.setEnabled(!enableLOD0 &amp_sm_&amp_sm_ !enableLOD1 &amp_sm_&amp_sm_ this._distance &lt_sm__eq_ BABYLON.DistanceMax)_sm_\t\t\t\t\t\t} \t\t\t\t\t}\t\t\t\t\t\t}_sm_\t\t\t\t\tBABYLON.LOD.prototype.Update _eq_ function()\t\t\t\t{\t\t\t\t\tif (this._verifInProgress) return_sm_\t\t\t\t\t\t\tthis._verifInProgress _eq_ true_sm_\t\t\t\t\tthis._distanceTransition()_sm_\t\t\t\t\tthis._verifInProgress _eq_ false_sm_\t\t\t\t}_sm_\t\t\t\t\t\t\t})()_sm_\t\t\t\t\t\t_lt_/pre_gt__lt_p_gt_Use_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint lang-auto_qt__gt_\t\t\t\t\t\t\t//Sphere Hight\t\t\t\tvar sphere0 _eq_ BABYLON.Mesh.CreateSphere(_qt_Sphere_Higth_qt__co_ 50.0_co_ 1.0_co_ scene)_sm_\t\t\t\tvar materialSphere0 _eq_ new BABYLON.StandardMaterial(_qt_color1_qt__co_ scene)_sm_\t\t\t\tmaterialSphere0.diffuseColor _eq_ new BABYLON.Color3(1.0_co_ 0.2_co_ 0.7)_sm_\t\t\t\tsphere0.material _eq_ materialSphere0_sm_\t\t\t\t//Sphere Medium\t\t\t\tvar sphere1 _eq_ BABYLON.Mesh.CreateSphere(_qt_Sphere_Medium_qt__co_ 7.0_co_ 1.0_co_ scene)_sm_\t\t\t\tvar materialSphere1 _eq_ new BABYLON.StandardMaterial(_qt_color2_qt__co_ scene)_sm_\t\t\t\tmaterialSphere1.diffuseColor _eq_ new BABYLON.Color3(1.0_co_ 0_co_ 0)_sm_\t\t\t\tsphere1.material _eq_ materialSphere1_sm_\t\t\t\t//Sphere Low\t\t\t\tvar sphere2 _eq_ BABYLON.Mesh.CreateSphere(_qt_Sphere_Low_qt__co_ 2.0_co_ 1.0_co_ scene)_sm_\t\t\t\tvar materialSphere2 _eq_ new BABYLON.StandardMaterial(_qt_color3_qt__co_ scene)_sm_\t\t\t\tmaterialSphere2.diffuseColor _eq_ new BABYLON.Color3(0_co_ 0_co_ 0)_sm_\t\t\t\tsphere2.material _eq_ materialSphere2_sm_\t\t\t\t// Initialise LOD \t\t\t\tvar lodObjet _eq_ new BABYLON.LOD(camera_co_ sphere0_co_ sphere1_co_ sphere2)_sm_\t\t\t\t\t\t\t\t\t\t\t\tengine.runRenderLoop(function () {\t\t\t\t\tscene.render()_sm_\t\t\t\t\tlodObjet.Update()_sm_ // Update Transition LOD\t\t\t\t})_sm__lt_/pre_gt__lt_p_gt_I have yet to test the script_co_ but this should work._lt_br_gt__lt_br_gt_Demo_dd__lt_br_gt__lt_a href_eq__qt_http_dd_//www.castorengine.com/babylon/LOD/_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.castorengine.com/babylon/LOD/_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"gwenael","Date":"2014-03-16T00:17:36Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Thanks for sharing._lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Here are my feedbacks_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_* that would be better to set verifInProgress only in one function and to indicate that_t_s a private member_lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_BABYLON.LOD.prototype.Update _eq_ function() {    if (this._verifInProgress) {        return_sm_    }    this._verifInProgress _eq_ true_sm_    this._distanceTransition()_sm_    this._verifInProgress _eq_ false_sm_}_sm__lt_/pre_gt__lt_p_gt_* DistanceTransition should also be marked as private _distanceTransition instead of DistanceTransition_lt_/p_gt__lt_p_gt_* this.distance is correct if LOD0 is in the same space as camera (they share the same parent or they both don_t_t have parents)_sm_ it should also be private since it should only be used internally_lt_/p_gt__lt_p_gt_* _qt_if_co_ else_qt_ can be simplified_lt_/p_gt__lt_p_gt_* Why do you always call BABYLON.LOD.sleep even if this.LOD1 _eq__eq_ undefined &amp_sm_&amp_sm_ this.LOD2 _eq__eq_ undefined? By the way_co_ why do you wait an amount of seconds at the end of _distanceTransition?_lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_BABYLON.LOD.prototype._distanceTransition _eq_ function() {   if (this.LOD1 !_eq_ undefined || this.LOD2 !_eq_ undefined) {         this._distance _eq_ this.camera.position.subtract(this.positionLOD0).length()_sm_\t\t\t\t\t         var enableLOD0 _eq_ this._distance &lt_sm_ BABYLON.LOD.DistanceLOD1_sm_         this.LOD0.setEnabled(enableLOD0)_sm_         var enableLOD1 _eq_ !enableLOD0 &amp_sm_&amp_sm_ this._distance &lt_sm_ BABYLON.LOD.DistanceLOD2_sm_         if (this.LOD1 !_eq_ undefined) {            this.LOD1.setEnabled(enableLOD1)_sm_         }         if (this.LOD2 !_eq_ undefined) {            this.LOD2.setEnabled(!enableLOD0 &amp_sm_&amp_sm_ !enableLOD1 &amp_sm_&amp_sm_ this._distance &lt_sm__eq_ BABYLON.LOD.DistanceMax)_sm_         }       }    BABYLON.LOD.sleep(BABYLON.LOD.delaiSeconds)_sm_}_sm__lt_/pre_gt__lt_p_gt_* You can modify BABYLON.LOD.sleep as is_dd__lt_/p_gt__lt_pre class_eq__qt_ipsCode prettyprint_qt__gt_BABYLON.LOD.sleep _eq_ function(seconds) {    var start _eq_ new Date().getTime()_sm_    while((new Date().getTime() - start) &lt_sm__eq_ (seconds * 1000)) {     // wait    }}_sm__lt_/pre_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2014-03-16T12:42:04Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_Thanks for the changes. I_t_ve edit the first post to reflect the changes. I think that DeltaKosh will do a system more adequate in the futures._lt_/p_gt__lt_p_gt_\nTo BABYLON.LOD.sleep_co_ it is to give a pause of  +- 5 seconds between each loop of runRenderLoop towers. but I confess to not being sure about this approach and the result._lt_/p_gt__lt_p_gt_\n _lt_/p_gt__lt_p_gt_\nLike I said _co_I do not have tested my script_co_ I made this script to pass the time and I said to myself that this could be useful for testing the LOD while waiting for Deltakosh creates the official LOD system._lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2014-11-04T16:13:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_div_gt_Update LOD script that works now. I tested._lt_/div_gt__lt_br_gt__lt_div_gt_ _lt_/div_gt__lt_br_gt__lt_div_gt_I set the aperture first post with a complete code (html + js) to test_lt_/div_gt__lt_br_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2014-11-04T17:44:30Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I add a direct link test system LOD_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Use the keyboard arrows to move back and forth_co_ you will see the transitions_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.castorengine.com/babylon/LOD/_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.castorengine.com/babylon/LOD/_lt_/a_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"gryff","Date":"2014-11-04T17:54:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt_ data-ipsquote-contentcommentid_eq__qt_60025_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentid_eq__qt_4794_qt_ data-ipsquote-username_eq__qt_dad72_qt_ data-cite_eq__qt_dad72_qt_ data-ipsquote-timestamp_eq__qt_1415123070_qt__gt__lt_div_gt__lt_div_gt__lt_p_gt_I add a direct link test system LOD_dd__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Use the keyboard arrows to move back and forth_co_ you will see the transitions_lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt__lt_a href_eq__qt_http_dd_//www.castorengine.com/babylon/LOD/_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.castorengine.com/babylon/LOD/_lt_/a_gt__lt_/p_gt__lt_/div_gt__lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_Nice dad72 - seems to work well _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_blockquote data-ipsquote_eq__qt__qt_ class_eq__qt_ipsQuote_qt__gt__lt_div_gt_while waiting for Deltakosh creates the official LOD system_lt_/div_gt__lt_/blockquote_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_I remember seeing LOD on the to-do-path when I first joined this forum - but then DK and crew have a lot of stuff to do_co_ so I guess it is a matter of priorities _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt__lt_p_gt_ _lt_/p_gt__lt_p_gt_cheers_co_ gryff _lt_img src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ alt_eq__qt__dd_)_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ width_eq__qt_20_qt_ height_eq__qt_20_qt__gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Temechon","Date":"2014-11-04T18:00:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_I think they are working on it... But great job Dad ! Works great !_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Dad72","Date":"2014-11-04T18:14:35Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt__lt_span style_eq__qt_color_dd_rgb(40_co_40_co_40)_sm_font-family_dd_helvetica_co_ arial_co_ sans-serif_sm__qt__gt_Thanks guys ! _lt_/span_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]