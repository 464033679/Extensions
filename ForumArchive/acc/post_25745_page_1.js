[{"Owner":"hfeist","Date":"2016-10-13T19:19:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_m trying to find a way to use the mousedown event to move the camera forward. I_t_ve mapped the keys so that T moves forward and want it to fire whenever there is a mousedown event.  I have come up with the following but cannot get the keypress function to fire when there is a mousedown.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAny suggestions would be most welcome.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn the scene setup I_t_ve set the forward key to_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_camera.keysUp _eq_ [84]_sm_ // T_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tAfter the scene setup I_t_ve added_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_ document.addEventListener(_qt_mousedown_qt__co_ function(e) {\n   var code _eq_ 84_sm_//T\n   $(_t_document_t_).trigger(\n     jQuery.Event(_t_keypress_t__co_ {\n       keyCode_dd_ code_co_\n       which_dd_ code\n     })\n   )_sm_\n   $(_qt_#show_qt_).append(_qt_mousedown creates_dd_ _qt_ + code + _qt_&lt_sm_BR&gt_sm__qt_)_sm_\n })_sm_\n\n document.addEventListener(_qt_keypress_qt__co_ function(e) {\n   var key _eq_ e.which_sm_\n   $(_qt_#show_qt_).append(_qt_key code_dd_+key+_qt_&lt_sm_BR&gt_sm__qt_)_sm_\n   //If it_t_s the T key\n   if (key _eq__eq_ 84) {\n     $(_qt_#show_qt_).append(_qt_T key has been pressed&lt_sm_BR&gt_sm__qt_)_sm_\n   }\n })_sm_\n\n // I would like the mousedown event to fire the keypress event \n // as if the T key has been pressed_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tthere is a div in the body to display the output_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_&lt_sm_div id_eq__qt_show_qt_&gt_sm_&lt_sm_/div&gt_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2016-10-13T20:01:55Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIt sounds like you need to make a custom CameraInput.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/tree/master/src/Cameras/Inputs_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/tree/master/src/Cameras/Inputs_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere is a start_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#VO9FH%230_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#VO9FH#0_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"hfeist","Date":"2016-10-13T20:33:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tthanks for the pointers. certainly looks daunting!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tbut i_t_ve added it to my project and can see the camera inch forward ever so slightly at each mouseclick. would much prefer to keep moving as long as the mouse is down. and perhaps move backward if the shift key is down. and i can see no mention of mouseup or mousedown so guess it_t_s an entirely different way of doing things.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2016-10-13T21:07:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_147269_qt_ data-ipsquote-contentid_eq__qt_25745_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1476390836_qt_ data-ipsquote-userid_eq__qt_23850_qt_ data-ipsquote-username_eq__qt_hfeist_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t38 minutes ago_co_ hfeist said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tlooks daunting!\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tAll I did was copy/rename FreeCameraMouseInput and strip out unneeded code.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Cameras/Inputs/babylon.freecamera.input.mouse.ts_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Cameras/Inputs/babylon.freecamera.input.mouse.ts_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tand then found the code that moved the camera forward in the keyboard input_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Cameras/Inputs/babylon.freecamera.input.keyboard.ts#L90_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Cameras/Inputs/babylon.freecamera.input.keyboard.ts#L90_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Cameras/Inputs/babylon.freecamera.input.keyboard.ts#L101_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Cameras/Inputs/babylon.freecamera.input.keyboard.ts#L101_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tand moved it to the pointerdown section of the new camera input.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"hfeist","Date":"2016-10-13T21:39:18Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tthanks for going to so much trouble.\n_lt_/p_gt_\n\n_lt_p_gt_\n\ti_t_m trying to understand it well enough to find where i might create a loop that keeps you moving as long as the mouse is down just as it does as long as a nav key is held down\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"adam","Date":"2016-10-13T22:57:25Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#VO9FH%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#VO9FH#1_lt_/a_gt_\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Wingnut","Date":"2016-10-13T23:50:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi guys.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t  Interesting usage/challenge_co_ _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/23850-hfeist/?do_eq_hovercard_qt_ data-mentionid_eq__qt_23850_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/23850-hfeist/_qt_ rel_eq__qt__qt__gt_@hfeist_lt_/a_gt_!  Excellent camera input _qt_wrangling_qt__co_ _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/?do_eq_hovercard_qt_ data-mentionid_eq__qt_4289_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/4289-adam/_qt_ rel_eq__qt__qt__gt_@adam_lt_/a_gt_.  I bookmarked this playground 3 times!  Good stuff.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Kemal UÇAR","Date":"2016-10-17T02:16:38Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi hfeist _sm_\n_lt_/p_gt_\n\n_lt_p_gt_\n\ti found this pg few days ago_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tmaybe help you\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_http_dd_//playground.babylonjs.com/#TTLMJ_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//playground.babylonjs.com/#TTLMJ_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tits for mouseOver you can change for mouse pick click etc\n_lt_/p_gt_\n\n_lt_p_gt_\n\ti hope helpful for you\n_lt_/p_gt_\n\n_lt_p_gt_\n\thv nice time\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"hfeist","Date":"2016-10-17T22:10:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHey Adam--thanks for that.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_ve added the ability to move backwards by holding shift down\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_window.addEventListener(_qt_keydown_qt__co_ function(e) {\n  var keycode _eq_ e.which_sm_\n   if (e.keyCode _eq__eq_ 16) {\n        speed_eq_-1*speed_sm__sm_\n    }\n})_sm_\nwindow.addEventListener(_qt_keyup_qt__co_ function(e) {\n  var keycode _eq_ e.which_sm_\n   if (e.keyCode _eq__eq_ 16) {\n        speed_eq_-1*speed_sm__sm_\n    }\n})_sm_\n_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tJust needed to set a flag so the speed gets locked down when the script first runs_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_if(flag_eq__eq_false){\n flag_eq_true_sm_\n speed _eq_ camera._computeLocalCameraSpeed()/4_sm_\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tHere it is in action_dd_  _lt_a href_eq__qt_http_dd_//64.78.15.229/eyemap3Djs/walk.html_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//64.78.15.229/eyemap3Djs/walk.html_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]