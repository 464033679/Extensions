[{"Owner":"Starflare","Date":"2017-11-21T09:25:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have an issue I hope you can help me with.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_ll put you in context and hope I can give you enough information. Let_t_s say I have a PBR floor exported with diffuse_co_ rough_co_ metal and normal from 3DSMax with the Babylon plugin_co_ as well as the environment texture for reflections. I would like to put a ball on this floor that casts a shadow over it_co_ but for some reason it isn_t_t working. It does work with a standard material_co_ but not the PBR.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tDoes this have to do with the 3DSMax export? Am I missing something in code? Should I tweak the shader somehow?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThank you for the help in advance!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2017-11-21T23:10:48Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSo there is no reason for the PBR to not get the shadow_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#10D6YT#40_qt_ ipsnoembed_eq__qt_true_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#10D6YT#40_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCan you try to repro in the PG? Using simple sphere and boxes \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"dzen","Date":"2017-11-23T15:09:34Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\t_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#10D6YT%2346_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#10D6YT#46_lt_/a_gt__lt_br /_gt__lt_br /_gt_\n\tHere you can see that the initial helmet doesn_t_t get a shadow.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"alvov","Date":"2017-11-23T16:13:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tIs it true that we should only use the PBRMaterial_co_ and not the PBRMetallicRoughnessMaterial to be able to use the lightmapTexture?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAlso does the 3dsMax-to-babylon exporter currently supports the PBRMaterial material?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Starflare","Date":"2017-11-23T16:44:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t@alvov and @dzen are helping me out with this too _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo in the playground we made two helmets next to each other_co_ but the helmet on top is clearly not casting a shadow over the helmet on the bottom. You can see it here_dd_ _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#10D6YT%2346_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#10D6YT#46_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tAre we missing something?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThank you for your time!\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2017-11-24T21:00:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere is a scene trying to explain the issues_dd_ _lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#10D6YT%2349_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#10D6YT#49_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFirst_co_ you have 2 lights in your scene so I disposed the first one to isolate the shadow. Then using blurred shadow on a close range will create artifacts so I switched to hard shadow for the demo.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFrom this point we can see a bit of shadow on the helmet (_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#10D6YT%2350_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#10D6YT#50_lt_/a_gt_)_dd_ _lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_15903_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_11/image.png.ea86c27edbe629b1fc0edf9516a92410.png_qt_ alt_eq__qt_image.png.ea86c27edbe629b1fc0edf9516a92410.png_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tBut why not hard ??? This comes from all the indirect light received by the helmet so let s turn it of (_lt_a href_eq__qt_https_dd_//www.babylonjs-playground.com/#10D6YT%2351_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//www.babylonjs-playground.com/#10D6YT#51_lt_/a_gt_)_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_15904_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2017_11/image.png.e596e0ab6ebab2472214eb9c69817f8c.png_qt_ alt_eq__qt_image.png.e596e0ab6ebab2472214eb9c69817f8c.png_qt_ /_gt__lt_/p_gt_\n\n_lt_p_gt_\n\tSo I have to admit it is not intuitive and easy to setup hence why I want to work quite a lot on Shadow for 3.2 _dd_-)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHope this helps_co_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]