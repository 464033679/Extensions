[{"Owner":"Kesshi","Date":"2016-11-29T13:40:42Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tI would like to use instances and render them with a RenderTargetTexture but somehow they are not visible._lt_br /_gt_\n\tIn this PG i modified the custom render target example to use instances_dd__lt_br /_gt__lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#MOO5O%231_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#MOO5O#1_lt_/a_gt__lt_br /_gt_\n\tAs you can see only the master sphere gets rendered. If you change from createInstance() to clone() in line 92 it is working._lt_br /_gt__lt_br /_gt_\n\tAnd then i have a question. I have some use cases where i need to render only part of the scene with a render target. The master mesh may not be part of that_co_ only some of the instances. Is it necessary that the master mesh is always included in the renderList of the render target?\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-11-29T17:09:13Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHello_co_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tthe problem comes from the custom shader. You need to add support for instances in your shaders (_lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Shaders/default.vertex.fx#L98_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Shaders/default.vertex.fx#L98_lt_/a_gt_)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFor your other question_dd_ There is no need to include the master mesh _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Kesshi","Date":"2016-11-29T19:31:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tI think i need a bit help. I tried to adjust the shader but it doesn_t_t work. here the new PG_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#MOO5O%232_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#MOO5O#2_lt_/a_gt__lt_br /_gt__lt_br /_gt_\n\t \n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Kesshi","Date":"2016-11-29T21:23:46Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tIt seems my material is working but there is another problem_co_ the skybox _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt__lt_br /_gt_\n\tLook at this PG_dd_ _lt_a href_eq__qt_http_dd_//www.babylonjs-playground.com/#MOO5O%233_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//www.babylonjs-playground.com/#MOO5O#3_lt_/a_gt__lt_br /_gt_\n\tOnly the master gets rendered. If you remove line 80_co_ also the instances will be rendered._lt_br /_gt__lt_br /_gt_\n\tI think the problem is that the skybox is rendered first and that means_co_ that the depthMaterial is initialized/compiled for non-instance meshes._lt_br /_gt_\n\tDoes that mean i have to create every material twice? one for non-instances and one for instances?_lt_br /_gt_\n\tIs this also the case for the StandardMaterial?_lt_br /_gt_\n\tThat would make the material management very complicated in my case _lt_img alt_eq__qt__dd_(_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ title_eq__qt__dd_(_qt_ width_eq__qt_20_qt_ /_gt__lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Kesshi","Date":"2016-11-30T07:44:40Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t_lt_p_gt_\n\tI tried some more things. The StandardMaterial doesn_t_t have that problem. You can assign the same StandarMaterial to instances and non-instances._lt_br /_gt_\n\tThe only downside is_co_ that you can_t_t freeze the material anymore. So you will lose some performance if you do this (usally i freeze all my materials)._lt_br /_gt_\n\tFor the ShaderMaterial it is not working because the StandardMaterial has some special cache handling in the isReady function which is missing in the ShaderMaterial ( _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Materials/babylon.standardMaterial.ts#L294_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Materials/babylon.standardMaterial.ts#L294_lt_/a_gt_ ). Maybe this could be added to the ShaderMaterial also._lt_br /_gt_\n\tFor the ShaderMaterial it works if you set the checkReadyOnEveryCall property to true.\n_lt_/p_gt_\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2016-11-30T19:46:53Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI_t_ll fix the ShaderMaterial\n_lt_/p_gt_\n\n_lt_p_gt_\n\tthanks for pointing this_dd_)\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]