[{"Owner":"DylanD","Date":"2018-06-12T16:35:08Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi_co_ I am trying to set up falling particles and I am using typescript.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo far I have been able to create particles but no make them fall.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tCode to make particles_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_var myPositionFunction_eq_(particle_co_ i_co_ s)_eq_&gt_sm_{\n         \n         \n            particle.position.x _eq_ (Math.random() - 0.5)_sm_\n            particle.position.y _eq_ (Math.random() - 0.5)_sm_\n            particle.rotation.y _eq_ Math.random() * 3.5_sm_\n            particle.position.y +_eq_ 0.1_sm_\n            particle.checkCollisions _eq_ true_sm_\n            this.SPS.updateParticle(particle)_sm_\n        }_sm_\n        this.SPS _eq_ new BABYLON.SolidParticleSystem(_qt_sps_qt__co_this.scene_co_{updatable_dd_true})_sm_\n        var model _eq_ BABYLON.MeshBuilder.CreateBox(_qt_m_qt__co_{width_dd_0.03_co_height_dd_0.03_co_depth_dd_0.03}_co_ this.scene)_sm_\n        this.SPS.addShape(model_co_100_co_{positionFunction_dd_ myPositionFunction})_sm_\n        var mesh _eq_ this.SPS.buildMesh()_sm_\n        model.dispose()_sm_\n        this.SPS.updateParticle _eq_ function(){\n\n        }_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tWhenever I try to make the this.SPS.update function it gives me this error\n_lt_/p_gt_\n\n_lt_p_gt_\n\tType _t_() _eq_&gt_sm_ void_t_ is not assignable to type _t_(particle_dd_ SolidParticle) _eq_&gt_sm_ SolidParticle_t_._lt_br /_gt_\n\t[TSC]   Type _t_void_t_ is not assignable to type _t_SolidParticle_t_.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThey only way I_t_ve been able to get that error to go away is if I put it in the myPositionFunction and put particle as one of its parameters. \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI also can_t_t find much on using Solid particle systems in typescript at all.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAny ideas on how to fix this ?\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Deltakosh","Date":"2018-06-12T16:46:22Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tPinging _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/5453-jerome/?do_eq_hovercard_qt_ data-mentionid_eq__qt_5453_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/5453-jerome/_qt_ rel_eq__qt__qt__gt_@jerome_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2018-06-13T08:10:46Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tdoc _dd_ _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/how_to/solid_particle_system_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/how_to/solid_particle_system_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tnot sure to understand exactly what you mean ...\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI don_t_t understand something in your code _dd_ why do you call SPS.updateParticle() within the positionFunction ?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tthe function updateParticles() that you define is called for you by sps.setParticles().\n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhen you use some positionFunction()_co_ this one is called at construction by SPS.buildMesh(). No need for calling updateParticles() then (especially if this later is not defined yet when buildMesh is called like it looked to be in your snippet_co_ not sure).\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"DylanD","Date":"2018-06-13T12:28:15Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_218008_qt_ data-ipsquote-contentid_eq__qt_38197_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1528877446_qt_ data-ipsquote-userid_eq__qt_5453_qt_ data-ipsquote-username_eq__qt_jerome_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t4 hours ago_co_ jerome said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tdoc _dd_ _lt_a href_eq__qt_http_dd_//doc.babylonjs.com/how_to/solid_particle_system_qt_ rel_eq__qt_external nofollow_qt__gt_http_dd_//doc.babylonjs.com/how_to/solid_particle_system_lt_/a_gt_\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tnot sure to understand exactly what you mean ...\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tI don_t_t understand something in your code _dd_ why do you call SPS.updateParticle() within the positionFunction ?\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tthe function updateParticles() that you define is called for you by sps.setParticles().\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tWhen you use some positionFunction()_co_ this one is called at construction by SPS.buildMesh(). No need for calling updateParticles() then (especially if this later is not defined yet when buildMesh is called like it looked to be in your snippet_co_ not sure).\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tIn this _lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#KS9V2E_qt_ rel_eq__qt_external nofollow_qt__gt_PG_lt_/a_gt_ the update makes it rotate_co_ I want my update function to be similar_co_  however affect the position.  \n_lt_/p_gt_\n\n_lt_p_gt_\n\tWhen I copy paste that function into my code_co_ I get an error on this line(79 of the _lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#KS9V2E_qt_ rel_eq__qt_external nofollow_qt__gt_PG_lt_/a_gt_)_co_ this error_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tType _t_(particle_dd_ any) _eq_&gt_sm_ void_t_ is not assignable to type _t_(particle_dd_ SolidParticle) _eq_&gt_sm_ SolidParticle_t_._lt_br /_gt_\n\t[TSC]   Type _t_void_t_ is not assignable to type _t_SolidParticle_t_.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe updateParticle in my other example code was not needed or used.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tSo my problem seems to be some kind of typing error because of typescript with the solid particle system update particle function.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tHeres _lt_a href_eq__qt_https_dd_//playground.babylonjs.com/#M4TYC3%236_qt_ rel_eq__qt_external nofollow_qt__gt_PG_lt_/a_gt_ that I made_co_ that shows what I_t_m trying to do.  But when I put that same code into typescript I get an error on line 55(See the above error).\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAny ideas how I can get around this?\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2018-06-13T13:31:11Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tOK_co_ I guess I understand a bit better _dd_  actually you have a type error in your code in TS. This error would come from some wrong signature declaration in the BJS TS code.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAs I can_t_t reproduce your code here and as I can_t_t see the error stack to get the culprit line_co_ maybe could you copy/paste this stack here or tell us what function call (or declaration) causes the issue ? and tell us also if it happens at compilation time (what I suppose) or at execution time.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tMeanwhile_co_ please have a look at this (maybe it_t_s your problem)_dd_ _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Particles/babylon.solidParticleSystem.ts#L1284_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Particles/babylon.solidParticleSystem.ts#L1284_lt_/a_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn TS _co_the default function updateParticle() is expected to get 1 SolidParticle  and to return this passed particle. JS is more gentle and tolerates that you change this behavior by NOT returning anything_co_ like it_t_s done in the PG examples so far. So just check that your custom updateParticle() function rightly returns the passed particle in TS.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"DylanD","Date":"2018-06-13T13:57:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_218036_qt_ data-ipsquote-contentid_eq__qt_38197_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1528896671_qt_ data-ipsquote-userid_eq__qt_5453_qt_ data-ipsquote-username_eq__qt_jerome_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t26 minutes ago_co_ jerome said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tOK_co_ I guess I understand a bit better _dd_  actually you have a type error in your code in TS. This error would come from some wrong signature declaration in the BJS TS code.\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tAs I can_t_t reproduce your code here and as I can_t_t see the error stack to get the culprit line_co_ maybe could you copy/paste this stack here or tell us what function call (or declaration) causes the issue ? and tell us also if it happens at compilation time (what I suppose) or at execution time.\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tMeanwhile_co_ please have a look at this (maybe it_t_s your problem)_dd_ _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Particles/babylon.solidParticleSystem.ts#L1284_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Particles/babylon.solidParticleSystem.ts#L1284_lt_/a_gt_\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tIn TS _co_the default function updateParticle() is expected to get 1 SolidParticle  and to return this passed particle. JS is more gentle and tolerates that you change this behavior by NOT returning anything_co_ like it_t_s done in the PG examples so far. So just check that your custom updateParticle() function rightly returns the passed particle in TS.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tAdding the return to the end of my function fixed the problem.  Thank you very much!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tFinal Code_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_var myPositionFunction_eq_(particle_co_ i_co_ s)_eq_&gt_sm_{\n         \n         \n            \n            particle.rotation.y _eq_ Math.random() * 3.5_sm_\n            particle.position.y +_eq_ 0.1_sm_\n            particle.checkCollisions _eq_ true_sm_\n            \n        }_sm_\n        this.SPS _eq_ new BABYLON.SolidParticleSystem(_qt_sps_qt__co_this.scene_co_{updatable_dd_true})_sm_\n        var model _eq_ BABYLON.MeshBuilder.CreateBox(_qt_m_qt__co_{width_dd_0.03_co_height_dd_0.03_co_depth_dd_0.03}_co_ this.scene)_sm_\n        this.SPS.addShape(model_co_100_co_{positionFunction_dd_ myPositionFunction})_sm_\n        var mesh _eq_ this.SPS.buildMesh()_sm_\n        model.dispose()_sm_\n       this.SPS.updateParticle_eq_(particle)_eq_&gt_sm_{\n           particle.position.x +_eq_this.xVel_sm_\n        \n            return particle_sm_\n       }\n\nupdate_eq_()_eq_&gt_sm_{\n   this.SPS.setParticles()_sm_\n}_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"jerome","Date":"2018-06-13T14:09:12Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tyou_t_re welcome\n_lt_/p_gt_\n\n_lt_p_gt_\n\tmore generally_co_ don_t_t rely only on the PG example code in JS when coding in TS_co_ keep in mind to check the method signatures. I think tools like VSCode display the right signature within some pop-up while you_t_re writting the function call in your program.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"DylanD","Date":"2018-06-13T14:29:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_218039_qt_ data-ipsquote-contentid_eq__qt_38197_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1528898952_qt_ data-ipsquote-userid_eq__qt_5453_qt_ data-ipsquote-username_eq__qt_jerome_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t16 minutes ago_co_ jerome said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tyou_t_re welcome\n\t\t_lt_/p_gt_\n\n\t\t_lt_p_gt_\n\t\t\tmore generally_co_ don_t_t rely only on the PG example code in JS when coding in TS_co_ keep in mind to check the method signatures. I think tools like VSCode display the right signature within some pop-up while you_t_re writting the function call in your program.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tYea_co_ VsCode does do that_co_ I guess I just didn_t_t make sense of it.  Il definitely try it more.  \n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m still pretty new to TS so I still have a lot to learn.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]