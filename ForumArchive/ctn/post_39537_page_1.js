[{"Owner":"timetocode","Date":"2018-08-20T21:23:57Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHow do I play animations created in the blender action editor? I_t_m trying to organize walk_co_ run_co_ idle_co_ etc animations and start/stop them by name.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAlso is there a particularly good way to import the blender objects that don_t_t have any world position when the game begins? I noticed there are many different ways to load things. Objects in this game are spawned in after a receiving a network message_co_ so there_t_s no pre-existing concept of a scene (or my brain just isn_t_t used to thinking about scenes). Even the terrain itself is chosen by the server. Which loading strategy should I employ?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tBlender scene_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_19691_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_08/image.png.9742dd014a341a8474c55a6fe745aa1b.png_qt_ alt_eq__qt_image.png.9742dd014a341a8474c55a6fe745aa1b.png_qt_ /_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tAction editor from under the dopesheet_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_19689_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_08/image.png.81b1a23989ca752ab97495acefd1c8a6.png_qt_ alt_eq__qt_image.png.81b1a23989ca752ab97495acefd1c8a6.png_qt_ /_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tLoading and positioning the character (exported with blender/babylon exporter 5.6.4)_dd_\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_BABYLON.SceneLoader.LoadAssetContainer(_qt_./_qt__co_ _qt_blocky.babylon_qt__co_ this.scene_co_ function (container) {\n    console.log(_t_CONTAINER_t__co_ container)\n    var meshes _eq_ container.meshes\n    var materials _eq_ container.materials\n    \n    // manually position the object somewhere that i can see it when the game starts up\n    let whatever _eq_ meshes[0]\n    whatever.position.y _eq_ 21\n    whatever.position.z _eq_ 4\n\n    container.addAllToScene() // can i just get rid of this somehow?\n    // would prefer something like scene.add(new BlockyEntity())_co_ executed later\n})_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tWhen inspecting the loaded `container` object_co_ none of the animations arrays are populated. There does appear to be a `container.skeletons[0]._ranges` that has properties that match the names of my animations  (crazy_co_ walk_co_ walkdss_co_ etc). I_t_m not sure how to play them.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tHere is the character (appears to be hovering on the last frame of one of one of the animations? or maybe this is just the pose it is in in blender not sure)\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_19690_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_08/image.png.03dbddb34e6b512cb704aa159f89f5a0.png_qt_ alt_eq__qt_image.png.03dbddb34e6b512cb704aa159f89f5a0.png_qt_ /_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThanks _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"brianzinn","Date":"2018-08-20T23:13:23Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_blockquote class_eq__qt_ipsQuote_qt_ data-ipsquote_eq__qt__qt_ data-ipsquote-contentapp_eq__qt_forums_qt_ data-ipsquote-contentclass_eq__qt_forums_Topic_qt_ data-ipsquote-contentcommentid_eq__qt_225619_qt_ data-ipsquote-contentid_eq__qt_39537_qt_ data-ipsquote-contenttype_eq__qt_forums_qt_ data-ipsquote-timestamp_eq__qt_1534800237_qt_ data-ipsquote-userid_eq__qt_12667_qt_ data-ipsquote-username_eq__qt_timetocode_qt__gt_\n\t_lt_div class_eq__qt_ipsQuote_citation_qt__gt_\n\t\t1 hour ago_co_ timetocode said_dd_\n\t_lt_/div_gt_\n\n\t_lt_div class_eq__qt_ipsQuote_contents_qt__gt_\n\t\t_lt_p_gt_\n\t\t\tThere does appear to be a `container.skeletons[0]._ranges` that has properties that match the names of my animations  (crazy_co_ walk_co_ walkdss_co_ etc). I_t_m not sure how to play them.\n\t\t_lt_/p_gt_\n\t_lt_/div_gt_\n_lt_/blockquote_gt_\n\n_lt_p_gt_\n\tHave you tried this?\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_scene.beginAnimation(container.skeletons[0]_co_ 0_co_ 100_co_ true_co_ 0.8)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tThere_t_s a bunch of info on this page_co_ too_dd_ _lt_a href_eq__qt_https_dd_//doc.babylonjs.com/how_to/how_to_use_bones_and_skeletons_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//doc.babylonjs.com/how_to/how_to_use_bones_and_skeletons_lt_/a_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"timetocode","Date":"2018-08-21T05:32:10Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks that got things moving_co_ which is a big improvement.  \n_lt_/p_gt_\n\n_lt_p_gt_\n\tMy animation however looks very different. Any idea what settings I_t_m missing?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn Blender_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_19692_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_08/2018-08-20_22-22-26.gif.3a9700e166cba0f633882a6990b41a38.gif_qt_ alt_eq__qt_2018-08-20_22-22-26.gif.3a9700e166cba0f633882a6990b41a38.gif_qt_ /_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIn Babylon_dd_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_19693_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_08/2018-08-20_22-25-17.gif.d4b76c50e7178e8091e7b4d721c14fab.gif_qt_ alt_eq__qt_2018-08-20_22-25-17.gif.d4b76c50e7178e8091e7b4d721c14fab.gif_qt_ /_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"brianzinn","Date":"2018-08-21T05:40:58Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI wish I could help - I have never made 3D rigs.  Somebody will chime in for sure_co_ but if you can share your blend/model would probably help the most.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"timetocode","Date":"2018-08-21T06:12:24Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tLooks like it has something to do with applying transforms. I went into object mode and hit Ctrl + A and then _qt_applied_qt_ transforms for location_co_ rotation_co_ and scale. I have no idea what that does... or rather I know that it sets the xyz_co_ scale and rotation to 0_co_ but I don_t_t know what the implication is.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe end result for me is pretty much scrambled (like even the original is a mess now). HOWEVER_co_ i think they now look the same between blender and babylon.js. So I think this is part of the equation of how to get these things working. Presumably there was a way to do this that didn_t_t scramble the model.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tThe mesh+rig I was testing is a freely available _qt_Minecraft Simple Rig_qt_ that comes from _lt_a href_eq__qt_https_dd_//sites.google.com/view/boxscape-studios_qt_ rel_eq__qt_external nofollow_qt__gt_https_dd_//sites.google.com/view/boxscape-studios_lt_/a_gt_ .\n_lt_/p_gt_\n\n_lt_p_gt_\n\tPerhaps someone could shine some light on how to make a rig+model from scratch that plays nicely with bablyon_co_ or how to convert an existing mesh+rig+animation. (Maybe I just applied one transform too many..)\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI_t_m going to be making these things from scratch anyways_co_ so even if the answer is a lot of work_co_ I_t_d like to know. _lt_img alt_eq__qt__dd_D_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_biggrin.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/biggrin@2x.png 2x_qt_ title_eq__qt__dd_D_qt_ width_eq__qt_20_qt_ /_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img alt_eq__qt_2018-08-20_23-02-42.gif.fa59b820eecb0c573e97253dc8f9f1b0.gif_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_19694_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_08/2018-08-20_23-02-42.gif.fa59b820eecb0c573e97253dc8f9f1b0.gif_qt_ /_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img alt_eq__qt_2018-08-20_23-04-11.gif.3dc0dab0339f1961452e346cb2a726be.gif_qt_ class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_19695_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_08/2018-08-20_23-04-11.gif.3dc0dab0339f1961452e346cb2a726be.gif_qt_ /_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2018-08-21T07:40:43Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tI bet _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/?do_eq_hovercard_qt_ data-mentionid_eq__qt_8492_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/_qt_ rel_eq__qt__qt__gt_@JCPalmer_lt_/a_gt_ could help with that he is a blender master.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2018-08-21T15:07:54Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tFirst_co_ none of your attachments equals an export log file.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t2nd_co_ the exporter does nothing with NLA tracks.  It only exports actions.  You have the choice of exporting either the currently assigned action of every object that has one assigned_co_ or all actions to every object which has a currently assigned action.  Things get a little messy when doing the later with multiple objects with an action.  In that case_co_ if a certain action only applies to one of the objects_co_ then use the name pattern _t_object name-action_t_ to isolate that action in the export to only one object.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t3rd_co_ babylonJS only supports one animation (though it can be against multiple properties).  When actions are exported_co_ they are all contained in that one babylonJS animation.  There are some frame gaps between them for sanity purposes_co_ but when exporting more than one action_co_ you cannot just run all the frames of the scene or even the object.  You_co_ however_co_  also do not need to know the range of frames where everything gets put.  You can start each BABYLON.AnimationRange by name_co_ which is also the action name.\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_skeleton _eq_ scene.getSkeletonByName(_qt_bonesCharacter_qt_)_sm_\nskeleton.beginAnimation(_qt_Walk_qt_)_sm__lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tYou could also have other problems_co_ but making these adjustments &amp_sm_ checking what is actually happening in the log file is start.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"Sebavan","Date":"2018-08-21T15:29:44Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/?do_eq_hovercard_qt_ data-mentionid_eq__qt_8492_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/_qt_ rel_eq__qt__qt__gt_@JCPalmer_lt_/a_gt_ _lt_span_gt__lt_span class_eq__qt_ipsEmoji_qt__gt_🙂_lt_/span_gt__lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"timetocode","Date":"2018-08-21T19:28:16Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tThanks_co_ that fixed everything!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIt looks like the mesh and rig itself had been made in a way where a scale transform on the bones had not been applied_co_ and applying it scrambled the whole thing. So I_t_ve now made a few custom meshes (essentially just chains of bones and cubes) with transforms applied_co_ and I can certainly play the test animations by name.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI have a follow-up question regarding rotations that preserve volume_co_ but I_t_ll make a new topic for that.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n_lt_p_gt_\n\tEdit_dd_ new thread  \n_lt_/p_gt_\n_lt_iframe allowfullscreen_eq__qt__qt_ data-controller_eq__qt_core.front.core.autosizeiframe_qt_ data-embedcontent_eq__qt__qt_ data-embedid_eq__qt_embed5349295335_qt_ scrolling_eq__qt_no_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/topic/39553-preserving-volume-in-animations-that-deform-meshes/?do_eq_embed_qt_ style_eq__qt_height_dd_339px_sm_max-width_dd_502px_sm__qt__gt__lt_/iframe_gt_\n\n_lt_p_gt_\n\t \n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]