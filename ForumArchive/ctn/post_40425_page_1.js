[{"Owner":"dogyear","Date":"2018-10-04T07:32:46Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi Everyone!\n_lt_/p_gt_\n\n_lt_p_gt_\n\tI am new to babylonJs and for the life of me can_t_t figure out how to export a mesh that contains a displacement map.Â  Does the blender exporter support displacement maps?Â  If no then how can I apply a displacement map after the mesh has been exported to babylonJs?Â  I have tried the following code after importing the mesh.Â  Again I would prefer it if I can just export the mesh with the displacement mapping_co_ but if that_t_s not possible then I would like to apply it after it has been imported to babylonJs.\n_lt_/p_gt_\n\n_lt_div style_eq__qt_color_dd_#d4d4d4_sm_background-color_dd_#1e1e1e_sm_font-family_dd__t_Droid Sans Mono_t__co_ monospace_co_ monospace_co_ _t_Droid Sans Fallback_t__sm_font-weight_dd_normal_sm_font-size_dd_14px_sm_line-height_dd_19px_sm_white-space_dd_pre_sm__qt__gt_\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#9cdcfe_sm__qt__gt_BABYLON_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_._lt_/span_gt__lt_span style_eq__qt_color_dd_#9cdcfe_sm__qt__gt_SceneLoader_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_._lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcaa_sm__qt__gt_ImportMesh_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_(_lt_/span_gt__lt_span style_eq__qt_color_dd_#ce9178_sm__qt__gt__t__t__lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt__co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#ce9178_sm__qt__gt__t_assets/models/island/_t__lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt__co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#ce9178_sm__qt__gt__t_island.babylon_t__lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt__co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#9cdcfe_sm__qt__gt_scene_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt__co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#569cd6_sm__qt__gt_function_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_ (_lt_/span_gt__lt_span style_eq__qt_color_dd_#9cdcfe_sm__qt__gt_newMeshes_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_) {_lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#9cdcfe_sm__qt__gt_newMeshes_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_[_lt_/span_gt__lt_span style_eq__qt_color_dd_#b5cea8_sm__qt__gt_0_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_]._lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcaa_sm__qt__gt_applyDisplacementMap_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_(_lt_/span_gt__lt_span style_eq__qt_color_dd_#ce9178_sm__qt__gt__t_/assets/models/island/Sand_003_DISP.png_t__lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt__co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#b5cea8_sm__qt__gt_0_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt__co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#b5cea8_sm__qt__gt_5_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_)_sm__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_})_sm__lt_/span_gt_\n\t_lt_/div_gt_\n_lt_/div_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"MarianG","Date":"2018-10-04T10:36:59Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tHi _lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/32980-dogyear/?do_eq_hovercard_qt_ data-mentionid_eq__qt_32980_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/32980-dogyear/_qt_ rel_eq__qt__qt__gt_@dogyear_lt_/a_gt_. Welcome _lt_img alt_eq__qt__dd_)_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_smile.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/smile@2x.png 2x_qt_ title_eq__qt__dd_)_qt_ width_eq__qt_20_qt_ /_gt_Â _lt_br /_gt_\n\tI don_t_t know if you can directly export your mesh with displacement map _lt_span_gt__lt_img alt_eq__qt__dd_(_qt_ data-emoticon_eq__qt__qt_ height_eq__qt_20_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/default_sad.png_qt_ srcset_eq__qt_http_dd_//www.html5gamedevs.com/uploads/emoticons/sad@2x.png 2x_qt_ title_eq__qt__dd_(_qt_ width_eq__qt_20_qt_ /_gt_. Hope somebody with more experience with this can help._lt_br /_gt_\n\tBut I think I know why it doesn_t_t work to add displacement after import_co_ few months ago I had same problem. Please take a look at this topic_lt_/span_gt_\n_lt_/p_gt_\n\n_lt_p_gt_\n\tÂ \n_lt_/p_gt_\n_lt_iframe allowfullscreen_eq__qt__qt_ data-controller_eq__qt_core.front.core.autosizeiframe_qt_ data-embedcontent_eq__qt__qt_ data-embedid_eq__qt_embed9847529494_qt_ scrolling_eq__qt_no_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/topic/39392-applydisplacementmap-on-importedmesh/?tab_eq_comments&amp_sm_do_eq_embed&amp_sm_comment_eq_224839&amp_sm_embedComment_eq_224839&amp_sm_embedDo_eq_findComment#comment-224839_qt_ style_eq__qt_height_dd_261px_sm_max-width_dd_502px_sm__qt__gt__lt_/iframe_gt_\n\n_lt_p_gt_\n\tÂ \n_lt_/p_gt_\n\n_lt_p_gt_\n\tTo apply displacement map on a mesh_co_ this should have positions_co_Â normals and UVsï»¿.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2018-10-04T14:41:50Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tBlender exporter does export displacement maps at this time.Â  You need to specify true for the _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Mesh/babylon.mesh.ts#L2049_qt_ rel_eq__qt_external nofollow_qt__gt_forceUpdate_lt_/a_gt_ parameter.Â  An exported JSON (.babylon) is essentially a serialized mesh\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"dogyear","Date":"2018-10-04T15:26:32Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/12295-mariang/?do_eq_hovercard_qt_ data-mentionid_eq__qt_12295_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/12295-mariang/_qt_ rel_eq__qt__qt__gt_@MarianG_lt_/a_gt_ Thanks.Â  I do have UVs and normals set on my meshes.Â  I_t_m not sure what I am doing wrong because I_t_m most likely doing something wrong.\n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/?do_eq_hovercard_qt_ data-mentionid_eq__qt_8492_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/_qt_ rel_eq__qt__qt__gt_@JCPalmer_lt_/a_gt_ Cool!Â  Do you know how can I export the displacement maps?Â  I have set the displacements on my blender texture_co_ but they don_t_t export with the babylon file.Â  Here_t_s what my blender looks like\n_lt_/p_gt_\n\n_lt_p_gt_\n\tÂ \n_lt_/p_gt_\n\n_lt_p_gt_\n\t_lt_img class_eq__qt_ipsImage ipsImage_thumbnailed_qt_ data-fileid_eq__qt_20340_qt_ src_eq__qt_http_dd_//www.html5gamedevs.com/uploads/monthly_2018_10/image.png.0be8cac3c5000a6c89772c13980eff91.png_qt_ alt_eq__qt_image.png.0be8cac3c5000a6c89772c13980eff91.png_qt_ /_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2018-10-04T17:53:56Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tSince the exporter does not support it_co_ you would have to add it.Â  Kind of a waste of my time outlining any changes_co_ since there does not seem like it can be serialized.Â  _lt_a href_eq__qt_https_dd_//github.com/BabylonJS/Babylon.js/blob/master/src/Mesh/babylon.mesh.ts#L2637_qt_ rel_eq__qt_external nofollow_qt__gt_Parse()_lt_/a_gt_ is what is called to deserializeÂ  an exported mesh.Â  See not place where a url can be taken from the data &amp_sm_ call applyDisplacementMap() for you.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"dogyear","Date":"2018-10-04T20:19:28Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/?do_eq_hovercard_qt_ data-mentionid_eq__qt_8492_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/_qt_ rel_eq__qt__qt__gt_@JCPalmer_lt_/a_gt_Â ah... You must_t_ve miss typed because your original reply said the exporter does support exporting displacement maps. I got really excited lol!Â  It would_t_ve made things so much easier as I know much more about Blender thanÂ BabylonJs.Â  Oh well.Â  Your tip seems simple enough.Â I_t_ll do the force update when get home tonight. Thank youÂ for the pointer!Â _lt_span class_eq__qt_ipsEmoji_qt__gt_ðŸ˜€_lt_/span_gt_\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"dogyear","Date":"2018-10-05T05:36:02Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/?do_eq_hovercard_qt_ data-mentionid_eq__qt_8492_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/_qt_ rel_eq__qt__qt__gt_@JCPalmer_lt_/a_gt_ It tried adding true at the end_co_ but nothing seems to happen.Â  Going through the playground reveals a lot of examples with imported meshes that just doesn_t_t work.Â  I_t_ve also tried replacing the nulls with undefined without success.Â  Are there other boilerplate code that must be present?\n_lt_/p_gt_\n\n_lt_p_gt_\n\tÂ \n_lt_/p_gt_\n\n_lt_div style_eq__qt_color_dd_#d4d4d4_sm_background-color_dd_#1e1e1e_sm_font-family_dd__t_Droid Sans Mono_t__co_ monospace_co_ monospace_co_ _t_Droid Sans Fallback_t__sm_font-weight_dd_normal_sm_font-size_dd_14px_sm_line-height_dd_19px_sm_white-space_dd_pre_sm__qt__gt_\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#9cdcfe_sm__qt__gt_BABYLON_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_._lt_/span_gt__lt_span style_eq__qt_color_dd_#9cdcfe_sm__qt__gt_SceneLoader_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_._lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcaa_sm__qt__gt_ImportMesh_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_(_lt_/span_gt__lt_span style_eq__qt_color_dd_#ce9178_sm__qt__gt__t__t__lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt__co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#ce9178_sm__qt__gt__t_assets/models/island/_t__lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt__co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#ce9178_sm__qt__gt__t_island.babylon_t__lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt__co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#9cdcfe_sm__qt__gt_scene_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt__co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#569cd6_sm__qt__gt_function_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_ (_lt_/span_gt__lt_span style_eq__qt_color_dd_#9cdcfe_sm__qt__gt_newMeshes_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_) {_lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#9cdcfe_sm__qt__gt_newMeshes_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_[_lt_/span_gt__lt_span style_eq__qt_color_dd_#b5cea8_sm__qt__gt_0_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_]._lt_/span_gt__lt_span style_eq__qt_color_dd_#dcdcaa_sm__qt__gt_applyDisplacementMap_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_(_lt_/span_gt__lt_span style_eq__qt_color_dd_#ce9178_sm__qt__gt__t_/assets/models/island/displace.png_t__lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt__co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#b5cea8_sm__qt__gt_0_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt__co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#b5cea8_sm__qt__gt_5_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt__co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#569cd6_sm__qt__gt_null_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt__co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#569cd6_sm__qt__gt_null_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt__co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#569cd6_sm__qt__gt_null_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt__co_ _lt_/span_gt__lt_span style_eq__qt_color_dd_#569cd6_sm__qt__gt_true_lt_/span_gt__lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_)_sm__lt_/span_gt_\n\t_lt_/div_gt_\n\n\t_lt_div_gt_\n\t\t_lt_span style_eq__qt_color_dd_#d4d4d4_sm__qt__gt_})_sm__lt_/span_gt_\n\t_lt_/div_gt_\n_lt_/div_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"JCPalmer","Date":"2018-10-05T15:54:33Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\tBe _lt_strong_gt_absolutely sure_lt_/strong_gt_ that is the mesh you think it is.Â  The number of times someone got this wrong is huge.Â  Either console.log the mesh name_co_ or better\n_lt_/p_gt_\n\n_lt_pre_gt_\n_lt_code_gt_scene.getMeshByName(_t_victim_t_).applyDisplacementMap(...)_lt_/code_gt__lt_/pre_gt_\n\n_lt_p_gt_\n\tNext check console that your file is actually being found.\n_lt_/p_gt_\n\n_lt_p_gt_\n\tIf this does not work_co_ then a topic in the Q &amp_sm_ A_co_ might be better_co_ since this is not really a blender issue.\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"},{"Owner":"dogyear","Date":"2018-10-06T06:54:38Z","Content":"_lt_div class_eq__qt_mages_qt__gt_\n\t\t\t\n_lt_p_gt_\n\t_lt_a contenteditable_eq__qt_false_qt_ data-ipshover_eq__qt__qt_ data-ipshover-target_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/?do_eq_hovercard_qt_ data-mentionid_eq__qt_8492_qt_ href_eq__qt_http_dd_//www.html5gamedevs.com/profile/8492-jcpalmer/_qt_ rel_eq__qt__qt__gt_@JCPalmer_lt_/a_gt_ Thanks for all your help so far.Â  I have tried what you suggested and it seems I was targeting the correct mesh.Â  When I check my console tab_co_ the applyDisplacementMap function was loading my displacement map image_co_ but the displacement is still not being applied.Â  I will move this question to Q&amp_sm_A after scouring that section for more info.Â  ^__^\n_lt_/p_gt_\n\n\n\t\t\t\n\t\t_lt_/div_gt_\n\n\t\t_lt_div class_eq__qt_ipsI_qt__gt__lt_/div_gt__lt_/div_gt_"}]